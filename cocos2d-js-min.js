(function (t, e, i) {
    function n(i, s) {
        var o = e[i];
        if (!o) {
            var a = t[i];
            if (!a) {
                var c = 'function' == typeof require && require;
                if (!s && c) return c(i, !0);
                if (r) return r(i, !0);
                var h = new Error("Cannot find module '" + i + "'");
                throw ((h.code = 'MODULE_NOT_FOUND'), h);
            }
            var l = {};
            (o = e[i] =
                {
                    exports: l,
                }),
                a[0](
                    function (t) {
                        return n(a[1][t] || t);
                    },
                    o,
                    l,
                );
        }
        return o.exports;
    }
    for (var r = 'function' == typeof require && require, s = 0; s < i.length; s++) n(i[s]);
})(
    {
        1: [
            function (t, e, i) {
                function n() {
                    (cc._engineLoaded = !0), console.log(cc.ENGINE_VERSION), a && a();
                }

                function r() {
                    window.removeEventListener('load', r, !1), n();
                }
                cc._LogInfos = cc._LogInfos || {};
                window.CocosEngine = cc.ENGINE_VERSION = '1.9.3';
                var s = function (t, e) {
                    var i = window.location.search;
                    if (i && -1 !== i.indexOf('?') && (i = i.substr(1) || window.location.hash.split('?')[1])) {
                        var n = new RegExp('(^|&)' + t + '=([^&]*)(&|$)'),
                            r = i.match(n);
                        if (null != r) return decodeURIComponent(r[2]);
                    }
                    return e;
                };
                'horizontal' === s('screen_mode') &&
                    ((window.CMPlayScreen = {
                        containerWidth: 0,
                        containerHeight: 0,
                        canvasWidth: 0,
                        canvasHeight: 0,
                        resize: function (t, e) {
                            if (window.CMPlayScreen.containerWidth != t || window.CMPlayScreen.containerHeight != e) {
                                var i = s('screen_ratio'),
                                    n = 0.625;
                                void 0 != i && (n = Number(i)),
                                    (window.CMPlayScreen.containerWidth = t),
                                    (window.CMPlayScreen.containerHeight = window.CMPlayScreen.canvasHeight = e),
                                    (window.CMPlayScreen.canvasWidth = n * e);
                            }
                        },
                    }),
                    window.CMPlayScreen.resize(window.innerWidth, window.innerHeight)),
                    (cc._renderContext = null),
                    (cc._supportRender = !1),
                    (cc._canvas = null),
                    (cc.container = null),
                    (cc._gameDiv = null),
                    t('./cocos2d/core/utils'),
                    t('./cocos2d/core/platform/CCSys');
                var o = !1,
                    a = null;
                (cc._engineLoaded = !1),
                    (cc.initEngine = function (t, e) {
                        if (o) {
                            var i = a;
                            a = function () {
                                i && i(), e && e();
                            };
                        } else
                            (a = e),
                                !cc.game.config && t ? (cc.game.config = t) : cc.game.config || cc.game._loadConfig(),
                                (t = cc.game.config),
                                window.CMPlayScreen &&
                                    ((cc.game.config.height = window.CMPlayScreen.canvasHeight),
                                    (cc.game.config.width = window.CMPlayScreen.canvasWidth)),
                                (function (t) {
                                    var e = cc.game.CONFIG_KEY,
                                        i = parseInt(t[e.renderMode]) || 0;
                                    (isNaN(i) || i > 2 || i < 0) && (t[e.renderMode] = 0),
                                        (cc._renderType = cc.game.RENDER_TYPE_CANVAS),
                                        (cc._supportRender = !1),
                                        0 === i
                                            ? cc.sys.capabilities.opengl
                                                ? ((cc._renderType = cc.game.RENDER_TYPE_WEBGL),
                                                  (cc._supportRender = !0))
                                                : cc.sys.capabilities.canvas &&
                                                  ((cc._renderType = cc.game.RENDER_TYPE_CANVAS),
                                                  (cc._supportRender = !0))
                                            : 1 === i && cc.sys.capabilities.canvas
                                            ? ((cc._renderType = cc.game.RENDER_TYPE_CANVAS), (cc._supportRender = !0))
                                            : 2 === i &&
                                              cc.sys.capabilities.opengl &&
                                              ((cc._renderType = cc.game.RENDER_TYPE_WEBGL), (cc._supportRender = !0)),
                                        cc._supportRender ||
                                            ((cc._renderType = cc.game.RENDER_TYPE_CANVAS), (cc._supportRender = !0));
                                })(t),
                                document.body ? n() : window.addEventListener('load', r, !1),
                                (o = !0);
                    });
            },
            {
                './cocos2d/core/platform/CCSys': 144,
                './cocos2d/core/utils': 184,
            },
        ],
        2: [
            function (t, e, i) {
                function n(t, e) {
                    return function (i) {
                        'use strict';
                        if (1 !== arguments.length) {
                            var n = '';
                            2 === arguments.length
                                ? (n = 'Arguments: ' + arguments[1])
                                : arguments.length > 2 &&
                                  (n = 'Arguments: ' + cc.js.shiftArguments.apply(null, arguments).join(', ')),
                                t(e + ' ' + i + ', please go to ' + o + '#' + i + ' to see details. ' + n);
                        } else t(e + ' ' + i + ', please go to ' + o + '#' + i + ' to see details.');
                    };
                }
                var r,
                    s = t('./cocos2d/core/platform/CCEnum');
                (cc.DebugMode = s({
                    NONE: 0,
                    INFO: 1,
                    WARN: 2,
                    ERROR: 3,
                    INFO_FOR_WEB_PAGE: 4,
                    WARN_FOR_WEB_PAGE: 5,
                    ERROR_FOR_WEB_PAGE: 6,
                })),
                    (cc._initDebugSetting = function (t) {
                        if (
                            ((cc.log =
                                cc.logID =
                                cc.warn =
                                cc.warnID =
                                cc.error =
                                cc.errorID =
                                cc.assert =
                                cc.assertID =
                                    function () {}),
                            t !== cc.DebugMode.NONE)
                        ) {
                            t > cc.DebugMode.ERROR
                                ? (function () {
                                      function e(t) {
                                          if (cc._canvas) {
                                              if (!r) {
                                                  var e = document.createElement('Div');
                                                  e.setAttribute('id', 'logInfoDiv'),
                                                      e.setAttribute('width', '200'),
                                                      e.setAttribute('height', cc._canvas.height);
                                                  var i = e.style;
                                                  (i.zIndex = '99999'),
                                                      (i.position = 'absolute'),
                                                      (i.top = i.left = '0'),
                                                      (r = document.createElement('textarea')).setAttribute(
                                                          'rows',
                                                          '20',
                                                      ),
                                                      r.setAttribute('cols', '30'),
                                                      r.setAttribute('disabled', 'true');
                                                  var n = r.style;
                                                  (n.backgroundColor = 'transparent'),
                                                      (n.borderBottom = '1px solid #cccccc'),
                                                      (n.borderTopWidth =
                                                          n.borderLeftWidth =
                                                          n.borderRightWidth =
                                                              '0px'),
                                                      (n.borderTopStyle =
                                                          n.borderLeftStyle =
                                                          n.borderRightStyle =
                                                              'none'),
                                                      (n.padding = '0px'),
                                                      (n.margin = 0),
                                                      e.appendChild(r),
                                                      cc._canvas.parentNode.appendChild(e);
                                              }
                                              (r.value = r.value + t + '\r\n'), (r.scrollTop = r.scrollHeight);
                                          }
                                      }
                                      (cc.error = function () {
                                          e('ERROR :  ' + cc.js.formatStr.apply(null, arguments));
                                      }),
                                          (cc.assert = function (t, i) {
                                              'use strict';
                                              !t &&
                                                  i &&
                                                  e(
                                                      'ASSERT: ' +
                                                          (i = cc.js.formatStr.apply(
                                                              null,
                                                              cc.js.shiftArguments.apply(null, arguments),
                                                          )),
                                                  );
                                          }),
                                          t !== cc.DebugMode.ERROR_FOR_WEB_PAGE &&
                                              (cc.warn = function () {
                                                  e('WARN :  ' + cc.js.formatStr.apply(null, arguments));
                                              }),
                                          t === cc.DebugMode.INFO_FOR_WEB_PAGE &&
                                              (cc.log = cc.info =
                                                  function () {
                                                      e(cc.js.formatStr.apply(null, arguments));
                                                  });
                                  })()
                                : console &&
                                  console.log.apply &&
                                  (console.error || (console.error = console.log),
                                  console.warn || (console.warn = console.log),
                                  console.error.bind
                                      ? (cc.error = console.error.bind(console))
                                      : (cc.error = function () {
                                            return console.error.apply(console, arguments);
                                        }),
                                  (cc.assert = function (t, e) {
                                      if (!t)
                                          throw (
                                              (e &&
                                                  (e = cc.js.formatStr.apply(
                                                      null,
                                                      cc.js.shiftArguments.apply(null, arguments),
                                                  )),
                                              new Error(e))
                                          );
                                  })),
                                t !== cc.DebugMode.ERROR &&
                                    (console.warn.bind
                                        ? (cc.warn = console.warn.bind(console))
                                        : (cc.warn = function () {
                                              return console.warn.apply(console, arguments);
                                          })),
                                t === cc.DebugMode.INFO &&
                                    (console.log.bind
                                        ? (cc.log = console.log.bind(console))
                                        : (cc.log = function () {
                                              return console.log.apply(console, arguments);
                                          }),
                                    (cc.info = function () {
                                        (console.info || console.log).apply(console, arguments);
                                    })),
                                (cc.warnID = n(cc.warn, 'Warning')),
                                (cc.errorID = n(cc.error, 'Error')),
                                (cc.logID = n(cc.log, 'Log'));
                            var e = n(function () {
                                for (var t = [!1], e = 0; e < arguments.length; ++e) t.push(arguments[e]);
                                cc.assert.apply(null, t);
                            }, 'Assert');
                            cc.assertID = function (t) {
                                'use strict';
                                t || e.apply(null, cc.js.shiftArguments.apply(null, arguments));
                            };
                        }
                    }),
                    (cc._throw = function (t) {
                        var e = t.stack;
                        e ? cc.error(e) : cc.error(t);
                    });
                var o = 'https://github.com/cocos-creator/engine/blob/master/EngineErrorMap.md';
            },
            {
                './cocos2d/core/platform/CCEnum': 137,
            },
        ],
        3: [function (t, e, i) {}, {}],
        4: [
            function (t, e, i) {
                (cc.Action = cc._Class.extend({
                    ctor: function () {
                        (this.originalTarget = null), (this.target = null), (this.tag = cc.Action.TAG_INVALID);
                    },
                    clone: function () {
                        var t = new cc.Action();
                        return (t.originalTarget = null), (t.target = null), (t.tag = this.tag), t;
                    },
                    isDone: function () {
                        return !0;
                    },
                    startWithTarget: function (t) {
                        (this.originalTarget = t), (this.target = t);
                    },
                    stop: function () {
                        this.target = null;
                    },
                    step: function (t) {
                        cc.logID(1006);
                    },
                    update: function (t) {
                        cc.logID(1007);
                    },
                    getTarget: function () {
                        return this.target;
                    },
                    setTarget: function (t) {
                        this.target = t;
                    },
                    getOriginalTarget: function () {
                        return this.originalTarget;
                    },
                    setOriginalTarget: function (t) {
                        this.originalTarget = t;
                    },
                    getTag: function () {
                        return this.tag;
                    },
                    setTag: function (t) {
                        this.tag = t;
                    },
                    retain: function () {},
                    release: function () {},
                })),
                    (cc.Action.TAG_INVALID = -1),
                    (cc.FiniteTimeAction = cc.Action.extend({
                        _duration: 0,
                        ctor: function () {
                            cc.Action.prototype.ctor.call(this), (this._duration = 0);
                        },
                        getDuration: function () {
                            return this._duration * (this._timesForRepeat || 1);
                        },
                        setDuration: function (t) {
                            this._duration = t;
                        },
                        reverse: function () {
                            return cc.logID(1008), null;
                        },
                        clone: function () {
                            return new cc.FiniteTimeAction();
                        },
                    })),
                    (cc.Speed = cc.Action.extend({
                        _speed: 0,
                        _innerAction: null,
                        ctor: function (t, e) {
                            cc.Action.prototype.ctor.call(this),
                                (this._speed = 0),
                                (this._innerAction = null),
                                t && this.initWithAction(t, e);
                        },
                        getSpeed: function () {
                            return this._speed;
                        },
                        setSpeed: function (t) {
                            this._speed = t;
                        },
                        initWithAction: function (t, e) {
                            if (!t) throw new Error('cc.Speed.initWithAction(): action must be non nil');
                            return (this._innerAction = t), (this._speed = e), !0;
                        },
                        clone: function () {
                            var t = new cc.Speed();
                            return t.initWithAction(this._innerAction.clone(), this._speed), t;
                        },
                        startWithTarget: function (t) {
                            cc.Action.prototype.startWithTarget.call(this, t), this._innerAction.startWithTarget(t);
                        },
                        stop: function () {
                            this._innerAction.stop(), cc.Action.prototype.stop.call(this);
                        },
                        step: function (t) {
                            this._innerAction.step(t * this._speed);
                        },
                        isDone: function () {
                            return this._innerAction.isDone();
                        },
                        reverse: function () {
                            return new cc.Speed(this._innerAction.reverse(), this._speed);
                        },
                        setInnerAction: function (t) {
                            this._innerAction !== t && (this._innerAction = t);
                        },
                        getInnerAction: function () {
                            return this._innerAction;
                        },
                    })),
                    (cc.speed = function (t, e) {
                        return new cc.Speed(t, e);
                    }),
                    (cc.Follow = cc.Action.extend({
                        _followedNode: null,
                        _boundarySet: !1,
                        _boundaryFullyCovered: !1,
                        _halfScreenSize: null,
                        _fullScreenSize: null,
                        _worldRect: null,
                        leftBoundary: 0,
                        rightBoundary: 0,
                        topBoundary: 0,
                        bottomBoundary: 0,
                        ctor: function (t, e) {
                            cc.Action.prototype.ctor.call(this),
                                (this._followedNode = null),
                                (this._boundarySet = !1),
                                (this._boundaryFullyCovered = !1),
                                (this._halfScreenSize = null),
                                (this._fullScreenSize = null),
                                (this.leftBoundary = 0),
                                (this.rightBoundary = 0),
                                (this.topBoundary = 0),
                                (this.bottomBoundary = 0),
                                (this._worldRect = cc.rect(0, 0, 0, 0)),
                                t && (e ? this.initWithTarget(t, e) : this.initWithTarget(t));
                        },
                        clone: function () {
                            var t = new cc.Follow(),
                                e = this._worldRect,
                                i = new cc.Rect(e.x, e.y, e.width, e.height);
                            return t.initWithTarget(this._followedNode, i), t;
                        },
                        isBoundarySet: function () {
                            return this._boundarySet;
                        },
                        setBoudarySet: function (t) {
                            this._boundarySet = t;
                        },
                        initWithTarget: function (t, e) {
                            if (!t) throw new Error('cc.Follow.initWithAction(): followedNode must be non nil');
                            (e = e || cc.rect(0, 0, 0, 0)),
                                (this._followedNode = t),
                                (this._worldRect = e),
                                (this._boundarySet = !cc._rectEqualToZero(e)),
                                (this._boundaryFullyCovered = !1);
                            var i = cc.director.getWinSize();
                            return (
                                (this._fullScreenSize = cc.p(i.width, i.height)),
                                (this._halfScreenSize = cc.pMult(this._fullScreenSize, 0.5)),
                                this._boundarySet &&
                                    ((this.leftBoundary = -(e.x + e.width - this._fullScreenSize.x)),
                                    (this.rightBoundary = -e.x),
                                    (this.topBoundary = -e.y),
                                    (this.bottomBoundary = -(e.y + e.height - this._fullScreenSize.y)),
                                    this.rightBoundary < this.leftBoundary &&
                                        (this.rightBoundary = this.leftBoundary =
                                            (this.leftBoundary + this.rightBoundary) / 2),
                                    this.topBoundary < this.bottomBoundary &&
                                        (this.topBoundary = this.bottomBoundary =
                                            (this.topBoundary + this.bottomBoundary) / 2),
                                    this.topBoundary === this.bottomBoundary &&
                                        this.leftBoundary === this.rightBoundary &&
                                        (this._boundaryFullyCovered = !0)),
                                !0
                            );
                        },
                        step: function (t) {
                            var e = this.target.convertToWorldSpaceAR(cc.Vec2.ZERO),
                                i = this._followedNode.convertToWorldSpaceAR(cc.Vec2.ZERO),
                                n = cc.pSub(e, i),
                                r = this.target.parent.convertToNodeSpaceAR(cc.pAdd(n, this._halfScreenSize));
                            if (this._boundarySet) {
                                if (this._boundaryFullyCovered) return;
                                this.target.setPosition(
                                    cc.clampf(r.x, this.leftBoundary, this.rightBoundary),
                                    cc.clampf(r.y, this.bottomBoundary, this.topBoundary),
                                );
                            } else this.target.setPosition(r.x, r.y);
                        },
                        isDone: function () {
                            return !this._followedNode.isRunning();
                        },
                        stop: function () {
                            (this.target = null), cc.Action.prototype.stop.call(this);
                        },
                    })),
                    (cc.follow = function (t, e) {
                        return new cc.Follow(t, e);
                    });
            },
            {},
        ],
        5: [
            function (t, e, i) {
                function n(t) {
                    for (var e = [], i = t.length - 1; i >= 0; i--) e.push(cc.p(t[i].x, t[i].y));
                    return e;
                }

                function r(t) {
                    for (var e = [], i = 0; i < t.length; i++) e.push(cc.p(t[i].x, t[i].y));
                    return e;
                }
                (cc.cardinalSplineAt = function (t, e, i, n, r, s) {
                    var o = s * s,
                        a = o * s,
                        c = (1 - r) / 2,
                        h = c * (2 * o - a - s),
                        l = c * (-a + o) + (2 * a - 3 * o + 1),
                        u = c * (a - 2 * o + s) + (-2 * a + 3 * o),
                        d = c * (a - o),
                        _ = t.x * h + e.x * l + i.x * u + n.x * d,
                        f = t.y * h + e.y * l + i.y * u + n.y * d;
                    return cc.p(_, f);
                }),
                    (cc.getControlPointAt = function (t, e) {
                        return t[Math.min(t.length - 1, Math.max(e, 0))];
                    }),
                    (cc.CardinalSplineTo = cc.ActionInterval.extend({
                        _points: null,
                        _deltaT: 0,
                        _tension: 0,
                        _previousPosition: null,
                        _accumulatedDiff: null,
                        ctor: function (t, e, i) {
                            cc.ActionInterval.prototype.ctor.call(this),
                                (this._points = []),
                                void 0 !== i && this.initWithDuration(t, e, i);
                        },
                        initWithDuration: function (t, e, i) {
                            if (!e || 0 === e.length)
                                throw new Error('Invalid configuration. It must at least have one control point');
                            return (
                                !!cc.ActionInterval.prototype.initWithDuration.call(this, t) &&
                                (this.setPoints(e), (this._tension = i), !0)
                            );
                        },
                        clone: function () {
                            var t = new cc.CardinalSplineTo();
                            return t.initWithDuration(this._duration, r(this._points), this._tension), t;
                        },
                        startWithTarget: function (t) {
                            cc.ActionInterval.prototype.startWithTarget.call(this, t),
                                (this._deltaT = 1 / (this._points.length - 1)),
                                (this._previousPosition = cc.p(this.target.getPositionX(), this.target.getPositionY())),
                                (this._accumulatedDiff = cc.p(0, 0));
                        },
                        update: function (t) {
                            t = this._computeEaseTime(t);
                            var e,
                                i,
                                n = this._points;
                            if (1 === t) (e = n.length - 1), (i = 1);
                            else {
                                var r = this._deltaT;
                                i = (t - r * (e = 0 | (t / r))) / r;
                            }
                            var s = cc.cardinalSplineAt(
                                cc.getControlPointAt(n, e - 1),
                                cc.getControlPointAt(n, e - 0),
                                cc.getControlPointAt(n, e + 1),
                                cc.getControlPointAt(n, e + 2),
                                this._tension,
                                i,
                            );
                            if (cc.macro.ENABLE_STACKABLE_ACTIONS) {
                                var o, a;
                                if (
                                    ((o = this.target.getPositionX() - this._previousPosition.x),
                                    (a = this.target.getPositionY() - this._previousPosition.y),
                                    0 !== o || 0 !== a)
                                ) {
                                    var c = this._accumulatedDiff;
                                    (o = c.x + o), (a = c.y + a), (c.x = o), (c.y = a), (s.x += o), (s.y += a);
                                }
                            }
                            this.updatePosition(s);
                        },
                        reverse: function () {
                            var t = n(this._points);
                            return cc.cardinalSplineTo(this._duration, t, this._tension);
                        },
                        updatePosition: function (t) {
                            this.target.setPosition(t), (this._previousPosition = t);
                        },
                        getPoints: function () {
                            return this._points;
                        },
                        setPoints: function (t) {
                            this._points = t;
                        },
                    })),
                    (cc.cardinalSplineTo = function (t, e, i) {
                        return new cc.CardinalSplineTo(t, e, i);
                    }),
                    (cc.CardinalSplineBy = cc.CardinalSplineTo.extend({
                        _startPosition: null,
                        ctor: function (t, e, i) {
                            cc.CardinalSplineTo.prototype.ctor.call(this),
                                (this._startPosition = cc.p(0, 0)),
                                void 0 !== i && this.initWithDuration(t, e, i);
                        },
                        startWithTarget: function (t) {
                            cc.CardinalSplineTo.prototype.startWithTarget.call(this, t),
                                (this._startPosition.x = t.getPositionX()),
                                (this._startPosition.y = t.getPositionY());
                        },
                        reverse: function () {
                            for (var t, e = this._points.slice(), i = e[0], r = 1; r < e.length; ++r)
                                (t = e[r]), (e[r] = cc.pSub(t, i)), (i = t);
                            var s = n(e);
                            (i = s[s.length - 1]), s.pop(), (i.x = -i.x), (i.y = -i.y), s.unshift(i);
                            for (r = 1; r < s.length; ++r)
                                ((t = s[r]).x = -t.x), (t.y = -t.y), (t.x += i.x), (t.y += i.y), (s[r] = t), (i = t);
                            return cc.cardinalSplineBy(this._duration, s, this._tension);
                        },
                        updatePosition: function (t) {
                            var e = this._startPosition,
                                i = t.x + e.x,
                                n = t.y + e.y;
                            (this._previousPosition.x = i),
                                (this._previousPosition.y = n),
                                this.target.setPosition(i, n);
                        },
                        clone: function () {
                            var t = new cc.CardinalSplineBy();
                            return t.initWithDuration(this._duration, r(this._points), this._tension), t;
                        },
                    })),
                    (cc.cardinalSplineBy = function (t, e, i) {
                        return new cc.CardinalSplineBy(t, e, i);
                    }),
                    (cc.CatmullRomTo = cc.CardinalSplineTo.extend({
                        ctor: function (t, e) {
                            e && this.initWithDuration(t, e);
                        },
                        initWithDuration: function (t, e) {
                            return cc.CardinalSplineTo.prototype.initWithDuration.call(this, t, e, 0.5);
                        },
                        clone: function () {
                            var t = new cc.CatmullRomTo();
                            return t.initWithDuration(this._duration, r(this._points)), t;
                        },
                    })),
                    (cc.catmullRomTo = function (t, e) {
                        return new cc.CatmullRomTo(t, e);
                    }),
                    (cc.CatmullRomBy = cc.CardinalSplineBy.extend({
                        ctor: function (t, e) {
                            cc.CardinalSplineBy.prototype.ctor.call(this), e && this.initWithDuration(t, e);
                        },
                        initWithDuration: function (t, e) {
                            return cc.CardinalSplineTo.prototype.initWithDuration.call(this, t, e, 0.5);
                        },
                        clone: function () {
                            var t = new cc.CatmullRomBy();
                            return t.initWithDuration(this._duration, r(this._points)), t;
                        },
                    })),
                    (cc.catmullRomBy = function (t, e) {
                        return new cc.CatmullRomBy(t, e);
                    });
            },
            {},
        ],
        6: [
            function (t, e, i) {
                (cc.ActionEase = cc.ActionInterval.extend({
                    _inner: null,
                    ctor: function (t) {
                        cc.ActionInterval.prototype.ctor.call(this), t && this.initWithAction(t);
                    },
                    initWithAction: function (t) {
                        if (!t) throw new Error('cc.ActionEase.initWithAction(): action must be non nil');
                        return !!this.initWithDuration(t.getDuration()) && ((this._inner = t), !0);
                    },
                    clone: function () {
                        var t = new cc.ActionEase();
                        return t.initWithAction(this._inner.clone()), t;
                    },
                    startWithTarget: function (t) {
                        cc.ActionInterval.prototype.startWithTarget.call(this, t),
                            this._inner.startWithTarget(this.target);
                    },
                    stop: function () {
                        this._inner.stop(), cc.ActionInterval.prototype.stop.call(this);
                    },
                    update: function (t) {
                        this._inner.update(t);
                    },
                    reverse: function () {
                        return new cc.ActionEase(this._inner.reverse());
                    },
                    getInnerAction: function () {
                        return this._inner;
                    },
                })),
                    (cc.actionEase = function (t) {
                        return new cc.ActionEase(t);
                    }),
                    (cc.EaseRateAction = cc.ActionEase.extend({
                        _rate: 0,
                        ctor: function (t, e) {
                            cc.ActionEase.prototype.ctor.call(this), void 0 !== e && this.initWithAction(t, e);
                        },
                        setRate: function (t) {
                            this._rate = t;
                        },
                        getRate: function () {
                            return this._rate;
                        },
                        initWithAction: function (t, e) {
                            return !!cc.ActionEase.prototype.initWithAction.call(this, t) && ((this._rate = e), !0);
                        },
                        clone: function () {
                            var t = new cc.EaseRateAction();
                            return t.initWithAction(this._inner.clone(), this._rate), t;
                        },
                        reverse: function () {
                            return new cc.EaseRateAction(this._inner.reverse(), 1 / this._rate);
                        },
                    })),
                    (cc.easeRateAction = function (t, e) {
                        return new cc.EaseRateAction(t, e);
                    }),
                    (cc.EaseIn = cc.EaseRateAction.extend({
                        update: function (t) {
                            this._inner.update(Math.pow(t, this._rate));
                        },
                        reverse: function () {
                            return new cc.EaseIn(this._inner.reverse(), 1 / this._rate);
                        },
                        clone: function () {
                            var t = new cc.EaseIn();
                            return t.initWithAction(this._inner.clone(), this._rate), t;
                        },
                    })),
                    (cc.easeIn = function (t) {
                        return {
                            _rate: t,
                            easing: function (t) {
                                return Math.pow(t, this._rate);
                            },
                            reverse: function () {
                                return cc.easeIn(1 / this._rate);
                            },
                        };
                    }),
                    (cc.EaseOut = cc.EaseRateAction.extend({
                        update: function (t) {
                            this._inner.update(Math.pow(t, 1 / this._rate));
                        },
                        reverse: function () {
                            return new cc.EaseOut(this._inner.reverse(), 1 / this._rate);
                        },
                        clone: function () {
                            var t = new cc.EaseOut();
                            return t.initWithAction(this._inner.clone(), this._rate), t;
                        },
                    })),
                    (cc.easeOut = function (t) {
                        return {
                            _rate: t,
                            easing: function (t) {
                                return Math.pow(t, 1 / this._rate);
                            },
                            reverse: function () {
                                return cc.easeOut(1 / this._rate);
                            },
                        };
                    }),
                    (cc.EaseInOut = cc.EaseRateAction.extend({
                        update: function (t) {
                            (t *= 2) < 1
                                ? this._inner.update(0.5 * Math.pow(t, this._rate))
                                : this._inner.update(1 - 0.5 * Math.pow(2 - t, this._rate));
                        },
                        clone: function () {
                            var t = new cc.EaseInOut();
                            return t.initWithAction(this._inner.clone(), this._rate), t;
                        },
                        reverse: function () {
                            return new cc.EaseInOut(this._inner.reverse(), this._rate);
                        },
                    })),
                    (cc.easeInOut = function (t) {
                        return {
                            _rate: t,
                            easing: function (t) {
                                return (t *= 2) < 1
                                    ? 0.5 * Math.pow(t, this._rate)
                                    : 1 - 0.5 * Math.pow(2 - t, this._rate);
                            },
                            reverse: function () {
                                return cc.easeInOut(this._rate);
                            },
                        };
                    }),
                    (cc.EaseExponentialIn = cc.ActionEase.extend({
                        update: function (t) {
                            this._inner.update(0 === t ? 0 : Math.pow(2, 10 * (t - 1)));
                        },
                        reverse: function () {
                            return new cc.EaseExponentialOut(this._inner.reverse());
                        },
                        clone: function () {
                            var t = new cc.EaseExponentialIn();
                            return t.initWithAction(this._inner.clone()), t;
                        },
                    })),
                    (cc._easeExponentialInObj = {
                        easing: function (t) {
                            return 0 === t ? 0 : Math.pow(2, 10 * (t - 1));
                        },
                        reverse: function () {
                            return cc._easeExponentialOutObj;
                        },
                    }),
                    (cc.easeExponentialIn = function () {
                        return cc._easeExponentialInObj;
                    }),
                    (cc.EaseExponentialOut = cc.ActionEase.extend({
                        update: function (t) {
                            this._inner.update(1 === t ? 1 : 1 - Math.pow(2, -10 * t));
                        },
                        reverse: function () {
                            return new cc.EaseExponentialIn(this._inner.reverse());
                        },
                        clone: function () {
                            var t = new cc.EaseExponentialOut();
                            return t.initWithAction(this._inner.clone()), t;
                        },
                    })),
                    (cc._easeExponentialOutObj = {
                        easing: function (t) {
                            return 1 === t ? 1 : 1 - Math.pow(2, -10 * t);
                        },
                        reverse: function () {
                            return cc._easeExponentialInObj;
                        },
                    }),
                    (cc.easeExponentialOut = function () {
                        return cc._easeExponentialOutObj;
                    }),
                    (cc.EaseExponentialInOut = cc.ActionEase.extend({
                        update: function (t) {
                            1 !== t &&
                                0 !== t &&
                                (t =
                                    (t *= 2) < 1
                                        ? 0.5 * Math.pow(2, 10 * (t - 1))
                                        : 0.5 * (2 - Math.pow(2, -10 * (t - 1)))),
                                this._inner.update(t);
                        },
                        reverse: function () {
                            return new cc.EaseExponentialInOut(this._inner.reverse());
                        },
                        clone: function () {
                            var t = new cc.EaseExponentialInOut();
                            return t.initWithAction(this._inner.clone()), t;
                        },
                    })),
                    (cc._easeExponentialInOutObj = {
                        easing: function (t) {
                            return 1 !== t && 0 !== t
                                ? (t *= 2) < 1
                                    ? 0.5 * Math.pow(2, 10 * (t - 1))
                                    : 0.5 * (2 - Math.pow(2, -10 * (t - 1)))
                                : t;
                        },
                        reverse: function () {
                            return cc._easeExponentialInOutObj;
                        },
                    }),
                    (cc.easeExponentialInOut = function () {
                        return cc._easeExponentialInOutObj;
                    }),
                    (cc.EaseSineIn = cc.ActionEase.extend({
                        update: function (t) {
                            (t = 0 === t || 1 === t ? t : -1 * Math.cos((t * Math.PI) / 2) + 1), this._inner.update(t);
                        },
                        reverse: function () {
                            return new cc.EaseSineOut(this._inner.reverse());
                        },
                        clone: function () {
                            var t = new cc.EaseSineIn();
                            return t.initWithAction(this._inner.clone()), t;
                        },
                    })),
                    (cc._easeSineInObj = {
                        easing: function (t) {
                            return 0 === t || 1 === t ? t : -1 * Math.cos((t * Math.PI) / 2) + 1;
                        },
                        reverse: function () {
                            return cc._easeSineOutObj;
                        },
                    }),
                    (cc.easeSineIn = function () {
                        return cc._easeSineInObj;
                    }),
                    (cc.EaseSineOut = cc.ActionEase.extend({
                        update: function (t) {
                            (t = 0 === t || 1 === t ? t : Math.sin((t * Math.PI) / 2)), this._inner.update(t);
                        },
                        reverse: function () {
                            return new cc.EaseSineIn(this._inner.reverse());
                        },
                        clone: function () {
                            var t = new cc.EaseSineOut();
                            return t.initWithAction(this._inner.clone()), t;
                        },
                    })),
                    (cc._easeSineOutObj = {
                        easing: function (t) {
                            return 0 === t || 1 === t ? t : Math.sin((t * Math.PI) / 2);
                        },
                        reverse: function () {
                            return cc._easeSineInObj;
                        },
                    }),
                    (cc.easeSineOut = function () {
                        return cc._easeSineOutObj;
                    }),
                    (cc.EaseSineInOut = cc.ActionEase.extend({
                        update: function (t) {
                            (t = 0 === t || 1 === t ? t : -0.5 * (Math.cos(Math.PI * t) - 1)), this._inner.update(t);
                        },
                        clone: function () {
                            var t = new cc.EaseSineInOut();
                            return t.initWithAction(this._inner.clone()), t;
                        },
                        reverse: function () {
                            return new cc.EaseSineInOut(this._inner.reverse());
                        },
                    })),
                    (cc._easeSineInOutObj = {
                        easing: function (t) {
                            return 0 === t || 1 === t ? t : -0.5 * (Math.cos(Math.PI * t) - 1);
                        },
                        reverse: function () {
                            return cc._easeSineInOutObj;
                        },
                    }),
                    (cc.easeSineInOut = function () {
                        return cc._easeSineInOutObj;
                    }),
                    (cc.EaseElastic = cc.ActionEase.extend({
                        _period: 0.3,
                        ctor: function (t, e) {
                            cc.ActionEase.prototype.ctor.call(this), t && this.initWithAction(t, e);
                        },
                        getPeriod: function () {
                            return this._period;
                        },
                        setPeriod: function (t) {
                            this._period = t;
                        },
                        initWithAction: function (t, e) {
                            return (
                                cc.ActionEase.prototype.initWithAction.call(this, t),
                                (this._period = null == e ? 0.3 : e),
                                !0
                            );
                        },
                        reverse: function () {
                            return cc.logID(1009), null;
                        },
                        clone: function () {
                            var t = new cc.EaseElastic();
                            return t.initWithAction(this._inner.clone(), this._period), t;
                        },
                    })),
                    (cc.EaseElasticIn = cc.EaseElastic.extend({
                        update: function (t) {
                            var e = 0;
                            if (0 === t || 1 === t) e = t;
                            else {
                                var i = this._period / 4;
                                (t -= 1), (e = -Math.pow(2, 10 * t) * Math.sin(((t - i) * Math.PI * 2) / this._period));
                            }
                            this._inner.update(e);
                        },
                        reverse: function () {
                            return new cc.EaseElasticOut(this._inner.reverse(), this._period);
                        },
                        clone: function () {
                            var t = new cc.EaseElasticIn();
                            return t.initWithAction(this._inner.clone(), this._period), t;
                        },
                    })),
                    (cc._easeElasticInObj = {
                        easing: function (t) {
                            return 0 === t || 1 === t
                                ? t
                                : ((t -= 1), -Math.pow(2, 10 * t) * Math.sin(((t - 0.075) * Math.PI * 2) / 0.3));
                        },
                        reverse: function () {
                            return cc._easeElasticOutObj;
                        },
                    }),
                    (cc.easeElasticIn = function (t) {
                        return t && 0.3 !== t
                            ? {
                                  _period: t,
                                  easing: function (t) {
                                      return 0 === t || 1 === t
                                          ? t
                                          : ((t -= 1),
                                            -Math.pow(2, 10 * t) *
                                                Math.sin(((t - this._period / 4) * Math.PI * 2) / this._period));
                                  },
                                  reverse: function () {
                                      return cc.easeElasticOut(this._period);
                                  },
                              }
                            : cc._easeElasticInObj;
                    }),
                    (cc.EaseElasticOut = cc.EaseElastic.extend({
                        update: function (t) {
                            var e = 0;
                            if (0 === t || 1 === t) e = t;
                            else {
                                var i = this._period / 4;
                                e = Math.pow(2, -10 * t) * Math.sin(((t - i) * Math.PI * 2) / this._period) + 1;
                            }
                            this._inner.update(e);
                        },
                        reverse: function () {
                            return new cc.EaseElasticIn(this._inner.reverse(), this._period);
                        },
                        clone: function () {
                            var t = new cc.EaseElasticOut();
                            return t.initWithAction(this._inner.clone(), this._period), t;
                        },
                    })),
                    (cc._easeElasticOutObj = {
                        easing: function (t) {
                            return 0 === t || 1 === t
                                ? t
                                : Math.pow(2, -10 * t) * Math.sin(((t - 0.075) * Math.PI * 2) / 0.3) + 1;
                        },
                        reverse: function () {
                            return cc._easeElasticInObj;
                        },
                    }),
                    (cc.easeElasticOut = function (t) {
                        return t && 0.3 !== t
                            ? {
                                  _period: t,
                                  easing: function (t) {
                                      return 0 === t || 1 === t
                                          ? t
                                          : Math.pow(2, -10 * t) *
                                                Math.sin(((t - this._period / 4) * Math.PI * 2) / this._period) +
                                                1;
                                  },
                                  reverse: function () {
                                      return cc.easeElasticIn(this._period);
                                  },
                              }
                            : cc._easeElasticOutObj;
                    }),
                    (cc.EaseElasticInOut = cc.EaseElastic.extend({
                        update: function (t) {
                            var e = 0,
                                i = this._period;
                            if (0 === t || 1 === t) e = t;
                            else {
                                (t *= 2), i || (i = this._period = 0.3 * 1.5);
                                var n = i / 4;
                                e =
                                    (t -= 1) < 0
                                        ? -0.5 * Math.pow(2, 10 * t) * Math.sin(((t - n) * Math.PI * 2) / i)
                                        : Math.pow(2, -10 * t) * Math.sin(((t - n) * Math.PI * 2) / i) * 0.5 + 1;
                            }
                            this._inner.update(e);
                        },
                        reverse: function () {
                            return new cc.EaseElasticInOut(this._inner.reverse(), this._period);
                        },
                        clone: function () {
                            var t = new cc.EaseElasticInOut();
                            return t.initWithAction(this._inner.clone(), this._period), t;
                        },
                    })),
                    (cc.easeElasticInOut = function (t) {
                        return (
                            (t = t || 0.3),
                            {
                                _period: t,
                                easing: function (t) {
                                    var e = 0,
                                        i = this._period;
                                    if (0 === t || 1 === t) e = t;
                                    else {
                                        (t *= 2), i || (i = this._period = 0.3 * 1.5);
                                        var n = i / 4;
                                        e =
                                            (t -= 1) < 0
                                                ? -0.5 * Math.pow(2, 10 * t) * Math.sin(((t - n) * Math.PI * 2) / i)
                                                : Math.pow(2, -10 * t) * Math.sin(((t - n) * Math.PI * 2) / i) * 0.5 +
                                                  1;
                                    }
                                    return e;
                                },
                                reverse: function () {
                                    return cc.easeElasticInOut(this._period);
                                },
                            }
                        );
                    }),
                    (cc.EaseBounce = cc.ActionEase.extend({
                        bounceTime: function (t) {
                            return t < 1 / 2.75
                                ? 7.5625 * t * t
                                : t < 2 / 2.75
                                ? 7.5625 * (t -= 1.5 / 2.75) * t + 0.75
                                : t < 2.5 / 2.75
                                ? 7.5625 * (t -= 2.25 / 2.75) * t + 0.9375
                                : 7.5625 * (t -= 2.625 / 2.75) * t + 0.984375;
                        },
                        clone: function () {
                            var t = new cc.EaseBounce();
                            return t.initWithAction(this._inner.clone()), t;
                        },
                        reverse: function () {
                            return new cc.EaseBounce(this._inner.reverse());
                        },
                    })),
                    (cc.EaseBounceIn = cc.EaseBounce.extend({
                        update: function (t) {
                            var e = 1 - this.bounceTime(1 - t);
                            this._inner.update(e);
                        },
                        reverse: function () {
                            return new cc.EaseBounceOut(this._inner.reverse());
                        },
                        clone: function () {
                            var t = new cc.EaseBounceIn();
                            return t.initWithAction(this._inner.clone()), t;
                        },
                    })),
                    (cc._bounceTime = function (t) {
                        return t < 1 / 2.75
                            ? 7.5625 * t * t
                            : t < 2 / 2.75
                            ? 7.5625 * (t -= 1.5 / 2.75) * t + 0.75
                            : t < 2.5 / 2.75
                            ? 7.5625 * (t -= 2.25 / 2.75) * t + 0.9375
                            : 7.5625 * (t -= 2.625 / 2.75) * t + 0.984375;
                    }),
                    (cc._easeBounceInObj = {
                        easing: function (t) {
                            return 1 - cc._bounceTime(1 - t);
                        },
                        reverse: function () {
                            return cc._easeBounceOutObj;
                        },
                    }),
                    (cc.easeBounceIn = function () {
                        return cc._easeBounceInObj;
                    }),
                    (cc.EaseBounceOut = cc.EaseBounce.extend({
                        update: function (t) {
                            var e = this.bounceTime(t);
                            this._inner.update(e);
                        },
                        reverse: function () {
                            return new cc.EaseBounceIn(this._inner.reverse());
                        },
                        clone: function () {
                            var t = new cc.EaseBounceOut();
                            return t.initWithAction(this._inner.clone()), t;
                        },
                    })),
                    (cc._easeBounceOutObj = {
                        easing: function (t) {
                            return cc._bounceTime(t);
                        },
                        reverse: function () {
                            return cc._easeBounceInObj;
                        },
                    }),
                    (cc.easeBounceOut = function () {
                        return cc._easeBounceOutObj;
                    }),
                    (cc.EaseBounceInOut = cc.EaseBounce.extend({
                        update: function (t) {
                            var e = 0;
                            t < 0.5
                                ? ((t *= 2), (e = 0.5 * (1 - this.bounceTime(1 - t))))
                                : (e = 0.5 * this.bounceTime(2 * t - 1) + 0.5),
                                this._inner.update(e);
                        },
                        clone: function () {
                            var t = new cc.EaseBounceInOut();
                            return t.initWithAction(this._inner.clone()), t;
                        },
                        reverse: function () {
                            return new cc.EaseBounceInOut(this._inner.reverse());
                        },
                    })),
                    (cc._easeBounceInOutObj = {
                        easing: function (t) {
                            var e;
                            return (
                                t < 0.5
                                    ? ((t *= 2), (e = 0.5 * (1 - cc._bounceTime(1 - t))))
                                    : (e = 0.5 * cc._bounceTime(2 * t - 1) + 0.5),
                                e
                            );
                        },
                        reverse: function () {
                            return cc._easeBounceInOutObj;
                        },
                    }),
                    (cc.easeBounceInOut = function () {
                        return cc._easeBounceInOutObj;
                    }),
                    (cc.EaseBackIn = cc.ActionEase.extend({
                        update: function (t) {
                            (t = 0 === t || 1 === t ? t : t * t * (2.70158 * t - 1.70158)), this._inner.update(t);
                        },
                        reverse: function () {
                            return new cc.EaseBackOut(this._inner.reverse());
                        },
                        clone: function () {
                            var t = new cc.EaseBackIn();
                            return t.initWithAction(this._inner.clone()), t;
                        },
                    })),
                    (cc._easeBackInObj = {
                        easing: function (t) {
                            return 0 === t || 1 === t ? t : t * t * (2.70158 * t - 1.70158);
                        },
                        reverse: function () {
                            return cc._easeBackOutObj;
                        },
                    }),
                    (cc.easeBackIn = function () {
                        return cc._easeBackInObj;
                    }),
                    (cc.EaseBackOut = cc.ActionEase.extend({
                        update: function (t) {
                            (t -= 1), this._inner.update(t * t * (2.70158 * t + 1.70158) + 1);
                        },
                        reverse: function () {
                            return new cc.EaseBackIn(this._inner.reverse());
                        },
                        clone: function () {
                            var t = new cc.EaseBackOut();
                            return t.initWithAction(this._inner.clone()), t;
                        },
                    })),
                    (cc._easeBackOutObj = {
                        easing: function (t) {
                            return (t -= 1) * t * (2.70158 * t + 1.70158) + 1;
                        },
                        reverse: function () {
                            return cc._easeBackInObj;
                        },
                    }),
                    (cc.easeBackOut = function () {
                        return cc._easeBackOutObj;
                    }),
                    (cc.EaseBackInOut = cc.ActionEase.extend({
                        update: function (t) {
                            (t *= 2) < 1
                                ? this._inner.update((t * t * (3.5949095 * t - 2.5949095)) / 2)
                                : ((t -= 2), this._inner.update((t * t * (3.5949095 * t + 2.5949095)) / 2 + 1));
                        },
                        clone: function () {
                            var t = new cc.EaseBackInOut();
                            return t.initWithAction(this._inner.clone()), t;
                        },
                        reverse: function () {
                            return new cc.EaseBackInOut(this._inner.reverse());
                        },
                    })),
                    (cc._easeBackInOutObj = {
                        easing: function (t) {
                            return (t *= 2) < 1
                                ? (t * t * (3.5949095 * t - 2.5949095)) / 2
                                : ((t -= 2) * t * (3.5949095 * t + 2.5949095)) / 2 + 1;
                        },
                        reverse: function () {
                            return cc._easeBackInOutObj;
                        },
                    }),
                    (cc.easeBackInOut = function () {
                        return cc._easeBackInOutObj;
                    }),
                    (cc.EaseBezierAction = cc.ActionEase.extend({
                        _p0: null,
                        _p1: null,
                        _p2: null,
                        _p3: null,
                        ctor: function (t) {
                            cc.ActionEase.prototype.ctor.call(this, t);
                        },
                        _updateTime: function (t, e, i, n, r) {
                            return (
                                Math.pow(1 - r, 3) * t +
                                3 * r * Math.pow(1 - r, 2) * e +
                                3 * Math.pow(r, 2) * (1 - r) * i +
                                Math.pow(r, 3) * n
                            );
                        },
                        update: function (t) {
                            var e = this._updateTime(this._p0, this._p1, this._p2, this._p3, t);
                            this._inner.update(e);
                        },
                        clone: function () {
                            var t = new cc.EaseBezierAction();
                            return (
                                t.initWithAction(this._inner.clone()),
                                t.setBezierParamer(this._p0, this._p1, this._p2, this._p3),
                                t
                            );
                        },
                        reverse: function () {
                            var t = new cc.EaseBezierAction(this._inner.reverse());
                            return t.setBezierParamer(this._p3, this._p2, this._p1, this._p0), t;
                        },
                        setBezierParamer: function (t, e, i, n) {
                            (this._p0 = t || 0), (this._p1 = e || 0), (this._p2 = i || 0), (this._p3 = n || 0);
                        },
                    })),
                    (cc.easeBezierAction = function (t, e, i, n) {
                        return {
                            easing: function (r) {
                                return cc.EaseBezierAction.prototype._updateTime(t, e, i, n, r);
                            },
                            reverse: function () {
                                return cc.easeBezierAction(n, i, e, t);
                            },
                        };
                    }),
                    (cc.EaseQuadraticActionIn = cc.ActionEase.extend({
                        _updateTime: function (t) {
                            return Math.pow(t, 2);
                        },
                        update: function (t) {
                            this._inner.update(this._updateTime(t));
                        },
                        clone: function () {
                            var t = new cc.EaseQuadraticActionIn();
                            return t.initWithAction(this._inner.clone()), t;
                        },
                        reverse: function () {
                            return new cc.EaseQuadraticActionIn(this._inner.reverse());
                        },
                    })),
                    (cc._easeQuadraticActionIn = {
                        easing: cc.EaseQuadraticActionIn.prototype._updateTime,
                        reverse: function () {
                            return cc._easeQuadraticActionIn;
                        },
                    }),
                    (cc.easeQuadraticActionIn = function () {
                        return cc._easeQuadraticActionIn;
                    }),
                    (cc.EaseQuadraticActionOut = cc.ActionEase.extend({
                        _updateTime: function (t) {
                            return -t * (t - 2);
                        },
                        update: function (t) {
                            this._inner.update(this._updateTime(t));
                        },
                        clone: function () {
                            var t = new cc.EaseQuadraticActionOut();
                            return t.initWithAction(), t;
                        },
                        reverse: function () {
                            return new cc.EaseQuadraticActionOut(this._inner.reverse());
                        },
                    })),
                    (cc._easeQuadraticActionOut = {
                        easing: cc.EaseQuadraticActionOut.prototype._updateTime,
                        reverse: function () {
                            return cc._easeQuadraticActionOut;
                        },
                    }),
                    (cc.easeQuadraticActionOut = function () {
                        return cc._easeQuadraticActionOut;
                    }),
                    (cc.EaseQuadraticActionInOut = cc.ActionEase.extend({
                        _updateTime: function (t) {
                            return (t *= 2), t < 1 ? t * t * 0.5 : -0.5 * (--t * (t - 2) - 1);
                        },
                        update: function (t) {
                            this._inner.update(this._updateTime(t));
                        },
                        clone: function () {
                            var t = new cc.EaseQuadraticActionInOut();
                            return t.initWithAction(this._inner.clone()), t;
                        },
                        reverse: function () {
                            return new cc.EaseQuadraticActionInOut(this._inner.reverse());
                        },
                    })),
                    (cc._easeQuadraticActionInOut = {
                        easing: cc.EaseQuadraticActionInOut.prototype._updateTime,
                        reverse: function () {
                            return cc._easeQuadraticActionInOut;
                        },
                    }),
                    (cc.easeQuadraticActionInOut = function () {
                        return cc._easeQuadraticActionInOut;
                    }),
                    (cc.EaseQuarticActionIn = cc.ActionEase.extend({
                        _updateTime: function (t) {
                            return t * t * t * t;
                        },
                        update: function (t) {
                            this._inner.update(this._updateTime(t));
                        },
                        clone: function () {
                            var t = new cc.EaseQuarticActionIn();
                            return t.initWithAction(this._inner.clone()), t;
                        },
                        reverse: function () {
                            return new cc.EaseQuarticActionIn(this._inner.reverse());
                        },
                    })),
                    (cc._easeQuarticActionIn = {
                        easing: cc.EaseQuarticActionIn.prototype._updateTime,
                        reverse: function () {
                            return cc._easeQuarticActionIn;
                        },
                    }),
                    (cc.easeQuarticActionIn = function () {
                        return cc._easeQuarticActionIn;
                    }),
                    (cc.EaseQuarticActionOut = cc.ActionEase.extend({
                        _updateTime: function (t) {
                            return -((t -= 1) * t * t * t - 1);
                        },
                        update: function (t) {
                            this._inner.update(this._updateTime(t));
                        },
                        clone: function () {
                            var t = new cc.EaseQuarticActionOut();
                            return t.initWithAction(this._inner.clone()), t;
                        },
                        reverse: function () {
                            return new cc.EaseQuarticActionOut(this._inner.reverse());
                        },
                    })),
                    (cc._easeQuarticActionOut = {
                        easing: cc.EaseQuarticActionOut.prototype._updateTime,
                        reverse: function () {
                            return cc._easeQuarticActionOut;
                        },
                    }),
                    (cc.easeQuarticActionOut = function () {
                        return cc._easeQuarticActionOut;
                    }),
                    (cc.EaseQuarticActionInOut = cc.ActionEase.extend({
                        _updateTime: function (t) {
                            return (t *= 2) < 1 ? 0.5 * t * t * t * t : -0.5 * ((t -= 2) * t * t * t - 2);
                        },
                        update: function (t) {
                            this._inner.update(this._updateTime(t));
                        },
                        clone: function () {
                            var t = new cc.EaseQuarticActionInOut();
                            return t.initWithAction(this._inner.clone()), t;
                        },
                        reverse: function () {
                            return new cc.EaseQuarticActionInOut(this._inner.reverse());
                        },
                    })),
                    (cc._easeQuarticActionInOut = {
                        easing: cc.EaseQuarticActionInOut.prototype._updateTime,
                        reverse: function () {
                            return cc._easeQuarticActionInOut;
                        },
                    }),
                    (cc.easeQuarticActionInOut = function () {
                        return cc._easeQuarticActionInOut;
                    }),
                    (cc.EaseQuinticActionIn = cc.ActionEase.extend({
                        _updateTime: function (t) {
                            return t * t * t * t * t;
                        },
                        update: function (t) {
                            this._inner.update(this._updateTime(t));
                        },
                        clone: function () {
                            var t = new cc.EaseQuinticActionIn();
                            return t.initWithAction(this._inner.clone()), t;
                        },
                        reverse: function () {
                            return new cc.EaseQuinticActionIn(this._inner.reverse());
                        },
                    })),
                    (cc._easeQuinticActionIn = {
                        easing: cc.EaseQuinticActionIn.prototype._updateTime,
                        reverse: function () {
                            return cc._easeQuinticActionIn;
                        },
                    }),
                    (cc.easeQuinticActionIn = function () {
                        return cc._easeQuinticActionIn;
                    }),
                    (cc.EaseQuinticActionOut = cc.ActionEase.extend({
                        _updateTime: function (t) {
                            return (t -= 1) * t * t * t * t + 1;
                        },
                        update: function (t) {
                            this._inner.update(this._updateTime(t));
                        },
                        clone: function () {
                            var t = new cc.EaseQuinticActionOut();
                            return t.initWithAction(this._inner.clone()), t;
                        },
                        reverse: function () {
                            return new cc.EaseQuinticActionOut(this._inner.reverse());
                        },
                    })),
                    (cc._easeQuinticActionOut = {
                        easing: cc.EaseQuinticActionOut.prototype._updateTime,
                        reverse: function () {
                            return cc._easeQuinticActionOut;
                        },
                    }),
                    (cc.easeQuinticActionOut = function () {
                        return cc._easeQuinticActionOut;
                    }),
                    (cc.EaseQuinticActionInOut = cc.ActionEase.extend({
                        _updateTime: function (t) {
                            return (t *= 2) < 1 ? 0.5 * t * t * t * t * t : 0.5 * ((t -= 2) * t * t * t * t + 2);
                        },
                        update: function (t) {
                            this._inner.update(this._updateTime(t));
                        },
                        clone: function () {
                            var t = new cc.EaseQuinticActionInOut();
                            return t.initWithAction(this._inner.clone()), t;
                        },
                        reverse: function () {
                            return new cc.EaseQuinticActionInOut(this._inner.reverse());
                        },
                    })),
                    (cc._easeQuinticActionInOut = {
                        easing: cc.EaseQuinticActionInOut.prototype._updateTime,
                        reverse: function () {
                            return cc._easeQuinticActionInOut;
                        },
                    }),
                    (cc.easeQuinticActionInOut = function () {
                        return cc._easeQuinticActionInOut;
                    }),
                    (cc.EaseCircleActionIn = cc.ActionEase.extend({
                        _updateTime: function (t) {
                            return -1 * (Math.sqrt(1 - t * t) - 1);
                        },
                        update: function (t) {
                            this._inner.update(this._updateTime(t));
                        },
                        clone: function () {
                            var t = new cc.EaseCircleActionIn();
                            return t.initWithAction(this._inner.clone()), t;
                        },
                        reverse: function () {
                            return new cc.EaseCircleActionIn(this._inner.reverse());
                        },
                    })),
                    (cc._easeCircleActionIn = {
                        easing: cc.EaseCircleActionIn.prototype._updateTime,
                        reverse: function () {
                            return cc._easeCircleActionIn;
                        },
                    }),
                    (cc.easeCircleActionIn = function () {
                        return cc._easeCircleActionIn;
                    }),
                    (cc.EaseCircleActionOut = cc.ActionEase.extend({
                        _updateTime: function (t) {
                            return (t -= 1), Math.sqrt(1 - t * t);
                        },
                        update: function (t) {
                            this._inner.update(this._updateTime(t));
                        },
                        clone: function () {
                            var t = new cc.EaseCircleActionOut();
                            return t.initWithAction(this._inner.clone()), t;
                        },
                        reverse: function () {
                            return new cc.EaseCircleActionOut(this._inner.reverse());
                        },
                    })),
                    (cc._easeCircleActionOut = {
                        easing: cc.EaseCircleActionOut.prototype._updateTime,
                        reverse: function () {
                            return cc._easeCircleActionOut;
                        },
                    }),
                    (cc.easeCircleActionOut = function () {
                        return cc._easeCircleActionOut;
                    }),
                    (cc.EaseCircleActionInOut = cc.ActionEase.extend({
                        _updateTime: function (t) {
                            return (t *= 2) < 1
                                ? -0.5 * (Math.sqrt(1 - t * t) - 1)
                                : ((t -= 2), 0.5 * (Math.sqrt(1 - t * t) + 1));
                        },
                        update: function (t) {
                            this._inner.update(this._updateTime(t));
                        },
                        clone: function () {
                            var t = new cc.EaseCircleActionInOut();
                            return t.initWithAction(this._inner.clone()), t;
                        },
                        reverse: function () {
                            return new cc.EaseCircleActionInOut(this._inner.reverse());
                        },
                    })),
                    (cc._easeCircleActionInOut = {
                        easing: cc.EaseCircleActionInOut.prototype._updateTime,
                        reverse: function () {
                            return cc._easeCircleActionInOut;
                        },
                    }),
                    (cc.easeCircleActionInOut = function () {
                        return cc._easeCircleActionInOut;
                    }),
                    (cc.EaseCubicActionIn = cc.ActionEase.extend({
                        _updateTime: function (t) {
                            return t * t * t;
                        },
                        update: function (t) {
                            this._inner.update(this._updateTime(t));
                        },
                        clone: function () {
                            var t = new cc.EaseCubicActionIn();
                            return t.initWithAction(this._inner.clone()), t;
                        },
                        reverse: function () {
                            return new cc.EaseCubicActionIn(this._inner.reverse());
                        },
                    })),
                    (cc._easeCubicActionIn = {
                        easing: cc.EaseCubicActionIn.prototype._updateTime,
                        reverse: function () {
                            return cc._easeCubicActionIn;
                        },
                    }),
                    (cc.easeCubicActionIn = function () {
                        return cc._easeCubicActionIn;
                    }),
                    (cc.EaseCubicActionOut = cc.ActionEase.extend({
                        _updateTime: function (t) {
                            return (t -= 1) * t * t + 1;
                        },
                        update: function (t) {
                            this._inner.update(this._updateTime(t));
                        },
                        clone: function () {
                            var t = new cc.EaseCubicActionOut();
                            return t.initWithAction(this._inner.clone()), t;
                        },
                        reverse: function () {
                            return new cc.EaseCubicActionOut(this._inner.reverse());
                        },
                    })),
                    (cc._easeCubicActionOut = {
                        easing: cc.EaseCubicActionOut.prototype._updateTime,
                        reverse: function () {
                            return cc._easeCubicActionOut;
                        },
                    }),
                    (cc.easeCubicActionOut = function () {
                        return cc._easeCubicActionOut;
                    }),
                    (cc.EaseCubicActionInOut = cc.ActionEase.extend({
                        _updateTime: function (t) {
                            return (t *= 2) < 1 ? 0.5 * t * t * t : 0.5 * ((t -= 2) * t * t + 2);
                        },
                        update: function (t) {
                            this._inner.update(this._updateTime(t));
                        },
                        clone: function () {
                            var t = new cc.EaseCubicActionInOut();
                            return t.initWithAction(this._inner.clone()), t;
                        },
                        reverse: function () {
                            return new cc.EaseCubicActionInOut(this._inner.reverse());
                        },
                    })),
                    (cc._easeCubicActionInOut = {
                        easing: cc.EaseCubicActionInOut.prototype._updateTime,
                        reverse: function () {
                            return cc._easeCubicActionInOut;
                        },
                    }),
                    (cc.easeCubicActionInOut = function () {
                        return cc._easeCubicActionInOut;
                    });
            },
            {},
        ],
        7: [
            function (t, e, i) {
                (cc.ActionInstant = cc.FiniteTimeAction.extend({
                    isDone: function () {
                        return !0;
                    },
                    step: function (t) {
                        this.update(1);
                    },
                    update: function (t) {},
                    reverse: function () {
                        return this.clone();
                    },
                    clone: function () {
                        return new cc.ActionInstant();
                    },
                })),
                    (cc.Show = cc.ActionInstant.extend({
                        update: function (t) {
                            for (
                                var e = this.target.getComponentsInChildren(cc._SGComponent), i = 0;
                                i < e.length;
                                ++i
                            ) {
                                e[i].enabled = !0;
                            }
                        },
                        reverse: function () {
                            return new cc.Hide();
                        },
                        clone: function () {
                            return new cc.Show();
                        },
                    })),
                    (cc.show = function () {
                        return new cc.Show();
                    }),
                    (cc.Hide = cc.ActionInstant.extend({
                        update: function (t) {
                            for (
                                var e = this.target.getComponentsInChildren(cc._SGComponent), i = 0;
                                i < e.length;
                                ++i
                            ) {
                                e[i].enabled = !1;
                            }
                        },
                        reverse: function () {
                            return new cc.Show();
                        },
                        clone: function () {
                            return new cc.Hide();
                        },
                    })),
                    (cc.hide = function () {
                        return new cc.Hide();
                    }),
                    (cc.ToggleVisibility = cc.ActionInstant.extend({
                        update: function (t) {
                            for (
                                var e = this.target.getComponentsInChildren(cc._SGComponent), i = 0;
                                i < e.length;
                                ++i
                            ) {
                                var n = e[i];
                                n.enabled = !n.enabled;
                            }
                        },
                        reverse: function () {
                            return new cc.ToggleVisibility();
                        },
                        clone: function () {
                            return new cc.ToggleVisibility();
                        },
                    })),
                    (cc.toggleVisibility = function () {
                        return new cc.ToggleVisibility();
                    }),
                    (cc.RemoveSelf = cc.ActionInstant.extend({
                        _isNeedCleanUp: !0,
                        ctor: function (t) {
                            cc.FiniteTimeAction.prototype.ctor.call(this), void 0 !== t && this.init(t);
                        },
                        update: function (t) {
                            this.target.removeFromParent(this._isNeedCleanUp);
                        },
                        init: function (t) {
                            return (this._isNeedCleanUp = t), !0;
                        },
                        reverse: function () {
                            return new cc.RemoveSelf(this._isNeedCleanUp);
                        },
                        clone: function () {
                            return new cc.RemoveSelf(this._isNeedCleanUp);
                        },
                    })),
                    (cc.removeSelf = function (t) {
                        return new cc.RemoveSelf(t);
                    }),
                    (cc.FlipX = cc.ActionInstant.extend({
                        _flippedX: !1,
                        ctor: function (t) {
                            cc.FiniteTimeAction.prototype.ctor.call(this),
                                (this._flippedX = !1),
                                void 0 !== t && this.initWithFlipX(t);
                        },
                        initWithFlipX: function (t) {
                            return (this._flippedX = t), !0;
                        },
                        update: function (t) {
                            this.target.scaleX = Math.abs(this.target.scaleX) * (this._flippedX ? -1 : 1);
                        },
                        reverse: function () {
                            return new cc.FlipX(!this._flippedX);
                        },
                        clone: function () {
                            var t = new cc.FlipX();
                            return t.initWithFlipX(this._flippedX), t;
                        },
                    })),
                    (cc.flipX = function (t) {
                        return new cc.FlipX(t);
                    }),
                    (cc.FlipY = cc.ActionInstant.extend({
                        _flippedY: !1,
                        ctor: function (t) {
                            cc.FiniteTimeAction.prototype.ctor.call(this),
                                (this._flippedY = !1),
                                void 0 !== t && this.initWithFlipY(t);
                        },
                        initWithFlipY: function (t) {
                            return (this._flippedY = t), !0;
                        },
                        update: function (t) {
                            this.target.scaleY = Math.abs(this.target.scaleY) * (this._flippedY ? -1 : 1);
                        },
                        reverse: function () {
                            return new cc.FlipY(!this._flippedY);
                        },
                        clone: function () {
                            var t = new cc.FlipY();
                            return t.initWithFlipY(this._flippedY), t;
                        },
                    })),
                    (cc.flipY = function (t) {
                        return new cc.FlipY(t);
                    }),
                    (cc.Place = cc.ActionInstant.extend({
                        _x: 0,
                        _y: 0,
                        ctor: function (t, e) {
                            cc.FiniteTimeAction.prototype.ctor.call(this),
                                (this._x = 0),
                                (this._y = 0),
                                void 0 !== t && (void 0 !== t.x && ((e = t.y), (t = t.x)), this.initWithPosition(t, e));
                        },
                        initWithPosition: function (t, e) {
                            return (this._x = t), (this._y = e), !0;
                        },
                        update: function (t) {
                            this.target.setPosition(this._x, this._y);
                        },
                        clone: function () {
                            var t = new cc.Place();
                            return t.initWithPosition(this._x, this._y), t;
                        },
                    })),
                    (cc.place = function (t, e) {
                        return new cc.Place(t, e);
                    }),
                    (cc.CallFunc = cc.ActionInstant.extend({
                        _selectorTarget: null,
                        _function: null,
                        _data: null,
                        ctor: function (t, e, i) {
                            cc.FiniteTimeAction.prototype.ctor.call(this), this.initWithFunction(t, e, i);
                        },
                        initWithFunction: function (t, e, i) {
                            return (
                                t && (this._function = t),
                                e && (this._selectorTarget = e),
                                void 0 !== i && (this._data = i),
                                !0
                            );
                        },
                        execute: function () {
                            this._function && this._function.call(this._selectorTarget, this.target, this._data);
                        },
                        update: function (t) {
                            this.execute();
                        },
                        getTargetCallback: function () {
                            return this._selectorTarget;
                        },
                        setTargetCallback: function (t) {
                            t !== this._selectorTarget &&
                                (this._selectorTarget && (this._selectorTarget = null), (this._selectorTarget = t));
                        },
                        clone: function () {
                            var t = new cc.CallFunc();
                            return t.initWithFunction(this._function, this._selectorTarget, this._data), t;
                        },
                    })),
                    (cc.callFunc = function (t, e, i) {
                        return new cc.CallFunc(t, e, i);
                    });
            },
            {},
        ],
        8: [
            function (t, e, i) {
                (cc.ActionInterval = cc.FiniteTimeAction.extend({
                    _elapsed: 0,
                    _firstTick: !1,
                    _easeList: null,
                    _timesForRepeat: 1,
                    _repeatForever: !1,
                    _repeatMethod: !1,
                    _speed: 1,
                    _speedMethod: !1,
                    ctor: function (t) {
                        (this._speed = 1),
                            (this._timesForRepeat = 1),
                            (this._repeatForever = !1),
                            (this.MAX_VALUE = 2),
                            (this._repeatMethod = !1),
                            (this._speedMethod = !1),
                            cc.FiniteTimeAction.prototype.ctor.call(this),
                            void 0 !== t && this.initWithDuration(t);
                    },
                    getElapsed: function () {
                        return this._elapsed;
                    },
                    initWithDuration: function (t) {
                        return (
                            (this._duration = 0 === t ? cc.macro.FLT_EPSILON : t),
                            (this._elapsed = 0),
                            (this._firstTick = !0),
                            !0
                        );
                    },
                    isDone: function () {
                        return this._elapsed >= this._duration;
                    },
                    _cloneDecoration: function (t) {
                        (t._repeatForever = this._repeatForever),
                            (t._speed = this._speed),
                            (t._timesForRepeat = this._timesForRepeat),
                            (t._easeList = this._easeList),
                            (t._speedMethod = this._speedMethod),
                            (t._repeatMethod = this._repeatMethod);
                    },
                    _reverseEaseList: function (t) {
                        if (this._easeList) {
                            t._easeList = [];
                            for (var e = 0; e < this._easeList.length; e++)
                                t._easeList.push(this._easeList[e].reverse());
                        }
                    },
                    clone: function () {
                        var t = new cc.ActionInterval(this._duration);
                        return this._cloneDecoration(t), t;
                    },
                    easing: function (t) {
                        this._easeList ? (this._easeList.length = 0) : (this._easeList = []);
                        for (var e = 0; e < arguments.length; e++) this._easeList.push(arguments[e]);
                        return this;
                    },
                    _computeEaseTime: function (t) {
                        var e = this._easeList;
                        if (!e || 0 === e.length) return t;
                        for (var i = 0, n = e.length; i < n; i++) t = e[i].easing(t);
                        return t;
                    },
                    step: function (t) {
                        this._firstTick ? ((this._firstTick = !1), (this._elapsed = 0)) : (this._elapsed += t);
                        var e = this._elapsed / (this._duration > 1.192092896e-7 ? this._duration : 1.192092896e-7);
                        (e = 1 > e ? e : 1),
                            this.update(e > 0 ? e : 0),
                            this._repeatMethod &&
                                this._timesForRepeat > 1 &&
                                this.isDone() &&
                                (this._repeatForever || this._timesForRepeat--,
                                this.startWithTarget(this.target),
                                this.step(this._elapsed - this._duration));
                    },
                    startWithTarget: function (t) {
                        cc.Action.prototype.startWithTarget.call(this, t), (this._elapsed = 0), (this._firstTick = !0);
                    },
                    reverse: function () {
                        return cc.logID(1010), null;
                    },
                    setAmplitudeRate: function (t) {
                        cc.logID(1011);
                    },
                    getAmplitudeRate: function () {
                        return cc.logID(1012), 0;
                    },
                    speed: function (t) {
                        return t <= 0 ? (cc.logID(1013), this) : ((this._speedMethod = !0), (this._speed *= t), this);
                    },
                    getSpeed: function () {
                        return this._speed;
                    },
                    setSpeed: function (t) {
                        return (this._speed = t), this;
                    },
                    repeat: function (t) {
                        return (
                            (t = Math.round(t)),
                            isNaN(t) || t < 1
                                ? (cc.logID(1014), this)
                                : ((this._repeatMethod = !0), (this._timesForRepeat *= t), this)
                        );
                    },
                    repeatForever: function () {
                        return (
                            (this._repeatMethod = !0),
                            (this._timesForRepeat = this.MAX_VALUE),
                            (this._repeatForever = !0),
                            this
                        );
                    },
                })),
                    (cc.actionInterval = function (t) {
                        return new cc.ActionInterval(t);
                    }),
                    (cc.Sequence = cc.ActionInterval.extend({
                        _actions: null,
                        _split: null,
                        _last: 0,
                        _reversed: !1,
                        ctor: function (t) {
                            cc.ActionInterval.prototype.ctor.call(this), (this._actions = []);
                            var e = t instanceof Array ? t : arguments;
                            if (1 !== e.length) {
                                var i = e.length - 1;
                                if ((i >= 0 && null == e[i] && cc.logID(1015), i >= 0)) {
                                    for (var n, r = e[0], s = 1; s < i; s++)
                                        e[s] && ((n = r), (r = cc.Sequence._actionOneTwo(n, e[s])));
                                    this.initWithTwoActions(r, e[i]);
                                }
                            } else cc.errorID(1019);
                        },
                        initWithTwoActions: function (t, e) {
                            if (!t || !e)
                                throw new Error('cc.Sequence.initWithTwoActions(): arguments must all be non nil');
                            var i = t._duration,
                                n = e._duration,
                                r =
                                    (i *= t._repeatMethod ? t._timesForRepeat : 1) +
                                    (n *= e._repeatMethod ? e._timesForRepeat : 1);
                            return this.initWithDuration(r), (this._actions[0] = t), (this._actions[1] = e), !0;
                        },
                        clone: function () {
                            var t = new cc.Sequence();
                            return (
                                this._cloneDecoration(t),
                                t.initWithTwoActions(this._actions[0].clone(), this._actions[1].clone()),
                                t
                            );
                        },
                        startWithTarget: function (t) {
                            cc.ActionInterval.prototype.startWithTarget.call(this, t),
                                (this._split = this._actions[0]._duration / this._duration),
                                (this._split *= this._actions[0]._repeatMethod ? this._actions[0]._timesForRepeat : 1),
                                (this._last = -1);
                        },
                        stop: function () {
                            -1 !== this._last && this._actions[this._last].stop(), cc.Action.prototype.stop.call(this);
                        },
                        update: function (t) {
                            var e,
                                i,
                                n = 0,
                                r = this._split,
                                s = this._actions,
                                o = this._last;
                            (t = this._computeEaseTime(t)) < r
                                ? ((e = 0 !== r ? t / r : 1),
                                  0 === n && 1 === o && this._reversed && (s[1].update(0), s[1].stop()))
                                : ((n = 1),
                                  (e = 1 === r ? 1 : (t - r) / (1 - r)),
                                  -1 === o && (s[0].startWithTarget(this.target), s[0].update(1), s[0].stop()),
                                  0 === o && (s[0].update(1), s[0].stop())),
                                (i = s[n]),
                                (o === n && i.isDone()) ||
                                    (o !== n && i.startWithTarget(this.target),
                                    (e *= i._timesForRepeat),
                                    i.update(e > 1 ? e % 1 : e),
                                    (this._last = n));
                        },
                        reverse: function () {
                            var t = cc.Sequence._actionOneTwo(this._actions[1].reverse(), this._actions[0].reverse());
                            return this._cloneDecoration(t), this._reverseEaseList(t), (t._reversed = !0), t;
                        },
                    })),
                    (cc.sequence = function (t) {
                        var e = t instanceof Array ? t : arguments;
                        if (1 === e.length) return cc.errorID(1019), null;
                        var i = e.length - 1;
                        i >= 0 && null == e[i] && cc.logID(1015);
                        var n = null;
                        if (i >= 0) {
                            n = e[0];
                            for (var r = 1; r <= i; r++) e[r] && (n = cc.Sequence._actionOneTwo(n, e[r]));
                        }
                        return n;
                    }),
                    (cc.Sequence._actionOneTwo = function (t, e) {
                        var i = new cc.Sequence();
                        return i.initWithTwoActions(t, e), i;
                    }),
                    (cc.Repeat = cc.ActionInterval.extend({
                        _times: 0,
                        _total: 0,
                        _nextDt: 0,
                        _actionInstant: !1,
                        _innerAction: null,
                        ctor: function (t, e) {
                            cc.ActionInterval.prototype.ctor.call(this), void 0 !== e && this.initWithAction(t, e);
                        },
                        initWithAction: function (t, e) {
                            var i = t._duration * e;
                            return (
                                !!this.initWithDuration(i) &&
                                ((this._times = e),
                                (this._innerAction = t),
                                t instanceof cc.ActionInstant && ((this._actionInstant = !0), (this._times -= 1)),
                                (this._total = 0),
                                !0)
                            );
                        },
                        clone: function () {
                            var t = new cc.Repeat();
                            return (
                                this._cloneDecoration(t), t.initWithAction(this._innerAction.clone(), this._times), t
                            );
                        },
                        startWithTarget: function (t) {
                            (this._total = 0),
                                (this._nextDt = this._innerAction._duration / this._duration),
                                cc.ActionInterval.prototype.startWithTarget.call(this, t),
                                this._innerAction.startWithTarget(t);
                        },
                        stop: function () {
                            this._innerAction.stop(), cc.Action.prototype.stop.call(this);
                        },
                        update: function (t) {
                            t = this._computeEaseTime(t);
                            var e = this._innerAction,
                                i = this._duration,
                                n = this._times,
                                r = this._nextDt;
                            if (t >= r) {
                                for (; t > r && this._total < n; )
                                    e.update(1),
                                        this._total++,
                                        e.stop(),
                                        e.startWithTarget(this.target),
                                        (r += e._duration / i),
                                        (this._nextDt = r);
                                t >= 1 && this._total < n && (e.update(1), this._total++),
                                    this._actionInstant ||
                                        (this._total === n ? e.stop() : e.update(t - (r - e._duration / i)));
                            } else e.update((t * n) % 1);
                        },
                        isDone: function () {
                            return this._total === this._times;
                        },
                        reverse: function () {
                            var t = new cc.Repeat(this._innerAction.reverse(), this._times);
                            return this._cloneDecoration(t), this._reverseEaseList(t), t;
                        },
                        setInnerAction: function (t) {
                            this._innerAction !== t && (this._innerAction = t);
                        },
                        getInnerAction: function () {
                            return this._innerAction;
                        },
                    })),
                    (cc.repeat = function (t, e) {
                        return new cc.Repeat(t, e);
                    }),
                    (cc.RepeatForever = cc.ActionInterval.extend({
                        _innerAction: null,
                        ctor: function (t) {
                            cc.ActionInterval.prototype.ctor.call(this),
                                (this._innerAction = null),
                                t && this.initWithAction(t);
                        },
                        initWithAction: function (t) {
                            if (!t) throw new Error('cc.RepeatForever.initWithAction(): action must be non null');
                            return (this._innerAction = t), !0;
                        },
                        clone: function () {
                            var t = new cc.RepeatForever();
                            return this._cloneDecoration(t), t.initWithAction(this._innerAction.clone()), t;
                        },
                        startWithTarget: function (t) {
                            cc.ActionInterval.prototype.startWithTarget.call(this, t),
                                this._innerAction.startWithTarget(t);
                        },
                        step: function (t) {
                            var e = this._innerAction;
                            e.step(t),
                                e.isDone() && (e.startWithTarget(this.target), e.step(e.getElapsed() - e._duration));
                        },
                        isDone: function () {
                            return !1;
                        },
                        reverse: function () {
                            var t = new cc.RepeatForever(this._innerAction.reverse());
                            return this._cloneDecoration(t), this._reverseEaseList(t), t;
                        },
                        setInnerAction: function (t) {
                            this._innerAction !== t && (this._innerAction = t);
                        },
                        getInnerAction: function () {
                            return this._innerAction;
                        },
                    })),
                    (cc.repeatForever = function (t) {
                        return new cc.RepeatForever(t);
                    }),
                    (cc.Spawn = cc.ActionInterval.extend({
                        _one: null,
                        _two: null,
                        ctor: function (t) {
                            cc.ActionInterval.prototype.ctor.call(this), (this._one = null), (this._two = null);
                            var e = t instanceof Array ? t : arguments;
                            if (1 !== e.length) {
                                var i = e.length - 1;
                                if ((i >= 0 && null == e[i] && cc.logID(1015), i >= 0)) {
                                    for (var n, r = e[0], s = 1; s < i; s++)
                                        e[s] && ((n = r), (r = cc.Spawn._actionOneTwo(n, e[s])));
                                    this.initWithTwoActions(r, e[i]);
                                }
                            } else cc.errorID(1020);
                        },
                        initWithTwoActions: function (t, e) {
                            if (!t || !e)
                                throw new Error('cc.Spawn.initWithTwoActions(): arguments must all be non null');
                            var i = !1,
                                n = t._duration,
                                r = e._duration;
                            return (
                                this.initWithDuration(Math.max(n, r)) &&
                                    ((this._one = t),
                                    (this._two = e),
                                    n > r
                                        ? (this._two = cc.Sequence._actionOneTwo(e, cc.delayTime(n - r)))
                                        : n < r && (this._one = cc.Sequence._actionOneTwo(t, cc.delayTime(r - n))),
                                    (i = !0)),
                                i
                            );
                        },
                        clone: function () {
                            var t = new cc.Spawn();
                            return (
                                this._cloneDecoration(t), t.initWithTwoActions(this._one.clone(), this._two.clone()), t
                            );
                        },
                        startWithTarget: function (t) {
                            cc.ActionInterval.prototype.startWithTarget.call(this, t),
                                this._one.startWithTarget(t),
                                this._two.startWithTarget(t);
                        },
                        stop: function () {
                            this._one.stop(), this._two.stop(), cc.Action.prototype.stop.call(this);
                        },
                        update: function (t) {
                            (t = this._computeEaseTime(t)),
                                this._one && this._one.update(t),
                                this._two && this._two.update(t);
                        },
                        reverse: function () {
                            var t = cc.Spawn._actionOneTwo(this._one.reverse(), this._two.reverse());
                            return this._cloneDecoration(t), this._reverseEaseList(t), t;
                        },
                    })),
                    (cc.spawn = function (t) {
                        var e = t instanceof Array ? t : arguments;
                        if (1 === e.length) return cc.errorID(1020), null;
                        e.length > 0 && null == e[e.length - 1] && cc.logID(1015);
                        for (var i = e[0], n = 1; n < e.length; n++)
                            null != e[n] && (i = cc.Spawn._actionOneTwo(i, e[n]));
                        return i;
                    }),
                    (cc.Spawn._actionOneTwo = function (t, e) {
                        var i = new cc.Spawn();
                        return i.initWithTwoActions(t, e), i;
                    }),
                    (cc.RotateTo = cc.ActionInterval.extend({
                        _dstAngleX: 0,
                        _startAngleX: 0,
                        _diffAngleX: 0,
                        _dstAngleY: 0,
                        _startAngleY: 0,
                        _diffAngleY: 0,
                        ctor: function (t, e, i) {
                            cc.ActionInterval.prototype.ctor.call(this), void 0 !== e && this.initWithDuration(t, e, i);
                        },
                        initWithDuration: function (t, e, i) {
                            return (
                                !!cc.ActionInterval.prototype.initWithDuration.call(this, t) &&
                                ((this._dstAngleX = e || 0), (this._dstAngleY = void 0 !== i ? i : this._dstAngleX), !0)
                            );
                        },
                        clone: function () {
                            var t = new cc.RotateTo();
                            return (
                                this._cloneDecoration(t),
                                t.initWithDuration(this._duration, this._dstAngleX, this._dstAngleY),
                                t
                            );
                        },
                        startWithTarget: function (t) {
                            cc.ActionInterval.prototype.startWithTarget.call(this, t);
                            var e = t.rotationX % 360,
                                i = this._dstAngleX - e;
                            i > 180 && (i -= 360),
                                i < -180 && (i += 360),
                                (this._startAngleX = e),
                                (this._diffAngleX = i),
                                (this._startAngleY = t.rotationY % 360);
                            var n = this._dstAngleY - this._startAngleY;
                            n > 180 && (n -= 360), n < -180 && (n += 360), (this._diffAngleY = n);
                        },
                        reverse: function () {
                            cc.logID(1016);
                        },
                        update: function (t) {
                            (t = this._computeEaseTime(t)),
                                this.target &&
                                    ((this.target.rotationX = this._startAngleX + this._diffAngleX * t),
                                    (this.target.rotationY = this._startAngleY + this._diffAngleY * t));
                        },
                    })),
                    (cc.rotateTo = function (t, e, i) {
                        return new cc.RotateTo(t, e, i);
                    }),
                    (cc.RotateBy = cc.ActionInterval.extend({
                        _angleX: 0,
                        _startAngleX: 0,
                        _angleY: 0,
                        _startAngleY: 0,
                        ctor: function (t, e, i) {
                            cc.ActionInterval.prototype.ctor.call(this), void 0 !== e && this.initWithDuration(t, e, i);
                        },
                        initWithDuration: function (t, e, i) {
                            return (
                                !!cc.ActionInterval.prototype.initWithDuration.call(this, t) &&
                                ((this._angleX = e || 0), (this._angleY = void 0 !== i ? i : this._angleX), !0)
                            );
                        },
                        clone: function () {
                            var t = new cc.RotateBy();
                            return (
                                this._cloneDecoration(t),
                                t.initWithDuration(this._duration, this._angleX, this._angleY),
                                t
                            );
                        },
                        startWithTarget: function (t) {
                            cc.ActionInterval.prototype.startWithTarget.call(this, t),
                                (this._startAngleX = t.rotationX),
                                (this._startAngleY = t.rotationY);
                        },
                        update: function (t) {
                            (t = this._computeEaseTime(t)),
                                this.target &&
                                    ((this.target.rotationX = this._startAngleX + this._angleX * t),
                                    (this.target.rotationY = this._startAngleY + this._angleY * t));
                        },
                        reverse: function () {
                            var t = new cc.RotateBy(this._duration, -this._angleX, -this._angleY);
                            return this._cloneDecoration(t), this._reverseEaseList(t), t;
                        },
                    })),
                    (cc.rotateBy = function (t, e, i) {
                        return new cc.RotateBy(t, e, i);
                    }),
                    (cc.MoveBy = cc.ActionInterval.extend({
                        _positionDelta: null,
                        _startPosition: null,
                        _previousPosition: null,
                        ctor: function (t, e, i) {
                            cc.ActionInterval.prototype.ctor.call(this),
                                (this._positionDelta = cc.p(0, 0)),
                                (this._startPosition = cc.p(0, 0)),
                                (this._previousPosition = cc.p(0, 0)),
                                void 0 !== e && this.initWithDuration(t, e, i);
                        },
                        initWithDuration: function (t, e, i) {
                            return (
                                !!cc.ActionInterval.prototype.initWithDuration.call(this, t) &&
                                (void 0 !== e.x && ((i = e.y), (e = e.x)),
                                (this._positionDelta.x = e),
                                (this._positionDelta.y = i),
                                !0)
                            );
                        },
                        clone: function () {
                            var t = new cc.MoveBy();
                            return this._cloneDecoration(t), t.initWithDuration(this._duration, this._positionDelta), t;
                        },
                        startWithTarget: function (t) {
                            cc.ActionInterval.prototype.startWithTarget.call(this, t);
                            var e = t.getPositionX(),
                                i = t.getPositionY();
                            (this._previousPosition.x = e),
                                (this._previousPosition.y = i),
                                (this._startPosition.x = e),
                                (this._startPosition.y = i);
                        },
                        update: function (t) {
                            if (((t = this._computeEaseTime(t)), this.target)) {
                                var e = this._positionDelta.x * t,
                                    i = this._positionDelta.y * t,
                                    n = this._startPosition;
                                if (cc.macro.ENABLE_STACKABLE_ACTIONS) {
                                    var r = this.target.getPositionX(),
                                        s = this.target.getPositionY(),
                                        o = this._previousPosition;
                                    (n.x = n.x + r - o.x),
                                        (n.y = n.y + s - o.y),
                                        (e += n.x),
                                        (i += n.y),
                                        (o.x = e),
                                        (o.y = i),
                                        this.target.setPosition(e, i);
                                } else this.target.setPosition(n.x + e, n.y + i);
                            }
                        },
                        reverse: function () {
                            var t = new cc.MoveBy(this._duration, cc.p(-this._positionDelta.x, -this._positionDelta.y));
                            return this._cloneDecoration(t), this._reverseEaseList(t), t;
                        },
                    })),
                    (cc.moveBy = function (t, e, i) {
                        return new cc.MoveBy(t, e, i);
                    }),
                    (cc.MoveTo = cc.MoveBy.extend({
                        _endPosition: null,
                        ctor: function (t, e, i) {
                            cc.MoveBy.prototype.ctor.call(this),
                                (this._endPosition = cc.p(0, 0)),
                                void 0 !== e && this.initWithDuration(t, e, i);
                        },
                        initWithDuration: function (t, e, i) {
                            return (
                                !!cc.MoveBy.prototype.initWithDuration.call(this, t, e, i) &&
                                (void 0 !== e.x && ((i = e.y), (e = e.x)),
                                (this._endPosition.x = e),
                                (this._endPosition.y = i),
                                !0)
                            );
                        },
                        clone: function () {
                            var t = new cc.MoveTo();
                            return this._cloneDecoration(t), t.initWithDuration(this._duration, this._endPosition), t;
                        },
                        startWithTarget: function (t) {
                            cc.MoveBy.prototype.startWithTarget.call(this, t),
                                (this._positionDelta.x = this._endPosition.x - t.getPositionX()),
                                (this._positionDelta.y = this._endPosition.y - t.getPositionY());
                        },
                    })),
                    (cc.moveTo = function (t, e, i) {
                        return new cc.MoveTo(t, e, i);
                    }),
                    (cc.SkewTo = cc.ActionInterval.extend({
                        _skewX: 0,
                        _skewY: 0,
                        _startSkewX: 0,
                        _startSkewY: 0,
                        _endSkewX: 0,
                        _endSkewY: 0,
                        _deltaX: 0,
                        _deltaY: 0,
                        ctor: function (t, e, i) {
                            cc.ActionInterval.prototype.ctor.call(this), void 0 !== i && this.initWithDuration(t, e, i);
                        },
                        initWithDuration: function (t, e, i) {
                            var n = !1;
                            return (
                                cc.ActionInterval.prototype.initWithDuration.call(this, t) &&
                                    ((this._endSkewX = e), (this._endSkewY = i), (n = !0)),
                                n
                            );
                        },
                        clone: function () {
                            var t = new cc.SkewTo();
                            return (
                                this._cloneDecoration(t),
                                t.initWithDuration(this._duration, this._endSkewX, this._endSkewY),
                                t
                            );
                        },
                        startWithTarget: function (t) {
                            cc.ActionInterval.prototype.startWithTarget.call(this, t),
                                (this._startSkewX = t.skewX % 180),
                                (this._deltaX = this._endSkewX - this._startSkewX),
                                this._deltaX > 180 && (this._deltaX -= 360),
                                this._deltaX < -180 && (this._deltaX += 360),
                                (this._startSkewY = t.skewY % 360),
                                (this._deltaY = this._endSkewY - this._startSkewY),
                                this._deltaY > 180 && (this._deltaY -= 360),
                                this._deltaY < -180 && (this._deltaY += 360);
                        },
                        update: function (t) {
                            (t = this._computeEaseTime(t)),
                                (this.target.skewX = this._startSkewX + this._deltaX * t),
                                (this.target.skewY = this._startSkewY + this._deltaY * t);
                        },
                    })),
                    (cc.skewTo = function (t, e, i) {
                        return new cc.SkewTo(t, e, i);
                    }),
                    (cc.SkewBy = cc.SkewTo.extend({
                        ctor: function (t, e, i) {
                            cc.SkewTo.prototype.ctor.call(this), void 0 !== i && this.initWithDuration(t, e, i);
                        },
                        initWithDuration: function (t, e, i) {
                            var n = !1;
                            return (
                                cc.SkewTo.prototype.initWithDuration.call(this, t, e, i) &&
                                    ((this._skewX = e), (this._skewY = i), (n = !0)),
                                n
                            );
                        },
                        clone: function () {
                            var t = new cc.SkewBy();
                            return (
                                this._cloneDecoration(t),
                                t.initWithDuration(this._duration, this._skewX, this._skewY),
                                t
                            );
                        },
                        startWithTarget: function (t) {
                            cc.SkewTo.prototype.startWithTarget.call(this, t),
                                (this._deltaX = this._skewX),
                                (this._deltaY = this._skewY),
                                (this._endSkewX = this._startSkewX + this._deltaX),
                                (this._endSkewY = this._startSkewY + this._deltaY);
                        },
                        reverse: function () {
                            var t = new cc.SkewBy(this._duration, -this._skewX, -this._skewY);
                            return this._cloneDecoration(t), this._reverseEaseList(t), t;
                        },
                    })),
                    (cc.skewBy = function (t, e, i) {
                        return new cc.SkewBy(t, e, i);
                    }),
                    (cc.JumpBy = cc.ActionInterval.extend({
                        _startPosition: null,
                        _delta: null,
                        _height: 0,
                        _jumps: 0,
                        _previousPosition: null,
                        ctor: function (t, e, i, n, r) {
                            cc.ActionInterval.prototype.ctor.call(this),
                                (this._startPosition = cc.p(0, 0)),
                                (this._previousPosition = cc.p(0, 0)),
                                (this._delta = cc.p(0, 0)),
                                void 0 !== n && this.initWithDuration(t, e, i, n, r);
                        },
                        initWithDuration: function (t, e, i, n, r) {
                            return (
                                !!cc.ActionInterval.prototype.initWithDuration.call(this, t) &&
                                (void 0 === r && ((r = n), (n = i), (i = e.y), (e = e.x)),
                                (this._delta.x = e),
                                (this._delta.y = i),
                                (this._height = n),
                                (this._jumps = r),
                                !0)
                            );
                        },
                        clone: function () {
                            var t = new cc.JumpBy();
                            return (
                                this._cloneDecoration(t),
                                t.initWithDuration(this._duration, this._delta, this._height, this._jumps),
                                t
                            );
                        },
                        startWithTarget: function (t) {
                            cc.ActionInterval.prototype.startWithTarget.call(this, t);
                            var e = t.getPositionX(),
                                i = t.getPositionY();
                            (this._previousPosition.x = e),
                                (this._previousPosition.y = i),
                                (this._startPosition.x = e),
                                (this._startPosition.y = i);
                        },
                        update: function (t) {
                            if (((t = this._computeEaseTime(t)), this.target)) {
                                var e = (t * this._jumps) % 1,
                                    i = 4 * this._height * e * (1 - e);
                                i += this._delta.y * t;
                                var n = this._delta.x * t,
                                    r = this._startPosition;
                                if (cc.macro.ENABLE_STACKABLE_ACTIONS) {
                                    var s = this.target.getPositionX(),
                                        o = this.target.getPositionY(),
                                        a = this._previousPosition;
                                    (r.x = r.x + s - a.x),
                                        (r.y = r.y + o - a.y),
                                        (n += r.x),
                                        (i += r.y),
                                        (a.x = n),
                                        (a.y = i),
                                        this.target.setPosition(n, i);
                                } else this.target.setPosition(r.x + n, r.y + i);
                            }
                        },
                        reverse: function () {
                            var t = new cc.JumpBy(
                                this._duration,
                                cc.p(-this._delta.x, -this._delta.y),
                                this._height,
                                this._jumps,
                            );
                            return this._cloneDecoration(t), this._reverseEaseList(t), t;
                        },
                    })),
                    (cc.jumpBy = function (t, e, i, n, r) {
                        return new cc.JumpBy(t, e, i, n, r);
                    }),
                    (cc.JumpTo = cc.JumpBy.extend({
                        _endPosition: null,
                        ctor: function (t, e, i, n, r) {
                            cc.JumpBy.prototype.ctor.call(this),
                                (this._endPosition = cc.p(0, 0)),
                                void 0 !== n && this.initWithDuration(t, e, i, n, r);
                        },
                        initWithDuration: function (t, e, i, n, r) {
                            return (
                                !!cc.JumpBy.prototype.initWithDuration.call(this, t, e, i, n, r) &&
                                (void 0 === r && ((i = e.y), (e = e.x)),
                                (this._endPosition.x = e),
                                (this._endPosition.y = i),
                                !0)
                            );
                        },
                        startWithTarget: function (t) {
                            cc.JumpBy.prototype.startWithTarget.call(this, t),
                                (this._delta.x = this._endPosition.x - this._startPosition.x),
                                (this._delta.y = this._endPosition.y - this._startPosition.y);
                        },
                        clone: function () {
                            var t = new cc.JumpTo();
                            return (
                                this._cloneDecoration(t),
                                t.initWithDuration(this._duration, this._endPosition, this._height, this._jumps),
                                t
                            );
                        },
                    })),
                    (cc.jumpTo = function (t, e, i, n, r) {
                        return new cc.JumpTo(t, e, i, n, r);
                    }),
                    (cc.bezierAt = function (t, e, i, n, r) {
                        return (
                            Math.pow(1 - r, 3) * t +
                            3 * r * Math.pow(1 - r, 2) * e +
                            3 * Math.pow(r, 2) * (1 - r) * i +
                            Math.pow(r, 3) * n
                        );
                    }),
                    (cc.BezierBy = cc.ActionInterval.extend({
                        _config: null,
                        _startPosition: null,
                        _previousPosition: null,
                        ctor: function (t, e) {
                            cc.ActionInterval.prototype.ctor.call(this),
                                (this._config = []),
                                (this._startPosition = cc.p(0, 0)),
                                (this._previousPosition = cc.p(0, 0)),
                                e && this.initWithDuration(t, e);
                        },
                        initWithDuration: function (t, e) {
                            return (
                                !!cc.ActionInterval.prototype.initWithDuration.call(this, t) && ((this._config = e), !0)
                            );
                        },
                        clone: function () {
                            var t = new cc.BezierBy();
                            this._cloneDecoration(t);
                            for (var e = [], i = 0; i < this._config.length; i++) {
                                var n = this._config[i];
                                e.push(cc.p(n.x, n.y));
                            }
                            return t.initWithDuration(this._duration, e), t;
                        },
                        startWithTarget: function (t) {
                            cc.ActionInterval.prototype.startWithTarget.call(this, t);
                            var e = t.getPositionX(),
                                i = t.getPositionY();
                            (this._previousPosition.x = e),
                                (this._previousPosition.y = i),
                                (this._startPosition.x = e),
                                (this._startPosition.y = i);
                        },
                        update: function (t) {
                            if (((t = this._computeEaseTime(t)), this.target)) {
                                var e = this._config,
                                    i = e[0].x,
                                    n = e[1].x,
                                    r = e[2].x,
                                    s = e[0].y,
                                    o = e[1].y,
                                    a = e[2].y,
                                    c = cc.bezierAt(0, i, n, r, t),
                                    h = cc.bezierAt(0, s, o, a, t),
                                    l = this._startPosition;
                                if (cc.macro.ENABLE_STACKABLE_ACTIONS) {
                                    var u = this.target.getPositionX(),
                                        d = this.target.getPositionY(),
                                        _ = this._previousPosition;
                                    (l.x = l.x + u - _.x),
                                        (l.y = l.y + d - _.y),
                                        (c += l.x),
                                        (h += l.y),
                                        (_.x = c),
                                        (_.y = h),
                                        this.target.setPosition(c, h);
                                } else this.target.setPosition(l.x + c, l.y + h);
                            }
                        },
                        reverse: function () {
                            var t = this._config,
                                e = [cc.pAdd(t[1], cc.pNeg(t[2])), cc.pAdd(t[0], cc.pNeg(t[2])), cc.pNeg(t[2])],
                                i = new cc.BezierBy(this._duration, e);
                            return this._cloneDecoration(i), this._reverseEaseList(i), i;
                        },
                    })),
                    (cc.bezierBy = function (t, e) {
                        return new cc.BezierBy(t, e);
                    }),
                    (cc.BezierTo = cc.BezierBy.extend({
                        _toConfig: null,
                        ctor: function (t, e) {
                            cc.BezierBy.prototype.ctor.call(this),
                                (this._toConfig = []),
                                e && this.initWithDuration(t, e);
                        },
                        initWithDuration: function (t, e) {
                            return (
                                !!cc.ActionInterval.prototype.initWithDuration.call(this, t) &&
                                ((this._toConfig = e), !0)
                            );
                        },
                        clone: function () {
                            var t = new cc.BezierTo();
                            return this._cloneDecoration(t), t.initWithDuration(this._duration, this._toConfig), t;
                        },
                        startWithTarget: function (t) {
                            cc.BezierBy.prototype.startWithTarget.call(this, t);
                            var e = this._startPosition,
                                i = this._toConfig,
                                n = this._config;
                            (n[0] = cc.pSub(i[0], e)), (n[1] = cc.pSub(i[1], e)), (n[2] = cc.pSub(i[2], e));
                        },
                    })),
                    (cc.bezierTo = function (t, e) {
                        return new cc.BezierTo(t, e);
                    }),
                    (cc.ScaleTo = cc.ActionInterval.extend({
                        _scaleX: 1,
                        _scaleY: 1,
                        _startScaleX: 1,
                        _startScaleY: 1,
                        _endScaleX: 0,
                        _endScaleY: 0,
                        _deltaX: 0,
                        _deltaY: 0,
                        ctor: function (t, e, i) {
                            cc.ActionInterval.prototype.ctor.call(this), void 0 !== e && this.initWithDuration(t, e, i);
                        },
                        initWithDuration: function (t, e, i) {
                            return (
                                !!cc.ActionInterval.prototype.initWithDuration.call(this, t) &&
                                ((this._endScaleX = e), (this._endScaleY = null != i ? i : e), !0)
                            );
                        },
                        clone: function () {
                            var t = new cc.ScaleTo();
                            return (
                                this._cloneDecoration(t),
                                t.initWithDuration(this._duration, this._endScaleX, this._endScaleY),
                                t
                            );
                        },
                        startWithTarget: function (t) {
                            cc.ActionInterval.prototype.startWithTarget.call(this, t),
                                (this._startScaleX = t.scaleX),
                                (this._startScaleY = t.scaleY),
                                (this._deltaX = this._endScaleX - this._startScaleX),
                                (this._deltaY = this._endScaleY - this._startScaleY);
                        },
                        update: function (t) {
                            (t = this._computeEaseTime(t)),
                                this.target &&
                                    ((this.target.scaleX = this._startScaleX + this._deltaX * t),
                                    (this.target.scaleY = this._startScaleY + this._deltaY * t));
                        },
                    })),
                    (cc.scaleTo = function (t, e, i) {
                        return new cc.ScaleTo(t, e, i);
                    }),
                    (cc.ScaleBy = cc.ScaleTo.extend({
                        startWithTarget: function (t) {
                            cc.ScaleTo.prototype.startWithTarget.call(this, t),
                                (this._deltaX = this._startScaleX * this._endScaleX - this._startScaleX),
                                (this._deltaY = this._startScaleY * this._endScaleY - this._startScaleY);
                        },
                        reverse: function () {
                            var t = new cc.ScaleBy(this._duration, 1 / this._endScaleX, 1 / this._endScaleY);
                            return this._cloneDecoration(t), this._reverseEaseList(t), t;
                        },
                        clone: function () {
                            var t = new cc.ScaleBy();
                            return (
                                this._cloneDecoration(t),
                                t.initWithDuration(this._duration, this._endScaleX, this._endScaleY),
                                t
                            );
                        },
                    })),
                    (cc.scaleBy = function (t, e, i) {
                        return new cc.ScaleBy(t, e, i);
                    }),
                    (cc.Blink = cc.ActionInterval.extend({
                        _times: 0,
                        _originalState: !1,
                        ctor: function (t, e) {
                            cc.ActionInterval.prototype.ctor.call(this), void 0 !== e && this.initWithDuration(t, e);
                        },
                        initWithDuration: function (t, e) {
                            return (
                                !!cc.ActionInterval.prototype.initWithDuration.call(this, t) && ((this._times = e), !0)
                            );
                        },
                        clone: function () {
                            var t = new cc.Blink();
                            return this._cloneDecoration(t), t.initWithDuration(this._duration, this._times), t;
                        },
                        update: function (t) {
                            if (((t = this._computeEaseTime(t)), this.target && !this.isDone())) {
                                var e = 1 / this._times,
                                    i = t % e;
                                this.target.opacity = i > e / 2 ? 255 : 0;
                            }
                        },
                        startWithTarget: function (t) {
                            cc.ActionInterval.prototype.startWithTarget.call(this, t),
                                (this._originalState = t.opacity);
                        },
                        stop: function () {
                            (this.target.opacity = this._originalState), cc.ActionInterval.prototype.stop.call(this);
                        },
                        reverse: function () {
                            var t = new cc.Blink(this._duration, this._times);
                            return this._cloneDecoration(t), this._reverseEaseList(t), t;
                        },
                    })),
                    (cc.blink = function (t, e) {
                        return new cc.Blink(t, e);
                    }),
                    (cc.FadeTo = cc.ActionInterval.extend({
                        _toOpacity: 0,
                        _fromOpacity: 0,
                        ctor: function (t, e) {
                            cc.ActionInterval.prototype.ctor.call(this), void 0 !== e && this.initWithDuration(t, e);
                        },
                        initWithDuration: function (t, e) {
                            return (
                                !!cc.ActionInterval.prototype.initWithDuration.call(this, t) &&
                                ((this._toOpacity = e), !0)
                            );
                        },
                        clone: function () {
                            var t = new cc.FadeTo();
                            return this._cloneDecoration(t), t.initWithDuration(this._duration, this._toOpacity), t;
                        },
                        update: function (t) {
                            t = this._computeEaseTime(t);
                            var e = void 0 !== this._fromOpacity ? this._fromOpacity : 255;
                            this.target.opacity = e + (this._toOpacity - e) * t;
                        },
                        startWithTarget: function (t) {
                            cc.ActionInterval.prototype.startWithTarget.call(this, t), (this._fromOpacity = t.opacity);
                        },
                    })),
                    (cc.fadeTo = function (t, e) {
                        return new cc.FadeTo(t, e);
                    }),
                    (cc.FadeIn = cc.FadeTo.extend({
                        _reverseAction: null,
                        ctor: function (t) {
                            cc.FadeTo.prototype.ctor.call(this), null == t && (t = 0), this.initWithDuration(t, 255);
                        },
                        reverse: function () {
                            var t = new cc.FadeOut();
                            return (
                                t.initWithDuration(this._duration, 0),
                                this._cloneDecoration(t),
                                this._reverseEaseList(t),
                                t
                            );
                        },
                        clone: function () {
                            var t = new cc.FadeIn();
                            return this._cloneDecoration(t), t.initWithDuration(this._duration, this._toOpacity), t;
                        },
                        startWithTarget: function (t) {
                            this._reverseAction && (this._toOpacity = this._reverseAction._fromOpacity),
                                cc.FadeTo.prototype.startWithTarget.call(this, t);
                        },
                    })),
                    (cc.fadeIn = function (t) {
                        return new cc.FadeIn(t);
                    }),
                    (cc.FadeOut = cc.FadeTo.extend({
                        ctor: function (t) {
                            cc.FadeTo.prototype.ctor.call(this), null == t && (t = 0), this.initWithDuration(t, 0);
                        },
                        reverse: function () {
                            var t = new cc.FadeIn();
                            return (
                                (t._reverseAction = this),
                                t.initWithDuration(this._duration, 255),
                                this._cloneDecoration(t),
                                this._reverseEaseList(t),
                                t
                            );
                        },
                        clone: function () {
                            var t = new cc.FadeOut();
                            return this._cloneDecoration(t), t.initWithDuration(this._duration, this._toOpacity), t;
                        },
                    })),
                    (cc.fadeOut = function (t) {
                        return new cc.FadeOut(t);
                    }),
                    (cc.TintTo = cc.ActionInterval.extend({
                        _to: null,
                        _from: null,
                        ctor: function (t, e, i, n) {
                            cc.ActionInterval.prototype.ctor.call(this),
                                (this._to = cc.color(0, 0, 0)),
                                (this._from = cc.color(0, 0, 0)),
                                e instanceof cc.Color && ((n = e.b), (i = e.g), (e = e.r)),
                                void 0 !== n && this.initWithDuration(t, e, i, n);
                        },
                        initWithDuration: function (t, e, i, n) {
                            return (
                                !!cc.ActionInterval.prototype.initWithDuration.call(this, t) &&
                                ((this._to = cc.color(e, i, n)), !0)
                            );
                        },
                        clone: function () {
                            var t = new cc.TintTo();
                            this._cloneDecoration(t);
                            var e = this._to;
                            return t.initWithDuration(this._duration, e.r, e.g, e.b), t;
                        },
                        startWithTarget: function (t) {
                            cc.ActionInterval.prototype.startWithTarget.call(this, t), (this._from = this.target.color);
                        },
                        update: function (t) {
                            t = this._computeEaseTime(t);
                            var e = this._from,
                                i = this._to;
                            e &&
                                this.target.setColor(
                                    cc.color(e.r + (i.r - e.r) * t, e.g + (i.g - e.g) * t, e.b + (i.b - e.b) * t),
                                );
                        },
                    })),
                    (cc.tintTo = function (t, e, i, n) {
                        return new cc.TintTo(t, e, i, n);
                    }),
                    (cc.TintBy = cc.ActionInterval.extend({
                        _deltaR: 0,
                        _deltaG: 0,
                        _deltaB: 0,
                        _fromR: 0,
                        _fromG: 0,
                        _fromB: 0,
                        ctor: function (t, e, i, n) {
                            cc.ActionInterval.prototype.ctor.call(this),
                                void 0 !== n && this.initWithDuration(t, e, i, n);
                        },
                        initWithDuration: function (t, e, i, n) {
                            return (
                                !!cc.ActionInterval.prototype.initWithDuration.call(this, t) &&
                                ((this._deltaR = e), (this._deltaG = i), (this._deltaB = n), !0)
                            );
                        },
                        clone: function () {
                            var t = new cc.TintBy();
                            return (
                                this._cloneDecoration(t),
                                t.initWithDuration(this._duration, this._deltaR, this._deltaG, this._deltaB),
                                t
                            );
                        },
                        startWithTarget: function (t) {
                            cc.ActionInterval.prototype.startWithTarget.call(this, t);
                            var e = t.color;
                            (this._fromR = e.r), (this._fromG = e.g), (this._fromB = e.b);
                        },
                        update: function (t) {
                            (t = this._computeEaseTime(t)),
                                (this.target.color = cc.color(
                                    this._fromR + this._deltaR * t,
                                    this._fromG + this._deltaG * t,
                                    this._fromB + this._deltaB * t,
                                ));
                        },
                        reverse: function () {
                            var t = new cc.TintBy(this._duration, -this._deltaR, -this._deltaG, -this._deltaB);
                            return this._cloneDecoration(t), this._reverseEaseList(t), t;
                        },
                    })),
                    (cc.tintBy = function (t, e, i, n) {
                        return new cc.TintBy(t, e, i, n);
                    }),
                    (cc.DelayTime = cc.ActionInterval.extend({
                        update: function (t) {},
                        reverse: function () {
                            var t = new cc.DelayTime(this._duration);
                            return this._cloneDecoration(t), this._reverseEaseList(t), t;
                        },
                        clone: function () {
                            var t = new cc.DelayTime();
                            return this._cloneDecoration(t), t.initWithDuration(this._duration), t;
                        },
                    })),
                    (cc.delayTime = function (t) {
                        return new cc.DelayTime(t);
                    }),
                    (cc.ReverseTime = cc.ActionInterval.extend({
                        _other: null,
                        ctor: function (t) {
                            cc.ActionInterval.prototype.ctor.call(this),
                                (this._other = null),
                                t && this.initWithAction(t);
                        },
                        initWithAction: function (t) {
                            if (!t) throw new Error('cc.ReverseTime.initWithAction(): action must be non null');
                            if (t === this._other)
                                throw new Error('cc.ReverseTime.initWithAction(): the action was already passed in.');
                            return (
                                !!cc.ActionInterval.prototype.initWithDuration.call(this, t._duration) &&
                                ((this._other = t), !0)
                            );
                        },
                        clone: function () {
                            var t = new cc.ReverseTime();
                            return this._cloneDecoration(t), t.initWithAction(this._other.clone()), t;
                        },
                        startWithTarget: function (t) {
                            cc.ActionInterval.prototype.startWithTarget.call(this, t), this._other.startWithTarget(t);
                        },
                        update: function (t) {
                            (t = this._computeEaseTime(t)), this._other && this._other.update(1 - t);
                        },
                        reverse: function () {
                            return this._other.clone();
                        },
                        stop: function () {
                            this._other.stop(), cc.Action.prototype.stop.call(this);
                        },
                    })),
                    (cc.reverseTime = function (t) {
                        return new cc.ReverseTime(t);
                    }),
                    (cc.Animate = cc.ActionInterval.extend({
                        _animation: null,
                        _nextFrame: 0,
                        _origFrame: null,
                        _executedLoops: 0,
                        _splitTimes: null,
                        _currFrameIndex: 0,
                        ctor: function (t) {
                            cc.ActionInterval.prototype.ctor.call(this),
                                (this._splitTimes = []),
                                t && this.initWithAnimation(t);
                        },
                        getAnimation: function () {
                            return this._animation;
                        },
                        setAnimation: function (t) {
                            this._animation = t;
                        },
                        getCurrentFrameIndex: function () {
                            return this._currFrameIndex;
                        },
                        initWithAnimation: function (t) {
                            if (!t) throw new Error('cc.Animate.initWithAnimation(): animation must be non-NULL');
                            var e = t.getDuration();
                            if (this.initWithDuration(e * t.getLoops())) {
                                (this._nextFrame = 0),
                                    this.setAnimation(t),
                                    (this._origFrame = null),
                                    (this._executedLoops = 0);
                                var i = this._splitTimes;
                                i.length = 0;
                                var n = 0,
                                    r = e / t.getTotalDelayUnits(),
                                    s = t.getFrames();
                                cc.js.array.verifyType(s, cc.AnimationFrame);
                                for (var o = 0; o < s.length; o++) {
                                    var a = (n * r) / e;
                                    (n += s[o].getDelayUnits()), i.push(a);
                                }
                                return !0;
                            }
                            return !1;
                        },
                        clone: function () {
                            var t = new cc.Animate();
                            return this._cloneDecoration(t), t.initWithAnimation(this._animation.clone()), t;
                        },
                        startWithTarget: function (t) {
                            cc.ActionInterval.prototype.startWithTarget.call(this, t),
                                this._animation.getRestoreOriginalFrame() && (this._origFrame = t.getSpriteFrame()),
                                (this._nextFrame = 0),
                                (this._executedLoops = 0);
                        },
                        update: function (t) {
                            if ((t = this._computeEaseTime(t)) < 1) {
                                (0 | (t *= this._animation.getLoops())) > this._executedLoops &&
                                    ((this._nextFrame = 0), this._executedLoops++),
                                    (t %= 1);
                            }
                            for (
                                var e = this._animation.getFrames(),
                                    i = e.length,
                                    n = this._splitTimes,
                                    r = this._nextFrame;
                                r < i && n[r] <= t;
                                r++
                            )
                                (_currFrameIndex = r),
                                    this.target.setSpriteFrame(e[_currFrameIndex].getSpriteFrame()),
                                    (this._nextFrame = r + 1);
                        },
                        reverse: function () {
                            var t = this._animation,
                                e = t.getFrames(),
                                i = [];
                            if ((cc.js.array.verifyType(e, cc.AnimationFrame), e.length > 0))
                                for (var n = e.length - 1; n >= 0; n--) {
                                    var r = e[n];
                                    if (!r) break;
                                    i.push(r.clone());
                                }
                            var s = new cc.SpriteFrameAnimation(i, t.getDelayPerUnit(), t.getLoops());
                            s.setRestoreOriginalFrame(t.getRestoreOriginalFrame());
                            var o = new cc.Animate(s);
                            return this._cloneDecoration(o), this._reverseEaseList(o), o;
                        },
                        stop: function () {
                            this._animation.getRestoreOriginalFrame() &&
                                this.target &&
                                this.target.setSpriteFrame(this._origFrame),
                                cc.Action.prototype.stop.call(this);
                        },
                    })),
                    (cc.animate = function (t) {
                        return new cc.Animate(t);
                    }),
                    (cc.TargetedAction = cc.ActionInterval.extend({
                        _action: null,
                        _forcedTarget: null,
                        ctor: function (t, e) {
                            cc.ActionInterval.prototype.ctor.call(this), e && this.initWithTarget(t, e);
                        },
                        initWithTarget: function (t, e) {
                            return (
                                !!this.initWithDuration(e._duration) &&
                                ((this._forcedTarget = t), (this._action = e), !0)
                            );
                        },
                        clone: function () {
                            var t = new cc.TargetedAction();
                            return (
                                this._cloneDecoration(t), t.initWithTarget(this._forcedTarget, this._action.clone()), t
                            );
                        },
                        startWithTarget: function (t) {
                            cc.ActionInterval.prototype.startWithTarget.call(this, t),
                                this._action.startWithTarget(this._forcedTarget);
                        },
                        stop: function () {
                            this._action.stop();
                        },
                        update: function (t) {
                            (t = this._computeEaseTime(t)), this._action.update(t);
                        },
                        getForcedTarget: function () {
                            return this._forcedTarget;
                        },
                        setForcedTarget: function (t) {
                            this._forcedTarget !== t && (this._forcedTarget = t);
                        },
                    })),
                    (cc.targetedAction = function (t, e) {
                        return new cc.TargetedAction(t, e);
                    });
            },
            {},
        ],
        9: [
            function (t, e, i) {
                cc.ActionManager = cc._Class.extend({
                    _elementPool: [],
                    _searchElementByTarget: function (t, e) {
                        for (var i = 0; i < t.length; i++) if (e === t[i].target) return t[i];
                        return null;
                    },
                    ctor: function () {
                        (this._hashTargets = {}), (this._arrayTargets = []), (this._currentTarget = null);
                    },
                    _getElement: function (t, e) {
                        var i = this._elementPool.pop();
                        return (
                            i ||
                                (i = new (function () {
                                    (this.actions = []),
                                        (this.target = null),
                                        (this.actionIndex = 0),
                                        (this.currentAction = null),
                                        (this.paused = !1),
                                        (this.lock = !1);
                                })()),
                            (i.target = t),
                            (i.paused = !!e),
                            i
                        );
                    },
                    _putElement: function (t) {
                        (t.actions.length = 0),
                            (t.actionIndex = 0),
                            (t.currentAction = null),
                            (t.paused = !1),
                            (t.target = null),
                            (t.lock = !1),
                            this._elementPool.push(t);
                    },
                    addAction: function (t, e, i) {
                        if (!t) throw new Error('cc.ActionManager.addAction(): action must be non-null');
                        if (!e) throw new Error('cc.ActionManager.addAction(): action must be non-null');
                        var n = this._hashTargets[e.__instanceId];
                        n
                            ? n.actions || (n.actions = [])
                            : ((n = this._getElement(e, i)),
                              (this._hashTargets[e.__instanceId] = n),
                              this._arrayTargets.push(n)),
                            n.actions.push(t),
                            t.startWithTarget(e);
                    },
                    removeAllActions: function () {
                        for (var t = this._arrayTargets, e = 0; e < t.length; e++) {
                            var i = t[e];
                            i && this.removeAllActionsFromTarget(i.target, !0);
                        }
                    },
                    removeAllActionsFromTarget: function (t, e) {
                        if (null != t) {
                            var i = this._hashTargets[t.__instanceId];
                            i && ((i.actions.length = 0), this._deleteHashElement(i));
                        }
                    },
                    removeAction: function (t) {
                        if (null != t) {
                            var e = t.getOriginalTarget(),
                                i = this._hashTargets[e.__instanceId];
                            if (i) {
                                for (var n = 0; n < i.actions.length; n++)
                                    if (i.actions[n] === t) {
                                        i.actions.splice(n, 1), i.actionIndex >= n && i.actionIndex--;
                                        break;
                                    }
                            } else cc.logID(1001);
                        }
                    },
                    removeActionByTag: function (t, e) {
                        t === cc.Action.TAG_INVALID && cc.logID(1002), cc.assertID(e, 1003);
                        var i = this._hashTargets[e.__instanceId];
                        if (i)
                            for (var n = i.actions.length, r = 0; r < n; ++r) {
                                var s = i.actions[r];
                                if (s && s.getTag() === t && s.getOriginalTarget() === e) {
                                    this._removeActionAtIndex(r, i);
                                    break;
                                }
                            }
                    },
                    getActionByTag: function (t, e) {
                        t === cc.Action.TAG_INVALID && cc.logID(1004);
                        var i = this._hashTargets[e.__instanceId];
                        if (i) {
                            if (null != i.actions)
                                for (var n = 0; n < i.actions.length; ++n) {
                                    var r = i.actions[n];
                                    if (r && r.getTag() === t) return r;
                                }
                            cc.logID(1005, t);
                        }
                        return null;
                    },
                    getNumberOfRunningActionsInTarget: function (t) {
                        var e = this._hashTargets[t.__instanceId];
                        return e && e.actions ? e.actions.length : 0;
                    },
                    pauseTarget: function (t) {
                        var e = this._hashTargets[t.__instanceId];
                        e && (e.paused = !0);
                    },
                    resumeTarget: function (t) {
                        var e = this._hashTargets[t.__instanceId];
                        e && (e.paused = !1);
                    },
                    pauseAllRunningActions: function () {
                        for (var t = [], e = this._arrayTargets, i = 0; i < e.length; i++) {
                            var n = e[i];
                            n && !n.paused && ((n.paused = !0), t.push(n.target));
                        }
                        return t;
                    },
                    resumeTargets: function (t) {
                        if (t) for (var e = 0; e < t.length; e++) t[e] && this.resumeTarget(t[e]);
                    },
                    pauseTargets: function (t) {
                        if (t) for (var e = 0; e < t.length; e++) t[e] && this.pauseTarget(t[e]);
                    },
                    purgeSharedManager: function () {
                        cc.director.getScheduler().unscheduleUpdate(this);
                    },
                    _removeActionAtIndex: function (t, e) {
                        e.actions[t];
                        e.actions.splice(t, 1),
                            e.actionIndex >= t && e.actionIndex--,
                            0 === e.actions.length && this._deleteHashElement(e);
                    },
                    _deleteHashElement: function (t) {
                        var e = !1;
                        if (t && !t.lock && this._hashTargets[t.target.__instanceId]) {
                            delete this._hashTargets[t.target.__instanceId];
                            for (var i = this._arrayTargets, n = 0, r = i.length; n < r; n++)
                                if (i[n] === t) {
                                    i.splice(n, 1);
                                    break;
                                }
                            this._putElement(t), (e = !0);
                        }
                        return e;
                    },
                    update: function (t) {
                        for (var e, i = this._arrayTargets, n = 0; n < i.length; n++) {
                            if (((this._currentTarget = i[n]), !(e = this._currentTarget).paused && e.actions)) {
                                for (e.lock = !0, e.actionIndex = 0; e.actionIndex < e.actions.length; e.actionIndex++)
                                    if (((e.currentAction = e.actions[e.actionIndex]), e.currentAction)) {
                                        if (
                                            (e.currentAction.step(
                                                t * (e.currentAction._speedMethod ? e.currentAction._speed : 1),
                                            ),
                                            e.currentAction && e.currentAction.isDone())
                                        ) {
                                            e.currentAction.stop();
                                            var r = e.currentAction;
                                            (e.currentAction = null), this.removeAction(r);
                                        }
                                        e.currentAction = null;
                                    }
                                e.lock = !1;
                            }
                            0 === e.actions.length && this._deleteHashElement(e) && n--;
                        }
                    },
                });
            },
            {},
        ],
        10: [
            function (t, e, i) {
                t('./CCActionManager'),
                    t('./CCAction'),
                    t('./CCActionInterval'),
                    t('./CCActionInstant'),
                    t('./CCActionEase'),
                    t('./CCActionCatmullRom');
            },
            {
                './CCAction': 4,
                './CCActionCatmullRom': 5,
                './CCActionEase': 6,
                './CCActionInstant': 7,
                './CCActionInterval': 8,
                './CCActionManager': 9,
            },
        ],
        11: [
            function (t, e, i) {
                function n(t, e) {
                    o.call(this),
                        (this.target = t),
                        (this.animation = e),
                        (this._anims = new s.array.MutableForwardIterator([]));
                }

                function r(t, e) {
                    function i(t) {
                        if (!Array.isArray(t)) return !1;
                        for (var e = 0, i = t.length; e < i; e++) {
                            var n = t[e];
                            if (!Array.isArray(n) || 6 !== n.length) return !1;
                        }
                        return !0;
                    }

                    function n(t, n, r) {
                        var o = t instanceof cc.Node && 'position' === n,
                            l = [],
                            u = new a();
                        u.target = t;
                        var d,
                            f = n.indexOf('.');
                        -1 !== f ? t[(d = n.slice(0, f))] : (d = n),
                            (u.prop = d),
                            (u.subProps = (function (t) {
                                var e = t.split('.');
                                return e.shift(), e.length > 0 ? e : null;
                            })(n));
                        for (var p = 0, g = r.length; p < g; p++) {
                            var m = r[p],
                                v = m.frame / e.duration;
                            if ((u.ratios.push(v), o)) {
                                var y = m.motionPath;
                                y && !i(y) && (cc.errorID(3904, t.name, n, p), (y = null)), l.push(y);
                            }
                            var C = m.value;
                            u.values.push(C);
                            var T = m.curve;
                            if (T) {
                                if ('string' == typeof T) {
                                    u.types.push(T);
                                    continue;
                                }
                                if (Array.isArray(T)) {
                                    T[0] === T[1] && T[2] === T[3] ? u.types.push(a.Linear) : u.types.push(a.Bezier(T));
                                    continue;
                                }
                            }
                            u.types.push(a.Linear);
                        }
                        o && h(l, u, s.duration, s.sample);
                        for (var E, x, S = u.ratios, b = !0, A = 1, R = S.length; A < R; A++)
                            if (((E = S[A] - S[A - 1]), 1 === A)) x = E;
                            else if (Math.abs(E - x) > 1e-6) {
                                b = !1;
                                break;
                            }
                        return (u._findFrameIndex = b ? c : _), u;
                    }

                    function r(t, e) {
                        var i = e.props,
                            r = e.comps;
                        if (i)
                            for (var s in i) {
                                var a = n(t, s, i[s]);
                                o.push(a);
                            }
                        if (r)
                            for (var c in r) {
                                var h = t.getComponent(c);
                                if (h) {
                                    var l = r[c];
                                    for (var s in l) {
                                        a = n(h, s, l[s]);
                                        o.push(a);
                                    }
                                }
                            }
                    }
                    var s = e.clip,
                        o = e.curves;
                    (o.length = 0),
                        (e.duration = s.duration),
                        (e.speed = s.speed),
                        (e.wrapMode = s.wrapMode),
                        (e.frameRate = s.sample),
                        (e.wrapMode & d.Loop) === d.Loop ? (e.repeatCount = 1 / 0) : (e.repeatCount = 1);
                    var f = s.curveData,
                        p = f.paths;
                    r(t, f);
                    for (var g in p) {
                        var m = cc.find(g, t);
                        if (m) {
                            r(m, p[g]);
                        }
                    }
                    var v = s.events;
                    if (v)
                        for (var y, C = 0, T = v.length; C < T; C++) {
                            y || (((y = new l()).target = t), o.push(y));
                            var E,
                                x = v[C],
                                S = x.frame / e.duration,
                                b = _(y.ratios, S);
                            b >= 0 ? (E = y.events[b]) : ((E = new u()), y.ratios.push(S), y.events.push(E)),
                                E.add(x.func, x.params);
                        }
                }
                var s = cc.js,
                    o = t('./playable'),
                    a = t('./animation-curves').DynamicAnimCurve,
                    c = t('./animation-curves').quickFindIndex,
                    h = t('./motion-path-helper').sampleMotionPaths,
                    l = t('./animation-curves').EventAnimCurve,
                    u = t('./animation-curves').EventInfo,
                    d = t('./types').WrapModeMask,
                    _ = t('../core/utils/binary-search').binarySearchEpsilon;
                s.extend(n, o);
                var f = n.prototype;
                (f.playState = function (t, e) {
                    t.clip &&
                        (t.curveLoaded || r(this.target, t),
                        (t.animator = this),
                        t.play(),
                        'number' == typeof e && t.setTime(e),
                        this.play());
                }),
                    (f.stopStatesExcept = function (t) {
                        var e = this._anims,
                            i = e.array;
                        for (e.i = 0; e.i < i.length; ++e.i) {
                            var n = i[e.i];
                            n !== t && this.stopState(n);
                        }
                    }),
                    (f.addAnimation = function (t) {
                        -1 === this._anims.array.indexOf(t) && this._anims.push(t), t._setListeners(this.animation);
                    }),
                    (f.removeAnimation = function (t) {
                        var e = this._anims.array.indexOf(t);
                        e >= 0
                            ? (this._anims.fastRemoveAt(e), 0 === this._anims.array.length && this.stop())
                            : cc.errorID(3908),
                            (t.animator = null);
                    }),
                    (f.sample = function () {
                        var t = this._anims,
                            e = t.array;
                        for (t.i = 0; t.i < e.length; ++t.i) {
                            e[t.i].sample();
                        }
                    }),
                    (f.stopState = function (t) {
                        t && t.stop();
                    }),
                    (f.pauseState = function (t) {
                        t && t.pause();
                    }),
                    (f.resumeState = function (t) {
                        t && t.resume(), this.isPaused && this.resume();
                    }),
                    (f.setStateTime = function (t, e) {
                        if (void 0 !== e) t && (t.setTime(e), t.sample());
                        else {
                            e = t;
                            for (var i = this._anims.array, n = 0; n < i.length; ++n) {
                                var r = i[n];
                                r.setTime(e), r.sample();
                            }
                        }
                    }),
                    (f.onStop = function () {
                        var t = this._anims,
                            e = t.array;
                        for (t.i = 0; t.i < e.length; ++t.i) {
                            e[t.i].stop();
                        }
                    }),
                    (f.onPause = function () {
                        for (var t = this._anims.array, e = 0; e < t.length; ++e) {
                            var i = t[e];
                            i.pause(), (i.animator = null);
                        }
                    }),
                    (f.onResume = function () {
                        for (var t = this._anims.array, e = 0; e < t.length; ++e) {
                            var i = t[e];
                            (i.animator = this), i.resume();
                        }
                    }),
                    (f._reloadClip = function (t) {
                        r(this.target, t);
                    }),
                    (e.exports = n);
            },
            {
                '../core/utils/binary-search': 181,
                './animation-curves': 13,
                './motion-path-helper': 19,
                './playable': 20,
                './types': 21,
            },
        ],
        12: [
            function (t, e, i) {
                var n = cc.Class({
                    name: 'cc.AnimationClip',
                    extends: cc.Asset,
                    properties: {
                        _duration: {
                            default: 0,
                            type: 'Float',
                        },
                        duration: {
                            get: function () {
                                return this._duration;
                            },
                        },
                        sample: {
                            default: 60,
                        },
                        speed: {
                            default: 1,
                        },
                        wrapMode: {
                            default: cc.WrapMode.Normal,
                        },
                        curveData: {
                            default: {},
                            visible: !1,
                        },
                        events: {
                            default: [],
                            visible: !1,
                        },
                    },
                    statics: {
                        createWithSpriteFrames: function (t, e) {
                            if (!Array.isArray(t)) return cc.errorID(3905), null;
                            var i = new n();
                            (i.sample = e || i.sample), (i._duration = t.length / i.sample);
                            for (var r = [], s = 1 / i.sample, o = 0, a = t.length; o < a; o++)
                                r[o] = {
                                    frame: o * s,
                                    value: t[o],
                                };
                            return (
                                (i.curveData = {
                                    comps: {
                                        'cc.Sprite': {
                                            spriteFrame: r,
                                        },
                                    },
                                }),
                                i
                            );
                        },
                    },
                });
                cc.AnimationClip = e.exports = n;
            },
            {},
        ],
        13: [
            function (t, e, i) {
                function n(t, e) {
                    if ('string' == typeof e) {
                        var i = cc.Easing[e];
                        i ? (t = i(t)) : cc.errorID(3906, e);
                    } else Array.isArray(e) && (t = r(e, t));
                    return t;
                }
                var r = t('./bezier').bezierByTime,
                    s = t('../core/utils/binary-search').binarySearchEpsilon,
                    o = t('./types').WrapModeMask,
                    a = t('./types').WrappedInfo,
                    c = cc.Class({
                        name: 'cc.AnimCurve',
                        sample: function (t, e, i) {},
                        onTimeChangedManually: void 0,
                    }),
                    h = cc.Class({
                        name: 'cc.DynamicAnimCurve',
                        extends: c,
                        properties: {
                            target: null,
                            prop: '',
                            values: [],
                            ratios: [],
                            types: [],
                            subProps: null,
                        },
                        _findFrameIndex: s,
                        sample: function (t, e, i) {
                            var r = this.values,
                                s = this.ratios,
                                o = s.length;
                            if (0 !== o) {
                                var a,
                                    c = this._findFrameIndex(s, e);
                                if (c < 0)
                                    if ((c = ~c) <= 0) a = r[0];
                                    else if (c >= o) a = r[o - 1];
                                    else {
                                        var h = r[c - 1],
                                            l = 'number' == typeof h,
                                            u = h && h.lerp;
                                        if (l || u) {
                                            var d = s[c - 1],
                                                _ = s[c],
                                                f = this.types[c - 1],
                                                p = (e - d) / (_ - d);
                                            f && (p = n(p, f));
                                            var g = r[c];
                                            l ? (a = h + (g - h) * p) : u && (a = h.lerp(g, p));
                                        } else a = h;
                                    }
                                else a = r[c];
                                var m = this.subProps;
                                if (m) {
                                    for (var v = this.target[this.prop], y = v, C = 0; C < m.length - 1; C++) {
                                        var T = m[C];
                                        if (!y) return;
                                        y = y[T];
                                    }
                                    var E = m[m.length - 1];
                                    if (!y) return;
                                    (y[E] = a), (a = v);
                                }
                                this.target[this.prop] = a;
                            }
                        },
                    });
                (h.Linear = null),
                    (h.Bezier = function (t) {
                        return t;
                    });
                var l = function () {
                    this.events = [];
                };
                l.prototype.add = function (t, e) {
                    this.events.push({
                        func: t || '',
                        params: e || [],
                    });
                };
                var u = cc.Class({
                    name: 'cc.EventAnimCurve',
                    extends: c,
                    properties: {
                        target: null,
                        ratios: [],
                        events: [],
                        _wrappedInfo: {
                            default: function () {
                                return new a();
                            },
                        },
                        _lastWrappedInfo: null,
                        _ignoreIndex: NaN,
                    },
                    _wrapIterations: function (t) {
                        return t - (0 | t) == 0 && (t -= 1), 0 | t;
                    },
                    sample: function (t, e, i) {
                        var n = this.ratios.length,
                            r = i.getWrappedInfo(i.time, this._wrappedInfo),
                            c = r.direction,
                            h = s(this.ratios, r.ratio);
                        if (
                            (h < 0 && ((h = ~h - 1), c < 0 && (h += 1)),
                            this._ignoreIndex !== h && (this._ignoreIndex = NaN),
                            (r.frameIndex = h),
                            !this._lastWrappedInfo)
                        )
                            return this._fireEvent(h), void (this._lastWrappedInfo = new a(r));
                        var l = i.wrapMode,
                            u = this._wrapIterations(r.iterations),
                            d = this._lastWrappedInfo,
                            _ = this._wrapIterations(d.iterations),
                            f = d.frameIndex,
                            p = d.direction,
                            g = -1 !== _ && u !== _;
                        if (f === h && g && 1 === n) this._fireEvent(0);
                        else if (f !== h || g) {
                            c = p;
                            do {
                                if (f !== h) {
                                    if (
                                        (-1 === c && 0 === f && h > 0
                                            ? ((l & o.PingPong) === o.PingPong ? (c *= -1) : (f = n), _++)
                                            : 1 === c &&
                                              f === n - 1 &&
                                              h < n - 1 &&
                                              ((l & o.PingPong) === o.PingPong ? (c *= -1) : (f = -1), _++),
                                        f === h)
                                    )
                                        break;
                                    if (_ > u) break;
                                }
                                (f += c), cc.director.getAnimationManager().pushDelayEvent(this, '_fireEvent', [f]);
                            } while (f !== h && f > -1 && f < n);
                        }
                        this._lastWrappedInfo.set(r);
                    },
                    _fireEvent: function (t) {
                        if (!(t < 0 || t >= this.events.length || this._ignoreIndex === t)) {
                            var e = this.events[t].events;
                            if (this.target.isValid)
                                for (var i = this.target._components, n = 0; n < e.length; n++)
                                    for (var r = e[n], s = r.func, o = 0; o < i.length; o++) {
                                        var a = i[o],
                                            c = a[s];
                                        c && c.apply(a, r.params);
                                    }
                        }
                    },
                    onTimeChangedManually: function (t, e) {
                        (this._lastWrappedInfo = null), (this._ignoreIndex = NaN);
                        var i = e.getWrappedInfo(t, this._wrappedInfo),
                            n = i.direction,
                            r = s(this.ratios, i.ratio);
                        r < 0 && ((r = ~r - 1), n < 0 && (r += 1), (this._ignoreIndex = r));
                    },
                });
                e.exports = {
                    AnimCurve: c,
                    DynamicAnimCurve: h,
                    EventAnimCurve: u,
                    EventInfo: l,
                    computeRatioByType: n,
                    quickFindIndex: function (t, e) {
                        var i = t.length - 1;
                        if (0 === i) return 0;
                        var n = t[0];
                        if (e < n) return 0;
                        var r = t[i];
                        if (e > r) return i;
                        var s = (e = (e - n) / (r - n)) / (1 / i),
                            o = 0 | s;
                        return s - o < 1e-6 ? o : ~(o + 1);
                    },
                };
            },
            {
                '../core/utils/binary-search': 181,
                './bezier': 16,
                './types': 21,
            },
        ],
        14: [
            function (t, e, n) {
                var r = cc.js,
                    s = cc.Class({
                        ctor: function () {
                            (this.__instanceId = cc.ClassManager.getNewInstanceId()),
                                (this._anims = new r.array.MutableForwardIterator([])),
                                (this._delayEvents = []);
                        },
                        update: function (t) {
                            var e = this._anims,
                                n = e.array;
                            for (e.i = 0; e.i < n.length; ++e.i) {
                                var r = n[e.i];
                                r._isPlaying && !r._isPaused && r.update(t);
                            }
                            var s = this._delayEvents;
                            for (i = 0, l = s.length; i < l; i++) {
                                var o = s[i];
                                o.target[o.func].apply(o.target, o.args);
                            }
                            s.length = 0;
                        },
                        destruct: function () {},
                        addAnimation: function (t) {
                            -1 === this._anims.array.indexOf(t) && this._anims.push(t);
                        },
                        removeAnimation: function (t) {
                            var e = this._anims.array.indexOf(t);
                            e >= 0 ? this._anims.fastRemoveAt(e) : cc.errorID(3907);
                        },
                        pushDelayEvent: function (t, e, i) {
                            this._delayEvents.push({
                                target: t,
                                func: e,
                                args: i,
                            });
                        },
                    });
                cc.AnimationManager = e.exports = s;
            },
            {},
        ],
        15: [
            function (t, e, i) {
                function n(t, e) {
                    a.call(this),
                        cc.EventTarget.call(this),
                        (this._currentFramePlayed = !1),
                        (this._delay = 0),
                        (this._delayTime = 0),
                        (this._wrappedInfo = new h()),
                        (this._lastWrappedInfo = null),
                        (this._process = r),
                        (this._clip = t),
                        (this._name = e || (t && t.name)),
                        (this.animator = null),
                        (this.curves = []),
                        (this.delay = 0),
                        (this.repeatCount = 1),
                        (this.duration = 1),
                        (this.speed = 1),
                        (this.wrapMode = l.Normal),
                        (this.time = 0),
                        (this._emit = this.emit),
                        (this.emit = function () {
                            for (var t = new Array(arguments.length), e = 0, i = t.length; e < i; e++)
                                t[e] = arguments[e];
                            cc.director.getAnimationManager().pushDelayEvent(this, '_emit', t);
                        });
                }

                function r() {
                    var t = this.sample(),
                        e = this._hasListenerCache;
                    if (e && e.lastframe) {
                        var i;
                        (i = this._lastWrappedInfo ? this._lastWrappedInfo : (this._lastWrappedInfo = new h(t))),
                            this.repeatCount > 1 &&
                                (0 | t.iterations) > (0 | i.iterations) &&
                                this.emit('lastframe', this),
                            i.set(t);
                    }
                    t.stopped && (this.stop(), this.emit('finished', this));
                }

                function s() {
                    var t = this.time,
                        e = this.duration;
                    t > e ? 0 === (t %= e) && (t = e) : t < 0 && 0 !== (t %= e) && (t += e);
                    for (var i = t / e, n = this.curves, r = 0, s = n.length; r < s; r++) {
                        n[r].sample(t, i, this);
                    }
                    var o = this._hasListenerCache;
                    o &&
                        o.lastframe &&
                        (void 0 === this._lastIterations && (this._lastIterations = i),
                        ((this.time > 0 && this._lastIterations > i) || (this.time < 0 && this._lastIterations < i)) &&
                            this.emit('lastframe', this),
                        (this._lastIterations = i));
                }
                var o = cc.js,
                    a = t('./playable'),
                    c = t('./types'),
                    h = c.WrappedInfo,
                    l = c.WrapMode,
                    u = c.WrapModeMask;
                o.extend(n, a);
                var d = n.prototype;
                cc.js.mixin(d, cc.EventTarget.prototype),
                    (d._setListeners = function (t) {
                        (this._capturingListeners = t ? t._capturingListeners : null),
                            (this._bubblingListeners = t ? t._bubblingListeners : null),
                            (this._hasListenerCache = t ? t._hasListenerCache : null);
                    }),
                    (d.onPlay = function () {
                        this.setTime(0),
                            (this._delayTime = this._delay),
                            cc.director.getAnimationManager().addAnimation(this),
                            this.animator && this.animator.addAnimation(this),
                            this.emit('play', this);
                    }),
                    (d.onStop = function () {
                        this.isPaused || cc.director.getAnimationManager().removeAnimation(this),
                            this.animator && this.animator.removeAnimation(this),
                            this.emit('stop', this);
                    }),
                    (d.onResume = function () {
                        cc.director.getAnimationManager().addAnimation(this), this.emit('resume', this);
                    }),
                    (d.onPause = function () {
                        cc.director.getAnimationManager().removeAnimation(this), this.emit('pause', this);
                    }),
                    (d.setTime = function (t) {
                        (this._currentFramePlayed = !1), (this.time = t || 0);
                        for (var e = this.curves, i = 0, n = e.length; i < n; i++) {
                            var r = e[i];
                            r.onTimeChangedManually && r.onTimeChangedManually(t, this);
                        }
                    }),
                    (d.update = function (t) {
                        (this._delayTime > 0 && ((this._delayTime -= t), this._delayTime > 0)) ||
                            (this._currentFramePlayed ? (this.time += t * this.speed) : (this._currentFramePlayed = !0),
                            this._process());
                    }),
                    (d._needRevers = function (t) {
                        var e = this.wrapMode,
                            i = !1;
                        if ((e & u.PingPong) === u.PingPong) {
                            t - (0 | t) == 0 && t > 0 && (t -= 1);
                            1 & t && (i = !i);
                        }
                        return (e & u.Reverse) === u.Reverse && (i = !i), i;
                    }),
                    (d.getWrappedInfo = function (t, e) {
                        e = e || new h();
                        var i = !1,
                            n = this.duration,
                            r = this.repeatCount,
                            s = t > 0 ? t / n : -t / n;
                        if (s >= r) {
                            (s = r), (i = !0);
                            var o = r - (0 | r);
                            0 === o && (o = 1), (t = o * n * (t > 0 ? 1 : -1));
                        }
                        if (t > n) {
                            var a = t % n;
                            t = 0 === a ? n : a;
                        } else t < 0 && 0 !== (t %= n) && (t += n);
                        var c = !1,
                            l = this._wrapMode & u.ShouldWrap;
                        l && (c = this._needRevers(s));
                        var d = c ? -1 : 1;
                        return (
                            this.speed < 0 && (d *= -1),
                            l && c && (t = n - t),
                            (e.ratio = t / n),
                            (e.time = t),
                            (e.direction = d),
                            (e.stopped = i),
                            (e.iterations = s),
                            e
                        );
                    }),
                    (d.sample = function () {
                        for (
                            var t = this.getWrappedInfo(this.time, this._wrappedInfo),
                                e = this.curves,
                                i = 0,
                                n = e.length;
                            i < n;
                            i++
                        ) {
                            e[i].sample(t.time, t.ratio, this);
                        }
                        return t;
                    }),
                    o.get(d, 'clip', function () {
                        return this._clip;
                    }),
                    o.get(d, 'name', function () {
                        return this._name;
                    }),
                    o.obsolete(d, 'AnimationState.length', 'duration'),
                    o.getset(
                        d,
                        'curveLoaded',
                        function () {
                            return this.curves.length > 0;
                        },
                        function () {
                            this.curves.length = 0;
                        },
                    ),
                    o.getset(
                        d,
                        'wrapMode',
                        function () {
                            return this._wrapMode;
                        },
                        function (t) {
                            (this._wrapMode = t),
                                (this.time = 0),
                                t & u.Loop ? (this.repeatCount = 1 / 0) : (this.repeatCount = 1);
                        },
                    ),
                    o.getset(
                        d,
                        'repeatCount',
                        function () {
                            return this._repeatCount;
                        },
                        function (t) {
                            this._repeatCount = t;
                            var e = this._wrapMode & u.ShouldWrap,
                                i = (this.wrapMode & u.Reverse) === u.Reverse;
                            this._process = t !== 1 / 0 || e || i ? r : s;
                        },
                    ),
                    o.getset(
                        d,
                        'delay',
                        function () {
                            return this._delay;
                        },
                        function (t) {
                            this._delayTime = this._delay = t;
                        },
                    ),
                    (cc.AnimationState = e.exports = n);
            },
            {
                './playable': 20,
                './types': 21,
            },
        ],
        16: [
            function (t, e, i) {
                function n(t, e, i, n, r) {
                    var s = 1 - r;
                    return t * s * s * s + 3 * e * s * s * r + 3 * i * s * r * r + n * r * r * r;
                }

                function r(t) {
                    return t < 0 ? -Math.pow(-t, 1 / 3) : Math.pow(t, 1 / 3);
                }

                function s(t, e) {
                    var i = (function (t, e) {
                            var i,
                                n,
                                s,
                                u,
                                d,
                                _ = e - 0,
                                f = e - t[0],
                                p = 3 * _,
                                g = 3 * f,
                                m = 3 * (e - t[2]),
                                v = 1 / (-_ + g - m + (e - 1)),
                                y = (p - 6 * f + m) * v,
                                C = y * (1 / 3),
                                T = (-p + g) * v,
                                E = (1 / 3) * (3 * T - y * y),
                                x = E * (1 / 3),
                                S = (2 * y * y * y - 9 * y * T + _ * v * 27) / 27,
                                b = S / 2,
                                A = b * b + x * x * x;
                            if (A < 0) {
                                var R = (1 / 3) * -E,
                                    w = l(R * R * R),
                                    I = -S / (2 * w),
                                    O = a(I < -1 ? -1 : I > 1 ? 1 : I),
                                    L = 2 * r(w);
                                return (
                                    (s = L * o(O * (1 / 3)) - C),
                                    (u = L * o((O + h) * (1 / 3)) - C),
                                    (d = L * o((O + 2 * h) * (1 / 3)) - C),
                                    0 <= s && s <= 1
                                        ? 0 <= u && u <= 1
                                            ? 0 <= d && d <= 1
                                                ? c(s, u, d)
                                                : c(s, u)
                                            : 0 <= d && d <= 1
                                            ? c(s, d)
                                            : s
                                        : 0 <= u && u <= 1
                                        ? 0 <= d && d <= 1
                                            ? c(u, d)
                                            : u
                                        : d
                                );
                            }
                            if (0 === A)
                                return (
                                    (i = b < 0 ? r(-b) : -r(b)),
                                    (s = 2 * i - C),
                                    (u = -i - C),
                                    0 <= s && s <= 1 ? (0 <= u && u <= 1 ? c(s, u) : s) : u
                                );
                            var P = l(A);
                            return (i = r(-b + P)), (n = r(b + P)), (s = i - n - C);
                        })(t, e),
                        n = 1 - i;
                    return 0 * n * n * n + 3 * t[1] * i * n * n + 3 * t[3] * i * i * n + 1 * i * i * i;
                }
                var o = Math.cos,
                    a = Math.acos,
                    c = Math.max,
                    h = 2 * Math.PI,
                    l = Math.sqrt;
                e.exports = {
                    bezier: n,
                    bezierByTime: s,
                };
            },
            {},
        ],
        17: [
            function (t, e, i) {
                function n(t, e) {
                    return function (i) {
                        return i < 0.5 ? e(2 * i) / 2 : t(2 * i - 1) / 2 + 0.5;
                    };
                }
                var r = {
                    constant: function () {
                        return 0;
                    },
                    linear: function (t) {
                        return t;
                    },
                    quadIn: function (t) {
                        return t * t;
                    },
                    quadOut: function (t) {
                        return t * (2 - t);
                    },
                    quadInOut: function (t) {
                        return (t *= 2) < 1 ? 0.5 * t * t : -0.5 * (--t * (t - 2) - 1);
                    },
                    cubicIn: function (t) {
                        return t * t * t;
                    },
                    cubicOut: function (t) {
                        return --t * t * t + 1;
                    },
                    cubicInOut: function (t) {
                        return (t *= 2) < 1 ? 0.5 * t * t * t : 0.5 * ((t -= 2) * t * t + 2);
                    },
                    quartIn: function (t) {
                        return t * t * t * t;
                    },
                    quartOut: function (t) {
                        return 1 - --t * t * t * t;
                    },
                    quartInOut: function (t) {
                        return (t *= 2) < 1 ? 0.5 * t * t * t * t : -0.5 * ((t -= 2) * t * t * t - 2);
                    },
                    quintIn: function (t) {
                        return t * t * t * t * t;
                    },
                    quintOut: function (t) {
                        return --t * t * t * t * t + 1;
                    },
                    quintInOut: function (t) {
                        return (t *= 2) < 1 ? 0.5 * t * t * t * t * t : 0.5 * ((t -= 2) * t * t * t * t + 2);
                    },
                    sineIn: function (t) {
                        return 1 - Math.cos((t * Math.PI) / 2);
                    },
                    sineOut: function (t) {
                        return Math.sin((t * Math.PI) / 2);
                    },
                    sineInOut: function (t) {
                        return 0.5 * (1 - Math.cos(Math.PI * t));
                    },
                    expoIn: function (t) {
                        return 0 === t ? 0 : Math.pow(1024, t - 1);
                    },
                    expoOut: function (t) {
                        return 1 === t ? 1 : 1 - Math.pow(2, -10 * t);
                    },
                    expoInOut: function (t) {
                        return 0 === t
                            ? 0
                            : 1 === t
                            ? 1
                            : (t *= 2) < 1
                            ? 0.5 * Math.pow(1024, t - 1)
                            : 0.5 * (2 - Math.pow(2, -10 * (t - 1)));
                    },
                    circIn: function (t) {
                        return 1 - Math.sqrt(1 - t * t);
                    },
                    circOut: function (t) {
                        return Math.sqrt(1 - --t * t);
                    },
                    circInOut: function (t) {
                        return (t *= 2) < 1
                            ? -0.5 * (Math.sqrt(1 - t * t) - 1)
                            : 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1);
                    },
                    elasticIn: function (t) {
                        var e,
                            i = 0.1;
                        return 0 === t
                            ? 0
                            : 1 === t
                            ? 1
                            : (!i || i < 1 ? ((i = 1), (e = 0.1)) : (e = (0.4 * Math.asin(1 / i)) / (2 * Math.PI)),
                              -i * Math.pow(2, 10 * (t -= 1)) * Math.sin(((t - e) * (2 * Math.PI)) / 0.4));
                    },
                    elasticOut: function (t) {
                        var e,
                            i = 0.1;
                        return 0 === t
                            ? 0
                            : 1 === t
                            ? 1
                            : (!i || i < 1 ? ((i = 1), (e = 0.1)) : (e = (0.4 * Math.asin(1 / i)) / (2 * Math.PI)),
                              i * Math.pow(2, -10 * t) * Math.sin(((t - e) * (2 * Math.PI)) / 0.4) + 1);
                    },
                    elasticInOut: function (t) {
                        var e,
                            i = 0.1;
                        return 0 === t
                            ? 0
                            : 1 === t
                            ? 1
                            : (!i || i < 1 ? ((i = 1), (e = 0.1)) : (e = (0.4 * Math.asin(1 / i)) / (2 * Math.PI)),
                              (t *= 2) < 1
                                  ? i * Math.pow(2, 10 * (t -= 1)) * Math.sin(((t - e) * (2 * Math.PI)) / 0.4) * -0.5
                                  : i * Math.pow(2, -10 * (t -= 1)) * Math.sin(((t - e) * (2 * Math.PI)) / 0.4) * 0.5 +
                                    1);
                    },
                    backIn: function (t) {
                        return t * t * (2.70158 * t - 1.70158);
                    },
                    backOut: function (t) {
                        return --t * t * (2.70158 * t + 1.70158) + 1;
                    },
                    backInOut: function (t) {
                        return (t *= 2) < 1
                            ? t * t * (3.5949095 * t - 2.5949095) * 0.5
                            : 0.5 * ((t -= 2) * t * (3.5949095 * t + 2.5949095) + 2);
                    },
                    bounceOut: function (t) {
                        return t < 1 / 2.75
                            ? 7.5625 * t * t
                            : t < 2 / 2.75
                            ? 7.5625 * (t -= 1.5 / 2.75) * t + 0.75
                            : t < 2.5 / 2.75
                            ? 7.5625 * (t -= 2.25 / 2.75) * t + 0.9375
                            : 7.5625 * (t -= 2.625 / 2.75) * t + 0.984375;
                    },
                    smooth: function (t) {
                        return t <= 0 ? 0 : t >= 1 ? 1 : t * t * (3 - 2 * t);
                    },
                    fade: function (t) {
                        return t <= 0 ? 0 : t >= 1 ? 1 : t * t * t * (t * (6 * t - 15) + 10);
                    },
                };
                (r.quadOutIn = n(r.quadIn, r.quadOut)),
                    (r.cubicOutIn = n(r.cubicIn, r.cubicOut)),
                    (r.quartOutIn = n(r.quartIn, r.quartOut)),
                    (r.quintOutIn = n(r.quintIn, r.quintOut)),
                    (r.sineOutIn = n(r.sineIn, r.sineOut)),
                    (r.expoOutIn = n(r.expoIn, r.expoOut)),
                    (r.circOutIn = n(r.circIn, r.circOut)),
                    (r.backOutIn = n(r.backIn, r.backOut)),
                    (r.backOutIn = n(r.backIn, r.backOut)),
                    (r.bounceIn = function (t) {
                        return 1 - r.bounceOut(1 - t);
                    }),
                    (r.bounceInOut = function (t) {
                        return t < 0.5 ? 0.5 * r.bounceIn(2 * t) : 0.5 * r.bounceOut(2 * t - 1) + 0.5;
                    }),
                    (r.bounceOutIn = n(r.bounceIn, r.bounceOut)),
                    (cc.Easing = e.exports = r);
            },
            {},
        ],
        18: [
            function (t, e, i) {
                t('./bezier'),
                    t('./easing'),
                    t('./types'),
                    t('./motion-path-helper'),
                    t('./animation-curves'),
                    t('./animation-clip'),
                    t('./animation-manager'),
                    t('./animation-state'),
                    t('./animation-animator');
            },
            {
                './animation-animator': 11,
                './animation-clip': 12,
                './animation-curves': 13,
                './animation-manager': 14,
                './animation-state': 15,
                './bezier': 16,
                './easing': 17,
                './motion-path-helper': 19,
                './types': 21,
            },
        ],
        19: [
            function (t, e, i) {
                function n(t) {
                    (this.points = t || []),
                        (this.beziers = []),
                        (this.ratios = []),
                        (this.progresses = []),
                        (this.length = 0),
                        this.computeBeziers();
                }

                function r() {
                    (this.start = l()), (this.end = l()), (this.startCtrlPoint = l()), (this.endCtrlPoint = l());
                }

                function s(t, e, i, r) {
                    function s(t) {
                        return t instanceof cc.Vec2
                            ? { in: t, pos: t, out: t }
                            : Array.isArray(t) && 6 === t.length
                            ? { in: l(t[2], t[3]), pos: l(t[0], t[1]), out: l(t[4], t[5]) }
                            : { in: cc.Vec2.ZERO, pos: cc.Vec2.ZERO, out: cc.Vec2.ZERO };
                    }

                    function c(t, e, i) {
                        f.push(t), p.push(e), g.push(i);
                    }
                    var u = e.values;
                    if (0 !== t.length && 0 !== u.length)
                        if (
                            1 !==
                            (u = u.map(function (t) {
                                return l(t[0], t[1]);
                            })).length
                        ) {
                            for (
                                var d = e.types,
                                    _ = e.ratios,
                                    f = (e.values = []),
                                    p = (e.types = []),
                                    g = (e.ratios = []),
                                    m = 0,
                                    v = o.Linear,
                                    y = 0,
                                    C = t.length;
                                y < C - 1;
                                y++
                            ) {
                                var T,
                                    E = t[y],
                                    x = _[y],
                                    S = _[y + 1] - x,
                                    b = u[y],
                                    A = u[y + 1],
                                    R = d[y],
                                    w = [],
                                    I = m / S,
                                    O = 1 / (S * i * r);
                                if (E && E.length > 0) {
                                    var L = [];
                                    L.push(s(b));
                                    for (var P = 0, D = E.length; P < D; P++) {
                                        var N = s(E[P]);
                                        L.push(N);
                                    }
                                    L.push(s(A));
                                    var F = new n(L);
                                    F.computeBeziers();
                                    for (var M = F.progresses; 1 - I > 1e-6; ) {
                                        var B, z, V, W;
                                        if ((T = a((T = I), R)) < 0)
                                            (W = (0 - T) * (z = F.beziers[0]).getLength()),
                                                (V = z.start.sub(z.endCtrlPoint).normalize()),
                                                (B = z.start.add(V.mul(W)));
                                        else if (T > 1)
                                            (W = (T - 1) * (z = F.beziers[F.beziers.length - 1]).getLength()),
                                                (V = z.end.sub(z.startCtrlPoint).normalize()),
                                                (B = z.end.add(V.mul(W)));
                                        else {
                                            var U = h(M, T);
                                            U < 0 && (U = ~U),
                                                (T -= U > 0 ? M[U - 1] : 0),
                                                (T /= F.ratios[U]),
                                                (B = F.beziers[U].getPointAt(T));
                                        }
                                        w.push(B), (I += O);
                                    }
                                } else for (; 1 - I > 1e-6; ) (T = a((T = I), R)), w.push(b.lerp(A, T)), (I += O);
                                v = 'constant' === R ? R : o.Linear;
                                for (P = 0, D = w.length; P < D; P++) {
                                    var k = x + m + O * P * S;
                                    c(w[P], v, k);
                                }
                                m = Math.abs(I - 1) > 1e-6 ? (I - 1) * S : 0;
                            }
                            _[_.length - 1] !== g[g.length - 1] && c(u[u.length - 1], v, _[_.length - 1]);
                        } else e.values = u;
                }
                var o = t('./animation-curves').DynamicAnimCurve,
                    a = t('./animation-curves').computeRatioByType,
                    c = t('./bezier').bezier,
                    h = t('../core/utils/binary-search').binarySearchEpsilon,
                    l = cc.v2;
                (n.prototype.computeBeziers = function () {
                    (this.beziers.length = 0),
                        (this.ratios.length = 0),
                        (this.progresses.length = 0),
                        (this.length = 0);
                    for (var t, e = 1; e < this.points.length; e++) {
                        var i = this.points[e - 1],
                            n = this.points[e];
                        ((t = new r()).start = i.pos),
                            (t.startCtrlPoint = i.out),
                            (t.end = n.pos),
                            (t.endCtrlPoint = n.in),
                            this.beziers.push(t),
                            (this.length += t.getLength());
                    }
                    var s = 0;
                    for (e = 0; e < this.beziers.length; e++)
                        (t = this.beziers[e]),
                            (this.ratios[e] = t.getLength() / this.length),
                            (this.progresses[e] = s += this.ratios[e]);
                    return this.beziers;
                }),
                    (r.prototype.getPointAt = function (t) {
                        var e = this.getUtoTmapping(t);
                        return this.getPoint(e);
                    }),
                    (r.prototype.getPoint = function (t) {
                        var e = c(this.start.x, this.startCtrlPoint.x, this.endCtrlPoint.x, this.end.x, t),
                            i = c(this.start.y, this.startCtrlPoint.y, this.endCtrlPoint.y, this.end.y, t);
                        return new l(e, i);
                    }),
                    (r.prototype.getLength = function () {
                        var t = this.getLengths();
                        return t[t.length - 1];
                    }),
                    (r.prototype.getLengths = function (t) {
                        if (
                            (t || (t = this.__arcLengthDivisions ? this.__arcLengthDivisions : 200),
                            this.cacheArcLengths && this.cacheArcLengths.length === t + 1)
                        )
                            return this.cacheArcLengths;
                        var e,
                            i,
                            n = [],
                            r = this.getPoint(0),
                            s = 0;
                        for (n.push(0), i = 1; i <= t; i++)
                            (e = this.getPoint(i / t)), (s += cc.pDistance(e, r)), n.push(s), (r = e);
                        return (this.cacheArcLengths = n), n;
                    }),
                    (r.prototype.getUtoTmapping = function (t, e) {
                        var i,
                            n = this.getLengths(),
                            r = 0,
                            s = n.length;
                        i = e || t * n[s - 1];
                        for (var o, a = 0, c = s - 1; a <= c; )
                            if (((r = Math.floor(a + (c - a) / 2)), (o = n[r] - i) < 0)) a = r + 1;
                            else {
                                if (!(o > 0)) {
                                    c = r;
                                    break;
                                }
                                c = r - 1;
                            }
                        if (((r = c), n[r] === i)) {
                            return r / (s - 1);
                        }
                        var h = n[r];
                        return (r + (i - h) / (n[r + 1] - h)) / (s - 1);
                    }),
                    (e.exports = {
                        sampleMotionPaths: s,
                        Curve: n,
                        Bezier: r,
                    });
            },
            {
                '../core/utils/binary-search': 181,
                './animation-curves': 13,
                './bezier': 16,
            },
        ],
        20: [
            function (t, e, i) {
                function n() {
                    (this._isPlaying = !1), (this._isPaused = !1), (this._stepOnce = !1);
                }
                var r = cc.js,
                    s = n.prototype;
                r.get(
                    s,
                    'isPlaying',
                    function () {
                        return this._isPlaying;
                    },
                    !0,
                ),
                    r.get(
                        s,
                        'isPaused',
                        function () {
                            return this._isPaused;
                        },
                        !0,
                    );
                var o = function () {};
                (s.onPlay = o),
                    (s.onPause = o),
                    (s.onResume = o),
                    (s.onStop = o),
                    (s.onError = o),
                    (s.play = function () {
                        this._isPlaying
                            ? this._isPaused
                                ? ((this._isPaused = !1), this.onResume())
                                : this.onError('already-playing')
                            : ((this._isPlaying = !0), this.onPlay());
                    }),
                    (s.stop = function () {
                        this._isPlaying && ((this._isPlaying = !1), this.onStop(), (this._isPaused = !1));
                    }),
                    (s.pause = function () {
                        this._isPlaying && !this._isPaused && ((this._isPaused = !0), this.onPause());
                    }),
                    (s.resume = function () {
                        this._isPlaying && this._isPaused && ((this._isPaused = !1), this.onResume());
                    }),
                    (s.step = function () {
                        this.pause(), (this._stepOnce = !0), this._isPlaying || this.play();
                    }),
                    (e.exports = n);
            },
            {},
        ],
        21: [
            function (t, e, i) {
                function n(t) {
                    t
                        ? this.set(t)
                        : ((this.ratio = 0),
                          (this.time = 0),
                          (this.direction = 1),
                          (this.stopped = !0),
                          (this.iterations = 0),
                          (this.frameIndex = void 0));
                }
                cc.js;
                var r = {
                        Loop: 2,
                        ShouldWrap: 4,
                        PingPong: 22,
                        Reverse: 36,
                    },
                    s = cc.Enum({
                        Default: 0,
                        Normal: 1,
                        Reverse: r.Reverse,
                        Loop: r.Loop,
                        LoopReverse: r.Loop | r.Reverse,
                        PingPong: r.PingPong,
                        PingPongReverse: r.PingPong | r.Reverse,
                    });
                (cc.WrapMode = s),
                    (n.prototype.set = function (t) {
                        (this.ratio = t.ratio),
                            (this.time = t.time),
                            (this.direction = t.direction),
                            (this.stopped = t.stopped),
                            (this.iterations = t.iterations),
                            (this.frameIndex = t.frameIndex);
                    }),
                    (e.exports = {
                        WrapModeMask: r,
                        WrapMode: s,
                        WrappedInfo: n,
                    });
            },
            {},
        ],
        22: [
            function (t, e, i) {
                var n = t('../core/event/event-target'),
                    r = t('../core/platform/CCSys'),
                    s = !1,
                    o = [],
                    a = function (t) {
                        n.call(this),
                            (this._src = t),
                            (this._audioType = a.Type.UNKNOWN),
                            (this._element = null),
                            (this._eventList = {}),
                            (this._state = a.State.INITIALZING),
                            (this._loaded = !1),
                            (this._onended = function () {
                                this.emit('ended');
                            }.bind(this));
                    };
                cc.js.extend(a, n),
                    (a.Type = {
                        DOM: 'AUDIO',
                        WEBAUDIO: 'WEBAUDIO',
                        NATIVE: 'NATIVE',
                        UNKNOWN: 'UNKNOWN',
                    }),
                    (a.State = {
                        ERROR: -1,
                        INITIALZING: 0,
                        PLAYING: 1,
                        PAUSED: 2,
                    }),
                    (function (t) {
                        (t.preload = function () {
                            var t = this._src,
                                e = this;
                            if (!t)
                                return (
                                    (this._src = ''),
                                    (this._audioType = a.Type.UNKNOWN),
                                    (this._element = null),
                                    (this._state = a.State.INITIALZING),
                                    void (this._loaded = !1)
                                );
                            if (!this._element) {
                                var i = cc.loader.getItem(t);
                                if ((i || (i = cc.loader.getItem(t + '?useDom=1')), !i || !i.complete))
                                    return cc.loader.load(t, function (i) {
                                        if (!i) {
                                            var n = cc.loader.getItem(t);
                                            e.mount(n.element || n.buffer), e.emit('load');
                                        }
                                    });
                                e.mount(i.element || i.buffer), e.emit('load');
                            }
                        }),
                            (t._bindEnded = function (t) {
                                (t = t || this._onended),
                                    this._audioType === a.Type.DOM
                                        ? this._element.addEventListener('ended', t)
                                        : (this._element.onended = t);
                            }),
                            (t._unbindEnded = function () {
                                this._audioType === a.Type.DOM
                                    ? this._element.removeEventListener('ended', this._onended)
                                    : (this._element.onended = null);
                            }),
                            (t.mount = function (t) {
                                t instanceof HTMLElement
                                    ? ((this._element = document.createElement('audio')),
                                      (this._element.src = t.src),
                                      (this._audioType = a.Type.DOM))
                                    : ((this._element = new c(t, this)), (this._audioType = a.Type.WEBAUDIO)),
                                    (this._state = a.State.INITIALZING),
                                    (this._loaded = !0);
                            }),
                            (t.play = function () {
                                this._element &&
                                    (this._bindEnded(),
                                    this._element.play(),
                                    this.emit('play'),
                                    (this._state = a.State.PLAYING),
                                    this._audioType === a.Type.DOM &&
                                        this._element.paused &&
                                        o.push({
                                            instance: this,
                                            offset: 0,
                                            audio: this._element,
                                        }),
                                    s ||
                                        ((s = !0),
                                        cc.game.canvas.addEventListener('touchstart', function () {
                                            for (var t; (t = o.pop()); ) t.audio.play(t.offset);
                                        })));
                            }),
                            (t.destroy = function () {
                                0;
                            }),
                            (t.pause = function () {
                                this._element &&
                                    (this._unbindEnded(),
                                    this._element.pause(),
                                    this.emit('pause'),
                                    (this._state = a.State.PAUSED));
                            }),
                            (t.resume = function () {
                                this._element &&
                                    this._state !== a.State.PLAYING &&
                                    (this._bindEnded(),
                                    this._element.play(),
                                    this.emit('resume'),
                                    (this._state = a.State.PLAYING));
                            }),
                            (t.stop = function () {
                                if (this._element) {
                                    try {
                                        this._element.currentTime = 0;
                                    } catch (t) {}
                                    this._element.pause();
                                    for (var t = 0; t < o.length; t++)
                                        if (o[t].instance === this) {
                                            o.splice(t, 1);
                                            break;
                                        }
                                    this._unbindEnded(), this.emit('stop'), (this._state = a.State.PAUSED);
                                }
                            }),
                            (t.setLoop = function (t) {
                                this._element && (this._element.loop = t);
                            }),
                            (t.getLoop = function () {
                                return this._element && this._element.loop;
                            }),
                            (t.setVolume = function (t) {
                                this._element && (this._element.volume = t);
                            }),
                            (t.getVolume = function () {
                                return this._element ? this._element.volume : 1;
                            }),
                            (t.setCurrentTime = function (t) {
                                if (this._element) {
                                    this._unbindEnded(),
                                        this._bindEnded(
                                            function () {
                                                this._bindEnded();
                                            }.bind(this),
                                        );
                                    try {
                                        this._element.currentTime = t;
                                    } catch (n) {
                                        var e = this._element;
                                        if (e.addEventListener) {
                                            var i = function () {
                                                e.removeEventListener('loadedmetadata', i), (e.currentTime = t);
                                            };
                                            e.addEventListener('loadedmetadata', i);
                                        }
                                    }
                                }
                            }),
                            (t.getCurrentTime = function () {
                                return this._element ? this._element.currentTime : 0;
                            }),
                            (t.getDuration = function () {
                                return this._element ? this._element.duration : 0;
                            }),
                            (t.getState = function () {
                                var t = this._element;
                                return (
                                    a.State.PLAYING === this._state && t.paused && (this._state = a.State.PAUSED),
                                    this._state
                                );
                            }),
                            t.__defineGetter__('src', function () {
                                return this._src;
                            }),
                            t.__defineSetter__('src', function (t) {
                                return (this._src = t);
                            }),
                            t.__defineGetter__('paused', function () {
                                return !this._element || this._element.paused;
                            });
                    })(a.prototype);
                var c = function (t, e) {
                    (this._audio = e),
                        (this._context = r.__audioSupport.context),
                        (this._buffer = t),
                        (this._gainObj = this._context.createGain()),
                        (this._volume = 1),
                        this._gainObj.gain.setTargetAtTime
                            ? this._gainObj.gain.setTargetAtTime(this._volume, this._context.currentTime, 0.01)
                            : (this._gainObj.gain.value = 1),
                        this._gainObj.connect(this._context.destination),
                        (this._loop = !1),
                        (this._startTime = -1),
                        (this._currentSource = null),
                        (this.playedLength = 0),
                        (this._currextTimer = null),
                        (this._endCallback = function () {
                            this.onended && this.onended(this);
                        }.bind(this));
                };
                (function (t) {
                    (t.play = function (t) {
                        this._currentSource &&
                            !this.paused &&
                            ((this._currentSource.onended = null),
                            this._currentSource.stop(0),
                            (this.playedLength = 0));
                        var e = this._context.createBufferSource();
                        (e.buffer = this._buffer),
                            e.connect(this._gainObj),
                            (e.loop = this._loop),
                            (this._startTime = this._context.currentTime),
                            (t = t || this.playedLength) && (this._startTime -= t);
                        var i,
                            n = this._buffer.duration,
                            r = t;
                        if (
                            (this._loop
                                ? e.start
                                    ? e.start(0, r)
                                    : e.notoGrainOn
                                    ? e.noteGrainOn(0, r)
                                    : e.noteOn(0, r)
                                : ((i = n - t),
                                  e.start
                                      ? e.start(0, r, i)
                                      : e.notoGrainOn
                                      ? e.noteGrainOn(0, r, i)
                                      : e.noteOn(0, r, i)),
                            (this._currentSource = e),
                            (e.onended = this._endCallback),
                            (!e.context.state || 'suspended' === e.context.state) && 0 === this._context.currentTime)
                        ) {
                            var s = this;
                            clearTimeout(this._currextTimer),
                                (this._currextTimer = setTimeout(function () {
                                    0 === s._context.currentTime &&
                                        o.push({
                                            instance: s._audio,
                                            offset: t,
                                            audio: s,
                                        });
                                }, 10));
                        }
                    }),
                        (t.pause = function () {
                            if ((clearTimeout(this._currextTimer), !this.paused)) {
                                (this.playedLength = this._context.currentTime - this._startTime),
                                    (this.playedLength %= this._buffer.duration);
                                var t = this._currentSource;
                                (this._currentSource = null), (this._startTime = -1), t && t.stop(0);
                            }
                        }),
                        t.__defineGetter__('paused', function () {
                            return (
                                (!this._currentSource || !this._currentSource.loop) &&
                                (-1 === this._startTime ||
                                    this._context.currentTime - this._startTime > this._buffer.duration)
                            );
                        }),
                        t.__defineGetter__('loop', function () {
                            return this._loop;
                        }),
                        t.__defineSetter__('loop', function (t) {
                            return this._currentSource && (this._currentSource.loop = t), (this._loop = t);
                        }),
                        t.__defineGetter__('volume', function () {
                            return this._volume;
                        }),
                        t.__defineSetter__('volume', function (t) {
                            return (
                                (this._volume = t),
                                this._gainObj.gain.setTargetAtTime
                                    ? this._gainObj.gain.setTargetAtTime(this._volume, this._context.currentTime, 0.01)
                                    : (this._volume.gain.value = t),
                                r.os === r.OS_IOS &&
                                    !this.paused &&
                                    this._currentSource &&
                                    ((this._currentSource.onended = null), this.pause(), this.play()),
                                t
                            );
                        }),
                        t.__defineGetter__('currentTime', function () {
                            return this.paused
                                ? this.playedLength
                                : ((this.playedLength = this._context.currentTime - this._startTime),
                                  (this.playedLength %= this._buffer.duration),
                                  this.playedLength);
                        }),
                        t.__defineSetter__('currentTime', function (t) {
                            return (
                                this.paused
                                    ? (this.playedLength = t)
                                    : (this.pause(), (this.playedLength = t), this.play()),
                                t
                            );
                        }),
                        t.__defineGetter__('duration', function () {
                            return this._buffer.duration;
                        });
                })(c.prototype),
                    (e.exports = cc.Audio = a);
            },
            {
                '../core/event/event-target': 97,
                '../core/platform/CCSys': 144,
            },
        ],
        23: [
            function (t, e, i) {
                var n = t('./CCAudio'),
                    r = 0,
                    s = {},
                    o = {},
                    a = function (t) {
                        return s[t];
                    },
                    c = {
                        AudioState: n.State,
                        _maxWebAudioSize: 2097152,
                        _maxAudioInstance: 24,
                        _id2audio: s,
                        play: function (t, e, i) {
                            var a = (function (t) {
                                    var e = r++,
                                        i = o[t];
                                    i || (i = o[t] = []);
                                    var a;
                                    if (c._maxAudioInstance <= i.length) {
                                        var h = i.shift(),
                                            l = s[h];
                                        l.stop(), l.destroy();
                                    }
                                    var u = function () {
                                        var t = this.instanceId;
                                        delete s[t];
                                        var e = i.indexOf(t);
                                        cc.js.array.fastRemoveAt(i, e);
                                    };
                                    return (
                                        (a = new n(t)).on('ended', u),
                                        a.on('stop', u),
                                        (s[e] = a),
                                        (a.instanceId = e),
                                        i.push(e),
                                        a
                                    );
                                })(t),
                                h = function () {
                                    a.setLoop(e || !1),
                                        ('number' != typeof i || isNaN(i)) && (i = 1),
                                        a.setVolume(i),
                                        a.play();
                                };
                            return (a.__callback = h), a.on('load', h), a.preload(), a.instanceId;
                        },
                        setLoop: function (t, e) {
                            var i = a(t);
                            i && i.setLoop && i.setLoop(e);
                        },
                        isLoop: function (t) {
                            var e = a(t);
                            return !(!e || !e.isLoop) && e.isLoop();
                        },
                        setVolume: function (t, e) {
                            var i = a(t);
                            i &&
                                (i._loaded ||
                                    i.once('load', function () {
                                        i.setVolume && i.setVolume(e);
                                    }),
                                i.setVolume && i.setVolume(e));
                        },
                        getVolume: function (t) {
                            var e = a(t);
                            return e && e.getVolume ? e.getVolume() : 1;
                        },
                        setCurrentTime: function (t, e) {
                            var i = a(t);
                            return (
                                !!i &&
                                (i._loaded
                                    ? (i.setCurrentTime && i.setCurrentTime(e), !0)
                                    : (i.once('load', function () {
                                          i.setCurrentTime && i.setCurrentTime(e);
                                      }),
                                      !0))
                            );
                        },
                        getCurrentTime: function (t) {
                            var e = a(t);
                            return e && e.getCurrentTime ? e.getCurrentTime() : 0;
                        },
                        getDuration: function (t) {
                            var e = a(t);
                            return e && e.getDuration ? e.getDuration() : 0;
                        },
                        getState: function (t) {
                            var e = a(t);
                            return e && e.getState ? e.getState() : this.AudioState.ERROR;
                        },
                        setFinishCallback: function (t, e) {
                            var i = a(t);
                            i &&
                                (i.off('ended', i._finishCallback),
                                (i._finishCallback = e),
                                i.on('ended', i._finishCallback));
                        },
                        pause: function (t) {
                            var e = a(t);
                            return !(!e || !e.pause) && (e.pause(), !0);
                        },
                        _pauseIDCache: [],
                        pauseAll: function () {
                            for (var t in s) {
                                var e = s[t];
                                e.getState() === n.State.PLAYING && (this._pauseIDCache.push(t), e.pause());
                            }
                        },
                        resume: function (t) {
                            var e = a(t);
                            if (!e || !e.resume) return !1;
                            e.resume();
                        },
                        resumeAll: function () {
                            for (; this._pauseIDCache.length > 0; ) {
                                var t = this._pauseIDCache.pop(),
                                    e = a(t);
                                e && e.resume && e.resume();
                            }
                        },
                        stop: function (t) {
                            var e = a(t);
                            return !(!e || !e.stop) && (e.off('load', e.__callback), e.stop(), e.destroy(), !0);
                        },
                        stopAll: function () {
                            for (var t in s) {
                                var e = s[t];
                                e && e.stop && (e.stop(), e.destroy(), e.off('load', e.__callback));
                            }
                        },
                        setMaxAudioInstance: function (t) {
                            return (this._maxAudioInstance = t);
                        },
                        getMaxAudioInstance: function () {
                            return this._maxAudioInstance;
                        },
                        uncache: function (t) {
                            var e = o[t];
                            if (e)
                                for (; e.length > 0; ) {
                                    var i = e.pop(),
                                        n = s[i];
                                    n && (n.stop(), n.destroy(), delete s[i]);
                                }
                        },
                        uncacheAll: function () {
                            this.stopAll();
                            for (var t in s) {
                                var e = s[t];
                                e && e.destroy();
                            }
                            (s = {}), (o = {});
                        },
                        getProfile: function (t) {},
                        preload: function (t, e) {
                            cc.loader.load(
                                t,
                                e &&
                                    function (t) {
                                        t || e();
                                    },
                            );
                        },
                        setMaxWebAudioSize: function (t) {
                            this._maxWebAudioSize = 1024 * t;
                        },
                        _breakCache: null,
                        _break: function () {
                            this._breakCache = [];
                            for (var t in s) {
                                var e = s[t];
                                e.getState() === n.State.PLAYING && (this._breakCache.push(t), e.pause());
                            }
                        },
                        _restore: function () {
                            if (this._breakCache) {
                                for (; this._breakCache.length > 0; ) {
                                    var t = this._breakCache.pop(),
                                        e = a(t);
                                    e && e.resume && e.resume();
                                }
                                this._breakCache = null;
                            }
                        },
                    };
                e.exports = cc.audioEngine = c;
                var h = t('./deprecated');
                h.removed(c), h.deprecated(c);
            },
            {
                './CCAudio': 22,
                './deprecated': 24,
            },
        ],
        24: [
            function (t, e, i) {
                var n = cc.js;
                (i.removed = function (t) {
                    function e() {
                        cc.errorID(1403);
                    }
                    n.getset(t, 'willPlayMusic', e, e);
                }),
                    (i.deprecated = function (t) {
                        var e = -1,
                            i = 1,
                            r = 1,
                            s = [];
                        n.get(t, 'playMusic', function () {
                            return function (n, r) {
                                return t.stop(e), (e = t.play(n, r, i)), n, r, e;
                            };
                        }),
                            n.get(t, 'stopMusic', function () {
                                return function () {
                                    return t.stop(e), e;
                                };
                            }),
                            n.get(t, 'pauseMusic', function () {
                                return function () {
                                    return t.pause(e), e;
                                };
                            }),
                            n.get(t, 'resumeMusic', function () {
                                return function () {
                                    return t.resume(e), e;
                                };
                            }),
                            n.get(t, 'rewindMusic', function () {
                                return function () {
                                    return t.setCurrentTime(e, 0), e;
                                };
                            }),
                            n.get(t, 'getMusicVolume', function () {
                                return function () {
                                    return i;
                                };
                            }),
                            n.get(t, 'setMusicVolume', function () {
                                return function (n) {
                                    return (i = n), t.setVolume(e, i), i;
                                };
                            }),
                            n.get(t, 'isMusicPlaying', function () {
                                return function () {
                                    return t.getState(e) === t.AudioState.PLAYING;
                                };
                            }),
                            n.get(t, 'playEffect', function () {
                                return function (e, i, n) {
                                    return t.play(e, i || !1, void 0 === n ? r : n);
                                };
                            }),
                            n.get(t, 'setEffectsVolume', function (i) {
                                return function (i) {
                                    r = i;
                                    var n = t._id2audio;
                                    for (var s in n) s !== e && t.setVolume(s, i);
                                };
                            }),
                            n.get(t, 'getEffectsVolume', function () {
                                return function () {
                                    return r;
                                };
                            }),
                            n.get(t, 'pauseEffect', function () {
                                return function (e) {
                                    return t.pause(e);
                                };
                            }),
                            n.get(t, 'pauseAllEffects', function () {
                                return function () {
                                    s.length = 0;
                                    var i = t._id2audio;
                                    for (var n in i)
                                        if (n !== e) {
                                            var r = i[n];
                                            r.getState() === t.AudioState.PLAYING && (s.push(n), r.pause());
                                        }
                                };
                            }),
                            n.get(t, 'resumeEffect', function () {
                                return function (e) {
                                    t.resume(e);
                                };
                            }),
                            n.get(t, 'resumeAllEffects', function () {
                                return function () {
                                    for (var e = t._id2audio; s.length > 0; ) {
                                        var i = e[s.pop()];
                                        i && i.resume && i.resume();
                                    }
                                };
                            }),
                            n.get(t, 'stopEffect', function () {
                                return function (e) {
                                    return t.stop(e);
                                };
                            }),
                            n.get(t, 'stopAllEffects', function () {
                                return function () {
                                    var i = t._id2audio;
                                    for (var n in i)
                                        if (n !== e) {
                                            var r = i[n];
                                            r.getState() === t.AudioState.PLAYING && r.stop();
                                        }
                                };
                            }),
                            n.get(t, 'unloadEffect', function () {
                                return function (e) {
                                    return t.stop(e);
                                };
                            }),
                            n.get(t, 'end', function () {
                                return function () {
                                    return t.stopAll();
                                };
                            });
                    });
            },
            {},
        ],
        25: [
            function (t, e, i) {
                (cc.ClippingNode = _ccsg.Node.extend({
                    inverted: !1,
                    _alphaThreshold: 0,
                    _stencil: null,
                    _className: 'ClippingNode',
                    _originStencilProgram: null,
                    ctor: function (t) {
                        (t = t || null),
                            _ccsg.Node.prototype.ctor.call(this),
                            (this._stencil = t),
                            t && (this._originStencilProgram = t.getShaderProgram()),
                            (this.alphaThreshold = 1),
                            (this.inverted = !1),
                            this._renderCmd.initStencilBits();
                    },
                    onEnter: function () {
                        _ccsg.Node.prototype.onEnter.call(this),
                            this._stencil && this._stencil.performRecursive(_ccsg.Node.performType.onEnter);
                    },
                    onEnterTransitionDidFinish: function () {
                        _ccsg.Node.prototype.onEnterTransitionDidFinish.call(this),
                            this._stencil &&
                                this._stencil.performRecursive(_ccsg.Node.performType.onEnterTransitionDidFinish);
                    },
                    onExitTransitionDidStart: function () {
                        this._stencil &&
                            this._stencil.performRecursive(_ccsg.Node.performType.onExitTransitionDidStart),
                            _ccsg.Node.prototype.onExitTransitionDidStart.call(this);
                    },
                    onExit: function () {
                        this._stencil && this._stencil.performRecursive(_ccsg.Node.performType.onExit),
                            _ccsg.Node.prototype.onExit.call(this);
                    },
                    visit: function (t) {
                        this._renderCmd.clippingVisit(t && t._renderCmd);
                    },
                    _visitChildren: function () {
                        this._reorderChildDirty && this.sortAllChildren();
                        for (var t, e = this._children, i = 0, n = e.length; i < n; i++)
                            (t = e[i]) && t._visible && t.visit(this);
                        this._renderCmd._dirtyFlag = 0;
                    },
                    getAlphaThreshold: function () {
                        return this._alphaThreshold;
                    },
                    setAlphaThreshold: function (t) {
                        1 === t && t !== this._alphaThreshold && this._renderCmd.resetProgramByStencil(),
                            (this._alphaThreshold = t);
                    },
                    isInverted: function () {
                        return this.inverted;
                    },
                    setInverted: function (t) {
                        this.inverted = t;
                    },
                    getStencil: function () {
                        return this._stencil;
                    },
                    setStencil: function (t) {
                        this._stencil !== t &&
                            (t && (this._originStencilProgram = t.getShaderProgram()), this._renderCmd.setStencil(t));
                    },
                    _createRenderCmd: function () {
                        return cc._renderType === cc.game.RENDER_TYPE_CANVAS
                            ? new cc.ClippingNode.CanvasRenderCmd(this)
                            : new cc.ClippingNode.WebGLRenderCmd(this);
                    },
                })),
                    (cc.ClippingNode.stencilBits = -1);
                var n = cc.ClippingNode.prototype;
                cc.defineGetterSetter(n, 'stencil', n.getStencil, n.setStencil),
                    cc.defineGetterSetter(n, 'alphaThreshold', n.getAlphaThreshold, n.setAlphaThreshold);
            },
            {},
        ],
        26: [
            function (t, e, i) {
                t('../shape-nodes/CCDrawNode'),
                    (cc.ClippingNode.CanvasRenderCmd = function (t) {
                        this._rootCtor(t),
                            (this._needDraw = !1),
                            (this._rendererClipCmd = new cc.CustomRenderCmd(this, this._drawStencilCommand)),
                            (this._rendererRestoreCmd = new cc.CustomRenderCmd(this, this._restoreCmdCallback));
                    });
                var n = (cc.ClippingNode.CanvasRenderCmd.prototype = Object.create(
                    _ccsg.Node.CanvasRenderCmd.prototype,
                ));
                (n.constructor = cc.ClippingNode.CanvasRenderCmd),
                    (n.resetProgramByStencil = function () {}),
                    (n.initStencilBits = function () {}),
                    (n.setStencil = function (t) {
                        null != t && ((this._node._stencil = t), t instanceof cc.DrawNode || cc.errorID(6300));
                    }),
                    (n._restoreCmdCallback = function (t) {
                        (t || cc._renderContext).restore();
                    }),
                    (n._drawStencilCommand = function (t, e, i) {
                        var n = t || cc._renderContext,
                            r = n.getContext();
                        n.save(), r.beginPath(), n.setTransform(this._worldTransform, e, i);
                        for (var s = this._node._stencil._buffer, o = 0; o < s.length; ++o) {
                            var a = s[o].verts;
                            if (!(a.length < 3)) {
                                r.moveTo(a[0].x, -a[0].y);
                                for (var c = 1; c < a.length; ++c) r.lineTo(a[c].x, -a[c].y);
                            }
                        }
                        r.clip();
                    }),
                    (n.clippingVisit = function (t) {
                        var e = this._node;
                        if (((t = t || this.getParentRenderCmd()), this._propagateFlagsDown(t), e._visible)) {
                            t && (this._curLevel = t._curLevel + 1),
                                this._syncStatus(t),
                                e._stencil && cc.renderer.pushRenderCommand(this._rendererClipCmd);
                            var i,
                                n = e._children,
                                r = n.length;
                            if (r > 0) for (e.sortAllChildren(), i = 0; i < r; i++) n[i].visit(e);
                            e._stencil && cc.renderer.pushRenderCommand(this._rendererRestoreCmd),
                                (this._dirtyFlag = 0);
                        }
                    });
            },
            {
                '../shape-nodes/CCDrawNode': 229,
            },
        ],
        27: [
            function (t, e, i) {
                function n(t, e) {
                    t.shaderProgram = e;
                    var i = t.children;
                    if (i) for (var r = 0; r < i.length; r++) n(i[r], e);
                }
                t('../core/CCDrawingPrimitives');
                var r = {
                    stencilEnabled: !1,
                    depthWriteMask: !0,
                };
                cc.ClippingNode.WebGLRenderCmd = function (t) {
                    this._rootCtor(t),
                        (this._needDraw = !1),
                        (this._beforeVisitCmd = new cc.CustomRenderCmd(this, this._onBeforeVisit)),
                        (this._afterDrawStencilCmd = new cc.CustomRenderCmd(this, this._onAfterDrawStencil)),
                        (this._afterVisitCmd = new cc.CustomRenderCmd(this, this._onAfterVisit)),
                        (this._previousState = null),
                        (this._state = {
                            stencilEnabled: !0,
                            stencilWriteMask: 0,
                            depthWriteMask: !1,
                            stencilFunc: 0,
                            stencilRef: 0,
                            stencilValueMask: 0,
                        });
                };
                var s = (cc.ClippingNode.WebGLRenderCmd.prototype = Object.create(_ccsg.Node.WebGLRenderCmd.prototype));
                (s.constructor = cc.ClippingNode.WebGLRenderCmd),
                    (cc.ClippingNode.WebGLRenderCmd._init_once = null),
                    (cc.ClippingNode.WebGLRenderCmd._visit_once = null),
                    (cc.ClippingNode.WebGLRenderCmd._layer = -1),
                    (s.initStencilBits = function () {
                        (cc.ClippingNode.WebGLRenderCmd._init_once = !0),
                            cc.ClippingNode.WebGLRenderCmd._init_once &&
                                ((cc.ClippingNode.stencilBits = cc._renderContext.getParameter(
                                    cc._renderContext.STENCIL_BITS,
                                )),
                                cc.ClippingNode.stencilBits <= 0 && cc.logID(6301),
                                (cc.ClippingNode.WebGLRenderCmd._init_once = !1));
                    }),
                    (s.transform = function (t, e) {
                        var i = this._node;
                        this.originTransform(t, e),
                            i._stencil &&
                                (i._stencil._renderCmd.transform(this, !0),
                                (i._stencil._dirtyFlag &= ~_ccsg.Node._dirtyFlags.transformDirty));
                    }),
                    (s.clippingVisit = function (t) {
                        var e = this._node;
                        if (((t = t || this.getParentRenderCmd()), this.visit(t), cc.ClippingNode.stencilBits < 1))
                            e._visitChildren();
                        else if (e._stencil && e._stencil.visible) {
                            if (cc.ClippingNode.WebGLRenderCmd._layer + 1 === cc.ClippingNode.stencilBits)
                                return (
                                    (cc.ClippingNode.WebGLRenderCmd._visit_once = !0),
                                    cc.ClippingNode.WebGLRenderCmd._visit_once &&
                                        (cc.logID(6302, cc.ClippingNode.stencilBits),
                                        (cc.ClippingNode.WebGLRenderCmd._visit_once = !1)),
                                    void e._visitChildren()
                                );
                            cc.renderer.pushRenderCommand(this._beforeVisitCmd),
                                e._stencil.visit(e),
                                cc.renderer.pushRenderCommand(this._afterDrawStencilCmd);
                            var i = e._children;
                            if (i && i.length > 0) {
                                var n = i.length;
                                e.sortAllChildren();
                                for (var r = 0; r < n; r++) i[r].visit(e);
                            }
                            cc.renderer.pushRenderCommand(this._afterVisitCmd), (this._dirtyFlag = 0);
                        } else e.inverted && e._visitChildren();
                    }),
                    (s.setStencil = function (t) {
                        var e = this._node;
                        e._stencil && (e._stencil._parent = null),
                            (e._stencil = t),
                            e._stencil && (e._stencil._parent = e);
                    }),
                    (s._drawFullScreenQuadClearStencil = function () {
                        var t = cc.math.projection_matrix_stack;
                        t.push(), t.top.identity();
                        var e = cc.math.modelview_matrix_stack;
                        e.push(),
                            e.top.identity(),
                            cc._drawingUtil.drawSolidRect(cc.p(-1, -1), cc.p(1, 1), cc.color(255, 255, 255, 255)),
                            t.pop(),
                            e.pop();
                    }),
                    (s.resetProgramByStencil = function () {
                        var t = this._node;
                        if (t._stencil) {
                            var e = t._originStencilProgram;
                            n(t._stencil, e);
                        }
                    }),
                    (s._onBeforeVisit = function (t) {
                        var e = t || cc._renderContext,
                            i = this._node;
                        cc.ClippingNode.WebGLRenderCmd._layer++;
                        var s = 1 << cc.ClippingNode.WebGLRenderCmd._layer,
                            o = s | (s - 1);
                        if (
                            ((this._previousState = r),
                            e.enable(e.STENCIL_TEST),
                            e.stencilMask(s),
                            e.depthMask(!1),
                            e.stencilFunc(e.NEVER, s, s),
                            e.stencilOp(this._node.inverted ? e.REPLACE : e.ZERO, e.KEEP, e.KEEP),
                            this._drawFullScreenQuadClearStencil(),
                            e.stencilFunc(e.NEVER, s, s),
                            e.stencilOp(this._node.inverted ? e.ZERO : e.REPLACE, e.KEEP, e.KEEP),
                            i.alphaThreshold < 1)
                        ) {
                            var a = cc.shaderCache.programForKey(cc.macro.SHADER_POSITION_TEXTURECOLORALPHATEST);
                            cc.gl.useProgram(a.getProgram()),
                                a.setUniformLocationWith1f(cc.macro.UNIFORM_ALPHA_TEST_VALUE_S, i.alphaThreshold),
                                a.setUniformLocationWithMatrix4fv(
                                    cc.macro.UNIFORM_MVMATRIX_S,
                                    cc.renderer.mat4Identity.mat,
                                ),
                                n(i._stencil, a);
                        }
                        (this._state.stencilWriteMask = s),
                            (this._state.stencilRef = this._state.stencilValueMask = o),
                            (this._state.stencilFunc = e.NEVER),
                            (r = this._state);
                    }),
                    (s._onAfterDrawStencil = function (t) {
                        var e = t || cc._renderContext;
                        e.depthMask(this._previousState.depthWriteMask),
                            e.stencilFunc(e.EQUAL, this._state.stencilRef, this._state.stencilValueMask),
                            e.stencilOp(e.KEEP, e.KEEP, e.KEEP),
                            (this._state.stencilFunc = e.EQUAL);
                    }),
                    (s._onAfterVisit = function (t) {
                        var e = t || cc._renderContext,
                            i = this._previousState;
                        i.stencilEnabled
                            ? (e.stencilFunc(i.stencilFunc, i.stencilRef, i.stencilValueMask),
                              e.stencilOp(e.KEEP, e.KEEP, e.KEEP),
                              e.stencilMask(i.stencilWriteMask))
                            : e.disable(e.STENCIL_TEST),
                            (r = this._previousState),
                            (this._previousState = null),
                            cc.ClippingNode.WebGLRenderCmd._layer--;
                    });
            },
            {
                '../core/CCDrawingPrimitives': 36,
            },
        ],
        28: [
            function (t, e, i) {
                (cc.Codec = {
                    name: 'Jacob__Codec',
                }),
                    (cc.Codec.Base64 = t('./base64')),
                    (cc.Codec.GZip = t('./gzip')),
                    (cc.Codec.unzip = function () {
                        return cc.Codec.GZip.gunzip.apply(cc.Codec.GZip, arguments);
                    }),
                    (cc.Codec.unzipBase64 = function () {
                        var t = cc.Codec.Base64.decode.apply(cc.Codec.Base64, arguments);
                        try {
                            return cc.Codec.GZip.gunzip.call(cc.Codec.GZip, t);
                        } catch (e) {
                            return t.slice(7);
                        }
                    }),
                    (cc.Codec.unzipBase64AsArray = function (t, e) {
                        e = e || 1;
                        var i,
                            n,
                            r,
                            s = this.unzipBase64(t),
                            o = [];
                        for (i = 0, r = s.length / e; i < r; i++)
                            for (o[i] = 0, n = e - 1; n >= 0; --n) o[i] += s.charCodeAt(i * e + n) << (8 * n);
                        return o;
                    }),
                    (cc.Codec.unzipAsArray = function (t, e) {
                        e = e || 1;
                        var i,
                            n,
                            r,
                            s = this.unzip(t),
                            o = [];
                        for (i = 0, r = s.length / e; i < r; i++)
                            for (o[i] = 0, n = e - 1; n >= 0; --n) o[i] += s.charCodeAt(i * e + n) << (8 * n);
                        return o;
                    });
            },
            {
                './base64': 29,
                './gzip': 30,
            },
        ],
        29: [
            function (t, e, i) {
                var n = t('../core/utils/misc').BASE64_VALUES,
                    r = {
                        name: 'Jacob__Codec__Base64',
                    };
                (r.decode = function (t) {
                    var e,
                        i,
                        r,
                        s,
                        o,
                        a,
                        c = [],
                        h = 0;
                    for (t = t.replace(/[^A-Za-z0-9\+\/\=]/g, ''); h < t.length; )
                        (e = (n[t.charCodeAt(h++)] << 2) | ((s = n[t.charCodeAt(h++)]) >> 4)),
                            (i = ((15 & s) << 4) | ((o = n[t.charCodeAt(h++)]) >> 2)),
                            (r = ((3 & o) << 6) | (a = n[t.charCodeAt(h++)])),
                            c.push(String.fromCharCode(e)),
                            64 !== o && c.push(String.fromCharCode(i)),
                            64 !== a && c.push(String.fromCharCode(r));
                    return (c = c.join(''));
                }),
                    (r.decodeAsArray = function (t, e) {
                        var i,
                            n,
                            r,
                            s = this.decode(t),
                            o = [];
                        for (i = 0, r = s.length / e; i < r; i++)
                            for (o[i] = 0, n = e - 1; n >= 0; --n) o[i] += s.charCodeAt(i * e + n) << (8 * n);
                        return o;
                    }),
                    (e.exports = r);
            },
            {
                '../core/utils/misc': 185,
            },
        ],
        30: [
            function (t, e, i) {
                var n = function (t) {
                    (this.data = t),
                        (this.debug = !1),
                        (this.gpflags = void 0),
                        (this.files = 0),
                        (this.unzipped = []),
                        (this.buf32k = new Array(32768)),
                        (this.bIdx = 0),
                        (this.modeZIP = !1),
                        (this.bytepos = 0),
                        (this.bb = 1),
                        (this.bits = 0),
                        (this.nameBuf = []),
                        (this.fileout = void 0),
                        (this.literalTree = new Array(n.LITERALS)),
                        (this.distanceTree = new Array(32)),
                        (this.treepos = 0),
                        (this.Places = null),
                        (this.len = 0),
                        (this.fpos = new Array(17)),
                        (this.fpos[0] = 0),
                        (this.flens = void 0),
                        (this.fmax = void 0);
                };
                (n.gunzip = function (t) {
                    t.constructor === Array || (t.constructor, String);
                    return new n(t).gunzip()[0][0];
                }),
                    (n.HufNode = function () {
                        (this.b0 = 0), (this.b1 = 0), (this.jump = null), (this.jumppos = -1);
                    }),
                    (n.LITERALS = 288),
                    (n.NAMEMAX = 256),
                    (n.bitReverse = [
                        0, 128, 64, 192, 32, 160, 96, 224, 16, 144, 80, 208, 48, 176, 112, 240, 8, 136, 72, 200, 40,
                        168, 104, 232, 24, 152, 88, 216, 56, 184, 120, 248, 4, 132, 68, 196, 36, 164, 100, 228, 20, 148,
                        84, 212, 52, 180, 116, 244, 12, 140, 76, 204, 44, 172, 108, 236, 28, 156, 92, 220, 60, 188, 124,
                        252, 2, 130, 66, 194, 34, 162, 98, 226, 18, 146, 82, 210, 50, 178, 114, 242, 10, 138, 74, 202,
                        42, 170, 106, 234, 26, 154, 90, 218, 58, 186, 122, 250, 6, 134, 70, 198, 38, 166, 102, 230, 22,
                        150, 86, 214, 54, 182, 118, 246, 14, 142, 78, 206, 46, 174, 110, 238, 30, 158, 94, 222, 62, 190,
                        126, 254, 1, 129, 65, 193, 33, 161, 97, 225, 17, 145, 81, 209, 49, 177, 113, 241, 9, 137, 73,
                        201, 41, 169, 105, 233, 25, 153, 89, 217, 57, 185, 121, 249, 5, 133, 69, 197, 37, 165, 101, 229,
                        21, 149, 85, 213, 53, 181, 117, 245, 13, 141, 77, 205, 45, 173, 109, 237, 29, 157, 93, 221, 61,
                        189, 125, 253, 3, 131, 67, 195, 35, 163, 99, 227, 19, 147, 83, 211, 51, 179, 115, 243, 11, 139,
                        75, 203, 43, 171, 107, 235, 27, 155, 91, 219, 59, 187, 123, 251, 7, 135, 71, 199, 39, 167, 103,
                        231, 23, 151, 87, 215, 55, 183, 119, 247, 15, 143, 79, 207, 47, 175, 111, 239, 31, 159, 95, 223,
                        63, 191, 127, 255,
                    ]),
                    (n.cplens = [
                        3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31, 35, 43, 51, 59, 67, 83, 99, 115, 131,
                        163, 195, 227, 258, 0, 0,
                    ]),
                    (n.cplext = [
                        0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, 99, 99,
                    ]),
                    (n.cpdist = [
                        1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193, 257, 385, 513, 769, 1025, 1537, 2049,
                        3073, 4097, 6145, 8193, 12289, 16385, 24577,
                    ]),
                    (n.cpdext = [
                        0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13,
                        13,
                    ]),
                    (n.border = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]),
                    (n.prototype.gunzip = function () {
                        return (this.outputArr = []), this.nextFile(), this.unzipped;
                    }),
                    (n.prototype.readByte = function () {
                        return (
                            (this.bits += 8),
                            this.bytepos < this.data.length ? this.data.charCodeAt(this.bytepos++) : -1
                        );
                    }),
                    (n.prototype.byteAlign = function () {
                        this.bb = 1;
                    }),
                    (n.prototype.readBit = function () {
                        var t;
                        return (
                            this.bits++,
                            (t = 1 & this.bb),
                            (this.bb >>= 1),
                            0 === this.bb &&
                                ((this.bb = this.readByte()), (t = 1 & this.bb), (this.bb = (this.bb >> 1) | 128)),
                            t
                        );
                    }),
                    (n.prototype.readBits = function (t) {
                        for (var e = 0, i = t; i--; ) e = (e << 1) | this.readBit();
                        return t && (e = n.bitReverse[e] >> (8 - t)), e;
                    }),
                    (n.prototype.flushBuffer = function () {
                        this.bIdx = 0;
                    }),
                    (n.prototype.addBuffer = function (t) {
                        (this.buf32k[this.bIdx++] = t),
                            this.outputArr.push(String.fromCharCode(t)),
                            32768 === this.bIdx && (this.bIdx = 0);
                    }),
                    (n.prototype.IsPat = function () {
                        for (;;) {
                            if (this.fpos[this.len] >= this.fmax) return -1;
                            if (this.flens[this.fpos[this.len]] === this.len) return this.fpos[this.len]++;
                            this.fpos[this.len]++;
                        }
                    }),
                    (n.prototype.Rec = function () {
                        var t,
                            e = this.Places[this.treepos];
                        if (17 === this.len) return -1;
                        if ((this.treepos++, this.len++, (t = this.IsPat()) >= 0)) e.b0 = t;
                        else if (((e.b0 = 32768), this.Rec())) return -1;
                        if ((t = this.IsPat()) >= 0) (e.b1 = t), (e.jump = null);
                        else if (
                            ((e.b1 = 32768),
                            (e.jump = this.Places[this.treepos]),
                            (e.jumppos = this.treepos),
                            this.Rec())
                        )
                            return -1;
                        return this.len--, 0;
                    }),
                    (n.prototype.CreateTree = function (t, e, i, n) {
                        var r;
                        for (this.Places = t, this.treepos = 0, this.flens = i, this.fmax = e, r = 0; r < 17; r++)
                            this.fpos[r] = 0;
                        return (this.len = 0), this.Rec() ? -1 : 0;
                    }),
                    (n.prototype.DecodeValue = function (t) {
                        for (var e, i, n = 0, r = t[n]; ; )
                            if (this.readBit()) {
                                if (!(32768 & r.b1)) return r.b1;
                                for (r = r.jump, e = t.length, i = 0; i < e; i++)
                                    if (t[i] === r) {
                                        n = i;
                                        break;
                                    }
                            } else {
                                if (!(32768 & r.b0)) return r.b0;
                                r = t[++n];
                            }
                        return -1;
                    }),
                    (n.prototype.DeflateLoop = function () {
                        var t, e, i;
                        do {
                            if (((t = this.readBit()), 0 === (e = this.readBits(2)))) {
                                var r, s;
                                for (
                                    this.byteAlign(),
                                        r = this.readByte(),
                                        r |= this.readByte() << 8,
                                        s = this.readByte(),
                                        65535 & (r ^ ~(s |= this.readByte() << 8)) &&
                                            document.write('BlockLen checksum mismatch\n');
                                    r--;

                                )
                                    (o = this.readByte()), this.addBuffer(o);
                            } else if (1 === e)
                                for (;;)
                                    if (
                                        ((a = n.bitReverse[this.readBits(7)] >> 1) > 23
                                            ? (a = (a << 1) | this.readBit()) > 199
                                                ? (a = ((a -= 128) << 1) | this.readBit())
                                                : (a -= 48) > 143 && (a += 136)
                                            : (a += 256),
                                        a < 256)
                                    )
                                        this.addBuffer(a);
                                    else {
                                        if (256 === a) break;
                                        for (
                                            a -= 257,
                                                p = this.readBits(n.cplext[a]) + n.cplens[a],
                                                a = n.bitReverse[this.readBits(5)] >> 3,
                                                n.cpdext[a] > 8
                                                    ? ((g = this.readBits(8)),
                                                      (g |= this.readBits(n.cpdext[a] - 8) << 8))
                                                    : (g = this.readBits(n.cpdext[a])),
                                                g += n.cpdist[a],
                                                a = 0;
                                            a < p;
                                            a++
                                        ) {
                                            var o = this.buf32k[(this.bIdx - g) & 32767];
                                            this.addBuffer(o);
                                        }
                                    }
                            else if (2 === e) {
                                var a,
                                    c,
                                    h,
                                    l,
                                    u,
                                    d = new Array(320);
                                for (
                                    h = 257 + this.readBits(5),
                                        l = 1 + this.readBits(5),
                                        u = 4 + this.readBits(4),
                                        a = 0;
                                    a < 19;
                                    a++
                                )
                                    d[a] = 0;
                                for (a = 0; a < u; a++) d[n.border[a]] = this.readBits(3);
                                for (p = this.distanceTree.length, i = 0; i < p; i++)
                                    this.distanceTree[i] = new n.HufNode();
                                if (this.CreateTree(this.distanceTree, 19, d, 0)) return this.flushBuffer(), 1;
                                (c = h + l), (i = 0);
                                for (; i < c; )
                                    if ((0, (a = this.DecodeValue(this.distanceTree)) < 16)) d[i++] = a;
                                    else if (16 === a) {
                                        var _;
                                        if (((a = 3 + this.readBits(2)), i + a > c)) return this.flushBuffer(), 1;
                                        for (_ = i ? d[i - 1] : 0; a--; ) d[i++] = _;
                                    } else {
                                        if (((a = 17 === a ? 3 + this.readBits(3) : 11 + this.readBits(7)), i + a > c))
                                            return this.flushBuffer(), 1;
                                        for (; a--; ) d[i++] = 0;
                                    }
                                for (p = this.literalTree.length, i = 0; i < p; i++)
                                    this.literalTree[i] = new n.HufNode();
                                if (this.CreateTree(this.literalTree, h, d, 0)) return this.flushBuffer(), 1;
                                for (p = this.literalTree.length, i = 0; i < p; i++)
                                    this.distanceTree[i] = new n.HufNode();
                                var f = new Array();
                                for (i = h; i < d.length; i++) f[i - h] = d[i];
                                if (this.CreateTree(this.distanceTree, l, f, 0)) return this.flushBuffer(), 1;
                                for (;;)
                                    if ((a = this.DecodeValue(this.literalTree)) >= 256) {
                                        var p, g;
                                        if (0 == (a -= 256)) break;
                                        for (
                                            a--,
                                                p = this.readBits(n.cplext[a]) + n.cplens[a],
                                                a = this.DecodeValue(this.distanceTree),
                                                n.cpdext[a] > 8
                                                    ? ((g = this.readBits(8)),
                                                      (g |= this.readBits(n.cpdext[a] - 8) << 8))
                                                    : (g = this.readBits(n.cpdext[a])),
                                                g += n.cpdist[a];
                                            p--;

                                        ) {
                                            o = this.buf32k[(this.bIdx - g) & 32767];
                                            this.addBuffer(o);
                                        }
                                    } else this.addBuffer(a);
                            }
                        } while (!t);
                        return this.flushBuffer(), this.byteAlign(), 0;
                    }),
                    (n.prototype.unzipFile = function (t) {
                        var e;
                        for (this.gunzip(), e = 0; e < this.unzipped.length; e++)
                            if (this.unzipped[e][1] === t) return this.unzipped[e][0];
                    }),
                    (n.prototype.nextFile = function () {
                        (this.outputArr = []), (this.modeZIP = !1);
                        var t = [];
                        if (
                            ((t[0] = this.readByte()),
                            (t[1] = this.readByte()),
                            120 === t[0] &&
                                218 === t[1] &&
                                (this.DeflateLoop(),
                                (this.unzipped[this.files] = [this.outputArr.join(''), 'geonext.gxt']),
                                this.files++),
                            31 === t[0] &&
                                139 === t[1] &&
                                (this.skipdir(),
                                (this.unzipped[this.files] = [this.outputArr.join(''), 'file']),
                                this.files++),
                            80 === t[0] &&
                                75 === t[1] &&
                                ((this.modeZIP = !0),
                                (t[2] = this.readByte()),
                                (t[3] = this.readByte()),
                                3 === t[2] && 4 === t[3]))
                        ) {
                            (t[0] = this.readByte()),
                                (t[1] = this.readByte()),
                                (this.gpflags = this.readByte()),
                                (this.gpflags |= this.readByte() << 8);
                            var e = this.readByte();
                            (e |= this.readByte() << 8),
                                this.readByte(),
                                this.readByte(),
                                this.readByte(),
                                this.readByte();
                            this.readByte();
                            this.readByte() << 8, this.readByte() << 16, this.readByte() << 24;
                            this.readByte();
                            this.readByte() << 8, this.readByte() << 16, this.readByte() << 24;
                            var i = this.readByte();
                            i |= this.readByte() << 8;
                            var r = this.readByte();
                            for (r |= this.readByte() << 8, o = 0, this.nameBuf = []; i--; ) {
                                var s = this.readByte();
                                ('/' === s) | (':' === s)
                                    ? (o = 0)
                                    : o < n.NAMEMAX - 1 && (this.nameBuf[o++] = String.fromCharCode(s));
                            }
                            this.fileout || (this.fileout = this.nameBuf);
                            for (var o = 0; o < r; ) (s = this.readByte()), o++;
                            8 === e &&
                                (this.DeflateLoop(),
                                (this.unzipped[this.files] = [this.outputArr.join(''), this.nameBuf.join('')]),
                                this.files++),
                                this.skipdir();
                        }
                    }),
                    (n.prototype.skipdir = function () {
                        var t,
                            e,
                            i,
                            r,
                            s = [];
                        if (
                            (8 & this.gpflags &&
                                ((s[0] = this.readByte()),
                                (s[1] = this.readByte()),
                                (s[2] = this.readByte()),
                                (s[3] = this.readByte()),
                                (t = this.readByte()),
                                (t |= this.readByte() << 8),
                                (t |= this.readByte() << 16),
                                (t |= this.readByte() << 24),
                                (e = this.readByte()),
                                (e |= this.readByte() << 8),
                                (e |= this.readByte() << 16),
                                (e |= this.readByte() << 24)),
                            this.modeZIP && this.nextFile(),
                            (s[0] = this.readByte()),
                            8 !== s[0])
                        )
                            return 0;
                        if (
                            ((this.gpflags = this.readByte()),
                            this.readByte(),
                            this.readByte(),
                            this.readByte(),
                            this.readByte(),
                            this.readByte(),
                            this.readByte(),
                            4 & this.gpflags)
                        )
                            for (
                                s[0] = this.readByte(), s[2] = this.readByte(), this.len = s[0] + 256 * s[1], i = 0;
                                i < this.len;
                                i++
                            )
                                this.readByte();
                        if (8 & this.gpflags)
                            for (i = 0, this.nameBuf = []; (r = this.readByte()); )
                                ('7' !== r && ':' !== r) || (i = 0), i < n.NAMEMAX - 1 && (this.nameBuf[i++] = r);
                        if (16 & this.gpflags) for (; (r = this.readByte()); );
                        2 & this.gpflags && (this.readByte(), this.readByte()),
                            this.DeflateLoop(),
                            (e = this.readByte()),
                            (e |= this.readByte() << 8),
                            (e |= this.readByte() << 16),
                            (e |= this.readByte() << 24),
                            this.modeZIP && this.nextFile();
                    }),
                    (e.exports = n);
            },
            {},
        ],
        31: [
            function (t, e, i) {
                (function () {
                    'use strict';

                    function t(t) {
                        throw t;
                    }

                    function e(t, e) {
                        var i = t.split('.'),
                            n = y;
                        !(i[0] in n) && n.execScript && n.execScript('var ' + i[0]);
                        for (var r; i.length && (r = i.shift()); )
                            i.length || e === m ? (n = n[r] ? n[r] : (n[r] = {})) : (n[r] = e);
                    }

                    function i(t) {
                        if ('string' == typeof t) {
                            var e,
                                i,
                                n = t.split('');
                            for (e = 0, i = n.length; e < i; e++) n[e] = (255 & n[e].charCodeAt(0)) >>> 0;
                            t = n;
                        }
                        for (var r, s = 1, o = 0, a = t.length, c = 0; 0 < a; ) {
                            a -= r = 1024 < a ? 1024 : a;
                            do {
                                o += s += t[c++];
                            } while (--r);
                            (s %= 65521), (o %= 65521);
                        }
                        return ((o << 16) | s) >>> 0;
                    }

                    function n(e, i) {
                        (this.index = 'number' == typeof i ? i : 0),
                            (this.i = 0),
                            (this.buffer =
                                e instanceof (C ? Uint8Array : Array) ? e : new (C ? Uint8Array : Array)(32768)),
                            2 * this.buffer.length <= this.index && t(Error('invalid index')),
                            this.buffer.length <= this.index && this.f();
                    }

                    function r(t) {
                        (this.buffer = new (C ? Uint16Array : Array)(2 * t)), (this.length = 0);
                    }

                    function s(t) {
                        var e,
                            i,
                            n,
                            r,
                            s,
                            o,
                            a,
                            c,
                            h,
                            l = t.length,
                            u = 0,
                            d = Number.POSITIVE_INFINITY;
                        for (c = 0; c < l; ++c) t[c] > u && (u = t[c]), t[c] < d && (d = t[c]);
                        for (e = 1 << u, i = new (C ? Uint32Array : Array)(e), n = 1, r = 0, s = 2; n <= u; ) {
                            for (c = 0; c < l; ++c)
                                if (t[c] === n) {
                                    for (o = 0, a = r, h = 0; h < n; ++h) (o = (o << 1) | (1 & a)), (a >>= 1);
                                    for (h = o; h < e; h += s) i[h] = (n << 16) | c;
                                    ++r;
                                }
                            ++n, (r <<= 1), (s <<= 1);
                        }
                        return [i, u, d];
                    }

                    function o(t, e) {
                        (this.h = w),
                            (this.w = 0),
                            (this.input = t),
                            (this.b = 0),
                            e &&
                                (e.lazy && (this.w = e.lazy),
                                'number' == typeof e.compressionType && (this.h = e.compressionType),
                                e.outputBuffer &&
                                    (this.a =
                                        C && e.outputBuffer instanceof Array
                                            ? new Uint8Array(e.outputBuffer)
                                            : e.outputBuffer),
                                'number' == typeof e.outputIndex && (this.b = e.outputIndex)),
                            this.a || (this.a = new (C ? Uint8Array : Array)(32768));
                    }

                    function a(t, e) {
                        (this.length = t), (this.G = e);
                    }

                    function c() {
                        var e = L;
                        switch (v) {
                            case 3 === e:
                                return [257, e - 3, 0];
                            case 4 === e:
                                return [258, e - 4, 0];
                            case 5 === e:
                                return [259, e - 5, 0];
                            case 6 === e:
                                return [260, e - 6, 0];
                            case 7 === e:
                                return [261, e - 7, 0];
                            case 8 === e:
                                return [262, e - 8, 0];
                            case 9 === e:
                                return [263, e - 9, 0];
                            case 10 === e:
                                return [264, e - 10, 0];
                            case 12 >= e:
                                return [265, e - 11, 1];
                            case 14 >= e:
                                return [266, e - 13, 1];
                            case 16 >= e:
                                return [267, e - 15, 1];
                            case 18 >= e:
                                return [268, e - 17, 1];
                            case 22 >= e:
                                return [269, e - 19, 2];
                            case 26 >= e:
                                return [270, e - 23, 2];
                            case 30 >= e:
                                return [271, e - 27, 2];
                            case 34 >= e:
                                return [272, e - 31, 2];
                            case 42 >= e:
                                return [273, e - 35, 3];
                            case 50 >= e:
                                return [274, e - 43, 3];
                            case 58 >= e:
                                return [275, e - 51, 3];
                            case 66 >= e:
                                return [276, e - 59, 3];
                            case 82 >= e:
                                return [277, e - 67, 4];
                            case 98 >= e:
                                return [278, e - 83, 4];
                            case 114 >= e:
                                return [279, e - 99, 4];
                            case 130 >= e:
                                return [280, e - 115, 4];
                            case 162 >= e:
                                return [281, e - 131, 5];
                            case 194 >= e:
                                return [282, e - 163, 5];
                            case 226 >= e:
                                return [283, e - 195, 5];
                            case 257 >= e:
                                return [284, e - 227, 5];
                            case 258 === e:
                                return [285, e - 258, 0];
                            default:
                                t('invalid length: ' + e);
                        }
                    }

                    function h(e, i) {
                        function n(e, i) {
                            var n,
                                r = e.G,
                                s = [],
                                o = 0;
                            (n = N[e.length]), (s[o++] = 65535 & n), (s[o++] = (n >> 16) & 255), (s[o++] = n >> 24);
                            var a;
                            switch (v) {
                                case 1 === r:
                                    a = [0, r - 1, 0];
                                    break;
                                case 2 === r:
                                    a = [1, r - 2, 0];
                                    break;
                                case 3 === r:
                                    a = [2, r - 3, 0];
                                    break;
                                case 4 === r:
                                    a = [3, r - 4, 0];
                                    break;
                                case 6 >= r:
                                    a = [4, r - 5, 1];
                                    break;
                                case 8 >= r:
                                    a = [5, r - 7, 1];
                                    break;
                                case 12 >= r:
                                    a = [6, r - 9, 2];
                                    break;
                                case 16 >= r:
                                    a = [7, r - 13, 2];
                                    break;
                                case 24 >= r:
                                    a = [8, r - 17, 3];
                                    break;
                                case 32 >= r:
                                    a = [9, r - 25, 3];
                                    break;
                                case 48 >= r:
                                    a = [10, r - 33, 4];
                                    break;
                                case 64 >= r:
                                    a = [11, r - 49, 4];
                                    break;
                                case 96 >= r:
                                    a = [12, r - 65, 5];
                                    break;
                                case 128 >= r:
                                    a = [13, r - 97, 5];
                                    break;
                                case 192 >= r:
                                    a = [14, r - 129, 6];
                                    break;
                                case 256 >= r:
                                    a = [15, r - 193, 6];
                                    break;
                                case 384 >= r:
                                    a = [16, r - 257, 7];
                                    break;
                                case 512 >= r:
                                    a = [17, r - 385, 7];
                                    break;
                                case 768 >= r:
                                    a = [18, r - 513, 8];
                                    break;
                                case 1024 >= r:
                                    a = [19, r - 769, 8];
                                    break;
                                case 1536 >= r:
                                    a = [20, r - 1025, 9];
                                    break;
                                case 2048 >= r:
                                    a = [21, r - 1537, 9];
                                    break;
                                case 3072 >= r:
                                    a = [22, r - 2049, 10];
                                    break;
                                case 4096 >= r:
                                    a = [23, r - 3073, 10];
                                    break;
                                case 6144 >= r:
                                    a = [24, r - 4097, 11];
                                    break;
                                case 8192 >= r:
                                    a = [25, r - 6145, 11];
                                    break;
                                case 12288 >= r:
                                    a = [26, r - 8193, 12];
                                    break;
                                case 16384 >= r:
                                    a = [27, r - 12289, 12];
                                    break;
                                case 24576 >= r:
                                    a = [28, r - 16385, 13];
                                    break;
                                case 32768 >= r:
                                    a = [29, r - 24577, 13];
                                    break;
                                default:
                                    t('invalid distance');
                            }
                            (n = a), (s[o++] = n[0]), (s[o++] = n[1]), (s[o++] = n[2]);
                            var c, h;
                            for (c = 0, h = s.length; c < h; ++c) p[g++] = s[c];
                            T[s[0]]++, E[s[3]]++, (y = e.length + i - 1), (d = null);
                        }
                        var r,
                            s,
                            o,
                            c,
                            h,
                            l,
                            u,
                            d,
                            _,
                            f = {},
                            p = C ? new Uint16Array(2 * i.length) : [],
                            g = 0,
                            y = 0,
                            T = new (C ? Uint32Array : Array)(286),
                            E = new (C ? Uint32Array : Array)(30),
                            x = e.w;
                        if (!C) {
                            for (o = 0; 285 >= o; ) T[o++] = 0;
                            for (o = 0; 29 >= o; ) E[o++] = 0;
                        }
                        for (T[256] = 1, r = 0, s = i.length; r < s; ++r) {
                            for (o = h = 0, c = 3; o < c && r + o !== s; ++o) h = (h << 8) | i[r + o];
                            if ((f[h] === m && (f[h] = []), (l = f[h]), !(0 < y--))) {
                                for (; 0 < l.length && 32768 < r - l[0]; ) l.shift();
                                if (r + 3 >= s) {
                                    for (d && n(d, -1), o = 0, c = s - r; o < c; ++o)
                                        (_ = i[r + o]), (p[g++] = _), ++T[_];
                                    break;
                                }
                                if (0 < l.length) {
                                    var S = m,
                                        b = m,
                                        A = 0,
                                        R = m,
                                        w = m,
                                        I = m,
                                        O = m,
                                        L = i.length;
                                    (w = 0), (O = l.length);
                                    t: for (; w < O; w++) {
                                        if (((S = l[O - w - 1]), (R = 3), 3 < A)) {
                                            for (I = A; 3 < I; I--) if (i[S + I - 1] !== i[r + I - 1]) continue t;
                                            R = A;
                                        }
                                        for (; 258 > R && r + R < L && i[S + R] === i[r + R]; ) ++R;
                                        if ((R > A && ((b = S), (A = R)), 258 === R)) break;
                                    }
                                    (u = new a(A, r - b)),
                                        d
                                            ? d.length < u.length
                                                ? ((_ = i[r - 1]), (p[g++] = _), ++T[_], n(u, 0))
                                                : n(d, -1)
                                            : u.length < x
                                            ? (d = u)
                                            : n(u, 0);
                                } else d ? n(d, -1) : ((_ = i[r]), (p[g++] = _), ++T[_]);
                            }
                            l.push(r);
                        }
                        return (p[g++] = 256), T[256]++, (e.L = T), (e.K = E), C ? p.subarray(0, g) : p;
                    }

                    function l(t, e) {
                        function i(t) {
                            var e = x[t][S[t]];
                            e === m ? (i(t + 1), i(t + 1)) : --T[e], ++S[t];
                        }
                        var n,
                            s,
                            o,
                            a,
                            c,
                            h = t.length,
                            l = new r(572),
                            u = new (C ? Uint8Array : Array)(h);
                        if (!C) for (a = 0; a < h; a++) u[a] = 0;
                        for (a = 0; a < h; ++a) 0 < t[a] && l.push(a, t[a]);
                        if (
                            ((n = Array(l.length / 2)),
                            (s = new (C ? Uint32Array : Array)(l.length / 2)),
                            1 === n.length)
                        )
                            return (u[l.pop().index] = 1), u;
                        for (a = 0, c = l.length / 2; a < c; ++a) (n[a] = l.pop()), (s[a] = n[a].value);
                        var d,
                            _,
                            f,
                            p,
                            g,
                            m = s.length,
                            v = new (C ? Uint16Array : Array)(e),
                            y = new (C ? Uint8Array : Array)(e),
                            T = new (C ? Uint8Array : Array)(m),
                            E = Array(e),
                            x = Array(e),
                            S = Array(e),
                            b = (1 << e) - m,
                            A = 1 << (e - 1);
                        for (v[e - 1] = m, _ = 0; _ < e; ++_)
                            b < A ? (y[_] = 0) : ((y[_] = 1), (b -= A)),
                                (b <<= 1),
                                (v[e - 2 - _] = ((v[e - 1 - _] / 2) | 0) + m);
                        for (v[0] = y[0], E[0] = Array(v[0]), x[0] = Array(v[0]), _ = 1; _ < e; ++_)
                            v[_] > 2 * v[_ - 1] + y[_] && (v[_] = 2 * v[_ - 1] + y[_]),
                                (E[_] = Array(v[_])),
                                (x[_] = Array(v[_]));
                        for (d = 0; d < m; ++d) T[d] = e;
                        for (f = 0; f < v[e - 1]; ++f) (E[e - 1][f] = s[f]), (x[e - 1][f] = f);
                        for (d = 0; d < e; ++d) S[d] = 0;
                        for (1 === y[e - 1] && (--T[0], ++S[e - 1]), _ = e - 2; 0 <= _; --_) {
                            for (p = d = 0, g = S[_ + 1], f = 0; f < v[_]; f++)
                                (p = E[_ + 1][g] + E[_ + 1][g + 1]) > s[d]
                                    ? ((E[_][f] = p), (x[_][f] = m), (g += 2))
                                    : ((E[_][f] = s[d]), (x[_][f] = d), ++d);
                            (S[_] = 0), 1 === y[_] && i(_);
                        }
                        for (o = T, a = 0, c = n.length; a < c; ++a) u[n[a].index] = o[a];
                        return u;
                    }

                    function u(e) {
                        var i,
                            n,
                            r,
                            s,
                            o = new (C ? Uint16Array : Array)(e.length),
                            a = [],
                            c = [],
                            h = 0;
                        for (i = 0, n = e.length; i < n; i++) a[e[i]] = 1 + (0 | a[e[i]]);
                        for (i = 1, n = 16; i <= n; i++)
                            (c[i] = h), (h += 0 | a[i]) > 1 << i && t('overcommitted'), (h <<= 1);
                        for (65536 > h && t('undercommitted'), i = 0, n = e.length; i < n; i++)
                            for (h = c[e[i]], c[e[i]] += 1, r = o[i] = 0, s = e[i]; r < s; r++)
                                (o[i] = (o[i] << 1) | (1 & h)), (h >>>= 1);
                        return o;
                    }

                    function d(t, e) {
                        (this.input = t), (this.a = new (C ? Uint8Array : Array)(32768)), (this.h = F.j);
                        var i,
                            n = {};
                        (!e && (e = {})) || 'number' != typeof e.compressionType || (this.h = e.compressionType);
                        for (i in e) n[i] = e[i];
                        (n.outputBuffer = this.a), (this.z = new o(this.input, n));
                    }

                    function _(e, i) {
                        switch (
                            ((this.k = []),
                            (this.l = 32768),
                            (this.e = this.g = this.c = this.q = 0),
                            (this.input = C ? new Uint8Array(e) : e),
                            (this.s = !1),
                            (this.m = B),
                            (this.B = !1),
                            (!i && (i = {})) ||
                                (i.index && (this.c = i.index),
                                i.bufferSize && (this.l = i.bufferSize),
                                i.bufferType && (this.m = i.bufferType),
                                i.resize && (this.B = i.resize)),
                            this.m)
                        ) {
                            case M:
                                (this.b = 32768), (this.a = new (C ? Uint8Array : Array)(32768 + this.l + 258));
                                break;
                            case B:
                                (this.b = 0),
                                    (this.a = new (C ? Uint8Array : Array)(this.l)),
                                    (this.f = this.J),
                                    (this.t = this.H),
                                    (this.o = this.I);
                                break;
                            default:
                                t(Error('invalid inflate mode'));
                        }
                    }

                    function f(e, i) {
                        for (var n, r = e.g, s = e.e, o = e.input, a = e.c; s < i; )
                            (n = o[a++]) === m && t(Error('input buffer is broken')), (r |= n << s), (s += 8);
                        return (n = r & ((1 << i) - 1)), (e.g = r >>> i), (e.e = s - i), (e.c = a), n;
                    }

                    function p(e, i) {
                        for (var n, r, s, o = e.g, a = e.e, c = e.input, h = e.c, l = i[0], u = i[1]; a < u; )
                            (n = c[h++]) === m && t(Error('input buffer is broken')), (o |= n << a), (a += 8);
                        return (
                            (r = l[o & ((1 << u) - 1)]),
                            (s = r >>> 16),
                            (e.g = o >> s),
                            (e.e = a - s),
                            (e.c = h),
                            65535 & r
                        );
                    }

                    function g(e, i) {
                        var n, r;
                        switch (
                            ((this.input = e),
                            (this.c = 0),
                            (!i && (i = {})) || (i.index && (this.c = i.index), i.verify && (this.M = i.verify)),
                            (n = e[this.c++]),
                            (r = e[this.c++]),
                            15 & n)
                        ) {
                            case ht:
                                this.method = ht;
                                break;
                            default:
                                t(Error('unsupported compression method'));
                        }
                        0 != ((n << 8) + r) % 31 && t(Error('invalid fcheck flag:' + (((n << 8) + r) % 31))),
                            32 & r && t(Error('fdict flag is not supported')),
                            (this.A = new _(e, {
                                index: this.c,
                                bufferSize: i.bufferSize,
                                bufferType: i.bufferType,
                                resize: i.resize,
                            }));
                    }
                    var m = void 0,
                        v = !0,
                        y = this,
                        C =
                            'undefined' != typeof Uint8Array &&
                            'undefined' != typeof Uint16Array &&
                            'undefined' != typeof Uint32Array;
                    (n.prototype.f = function () {
                        var t,
                            e = this.buffer,
                            i = e.length,
                            n = new (C ? Uint8Array : Array)(i << 1);
                        if (C) n.set(e);
                        else for (t = 0; t < i; ++t) n[t] = e[t];
                        return (this.buffer = n);
                    }),
                        (n.prototype.d = function (t, e, i) {
                            var n,
                                r = this.buffer,
                                s = this.index,
                                o = this.i,
                                a = r[s];
                            if (
                                (i &&
                                    1 < e &&
                                    (t =
                                        8 < e
                                            ? ((A[255 & t] << 24) |
                                                  (A[(t >>> 8) & 255] << 16) |
                                                  (A[(t >>> 16) & 255] << 8) |
                                                  A[(t >>> 24) & 255]) >>
                                              (32 - e)
                                            : A[t] >> (8 - e)),
                                8 > e + o)
                            )
                                (a = (a << e) | t), (o += e);
                            else
                                for (n = 0; n < e; ++n)
                                    (a = (a << 1) | ((t >> (e - n - 1)) & 1)),
                                        8 == ++o &&
                                            ((o = 0), (r[s++] = A[a]), (a = 0), s === r.length && (r = this.f()));
                            (r[s] = a), (this.buffer = r), (this.i = o), (this.index = s);
                        }),
                        (n.prototype.finish = function () {
                            var t,
                                e = this.buffer,
                                i = this.index;
                            return (
                                0 < this.i && ((e[i] <<= 8 - this.i), (e[i] = A[e[i]]), i++),
                                C ? (t = e.subarray(0, i)) : ((e.length = i), (t = e)),
                                t
                            );
                        });
                    var T,
                        E = new (C ? Uint8Array : Array)(256);
                    for (T = 0; 256 > T; ++T) {
                        for (var x = (b = T), S = 7, b = b >>> 1; b; b >>>= 1) (x <<= 1), (x |= 1 & b), --S;
                        E[T] = ((x << S) & 255) >>> 0;
                    }
                    var A = E;
                    C &&
                        new Uint32Array([
                            0, 1996959894, 3993919788, 2567524794, 124634137, 1886057615, 3915621685, 2657392035,
                            249268274, 2044508324, 3772115230, 2547177864, 162941995, 2125561021, 3887607047,
                            2428444049, 498536548, 1789927666, 4089016648, 2227061214, 450548861, 1843258603,
                            4107580753, 2211677639, 325883990, 1684777152, 4251122042, 2321926636, 335633487,
                            1661365465, 4195302755, 2366115317, 997073096, 1281953886, 3579855332, 2724688242,
                            1006888145, 1258607687, 3524101629, 2768942443, 901097722, 1119000684, 3686517206,
                            2898065728, 853044451, 1172266101, 3705015759, 2882616665, 651767980, 1373503546,
                            3369554304, 3218104598, 565507253, 1454621731, 3485111705, 3099436303, 671266974,
                            1594198024, 3322730930, 2970347812, 795835527, 1483230225, 3244367275, 3060149565,
                            1994146192, 31158534, 2563907772, 4023717930, 1907459465, 112637215, 2680153253, 3904427059,
                            2013776290, 251722036, 2517215374, 3775830040, 2137656763, 141376813, 2439277719,
                            3865271297, 1802195444, 476864866, 2238001368, 4066508878, 1812370925, 453092731,
                            2181625025, 4111451223, 1706088902, 314042704, 2344532202, 4240017532, 1658658271,
                            366619977, 2362670323, 4224994405, 1303535960, 984961486, 2747007092, 3569037538,
                            1256170817, 1037604311, 2765210733, 3554079995, 1131014506, 879679996, 2909243462,
                            3663771856, 1141124467, 855842277, 2852801631, 3708648649, 1342533948, 654459306,
                            3188396048, 3373015174, 1466479909, 544179635, 3110523913, 3462522015, 1591671054,
                            702138776, 2966460450, 3352799412, 1504918807, 783551873, 3082640443, 3233442989,
                            3988292384, 2596254646, 62317068, 1957810842, 3939845945, 2647816111, 81470997, 1943803523,
                            3814918930, 2489596804, 225274430, 2053790376, 3826175755, 2466906013, 167816743,
                            2097651377, 4027552580, 2265490386, 503444072, 1762050814, 4150417245, 2154129355,
                            426522225, 1852507879, 4275313526, 2312317920, 282753626, 1742555852, 4189708143,
                            2394877945, 397917763, 1622183637, 3604390888, 2714866558, 953729732, 1340076626,
                            3518719985, 2797360999, 1068828381, 1219638859, 3624741850, 2936675148, 906185462,
                            1090812512, 3747672003, 2825379669, 829329135, 1181335161, 3412177804, 3160834842,
                            628085408, 1382605366, 3423369109, 3138078467, 570562233, 1426400815, 3317316542,
                            2998733608, 733239954, 1555261956, 3268935591, 3050360625, 752459403, 1541320221,
                            2607071920, 3965973030, 1969922972, 40735498, 2617837225, 3943577151, 1913087877, 83908371,
                            2512341634, 3803740692, 2075208622, 213261112, 2463272603, 3855990285, 2094854071,
                            198958881, 2262029012, 4057260610, 1759359992, 534414190, 2176718541, 4139329115,
                            1873836001, 414664567, 2282248934, 4279200368, 1711684554, 285281116, 2405801727,
                            4167216745, 1634467795, 376229701, 2685067896, 3608007406, 1308918612, 956543938,
                            2808555105, 3495958263, 1231636301, 1047427035, 2932959818, 3654703836, 1088359270,
                            936918e3, 2847714899, 3736837829, 1202900863, 817233897, 3183342108, 3401237130, 1404277552,
                            615818150, 3134207493, 3453421203, 1423857449, 601450431, 3009837614, 3294710456,
                            1567103746, 711928724, 3020668471, 3272380065, 1510334235, 755167117,
                        ]),
                        (r.prototype.getParent = function (t) {
                            return 2 * (((t - 2) / 4) | 0);
                        }),
                        (r.prototype.push = function (t, e) {
                            var i,
                                n,
                                r,
                                s = this.buffer;
                            for (
                                i = this.length, s[this.length++] = e, s[this.length++] = t;
                                0 < i && ((n = this.getParent(i)), s[i] > s[n]);

                            )
                                (r = s[i]),
                                    (s[i] = s[n]),
                                    (s[n] = r),
                                    (r = s[i + 1]),
                                    (s[i + 1] = s[n + 1]),
                                    (s[n + 1] = r),
                                    (i = n);
                            return this.length;
                        }),
                        (r.prototype.pop = function () {
                            var t,
                                e,
                                i,
                                n,
                                r,
                                s = this.buffer;
                            for (
                                e = s[0],
                                    t = s[1],
                                    this.length -= 2,
                                    s[0] = s[this.length],
                                    s[1] = s[this.length + 1],
                                    r = 0;
                                !((n = 2 * r + 2) >= this.length) &&
                                (n + 2 < this.length && s[n + 2] > s[n] && (n += 2), s[n] > s[r]);

                            )
                                (i = s[r]),
                                    (s[r] = s[n]),
                                    (s[n] = i),
                                    (i = s[r + 1]),
                                    (s[r + 1] = s[n + 1]),
                                    (s[n + 1] = i),
                                    (r = n);
                            return {
                                index: t,
                                value: e,
                                length: this.length,
                            };
                        });
                    var R,
                        w = 2,
                        I = {
                            NONE: 0,
                            r: 1,
                            j: w,
                            N: 3,
                        },
                        O = [];
                    for (R = 0; 288 > R; R++)
                        switch (v) {
                            case 143 >= R:
                                O.push([R + 48, 8]);
                                break;
                            case 255 >= R:
                                O.push([R - 144 + 400, 9]);
                                break;
                            case 279 >= R:
                                O.push([R - 256 + 0, 7]);
                                break;
                            case 287 >= R:
                                O.push([R - 280 + 192, 8]);
                                break;
                            default:
                                t('invalid literal: ' + R);
                        }
                    o.prototype.n = function () {
                        var e,
                            i,
                            r,
                            s,
                            o = this.input;
                        switch (this.h) {
                            case 0:
                                for (r = 0, s = o.length; r < s; ) {
                                    var a = (i = C ? o.subarray(r, r + 65535) : o.slice(r, r + 65535)),
                                        c = (r += i.length) === s,
                                        d = m,
                                        _ = m,
                                        f = m,
                                        p = m,
                                        g = m,
                                        y = this.a,
                                        T = this.b;
                                    if (C) {
                                        for (y = new Uint8Array(this.a.buffer); y.length <= T + a.length + 5; )
                                            y = new Uint8Array(y.length << 1);
                                        y.set(this.a);
                                    }
                                    if (
                                        ((d = c ? 1 : 0),
                                        (y[T++] = 0 | d),
                                        (_ = a.length),
                                        (f = (65536 + ~_) & 65535),
                                        (y[T++] = 255 & _),
                                        (y[T++] = (_ >>> 8) & 255),
                                        (y[T++] = 255 & f),
                                        (y[T++] = (f >>> 8) & 255),
                                        C)
                                    )
                                        y.set(a, T), (T += a.length), (y = y.subarray(0, T));
                                    else {
                                        for (p = 0, g = a.length; p < g; ++p) y[T++] = a[p];
                                        y.length = T;
                                    }
                                    (this.b = T), (this.a = y);
                                }
                                break;
                            case 1:
                                var E = new n(new Uint8Array(this.a.buffer), this.b);
                                E.d(1, 1, v), E.d(1, 2, v);
                                var x,
                                    S,
                                    b,
                                    A = h(this, o);
                                for (x = 0, S = A.length; x < S; x++)
                                    if (((b = A[x]), n.prototype.d.apply(E, O[b]), 256 < b))
                                        E.d(A[++x], A[++x], v), E.d(A[++x], 5), E.d(A[++x], A[++x], v);
                                    else if (256 === b) break;
                                (this.a = E.finish()), (this.b = this.a.length);
                                break;
                            case w:
                                var R,
                                    I,
                                    L,
                                    P,
                                    D,
                                    N,
                                    F,
                                    M,
                                    B,
                                    z,
                                    V,
                                    W,
                                    U,
                                    k,
                                    G,
                                    H = new n(new Uint8Array(this.a), this.b),
                                    Y = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15],
                                    X = Array(19);
                                for (
                                    R = w,
                                        H.d(1, 1, v),
                                        H.d(R, 2, v),
                                        I = h(this, o),
                                        F = u((N = l(this.L, 15))),
                                        B = u((M = l(this.K, 7))),
                                        L = 286;
                                    257 < L && 0 === N[L - 1];
                                    L--
                                );
                                for (P = 30; 1 < P && 0 === M[P - 1]; P--);
                                var j,
                                    q,
                                    Z,
                                    Q,
                                    K,
                                    J,
                                    $ = L,
                                    tt = P,
                                    et = new (C ? Uint32Array : Array)($ + tt),
                                    it = new (C ? Uint32Array : Array)(316),
                                    nt = new (C ? Uint8Array : Array)(19);
                                for (j = q = 0; j < $; j++) et[q++] = N[j];
                                for (j = 0; j < tt; j++) et[q++] = M[j];
                                if (!C) for (j = 0, Q = nt.length; j < Q; ++j) nt[j] = 0;
                                for (j = K = 0, Q = et.length; j < Q; j += q) {
                                    for (q = 1; j + q < Q && et[j + q] === et[j]; ++q);
                                    if (((Z = q), 0 === et[j]))
                                        if (3 > Z) for (; 0 < Z--; ) (it[K++] = 0), nt[0]++;
                                        else
                                            for (; 0 < Z; )
                                                (J = 138 > Z ? Z : 138) > Z - 3 && J < Z && (J = Z - 3),
                                                    10 >= J
                                                        ? ((it[K++] = 17), (it[K++] = J - 3), nt[17]++)
                                                        : ((it[K++] = 18), (it[K++] = J - 11), nt[18]++),
                                                    (Z -= J);
                                    else if (((it[K++] = et[j]), nt[et[j]]++, 3 > --Z))
                                        for (; 0 < Z--; ) (it[K++] = et[j]), nt[et[j]]++;
                                    else
                                        for (; 0 < Z; )
                                            (J = 6 > Z ? Z : 6) > Z - 3 && J < Z && (J = Z - 3),
                                                (it[K++] = 16),
                                                (it[K++] = J - 3),
                                                nt[16]++,
                                                (Z -= J);
                                }
                                for (e = C ? it.subarray(0, K) : it.slice(0, K), z = l(nt, 7), k = 0; 19 > k; k++)
                                    X[k] = z[Y[k]];
                                for (D = 19; 4 < D && 0 === X[D - 1]; D--);
                                for (
                                    V = u(z), H.d(L - 257, 5, v), H.d(P - 1, 5, v), H.d(D - 4, 4, v), k = 0;
                                    k < D;
                                    k++
                                )
                                    H.d(X[k], 3, v);
                                for (k = 0, G = e.length; k < G; k++)
                                    if (((W = e[k]), H.d(V[W], z[W], v), 16 <= W)) {
                                        switch ((k++, W)) {
                                            case 16:
                                                U = 2;
                                                break;
                                            case 17:
                                                U = 3;
                                                break;
                                            case 18:
                                                U = 7;
                                                break;
                                            default:
                                                t('invalid code: ' + W);
                                        }
                                        H.d(e[k], U, v);
                                    }
                                var rt,
                                    st,
                                    ot,
                                    at,
                                    ct,
                                    ht,
                                    lt,
                                    ut,
                                    dt = [F, N],
                                    _t = [B, M];
                                for (
                                    ct = dt[0], ht = dt[1], lt = _t[0], ut = _t[1], rt = 0, st = I.length;
                                    rt < st;
                                    ++rt
                                )
                                    if (((ot = I[rt]), H.d(ct[ot], ht[ot], v), 256 < ot))
                                        H.d(I[++rt], I[++rt], v),
                                            (at = I[++rt]),
                                            H.d(lt[at], ut[at], v),
                                            H.d(I[++rt], I[++rt], v);
                                    else if (256 === ot) break;
                                (this.a = H.finish()), (this.b = this.a.length);
                                break;
                            default:
                                t('invalid compression type');
                        }
                        return this.a;
                    };
                    var L,
                        P,
                        D = [];
                    for (L = 3; 258 >= L; L++) (P = c()), (D[L] = (P[2] << 24) | (P[1] << 16) | P[0]);
                    var N = C ? new Uint32Array(D) : D,
                        F = I;
                    (d.prototype.n = function () {
                        var e,
                            n,
                            r,
                            s,
                            o,
                            a,
                            c,
                            h = 0;
                        switch (((c = this.a), (e = ht))) {
                            case ht:
                                n = Math.LOG2E * Math.log(32768) - 8;
                                break;
                            default:
                                t(Error('invalid compression method'));
                        }
                        switch (((r = (n << 4) | e), (c[h++] = r), e)) {
                            case ht:
                                switch (this.h) {
                                    case F.NONE:
                                        o = 0;
                                        break;
                                    case F.r:
                                        o = 1;
                                        break;
                                    case F.j:
                                        o = 2;
                                        break;
                                    default:
                                        t(Error('unsupported compression type'));
                                }
                                break;
                            default:
                                t(Error('invalid compression method'));
                        }
                        return (
                            (s = (o << 6) | 0),
                            (c[h++] = s | (31 - ((256 * r + s) % 31))),
                            (a = i(this.input)),
                            (this.z.b = h),
                            (c = this.z.n()),
                            (h = c.length),
                            C &&
                                ((c = new Uint8Array(c.buffer)).length <= h + 4 &&
                                    ((this.a = new Uint8Array(c.length + 4)), this.a.set(c), (c = this.a)),
                                (c = c.subarray(0, h + 4))),
                            (c[h++] = (a >> 24) & 255),
                            (c[h++] = (a >> 16) & 255),
                            (c[h++] = (a >> 8) & 255),
                            (c[h++] = 255 & a),
                            c
                        );
                    }),
                        e('Zlib.Deflate', d),
                        e('Zlib.Deflate.compress', function (t, e) {
                            return new d(t, e).n();
                        }),
                        e('Zlib.Deflate.CompressionType', F),
                        e('Zlib.Deflate.CompressionType.NONE', F.NONE),
                        e('Zlib.Deflate.CompressionType.FIXED', F.r),
                        e('Zlib.Deflate.CompressionType.DYNAMIC', F.j);
                    var M = 0,
                        B = 1,
                        z = {
                            D: M,
                            C: B,
                        };
                    _.prototype.p = function () {
                        for (; !this.s; ) {
                            var e = f(this, 3);
                            switch ((1 & e && (this.s = v), (e >>>= 1))) {
                                case 0:
                                    var i = this.input,
                                        n = this.c,
                                        r = this.a,
                                        o = this.b,
                                        a = m,
                                        c = m,
                                        h = m,
                                        l = r.length,
                                        u = m;
                                    switch (
                                        ((this.e = this.g = 0),
                                        (a = i[n++]) === m &&
                                            t(Error('invalid uncompressed block header: LEN (first byte)')),
                                        (c = a),
                                        (a = i[n++]) === m &&
                                            t(Error('invalid uncompressed block header: LEN (second byte)')),
                                        (c |= a << 8),
                                        (a = i[n++]) === m &&
                                            t(Error('invalid uncompressed block header: NLEN (first byte)')),
                                        (h = a),
                                        (a = i[n++]) === m &&
                                            t(Error('invalid uncompressed block header: NLEN (second byte)')),
                                        (h |= a << 8),
                                        c === ~h && t(Error('invalid uncompressed block header: length verify')),
                                        n + c > i.length && t(Error('input buffer is broken')),
                                        this.m)
                                    ) {
                                        case M:
                                            for (; o + c > r.length; ) {
                                                if (((u = l - o), (c -= u), C))
                                                    r.set(i.subarray(n, n + u), o), (o += u), (n += u);
                                                else for (; u--; ) r[o++] = i[n++];
                                                (this.b = o), (r = this.f()), (o = this.b);
                                            }
                                            break;
                                        case B:
                                            for (; o + c > r.length; )
                                                r = this.f({
                                                    v: 2,
                                                });
                                            break;
                                        default:
                                            t(Error('invalid inflate mode'));
                                    }
                                    if (C) r.set(i.subarray(n, n + c), o), (o += c), (n += c);
                                    else for (; c--; ) r[o++] = i[n++];
                                    (this.c = n), (this.b = o), (this.a = r);
                                    break;
                                case 1:
                                    this.o(tt, it);
                                    break;
                                case 2:
                                    (function (t) {
                                        function e(t, e, i) {
                                            var n, r, s, o;
                                            for (o = 0; o < t; )
                                                switch ((n = p(this, e))) {
                                                    case 16:
                                                        for (s = 3 + f(this, 2); s--; ) i[o++] = r;
                                                        break;
                                                    case 17:
                                                        for (s = 3 + f(this, 3); s--; ) i[o++] = 0;
                                                        r = 0;
                                                        break;
                                                    case 18:
                                                        for (s = 11 + f(this, 7); s--; ) i[o++] = 0;
                                                        r = 0;
                                                        break;
                                                    default:
                                                        r = i[o++] = n;
                                                }
                                            return i;
                                        }
                                        var i,
                                            n,
                                            r,
                                            o,
                                            a = f(t, 5) + 257,
                                            c = f(t, 5) + 1,
                                            h = f(t, 4) + 4,
                                            l = new (C ? Uint8Array : Array)(k.length);
                                        for (o = 0; o < h; ++o) l[k[o]] = f(t, 3);
                                        (i = s(l)),
                                            (n = new (C ? Uint8Array : Array)(a)),
                                            (r = new (C ? Uint8Array : Array)(c)),
                                            t.o(s(e.call(t, a, i, n)), s(e.call(t, c, i, r)));
                                    })(this);
                                    break;
                                default:
                                    t(Error('unknown BTYPE: ' + e));
                            }
                        }
                        return this.t();
                    };
                    var V,
                        W,
                        U = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15],
                        k = C ? new Uint16Array(U) : U,
                        G = [
                            3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31, 35, 43, 51, 59, 67, 83, 99, 115,
                            131, 163, 195, 227, 258, 258, 258,
                        ],
                        H = C ? new Uint16Array(G) : G,
                        Y = [
                            0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, 0, 0,
                        ],
                        X = C ? new Uint8Array(Y) : Y,
                        j = [
                            1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193, 257, 385, 513, 769, 1025, 1537,
                            2049, 3073, 4097, 6145, 8193, 12289, 16385, 24577,
                        ],
                        q = C ? new Uint16Array(j) : j,
                        Z = [
                            0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12,
                            13, 13,
                        ],
                        Q = C ? new Uint8Array(Z) : Z,
                        K = new (C ? Uint8Array : Array)(288);
                    for (V = 0, W = K.length; V < W; ++V) K[V] = 143 >= V ? 8 : 255 >= V ? 9 : 279 >= V ? 7 : 8;
                    var J,
                        $,
                        tt = s(K),
                        et = new (C ? Uint8Array : Array)(30);
                    for (J = 0, $ = et.length; J < $; ++J) et[J] = 5;
                    var it = s(et);
                    (_.prototype.o = function (t, e) {
                        var i = this.a,
                            n = this.b;
                        this.u = t;
                        for (var r, s, o, a, c = i.length - 258; 256 !== (r = p(this, t)); )
                            if (256 > r) n >= c && ((this.b = n), (i = this.f()), (n = this.b)), (i[n++] = r);
                            else
                                for (
                                    a = H[(s = r - 257)],
                                        0 < X[s] && (a += f(this, X[s])),
                                        r = p(this, e),
                                        o = q[r],
                                        0 < Q[r] && (o += f(this, Q[r])),
                                        n >= c && ((this.b = n), (i = this.f()), (n = this.b));
                                    a--;

                                )
                                    i[n] = i[n++ - o];
                        for (; 8 <= this.e; ) (this.e -= 8), this.c--;
                        this.b = n;
                    }),
                        (_.prototype.I = function (t, e) {
                            var i = this.a,
                                n = this.b;
                            this.u = t;
                            for (var r, s, o, a, c = i.length; 256 !== (r = p(this, t)); )
                                if (256 > r) n >= c && ((i = this.f()), (c = i.length)), (i[n++] = r);
                                else
                                    for (
                                        a = H[(s = r - 257)],
                                            0 < X[s] && (a += f(this, X[s])),
                                            r = p(this, e),
                                            o = q[r],
                                            0 < Q[r] && (o += f(this, Q[r])),
                                            n + a > c && ((i = this.f()), (c = i.length));
                                        a--;

                                    )
                                        i[n] = i[n++ - o];
                            for (; 8 <= this.e; ) (this.e -= 8), this.c--;
                            this.b = n;
                        }),
                        (_.prototype.f = function () {
                            var t,
                                e,
                                i = new (C ? Uint8Array : Array)(this.b - 32768),
                                n = this.b - 32768,
                                r = this.a;
                            if (C) i.set(r.subarray(32768, i.length));
                            else for (t = 0, e = i.length; t < e; ++t) i[t] = r[t + 32768];
                            if ((this.k.push(i), (this.q += i.length), C)) r.set(r.subarray(n, n + 32768));
                            else for (t = 0; 32768 > t; ++t) r[t] = r[n + t];
                            return (this.b = 32768), r;
                        }),
                        (_.prototype.J = function (t) {
                            var e,
                                i,
                                n,
                                r,
                                s = (this.input.length / this.c + 1) | 0,
                                o = this.input,
                                a = this.a;
                            return (
                                t && ('number' == typeof t.v && (s = t.v), 'number' == typeof t.F && (s += t.F)),
                                2 > s
                                    ? ((i = (o.length - this.c) / this.u[2]),
                                      (r = ((i / 2) * 258) | 0),
                                      (n = r < a.length ? a.length + r : a.length << 1))
                                    : (n = a.length * s),
                                C ? (e = new Uint8Array(n)).set(a) : (e = a),
                                (this.a = e)
                            );
                        }),
                        (_.prototype.t = function () {
                            var t,
                                e,
                                i,
                                n,
                                r,
                                s = 0,
                                o = this.a,
                                a = this.k,
                                c = new (C ? Uint8Array : Array)(this.q + (this.b - 32768));
                            if (0 === a.length) return C ? this.a.subarray(32768, this.b) : this.a.slice(32768, this.b);
                            for (e = 0, i = a.length; e < i; ++e)
                                for (n = 0, r = (t = a[e]).length; n < r; ++n) c[s++] = t[n];
                            for (e = 32768, i = this.b; e < i; ++e) c[s++] = o[e];
                            return (this.k = []), (this.buffer = c);
                        }),
                        (_.prototype.H = function () {
                            var t,
                                e = this.b;
                            return (
                                C
                                    ? this.B
                                        ? (t = new Uint8Array(e)).set(this.a.subarray(0, e))
                                        : (t = this.a.subarray(0, e))
                                    : (this.a.length > e && (this.a.length = e), (t = this.a)),
                                (this.buffer = t)
                            );
                        }),
                        (g.prototype.p = function () {
                            var e,
                                n = this.input;
                            return (
                                (e = this.A.p()),
                                (this.c = this.A.c),
                                this.M &&
                                    ((n[this.c++] << 24) | (n[this.c++] << 16) | (n[this.c++] << 8) | n[this.c++]) >>>
                                        0 !==
                                        i(e) &&
                                    t(Error('invalid adler-32 checksum')),
                                e
                            );
                        }),
                        e('Zlib.Inflate', g),
                        e('Zlib.Inflate.BufferType', z),
                        (z.ADAPTIVE = z.C),
                        (z.BLOCK = z.D),
                        e('Zlib.Inflate.prototype.decompress', g.prototype.p);
                    C && new Uint16Array([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]);
                    C &&
                        new Uint16Array([
                            3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31, 35, 43, 51, 59, 67, 83, 99, 115,
                            131, 163, 195, 227, 258, 258, 258,
                        ]);
                    C &&
                        new Uint8Array([
                            0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, 0, 0,
                        ]);
                    C &&
                        new Uint16Array([
                            1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193, 257, 385, 513, 769, 1025, 1537,
                            2049, 3073, 4097, 6145, 8193, 12289, 16385, 24577,
                        ]);
                    C &&
                        new Uint8Array([
                            0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12,
                            13, 13,
                        ]);
                    var nt,
                        rt,
                        st = new (C ? Uint8Array : Array)(288);
                    for (nt = 0, rt = st.length; nt < rt; ++nt)
                        st[nt] = 143 >= nt ? 8 : 255 >= nt ? 9 : 279 >= nt ? 7 : 8;
                    s(st);
                    var ot,
                        at,
                        ct = new (C ? Uint8Array : Array)(30);
                    for (ot = 0, at = ct.length; ot < at; ++ot) ct[ot] = 5;
                    s(ct);
                    var ht = 8;
                }.call(window));
                var n = window.Zlib;
                (n.Deflate = n.Deflate),
                    (n.Deflate.compress = n.Deflate.compress),
                    (n.Inflate = n.Inflate),
                    (n.Inflate.BufferType = n.Inflate.BufferType),
                    (n.Inflate.prototype.decompress = n.Inflate.prototype.decompress),
                    (e.exports = n);
            },
            {},
        ],
        32: [
            function (t, e, i) {
                cc.configuration = {
                    ERROR: 0,
                    STRING: 1,
                    INT: 2,
                    DOUBLE: 3,
                    BOOLEAN: 4,
                    _maxTextureSize: 0,
                    _maxModelviewStackDepth: 0,
                    _supportsPVRTC: !1,
                    _supportsNPOT: !1,
                    _supportsBGRA8888: !1,
                    _supportsDiscardFramebuffer: !1,
                    _supportsShareableVAO: !1,
                    _maxSamplesAllowed: 0,
                    _maxTextureUnits: 0,
                    _GlExtensions: '',
                    _valueDict: {},
                    _inited: !1,
                    _init: function () {
                        var t = this._valueDict;
                        (t['cocos2d.x.version'] = cc.ENGINE_VERSION),
                            (t['cocos2d.x.compiled_with_profiler'] = !1),
                            (t['cocos2d.x.compiled_with_gl_state_cache'] = cc.macro.ENABLE_GL_STATE_CACHE),
                            (this._inited = !0);
                    },
                    getMaxTextureSize: function () {
                        return this._maxTextureSize;
                    },
                    getMaxModelviewStackDepth: function () {
                        return this._maxModelviewStackDepth;
                    },
                    getMaxTextureUnits: function () {
                        return this._maxTextureUnits;
                    },
                    supportsNPOT: function () {
                        return this._supportsNPOT;
                    },
                    supportsPVRTC: function () {
                        return this._supportsPVRTC;
                    },
                    supportsETC: function () {
                        return !1;
                    },
                    supportsS3TC: function () {
                        return !1;
                    },
                    supportsATITC: function () {
                        return !1;
                    },
                    supportsBGRA8888: function () {
                        return this._supportsBGRA8888;
                    },
                    supportsDiscardFramebuffer: function () {
                        return this._supportsDiscardFramebuffer;
                    },
                    supportsShareableVAO: function () {
                        return this._supportsShareableVAO;
                    },
                    checkForGLExtension: function (t) {
                        return this._GlExtensions.indexOf(t) > -1;
                    },
                    getValue: function (t, e) {
                        this._inited || this._init();
                        var i = this._valueDict;
                        return i[t] ? i[t] : e;
                    },
                    setValue: function (t, e) {
                        this._valueDict[t] = e;
                    },
                    gatherGPUInfo: function () {
                        if (cc._renderType !== cc.game.RENDER_TYPE_CANVAS) {
                            this._inited || this._init();
                            var t = cc._renderContext,
                                e = this._valueDict;
                            (e['gl.vendor'] = t.getParameter(t.VENDOR)),
                                (e['gl.renderer'] = t.getParameter(t.RENDERER)),
                                (e['gl.version'] = t.getParameter(t.VERSION)),
                                (this._GlExtensions = '');
                            for (var i = t.getSupportedExtensions(), n = 0; n < i.length; n++)
                                this._GlExtensions += i[n] + ' ';
                            (this._maxTextureSize = t.getParameter(t.MAX_TEXTURE_SIZE)),
                                (e['gl.max_texture_size'] = this._maxTextureSize),
                                (this._maxTextureUnits = t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS)),
                                (e['gl.max_texture_units'] = this._maxTextureUnits),
                                (this._supportsPVRTC = this.checkForGLExtension('GL_IMG_texture_compression_pvrtc')),
                                (e['gl.supports_PVRTC'] = this._supportsPVRTC),
                                (this._supportsNPOT = !0),
                                (e['gl.supports_NPOT'] = this._supportsNPOT),
                                (this._supportsBGRA8888 = this.checkForGLExtension('GL_IMG_texture_format_BGRA888')),
                                (e['gl.supports_BGRA8888'] = this._supportsBGRA8888),
                                (this._supportsDiscardFramebuffer =
                                    this.checkForGLExtension('GL_EXT_discard_framebuffer')),
                                (e['gl.supports_discard_framebuffer'] = this._supportsDiscardFramebuffer),
                                (this._supportsShareableVAO = this.checkForGLExtension('vertex_array_object')),
                                (e['gl.supports_vertex_array_object'] = this._supportsShareableVAO),
                                cc.checkGLErrorDebug();
                        }
                    },
                    loadConfigFile: function (t) {
                        this._inited || this._init();
                        var e = cc.loader.getRes(t);
                        if (!e) throw new Error('Please load the resource first : ' + t);
                        cc.assertID(e, 1101, t);
                        var i = e.data;
                        if (i) for (var n in i) this._valueDict[n] = i[n];
                        else cc.logID(1100, t);
                    },
                };
            },
            {},
        ],
        33: [
            function (t, e, i) {
                var n = t('./event/event-target'),
                    r = t('./platform/_CCClass'),
                    s = t('./load-pipeline/auto-release-utils'),
                    o = t('./component-scheduler'),
                    a = t('./node-activator'),
                    c = t('./event/event-listeners'),
                    h = t('./event-manager');
                (cc.g_NumberOfDraws = 0),
                    (cc.Director = r.extend({
                        ctor: function () {
                            var t = this;
                            n.call(t),
                                (t._landscape = !1),
                                (t._nextDeltaTimeZero = !1),
                                (t._paused = !1),
                                (t._purgeDirectorInNextLoop = !1),
                                (t._sendCleanupToScene = !1),
                                (t._animationInterval = 0),
                                (t._oldAnimationInterval = 0),
                                (t._projection = 0),
                                (t._projectionDelegate = null),
                                (t._contentScaleFactor = 1),
                                (t._winSizeInPoints = null),
                                (t._openGLView = null),
                                (t._scenesStack = null),
                                (t._nextScene = null),
                                (t._loadingScene = ''),
                                (t._runningScene = null),
                                (t._scene = null),
                                (t._totalFrames = 0),
                                (t._lastUpdate = Date.now()),
                                (t._deltaTime = 0),
                                (t._dirtyRegion = null),
                                (t._scheduler = null),
                                (t._compScheduler = null),
                                (t._nodeActivator = null),
                                (t._actionManager = null),
                                cc.game.on(cc.game.EVENT_SHOW, function () {
                                    t._lastUpdate = Date.now();
                                });
                        },
                        init: function () {
                            return (
                                (this._oldAnimationInterval = this._animationInterval = 1 / cc.defaultFPS),
                                (this._scenesStack = []),
                                (this._projection = cc.Director.PROJECTION_DEFAULT),
                                (this._projectionDelegate = null),
                                (this._totalFrames = 0),
                                (this._lastUpdate = Date.now()),
                                (this._paused = !1),
                                (this._purgeDirectorInNextLoop = !1),
                                (this._winSizeInPoints = cc.size(0, 0)),
                                (this._openGLView = null),
                                (this._contentScaleFactor = 1),
                                (this._scheduler = new cc.Scheduler()),
                                cc.ActionManager
                                    ? ((this._actionManager = new cc.ActionManager()),
                                      this._scheduler.scheduleUpdate(
                                          this._actionManager,
                                          cc.Scheduler.PRIORITY_SYSTEM,
                                          !1,
                                      ))
                                    : (this._actionManager = null),
                                this.sharedInit(),
                                !0
                            );
                        },
                        sharedInit: function () {
                            (this._compScheduler = new o()),
                                (this._nodeActivator = new a()),
                                cc.AnimationManager
                                    ? ((this._animationManager = new cc.AnimationManager()),
                                      this._scheduler.scheduleUpdate(
                                          this._animationManager,
                                          cc.Scheduler.PRIORITY_SYSTEM,
                                          !1,
                                      ))
                                    : (this._animationManager = null),
                                cc.CollisionManager
                                    ? ((this._collisionManager = new cc.CollisionManager()),
                                      this._scheduler.scheduleUpdate(
                                          this._collisionManager,
                                          cc.Scheduler.PRIORITY_SYSTEM,
                                          !1,
                                      ))
                                    : (this._collisionManager = null),
                                cc.PhysicsManager
                                    ? ((this._physicsManager = new cc.PhysicsManager()),
                                      this._scheduler.scheduleUpdate(
                                          this._physicsManager,
                                          cc.Scheduler.PRIORITY_SYSTEM,
                                          !1,
                                      ))
                                    : (this._physicsManager = null),
                                cc._widgetManager && cc._widgetManager.init(this),
                                cc.loader.init(this);
                        },
                        calculateDeltaTime: function () {
                            var t = Date.now();
                            this._nextDeltaTimeZero
                                ? ((this._deltaTime = 0), (this._nextDeltaTimeZero = !1))
                                : ((this._deltaTime = (t - this._lastUpdate) / 1e3),
                                  cc.game.config[cc.game.CONFIG_KEY.debugMode] > 0 &&
                                      this._deltaTime > 1 &&
                                      (this._deltaTime = 1 / 60)),
                                (this._lastUpdate = t);
                        },
                        convertToGL: function (t) {
                            var e = cc.game.container,
                                i = cc.view,
                                n = e.getBoundingClientRect(),
                                r = n.left + window.pageXOffset - e.clientLeft,
                                s = n.top + window.pageYOffset - e.clientTop,
                                o = i._devicePixelRatio * (t.x - r),
                                a = i._devicePixelRatio * (s + n.height - t.y);
                            return i._isRotated
                                ? {
                                      x: i._viewPortRect.width - a,
                                      y: o,
                                  }
                                : {
                                      x: o,
                                      y: a,
                                  };
                        },
                        convertToUI: function (t) {
                            var e = cc.game.container,
                                i = cc.view,
                                n = e.getBoundingClientRect(),
                                r = n.left + window.pageXOffset - e.clientLeft,
                                s = n.top + window.pageYOffset - e.clientTop,
                                o = {
                                    x: 0,
                                    y: 0,
                                };
                            return (
                                i._isRotated
                                    ? ((o.x = r + t.y / i._devicePixelRatio),
                                      (o.y = s + n.height - (i._viewPortRect.width - t.x) / i._devicePixelRatio))
                                    : ((o.x = r + t.x * i._devicePixelRatio),
                                      (o.y = s + n.height - t.y * i._devicePixelRatio)),
                                o
                            );
                        },
                        _visitScene: function () {
                            if (this._runningScene) {
                                var t = cc.renderer;
                                t.childrenOrderDirty
                                    ? (t.clearRenderCommands(),
                                      (cc.renderer.assignedZ = 0),
                                      (this._runningScene._renderCmd._curLevel = 0),
                                      this._runningScene.visit(),
                                      t.resetFlag())
                                    : t.transformDirty() && t.transform();
                            }
                        },
                        end: function () {
                            this._purgeDirectorInNextLoop = !0;
                        },
                        getContentScaleFactor: function () {
                            return this._contentScaleFactor;
                        },
                        getWinSize: function () {
                            return cc.size(this._winSizeInPoints);
                        },
                        getWinSizeInPixels: function () {
                            return cc.size(
                                this._winSizeInPoints.width * this._contentScaleFactor,
                                this._winSizeInPoints.height * this._contentScaleFactor,
                            );
                        },
                        getVisibleSize: null,
                        getVisibleOrigin: null,
                        getZEye: null,
                        pause: function () {
                            this._paused ||
                                ((this._oldAnimationInterval = this._animationInterval),
                                this.setAnimationInterval(0.25),
                                (this._paused = !0));
                        },
                        popScene: function () {
                            cc.assertID(this._runningScene, 1204), this._scenesStack.pop();
                            var t = this._scenesStack.length;
                            0 === t
                                ? this.end()
                                : ((this._sendCleanupToScene = !0), (this._nextScene = this._scenesStack[t - 1]));
                        },
                        purgeCachedData: function () {
                            cc.textureCache._clear(), cc.loader.releaseAll();
                        },
                        purgeDirector: function () {
                            this.getScheduler().unscheduleAll(),
                                this._compScheduler.unscheduleAll(),
                                this._nodeActivator.reset(),
                                h && h.setEnabled(!1),
                                this._runningScene &&
                                    (this._runningScene.performRecursive(
                                        _ccsg.Node.performType.onExitTransitionDidStart,
                                    ),
                                    this._runningScene.performRecursive(_ccsg.Node.performType.onExit),
                                    this._runningScene.performRecursive(_ccsg.Node.performType.cleanup),
                                    cc.renderer.clearRenderCommands()),
                                (this._runningScene = null),
                                (this._nextScene = null),
                                (this._scenesStack.length = 0),
                                this.stopAnimation(),
                                this.purgeCachedData();
                        },
                        reset: function () {
                            this.purgeDirector(),
                                h && h.setEnabled(!0),
                                this._actionManager &&
                                    this._scheduler.scheduleUpdate(
                                        this._actionManager,
                                        cc.Scheduler.PRIORITY_SYSTEM,
                                        !1,
                                    ),
                                this._animationManager &&
                                    this._scheduler.scheduleUpdate(
                                        this._animationManager,
                                        cc.Scheduler.PRIORITY_SYSTEM,
                                        !1,
                                    ),
                                this._collisionManager &&
                                    this._scheduler.scheduleUpdate(
                                        this._collisionManager,
                                        cc.Scheduler.PRIORITY_SYSTEM,
                                        !1,
                                    ),
                                this._physicsManager &&
                                    this._scheduler.scheduleUpdate(
                                        this._physicsManager,
                                        cc.Scheduler.PRIORITY_SYSTEM,
                                        !1,
                                    ),
                                this.startAnimation();
                        },
                        pushScene: function (t) {
                            cc.assertID(t, 1205),
                                (this._sendCleanupToScene = !1),
                                this._scenesStack.push(t),
                                (this._nextScene = t);
                        },
                        runSceneImmediate: function (t, e, i) {
                            t instanceof cc.Scene && t._load();
                            for (
                                var n = cc.game,
                                    r = Object.keys(n._persistRootNodes).map(function (t) {
                                        return n._persistRootNodes[t];
                                    }),
                                    o = 0;
                                o < r.length;
                                o++
                            ) {
                                var a = r[o];
                                (n._ignoreRemovePersistNode = a),
                                    (a.parent = null),
                                    (n._ignoreRemovePersistNode = null);
                            }
                            var c = this._scene,
                                h = c && c.autoReleaseAssets && c.dependAssets;
                            s.autoRelease(h, t.dependAssets, r),
                                cc.isValid(c) && c.destroy(),
                                (this._scene = null),
                                cc.Object._deferredDestroy(),
                                e && e(),
                                this.emit(cc.Director.EVENT_BEFORE_SCENE_LAUNCH, t);
                            var l = t;
                            if (t instanceof cc.Scene) {
                                (this._scene = t), (l = t._sgNode);
                                for (var u = 0; u < r.length; u++) {
                                    var d = r[u],
                                        _ = t.getChildByUuid(d.uuid);
                                    if (_) {
                                        var f = _.getSiblingIndex();
                                        _._destroyImmediate(), t.insertChild(d, f);
                                    } else d.parent = t;
                                }
                                t._activate();
                            }
                            if (this._runningScene) {
                                var p = this._scenesStack.length;
                                (this._scenesStack[Math.max(p - 1, 0)] = l),
                                    (this._sendCleanupToScene = !0),
                                    (this._nextScene = l);
                            } else this.pushScene(l), this.startAnimation();
                            this._nextScene && this.setNextScene(),
                                i && i(null, t),
                                this.emit(cc.Director.EVENT_AFTER_SCENE_LAUNCH, t);
                        },
                        runScene: function (t, e, i) {
                            cc.assertID(t, 1205),
                                t instanceof cc.Scene && t._load(),
                                this.once(cc.Director.EVENT_AFTER_UPDATE, function () {
                                    this.runSceneImmediate(t, e, i);
                                });
                        },
                        _getSceneUuid: function (t) {
                            var e = cc.game._sceneInfos;
                            if ('string' == typeof t) {
                                t.endsWith('.fire') || (t += '.fire'),
                                    '/' === t[0] || t.startsWith('db://assets/') || (t = '/' + t);
                                for (var i = 0; i < e.length; i++) {
                                    var n = e[i];
                                    if (n.url.endsWith(t)) return n;
                                }
                            } else if ('number' == typeof t) {
                                if (0 <= t && t < e.length) return e[t];
                                cc.errorID(1206, t);
                            } else cc.errorID(1207, t);
                            return null;
                        },
                        loadScene: function (t, e, i) {
                            if (this._loadingScene) return cc.errorID(1208, t, this._loadingScene), !1;
                            var n = this._getSceneUuid(t);
                            if (n) {
                                var r = n.uuid;
                                this.emit(cc.Director.EVENT_BEFORE_SCENE_LOADING, t), (this._loadingScene = t);
                                return this._loadSceneByUuid(r, e, i), !0;
                            }
                            return cc.errorID(1209, t), !1;
                        },
                        preloadScene: function (t, e) {
                            var i = this._getSceneUuid(t);
                            if (i)
                                this.emit(cc.Director.EVENT_BEFORE_SCENE_LOADING, t),
                                    cc.loader.load(
                                        {
                                            uuid: i.uuid,
                                            type: 'uuid',
                                        },
                                        function (i, n) {
                                            i && cc.errorID(1210, t, i.message), e && e(i, n);
                                        },
                                    );
                            else {
                                var n =
                                    'Can not preload the scene "' + t + '" because it is not in the build settings.';
                                e(new Error(n)), cc.error('preloadScene: ' + n);
                            }
                        },
                        _loadSceneByUuid: function (t, e, i, n) {
                            console.time('LoadScene ' + t),
                                cc.AssetLibrary.loadAsset(t, function (n, r) {
                                    console.timeEnd('LoadScene ' + t);
                                    var s = cc.director;
                                    if (((s._loadingScene = ''), n)) (n = 'Failed to load scene: ' + n), cc.error(n);
                                    else {
                                        if (r instanceof cc.SceneAsset) {
                                            var o = r.scene;
                                            return (
                                                (o._id = r._uuid),
                                                (o._name = r._name),
                                                void s.runSceneImmediate(o, i, e)
                                            );
                                        }
                                        (n = 'The asset ' + t + ' is not a scene'), cc.error(n);
                                    }
                                    e && e(n);
                                });
                        },
                        resume: function () {
                            this._paused &&
                                (this.setAnimationInterval(this._oldAnimationInterval),
                                (this._lastUpdate = Date.now()),
                                this._lastUpdate || cc.logID(1200),
                                (this._paused = !1),
                                (this._deltaTime = 0));
                        },
                        setContentScaleFactor: function (t) {
                            t !== this._contentScaleFactor && (this._contentScaleFactor = t);
                        },
                        setDepthTest: null,
                        setClearColor: null,
                        setDefaultValues: function () {},
                        setNextDeltaTimeZero: function (t) {
                            this._nextDeltaTimeZero = t;
                        },
                        setNextScene: function () {
                            var t = !1,
                                e = !1;
                            if (
                                (cc.TransitionScene &&
                                    ((t = !!this._runningScene && this._runningScene instanceof cc.TransitionScene),
                                    (e = !!this._nextScene && this._nextScene instanceof cc.TransitionScene)),
                                !e)
                            ) {
                                var i = this._runningScene;
                                i &&
                                    (i.performRecursive(_ccsg.Node.performType.onExitTransitionDidStart),
                                    i.performRecursive(_ccsg.Node.performType.onExit)),
                                    this._sendCleanupToScene && i && i.performRecursive(_ccsg.Node.performType.cleanup);
                            }
                            (this._runningScene = this._nextScene),
                                (cc.renderer.childrenOrderDirty = !0),
                                (this._nextScene = null),
                                t ||
                                    null === this._runningScene ||
                                    (this._runningScene.performRecursive(_ccsg.Node.performType.onEnter),
                                    this._runningScene.performRecursive(
                                        _ccsg.Node.performType.onEnterTransitionDidFinish,
                                    ));
                        },
                        getDelegate: function () {
                            return this._projectionDelegate;
                        },
                        setDelegate: function (t) {
                            this._projectionDelegate = t;
                        },
                        setOpenGLView: null,
                        setProjection: null,
                        setViewport: null,
                        getOpenGLView: null,
                        getProjection: null,
                        setAlphaBlending: null,
                        isSendCleanupToScene: function () {
                            return this._sendCleanupToScene;
                        },
                        getRunningScene: function () {
                            return this._runningScene;
                        },
                        getScene: function () {
                            return this._scene;
                        },
                        getAnimationInterval: function () {
                            return this._animationInterval;
                        },
                        isDisplayStats: function () {
                            return !!cc.profiler && cc.profiler.isShowingStats();
                        },
                        setDisplayStats: function (t) {
                            cc.profiler &&
                                (t ? cc.profiler.showStats() : cc.profiler.hideStats(),
                                (cc.game.config[cc.game.CONFIG_KEY.showFPS] = !!t));
                        },
                        isNextDeltaTimeZero: function () {
                            return this._nextDeltaTimeZero;
                        },
                        isPaused: function () {
                            return this._paused;
                        },
                        getTotalFrames: function () {
                            return this._totalFrames;
                        },
                        popToRootScene: function () {
                            this.popToSceneStackLevel(1);
                        },
                        popToSceneStackLevel: function (t) {
                            cc.assertID(this._runningScene, 1203);
                            var e = this._scenesStack,
                                i = e.length;
                            if (0 !== i) {
                                if (!(t > i)) {
                                    for (; i > t; ) {
                                        var n = e.pop();
                                        n.running &&
                                            (n.performRecursive(_ccsg.Node.performType.onExitTransitionDidStart),
                                            n.performRecursive(_ccsg.Node.performType.onExit)),
                                            n.performRecursive(_ccsg.Node.performType.cleanup),
                                            i--;
                                    }
                                    (this._nextScene = e[e.length - 1]), (this._sendCleanupToScene = !0);
                                }
                            } else this.end();
                        },
                        getScheduler: function () {
                            return this._scheduler;
                        },
                        setScheduler: function (t) {
                            this._scheduler !== t && (this._scheduler = t);
                        },
                        getActionManager: function () {
                            return this._actionManager;
                        },
                        setActionManager: function (t) {
                            this._actionManager !== t &&
                                (this._actionManager && this._scheduler.unscheduleUpdate(this._actionManager),
                                (this._actionManager = t),
                                this._scheduler.scheduleUpdate(this._actionManager, cc.Scheduler.PRIORITY_SYSTEM, !1));
                        },
                        getAnimationManager: function () {
                            return this._animationManager;
                        },
                        getCollisionManager: function () {
                            return this._collisionManager;
                        },
                        getPhysicsManager: function () {
                            return this._physicsManager;
                        },
                        getDeltaTime: function () {
                            return this._deltaTime;
                        },
                    })),
                    cc.js.addon(cc.Director.prototype, n.prototype),
                    (cc.Director.EVENT_PROJECTION_CHANGED = 'director_projection_changed'),
                    (cc.Director.EVENT_BEFORE_SCENE_LOADING = 'director_before_scene_loading'),
                    (cc.Director.EVENT_BEFORE_SCENE_LAUNCH = 'director_before_scene_launch'),
                    (cc.Director.EVENT_AFTER_SCENE_LAUNCH = 'director_after_scene_launch'),
                    (cc.Director.EVENT_BEFORE_UPDATE = 'director_before_update'),
                    (cc.Director.EVENT_AFTER_UPDATE = 'director_after_update'),
                    (cc.Director.EVENT_BEFORE_VISIT = 'director_before_visit'),
                    (cc.Director.EVENT_AFTER_VISIT = 'director_after_visit'),
                    (cc.Director.EVENT_AFTER_DRAW = 'director_after_draw'),
                    (cc.DisplayLinkDirector = cc.Director.extend({
                        invalid: !1,
                        startAnimation: function () {
                            (this._nextDeltaTimeZero = !0), (this.invalid = !1);
                        },
                        mainLoop: function () {
                            if (this._purgeDirectorInNextLoop)
                                (this._purgeDirectorInNextLoop = !1), this.purgeDirector();
                            else if (!this.invalid) {
                                if ((this.calculateDeltaTime(), cc.sys.skipRender))
                                    return (
                                        this._paused ||
                                            (this._compScheduler.updatePhase(this._deltaTime),
                                            cc.Object._deferredDestroy()),
                                        this._nextScene && this.setNextScene(),
                                        (cc.g_NumberOfDraws = 0),
                                        this._totalFrames++,
                                        void this.emit(cc.Director.EVENT_AFTER_DRAW)
                                    );
                                this._paused ||
                                    (this.emit(cc.Director.EVENT_BEFORE_UPDATE),
                                    this._compScheduler.startPhase(),
                                    this._compScheduler.updatePhase(this._deltaTime),
                                    this._scheduler.update(this._deltaTime),
                                    this._compScheduler.lateUpdatePhase(this._deltaTime),
                                    this.emit(cc.Director.EVENT_AFTER_UPDATE),
                                    cc.Object._deferredDestroy()),
                                    this._nextScene && this.setNextScene(),
                                    this.emit(cc.Director.EVENT_BEFORE_VISIT),
                                    this._visitScene(),
                                    this.emit(cc.Director.EVENT_AFTER_VISIT),
                                    (cc.g_NumberOfDraws = 0),
                                    cc.renderer.clear(),
                                    cc.renderer.rendering(cc._renderContext),
                                    this._totalFrames++,
                                    this.emit(cc.Director.EVENT_AFTER_DRAW),
                                    h.frameUpdateListeners();
                            }
                        },
                        stopAnimation: function () {
                            this.invalid = !0;
                        },
                        setAnimationInterval: function (t) {
                            (this._animationInterval = t),
                                this.invalid || (this.stopAnimation(), this.startAnimation());
                        },
                        __fastOn: function (t, e, i) {
                            var n = this._bubblingListeners;
                            n || (n = this._bubblingListeners = new c()), n.add(t, e, i), this._addEventFlag(t, n, !1);
                        },
                        __fastOff: function (t, e, i) {
                            var n = this._bubblingListeners;
                            n && (n.remove(t, e, i), this._purgeEventFlag(t, n, !1));
                        },
                    })),
                    (cc.Director.sharedDirector = null),
                    (cc.Director.firstUseDirector = !0),
                    (cc.Director._getInstance = function () {
                        return (
                            cc.Director.firstUseDirector &&
                                ((cc.Director.firstUseDirector = !1),
                                (cc.Director.sharedDirector = new cc.DisplayLinkDirector()),
                                cc.Director.sharedDirector.init()),
                            cc.Director.sharedDirector
                        );
                    }),
                    (cc.defaultFPS = 60),
                    (cc.Director.PROJECTION_2D = 0),
                    (cc.Director.PROJECTION_3D = 1),
                    (cc.Director.PROJECTION_CUSTOM = 3),
                    (cc.Director.PROJECTION_DEFAULT = cc.Director.PROJECTION_2D);
            },
            {
                './component-scheduler': 60,
                './event-manager': 95,
                './event/event-listeners': 96,
                './event/event-target': 97,
                './load-pipeline/auto-release-utils': 119,
                './node-activator': 132,
                './platform/_CCClass': 147,
            },
        ],
        34: [
            function (t, e, i) {
                t('./CCDirector'), t('./CCGame');
                var n = t('./event-manager');
                cc.game.once(cc.game.EVENT_RENDERER_INITED, function () {
                    if (cc._renderType === cc.game.RENDER_TYPE_CANVAS) {
                        var t = cc.Director.prototype;
                        (t.getProjection = function (t) {
                            return this._projection;
                        }),
                            (t.setProjection = function (t) {
                                (this._projection = t), this.emit(cc.Director.EVENT_PROJECTION_CHANGED, this);
                            }),
                            (t.setDepthTest = function () {}),
                            (t.setClearColor = function (t) {
                                (cc.renderer._clearColor = t),
                                    (cc.renderer._clearFillStyle = 'rgb(' + t.r + ',' + t.g + ',' + t.b + ')');
                            }),
                            (t.setOpenGLView = function (t) {
                                (this._winSizeInPoints.width = cc._canvas.width),
                                    (this._winSizeInPoints.height = cc._canvas.height),
                                    (this._openGLView = t || cc.view),
                                    n && n.setEnabled(!0);
                            }),
                            (t.getVisibleSize = function () {
                                return this.getWinSize();
                            }),
                            (t.getVisibleOrigin = function () {
                                return cc.p(0, 0);
                            });
                    }
                });
            },
            {
                './CCDirector': 33,
                './CCGame': 39,
                './event-manager': 95,
            },
        ],
        35: [
            function (t, e, i) {
                t('./CCDirector'), t('./CCGame'), t('../kazmath');
                var n = t('./event-manager'),
                    r = cc.math;
                cc.game.once(cc.game.EVENT_RENDERER_INITED, function () {
                    if (cc._renderType === cc.game.RENDER_TYPE_WEBGL) {
                        cc.DirectorDelegate = cc._Class.extend({
                            updateProjection: function () {},
                        });
                        var t = cc.Director.prototype,
                            e = function (t) {
                                if (t && t._renderCmd) {
                                    t._renderCmd.setDirtyFlag(_ccsg.Node._dirtyFlags.transformDirty);
                                    var i,
                                        n = t._children;
                                    for (i = 0; i < n.length; i++) e(n[i]);
                                }
                            };
                        cc.Director._getInstance().on(cc.Director.EVENT_PROJECTION_CHANGED, function () {
                            for (var t = cc.director._scenesStack, i = 0; i < t.length; i++) e(t[i]);
                        }),
                            (t.setProjection = function (t) {
                                var e = this._winSizeInPoints;
                                this.setViewport();
                                var i = this._openGLView,
                                    n = i._viewPortRect.x / i._scaleX,
                                    s = i._viewPortRect.y / i._scaleY;
                                switch (t) {
                                    case cc.Director.PROJECTION_2D:
                                        r.glMatrixMode(r.KM_GL_PROJECTION), r.glLoadIdentity();
                                        var o = r.Matrix4.createOrthographicProjection(
                                            0,
                                            e.width,
                                            0,
                                            e.height,
                                            -1024,
                                            1024,
                                        );
                                        r.glMultMatrix(o), r.glMatrixMode(r.KM_GL_MODELVIEW), r.glLoadIdentity();
                                        break;
                                    case cc.Director.PROJECTION_3D:
                                        var a = this.getZEye(),
                                            c = new r.Matrix4(),
                                            h = new r.Matrix4();
                                        r.glMatrixMode(r.KM_GL_PROJECTION),
                                            r.glLoadIdentity(),
                                            (c = r.Matrix4.createPerspectiveProjection(
                                                60,
                                                e.width / e.height,
                                                0.1,
                                                2 * a,
                                            )),
                                            r.glMultMatrix(c);
                                        var l = new r.Vec3(-n + e.width / 2, -s + e.height / 2, a),
                                            u = new r.Vec3(-n + e.width / 2, -s + e.height / 2, 0),
                                            d = new r.Vec3(0, 1, 0);
                                        h.lookAt(l, u, d),
                                            r.glMultMatrix(h),
                                            r.glMatrixMode(r.KM_GL_MODELVIEW),
                                            r.glLoadIdentity();
                                        break;
                                    case cc.Director.PROJECTION_CUSTOM:
                                        this._projectionDelegate && this._projectionDelegate.updateProjection();
                                        break;
                                    default:
                                        cc.logID(1201);
                                }
                                (this._projection = t),
                                    this.emit(cc.Director.EVENT_PROJECTION_CHANGED, this),
                                    cc.gl.setProjectionMatrixDirty(),
                                    (cc.renderer.childrenOrderDirty = !0);
                            }),
                            (t.setDepthTest = function (t) {
                                cc.renderer.setDepthTest(t);
                            }),
                            (t.setClearColor = function (t) {
                                var e = cc.renderer._clearColor;
                                (e.r = t.r / 255), (e.g = t.g / 255), (e.b = t.b / 255), (e.a = t.a / 255);
                            }),
                            (t.setOpenGLView = function (t) {
                                (this._winSizeInPoints.width = cc._canvas.width),
                                    (this._winSizeInPoints.height = cc._canvas.height),
                                    (this._openGLView = t || cc.view);
                                cc.configuration.gatherGPUInfo(), this.setGLDefaultValues(), n && n.setEnabled(!0);
                            }),
                            (t.getVisibleSize = function () {
                                return this._openGLView.getVisibleSize();
                            }),
                            (t.getVisibleOrigin = function () {
                                return this._openGLView.getVisibleOrigin();
                            }),
                            (t.getZEye = function () {
                                return this._winSizeInPoints.height / 1.1566;
                            }),
                            (t.setViewport = function () {
                                var t = this._openGLView;
                                if (t) {
                                    var e = this._winSizeInPoints;
                                    t.setViewPortInPoints(
                                        -t._viewPortRect.x / t._scaleX,
                                        -t._viewPortRect.y / t._scaleY,
                                        e.width,
                                        e.height,
                                    );
                                }
                            }),
                            (t.getOpenGLView = function () {
                                return this._openGLView;
                            }),
                            (t.getProjection = function () {
                                return this._projection;
                            }),
                            (t.setAlphaBlending = function (t) {
                                t
                                    ? cc.gl.blendFunc(cc.macro.BLEND_SRC, cc.macro.BLEND_DST)
                                    : cc.gl.blendFunc(cc.macro.ONE, cc.macro.ZERO);
                            }),
                            (t.setGLDefaultValues = function () {
                                this.setAlphaBlending(!0),
                                    this.setProjection(this._projection),
                                    cc._renderContext.clearColor(0, 0, 0, 0);
                            });
                    }
                });
            },
            {
                '../kazmath': 204,
                './CCDirector': 33,
                './CCGame': 39,
                './event-manager': 95,
            },
        ],
        36: [
            function (t, e, i) {
                var n = t('./CCGame');
                (cc._drawingUtil = null),
                    n.once(n.EVENT_RENDERER_INITED, function () {
                        cc._renderType === n.RENDER_TYPE_WEBGL
                            ? (cc._drawingUtil = new (t('./CCDrawingPrimitivesWebGL'))(cc._renderContext))
                            : (cc._drawingUtil = new (t('./CCDrawingPrimitivesCanvas'))(cc._renderContext));
                    });
            },
            {
                './CCDrawingPrimitivesCanvas': 37,
                './CCDrawingPrimitivesWebGL': 38,
                './CCGame': 39,
            },
        ],
        37: [
            function (t, e, i) {
                var n = cc._Class.extend({
                    _cacheArray: [],
                    ctor: function (t) {
                        this._renderContext = t;
                    },
                    drawPoint: function (t, e) {
                        e || (e = 1);
                        var i = cc.view.getScaleX(),
                            n = cc.view.getScaleY(),
                            r = cc.p(t.x * i, t.y * n),
                            s = this._renderContext.getContext();
                        s.beginPath(), s.arc(r.x, -r.y, e * i, 0, 2 * Math.PI, !1), s.closePath(), s.fill();
                    },
                    drawPoints: function (t, e, i) {
                        if (null != t) {
                            i || (i = 1);
                            var n = this._renderContext.getContext(),
                                r = cc.view.getScaleX(),
                                s = cc.view.getScaleY();
                            n.beginPath();
                            for (var o = 0, a = t.length; o < a; o++)
                                n.arc(t[o].x * r, -t[o].y * s, i * r, 0, 2 * Math.PI, !1);
                            n.closePath(), n.fill();
                        }
                    },
                    drawLine: function (t, e) {
                        var i = this._renderContext.getContext(),
                            n = cc.view.getScaleX(),
                            r = cc.view.getScaleY();
                        i.beginPath(),
                            i.moveTo(t.x * n, -t.y * r),
                            i.lineTo(e.x * n, -e.y * r),
                            i.closePath(),
                            i.stroke();
                    },
                    drawRect: function (t, e) {
                        this.drawLine(cc.p(t.x, t.y), cc.p(e.x, t.y)),
                            this.drawLine(cc.p(e.x, t.y), cc.p(e.x, e.y)),
                            this.drawLine(cc.p(e.x, e.y), cc.p(t.x, e.y)),
                            this.drawLine(cc.p(t.x, e.y), cc.p(t.x, t.y));
                    },
                    drawSolidRect: function (t, e, i) {
                        var n = [t, cc.p(e.x, t.y), e, cc.p(t.x, e.y)];
                        this.drawSolidPoly(n, 4, i);
                    },
                    drawPoly: function (t, e, i, n) {
                        if (((n = n || !1), null != t)) {
                            if (t.length < 3) throw new Error("Polygon's point must greater than 2");
                            var r = t[0],
                                s = this._renderContext.getContext(),
                                o = cc.view.getScaleX(),
                                a = cc.view.getScaleY();
                            s.beginPath(), s.moveTo(r.x * o, -r.y * a);
                            for (var c = 1, h = t.length; c < h; c++) s.lineTo(t[c].x * o, -t[c].y * a);
                            i && s.closePath(), n ? s.fill() : s.stroke();
                        }
                    },
                    drawSolidPoly: function (t, e, i) {
                        this.setDrawColor(i.r, i.g, i.b, i.a), this.drawPoly(t, e, !0, !0);
                    },
                    drawCircle: function (t, e, i, n, r) {
                        r = r || !1;
                        var s = this._renderContext.getContext(),
                            o = cc.view.getScaleX(),
                            a = cc.view.getScaleY();
                        s.beginPath();
                        var c = i - 2 * Math.PI;
                        s.arc(0 | (t.x * o), 0 | (-t.y * a), e * o, -i, -c, !1),
                            r && s.lineTo(0 | (t.x * o), 0 | (-t.y * a)),
                            s.stroke();
                    },
                    drawQuadBezier: function (t, e, i, n) {
                        var r = this._cacheArray;
                        r.length = 0;
                        for (var s = 0, o = 0; o < n; o++) {
                            var a = Math.pow(1 - s, 2) * t.x + 2 * (1 - s) * s * e.x + s * s * i.x,
                                c = Math.pow(1 - s, 2) * t.y + 2 * (1 - s) * s * e.y + s * s * i.y;
                            r.push(cc.p(a, c)), (s += 1 / n);
                        }
                        r.push(cc.p(i.x, i.y)), this.drawPoly(r, n + 1, !1, !1);
                    },
                    drawCubicBezier: function (t, e, i, n, r) {
                        var s = this._cacheArray;
                        s.length = 0;
                        for (var o = 0, a = 0; a < r; a++) {
                            var c =
                                    Math.pow(1 - o, 3) * t.x +
                                    3 * Math.pow(1 - o, 2) * o * e.x +
                                    3 * (1 - o) * o * o * i.x +
                                    o * o * o * n.x,
                                h =
                                    Math.pow(1 - o, 3) * t.y +
                                    3 * Math.pow(1 - o, 2) * o * e.y +
                                    3 * (1 - o) * o * o * i.y +
                                    o * o * o * n.y;
                            s.push(cc.p(c, h)), (o += 1 / r);
                        }
                        s.push(cc.p(n.x, n.y)), this.drawPoly(s, r + 1, !1, !1);
                    },
                    drawCatmullRom: function (t, e) {
                        this.drawCardinalSpline(t, 0.5, e);
                    },
                    drawCardinalSpline: function (t, e, i) {
                        cc._renderContext.setStrokeStyle('rgba(255,255,255,1)');
                        var n = this._cacheArray;
                        n.length = 0;
                        for (var r, s, o = 1 / t.length, a = 0; a < i + 1; a++) {
                            var c = a / i;
                            1 === c ? ((r = t.length - 1), (s = 1)) : (s = (c - o * (r = 0 | (c / o))) / o);
                            var h = cc.cardinalSplineAt(
                                cc.getControlPointAt(t, r - 1),
                                cc.getControlPointAt(t, r - 0),
                                cc.getControlPointAt(t, r + 1),
                                cc.getControlPointAt(t, r + 2),
                                e,
                                s,
                            );
                            n.push(h);
                        }
                        this.drawPoly(n, i + 1, !1, !1);
                    },
                    drawImage: function (t, e, i, n, r) {
                        var s = arguments.length,
                            o = this._renderContext.getContext();
                        switch (s) {
                            case 2:
                                var a = t.height;
                                o.drawImage(t, e.x, -(e.y + a));
                                break;
                            case 3:
                                o.drawImage(t, e.x, -(e.y + i.height), i.width, i.height);
                                break;
                            case 5:
                                o.drawImage(t, e.x, e.y, i.width, i.height, n.x, -(n.y + r.height), r.width, r.height);
                                break;
                            default:
                                throw new Error('Argument must be non-nil');
                        }
                    },
                    drawStar: function (t, e, i) {
                        var n = t || this._renderContext,
                            r = n.getContext();
                        e *= cc.view.getScaleX();
                        var s = 'rgba(' + (0 | i.r) + ',' + (0 | i.g) + ',' + (0 | i.b);
                        n.setFillStyle(s + ',1)');
                        var o = e / 10;
                        r.beginPath(),
                            r.moveTo(-e, e),
                            r.lineTo(0, o),
                            r.lineTo(e, e),
                            r.lineTo(o, 0),
                            r.lineTo(e, -e),
                            r.lineTo(0, -o),
                            r.lineTo(-e, -e),
                            r.lineTo(-o, 0),
                            r.lineTo(-e, e),
                            r.closePath(),
                            r.fill();
                        var a = r.createRadialGradient(0, 0, o, 0, 0, e);
                        a.addColorStop(0, s + ', 1)'),
                            a.addColorStop(0.3, s + ', 0.8)'),
                            a.addColorStop(1, s + ', 0.0)'),
                            n.setFillStyle(a),
                            r.beginPath();
                        var c = cc.macro.PI2;
                        r.arc(0, 0, e - o, 0, c, !1), r.closePath(), r.fill();
                    },
                    drawColorBall: function (t, e, i) {
                        var n = t || this._renderContext,
                            r = n.getContext();
                        e *= cc.view.getScaleX();
                        var s = 'rgba(' + (0 | i.r) + ',' + (0 | i.g) + ',' + (0 | i.b),
                            o = e / 10,
                            a = r.createRadialGradient(0, 0, o, 0, 0, e);
                        a.addColorStop(0, s + ', 1)'),
                            a.addColorStop(0.3, s + ', 0.8)'),
                            a.addColorStop(0.6, s + ', 0.4)'),
                            a.addColorStop(1, s + ', 0.0)'),
                            n.setFillStyle(a),
                            r.beginPath();
                        var c = cc.macro.PI2;
                        r.arc(0, 0, e, 0, c, !1), r.closePath(), r.fill();
                    },
                    fillText: function (t, e, i) {
                        this._renderContext.getContext().fillText(t, e, -i);
                    },
                    setDrawColor: function (t, e, i, n) {
                        this._renderContext.setFillStyle('rgba(' + t + ',' + e + ',' + i + ',' + n / 255 + ')'),
                            this._renderContext.setStrokeStyle('rgba(' + t + ',' + e + ',' + i + ',' + n / 255 + ')');
                    },
                    setPointSize: function (t) {},
                    setLineWidth: function (t) {
                        this._renderContext.getContext().lineWidth = t * cc.view.getScaleX();
                    },
                });
                e.exports = n;
            },
            {},
        ],
        38: [
            function (t, e, i) {
                var n = cc.macro,
                    r = cc._Class.extend({
                        _initialized: !1,
                        _shader: null,
                        _colorLocation: 'u_color',
                        _pointSizeLocation: 'u_pointSize',
                        _pointSize: -1,
                        ctor: function (t) {
                            if (!t instanceof WebGLRenderingContext)
                                throw new Error(
                                    "Can't initialise DrawingPrimitiveWebGL. context need is WebGLRenderingContext",
                                );
                            (this._renderContext = t), (this._colorArray = new Float32Array([1, 1, 1, 1]));
                        },
                        lazy_init: function () {
                            this._initialized ||
                                ((this._shader = cc.shaderCache.programForKey(n.SHADER_POSITION_UCOLOR)),
                                this._shader._addUniformLocation(this._colorLocation),
                                this._shader._addUniformLocation(this._pointSizeLocation),
                                (this._initialized = !0));
                        },
                        drawInit: function () {
                            this._initialized = !1;
                        },
                        drawPoint: function (t) {
                            this.lazy_init();
                            var e = this._renderContext;
                            this._shader.use(),
                                this._shader.setUniformForModelViewAndProjectionMatrixWithMat4(),
                                e.enableVertexAttribArray(n.VERTEX_ATTRIB_POSITION),
                                this._shader.setUniformLocationWith4fv(this._colorLocation, this._colorArray),
                                this._shader.setUniformLocationWith1f(this._pointSizeLocation, this._pointSize);
                            var i = e.createBuffer();
                            e.bindBuffer(e.ARRAY_BUFFER, i),
                                e.bufferData(e.ARRAY_BUFFER, new Float32Array([t.x, t.y]), e.STATIC_DRAW),
                                e.vertexAttribPointer(n.VERTEX_ATTRIB_POSITION, 2, e.FLOAT, !1, 0, 0),
                                e.drawArrays(e.POINTS, 0, 1),
                                e.deleteBuffer(i),
                                cc.incrementGLDraws(1);
                        },
                        drawPoints: function (t, e) {
                            if (t && 0 !== t.length) {
                                this.lazy_init();
                                var i = this._renderContext;
                                this._shader.use(),
                                    this._shader.setUniformForModelViewAndProjectionMatrixWithMat4(),
                                    i.enableVertexAttribArray(n.VERTEX_ATTRIB_POSITION),
                                    this._shader.setUniformLocationWith4fv(this._colorLocation, this._colorArray),
                                    this._shader.setUniformLocationWith1f(this._pointSizeLocation, this._pointSize);
                                var r = i.createBuffer();
                                i.bindBuffer(i.ARRAY_BUFFER, r),
                                    i.bufferData(i.ARRAY_BUFFER, this._pointsToTypeArray(t), i.STATIC_DRAW),
                                    i.vertexAttribPointer(n.VERTEX_ATTRIB_POSITION, 2, i.FLOAT, !1, 0, 0),
                                    i.drawArrays(i.POINTS, 0, t.length),
                                    i.deleteBuffer(r),
                                    cc.incrementGLDraws(1);
                            }
                        },
                        _pointsToTypeArray: function (t) {
                            for (var e = new Float32Array(2 * t.length), i = 0; i < t.length; i++)
                                (e[2 * i] = t[i].x), (e[2 * i + 1] = t[i].y);
                            return e;
                        },
                        drawLine: function (t, e) {
                            this.lazy_init();
                            var i = this._renderContext;
                            this._shader.use(),
                                this._shader.setUniformForModelViewAndProjectionMatrixWithMat4(),
                                i.enableVertexAttribArray(n.VERTEX_ATTRIB_POSITION),
                                this._shader.setUniformLocationWith4fv(this._colorLocation, this._colorArray);
                            var r = i.createBuffer();
                            i.bindBuffer(i.ARRAY_BUFFER, r),
                                i.bufferData(i.ARRAY_BUFFER, this._pointsToTypeArray([t, e]), i.STATIC_DRAW),
                                i.vertexAttribPointer(n.VERTEX_ATTRIB_POSITION, 2, i.FLOAT, !1, 0, 0),
                                i.drawArrays(i.LINES, 0, 2),
                                i.deleteBuffer(r),
                                cc.incrementGLDraws(1);
                        },
                        drawRect: function (t, e) {
                            this.drawLine(cc.p(t.x, t.y), cc.p(e.x, t.y)),
                                this.drawLine(cc.p(e.x, t.y), cc.p(e.x, e.y)),
                                this.drawLine(cc.p(e.x, e.y), cc.p(t.x, e.y)),
                                this.drawLine(cc.p(t.x, e.y), cc.p(t.x, t.y));
                        },
                        drawSolidRect: function (t, e, i) {
                            var n = [t, cc.p(e.x, t.y), e, cc.p(t.x, e.y)];
                            this.drawSolidPoly(n, 4, i);
                        },
                        drawPoly: function (t, e, i) {
                            this.lazy_init();
                            var r = this._renderContext;
                            this._shader.use(),
                                this._shader.setUniformForModelViewAndProjectionMatrixWithMat4(),
                                r.enableVertexAttribArray(n.VERTEX_ATTRIB_POSITION),
                                this._shader.setUniformLocationWith4fv(this._colorLocation, this._colorArray);
                            var s = r.createBuffer();
                            r.bindBuffer(r.ARRAY_BUFFER, s),
                                r.bufferData(r.ARRAY_BUFFER, this._pointsToTypeArray(t), r.STATIC_DRAW),
                                r.vertexAttribPointer(n.VERTEX_ATTRIB_POSITION, 2, r.FLOAT, !1, 0, 0),
                                i ? r.drawArrays(r.LINE_LOOP, 0, t.length) : r.drawArrays(r.LINE_STRIP, 0, t.length),
                                r.deleteBuffer(s),
                                cc.incrementGLDraws(1);
                        },
                        drawSolidPoly: function (t, e, i) {
                            this.lazy_init(), i && this.setDrawColor(i.r, i.g, i.b, i.a);
                            var r = this._renderContext;
                            this._shader.use(),
                                this._shader.setUniformForModelViewAndProjectionMatrixWithMat4(),
                                r.enableVertexAttribArray(n.VERTEX_ATTRIB_POSITION),
                                this._shader.setUniformLocationWith4fv(this._colorLocation, this._colorArray);
                            var s = r.createBuffer();
                            r.bindBuffer(r.ARRAY_BUFFER, s),
                                r.bufferData(r.ARRAY_BUFFER, this._pointsToTypeArray(t), r.STATIC_DRAW),
                                r.vertexAttribPointer(n.VERTEX_ATTRIB_POSITION, 2, r.FLOAT, !1, 0, 0),
                                r.drawArrays(r.TRIANGLE_FAN, 0, t.length),
                                r.deleteBuffer(s),
                                cc.incrementGLDraws(1);
                        },
                        drawCircle: function (t, e, i, r, s) {
                            this.lazy_init();
                            var o = 1;
                            s && o++;
                            var a = (2 * Math.PI) / r,
                                c = new Float32Array(2 * (r + 2));
                            if (c) {
                                for (var h = 0; h <= r; h++) {
                                    var l = h * a,
                                        u = e * Math.cos(l + i) + t.x,
                                        d = e * Math.sin(l + i) + t.y;
                                    (c[2 * h] = u), (c[2 * h + 1] = d);
                                }
                                (c[2 * (r + 1)] = t.x), (c[2 * (r + 1) + 1] = t.y);
                                var _ = this._renderContext;
                                this._shader.use(),
                                    this._shader.setUniformForModelViewAndProjectionMatrixWithMat4(),
                                    _.enableVertexAttribArray(n.VERTEX_ATTRIB_POSITION),
                                    this._shader.setUniformLocationWith4fv(this._colorLocation, this._colorArray);
                                var f = _.createBuffer();
                                _.bindBuffer(_.ARRAY_BUFFER, f),
                                    _.bufferData(_.ARRAY_BUFFER, c, _.STATIC_DRAW),
                                    _.vertexAttribPointer(n.VERTEX_ATTRIB_POSITION, 2, _.FLOAT, !1, 0, 0),
                                    _.drawArrays(_.LINE_STRIP, 0, r + o),
                                    _.deleteBuffer(f),
                                    cc.incrementGLDraws(1);
                            }
                        },
                        drawQuadBezier: function (t, e, i, r) {
                            this.lazy_init();
                            for (var s = new Float32Array(2 * (r + 1)), o = 0, a = 0; a < r; a++)
                                (s[2 * a] = Math.pow(1 - o, 2) * t.x + 2 * (1 - o) * o * e.x + o * o * i.x),
                                    (s[2 * a + 1] = Math.pow(1 - o, 2) * t.y + 2 * (1 - o) * o * e.y + o * o * i.y),
                                    (o += 1 / r);
                            (s[2 * r] = i.x), (s[2 * r + 1] = i.y);
                            var c = this._renderContext;
                            this._shader.use(),
                                this._shader.setUniformForModelViewAndProjectionMatrixWithMat4(),
                                c.enableVertexAttribArray(n.VERTEX_ATTRIB_POSITION),
                                this._shader.setUniformLocationWith4fv(this._colorLocation, this._colorArray);
                            var h = c.createBuffer();
                            c.bindBuffer(c.ARRAY_BUFFER, h),
                                c.bufferData(c.ARRAY_BUFFER, s, c.STATIC_DRAW),
                                c.vertexAttribPointer(n.VERTEX_ATTRIB_POSITION, 2, c.FLOAT, !1, 0, 0),
                                c.drawArrays(c.LINE_STRIP, 0, r + 1),
                                c.deleteBuffer(h),
                                cc.incrementGLDraws(1);
                        },
                        drawCubicBezier: function (t, e, i, r, s) {
                            this.lazy_init();
                            for (var o = new Float32Array(2 * (s + 1)), a = 0, c = 0; c < s; c++)
                                (o[2 * c] =
                                    Math.pow(1 - a, 3) * t.x +
                                    3 * Math.pow(1 - a, 2) * a * e.x +
                                    3 * (1 - a) * a * a * i.x +
                                    a * a * a * r.x),
                                    (o[2 * c + 1] =
                                        Math.pow(1 - a, 3) * t.y +
                                        3 * Math.pow(1 - a, 2) * a * e.y +
                                        3 * (1 - a) * a * a * i.y +
                                        a * a * a * r.y),
                                    (a += 1 / s);
                            (o[2 * s] = r.x), (o[2 * s + 1] = r.y);
                            var h = this._renderContext;
                            this._shader.use(),
                                this._shader.setUniformForModelViewAndProjectionMatrixWithMat4(),
                                h.enableVertexAttribArray(n.VERTEX_ATTRIB_POSITION),
                                this._shader.setUniformLocationWith4fv(this._colorLocation, this._colorArray);
                            var l = h.createBuffer();
                            h.bindBuffer(h.ARRAY_BUFFER, l),
                                h.bufferData(h.ARRAY_BUFFER, o, h.STATIC_DRAW),
                                h.vertexAttribPointer(n.VERTEX_ATTRIB_POSITION, 2, h.FLOAT, !1, 0, 0),
                                h.drawArrays(h.LINE_STRIP, 0, s + 1),
                                h.deleteBuffer(l),
                                cc.incrementGLDraws(1);
                        },
                        drawCatmullRom: function (t, e) {
                            this.drawCardinalSpline(t, 0.5, e);
                        },
                        drawCardinalSpline: function (t, e, i) {
                            this.lazy_init();
                            for (var r, s, o = new Float32Array(2 * (i + 1)), a = 1 / t.length, c = 0; c < i + 1; c++) {
                                var h = c / i;
                                1 === h ? ((r = t.length - 1), (s = 1)) : (s = (h - a * (r = 0 | (h / a))) / a);
                                var l = cc.cardinalSplineAt(
                                    cc.getControlPointAt(t, r - 1),
                                    cc.getControlPointAt(t, r),
                                    cc.getControlPointAt(t, r + 1),
                                    cc.getControlPointAt(t, r + 2),
                                    e,
                                    s,
                                );
                                (o[2 * c] = l.x), (o[2 * c + 1] = l.y);
                            }
                            var u = this._renderContext;
                            this._shader.use(),
                                this._shader.setUniformForModelViewAndProjectionMatrixWithMat4(),
                                u.enableVertexAttribArray(n.VERTEX_ATTRIB_POSITION),
                                this._shader.setUniformLocationWith4fv(this._colorLocation, this._colorArray);
                            var d = u.createBuffer();
                            u.bindBuffer(u.ARRAY_BUFFER, d),
                                u.bufferData(u.ARRAY_BUFFER, o, u.STATIC_DRAW),
                                u.vertexAttribPointer(n.VERTEX_ATTRIB_POSITION, 2, u.FLOAT, !1, 0, 0),
                                u.drawArrays(u.LINE_STRIP, 0, i + 1),
                                u.deleteBuffer(d),
                                cc.incrementGLDraws(1);
                        },
                        setDrawColor: function (t, e, i, n) {
                            (this._colorArray[0] = t / 255),
                                (this._colorArray[1] = e / 255),
                                (this._colorArray[2] = i / 255),
                                (this._colorArray[3] = n / 255);
                        },
                        setPointSize: function (t) {
                            this._pointSize = t;
                        },
                        setLineWidth: function (t) {
                            this._renderContext.lineWidth && this._renderContext.lineWidth(t);
                        },
                    });
                e.exports = r;
            },
            {},
        ],
        39: [
            function (t, e, i) {
                var n,
                    r = t('./event/event-target');
                (n = t('./platform/CCView')), t('../audio/CCAudioEngine');
                var s = t('./platform/CCInputManager'),
                    o = {
                        EVENT_HIDE: 'game_on_hide',
                        EVENT_SHOW: 'game_on_show',
                        EVENT_GAME_INITED: 'game_inited',
                        EVENT_RENDERER_INITED: 'renderer_inited',
                        RENDER_TYPE_CANVAS: 0,
                        RENDER_TYPE_WEBGL: 1,
                        RENDER_TYPE_OPENGL: 2,
                        _persistRootNodes: {},
                        _ignoreRemovePersistNode: null,
                        CONFIG_KEY: {
                            width: 'width',
                            height: 'height',
                            debugMode: 'debugMode',
                            exposeClassName: 'exposeClassName',
                            showFPS: 'showFPS',
                            frameRate: 'frameRate',
                            id: 'id',
                            renderMode: 'renderMode',
                            registerSystemEvent: 'registerSystemEvent',
                            jsList: 'jsList',
                            scenes: 'scenes',
                        },
                        _paused: !0,
                        _configLoaded: !1,
                        _isCloning: !1,
                        _prepareCalled: !1,
                        _prepared: !1,
                        _rendererInitialized: !1,
                        _renderContext: null,
                        _intervalId: null,
                        _lastTime: null,
                        _frameTime: null,
                        _sceneInfos: [],
                        frame: null,
                        container: null,
                        canvas: null,
                        config: null,
                        onStart: null,
                        setFrameRate: function (t) {
                            (this.config[this.CONFIG_KEY.frameRate] = t),
                                this._intervalId && window.cancelAnimFrame(this._intervalId),
                                (this._intervalId = 0),
                                (this._paused = !0),
                                this._setAnimFrame(),
                                this._runMainLoop();
                        },
                        step: function () {
                            cc.director.mainLoop();
                        },
                        pause: function () {
                            this._paused ||
                                ((this._paused = !0),
                                cc.audioEngine && cc.audioEngine._break(),
                                this._intervalId && window.cancelAnimFrame(this._intervalId),
                                (this._intervalId = 0));
                        },
                        resume: function () {
                            this._paused &&
                                ((this._paused = !1), cc.audioEngine && cc.audioEngine._restore(), this._runMainLoop());
                        },
                        isPaused: function () {
                            return this._paused;
                        },
                        restart: function () {
                            cc.director.once(cc.Director.EVENT_AFTER_DRAW, function () {
                                for (var t in o._persistRootNodes) o.removePersistRootNode(o._persistRootNodes[t]);
                                cc.director.getScene().destroy(),
                                    cc.Object._deferredDestroy(),
                                    cc.director.purgeDirector(),
                                    cc.audioEngine && cc.audioEngine.uncacheAll(),
                                    cc.director.reset(),
                                    o.onStart();
                            });
                        },
                        end: function () {
                            close();
                        },
                        prepare: function (t) {
                            var e = this,
                                i = e.config,
                                r = e.CONFIG_KEY;
                            if (this._configLoaded) {
                                if (this._prepared) t && t();
                                else if (!this._prepareCalled)
                                    if (cc._engineLoaded) {
                                        (this._prepareCalled = !0),
                                            this._initRenderer(i[r.width], i[r.height]),
                                            (cc.view = n ? n._getInstance() : null),
                                            (cc.director = cc.Director._getInstance()),
                                            cc.director.setOpenGLView && cc.director.setOpenGLView(cc.view),
                                            (cc.winSize = cc.director.getWinSize()),
                                            this._initEvents(),
                                            this._setAnimFrame(),
                                            this._runMainLoop();
                                        var s = i[r.jsList];
                                        s && s.length > 0
                                            ? cc.loader.load(s, function (i) {
                                                  if (i) throw new Error(JSON.stringify(i));
                                                  (e._prepared = !0), t && t(), e.emit(e.EVENT_GAME_INITED);
                                              })
                                            : (t && t(), e.emit(e.EVENT_GAME_INITED));
                                    } else
                                        cc.initEngine(this.config, function () {
                                            e.prepare(t);
                                        });
                            } else
                                this._loadConfig(function () {
                                    e.prepare(t);
                                });
                        },
                        run: function (t, e) {
                            'function' == typeof t
                                ? (o.onStart = t)
                                : (t && (o.config = t), 'function' == typeof e && (o.onStart = e)),
                                this.prepare(o.onStart && o.onStart.bind(o));
                        },
                        addPersistRootNode: function (t) {
                            if (cc.Node.isNode(t) && t.uuid) {
                                var e = t.uuid;
                                if (!this._persistRootNodes[e]) {
                                    var i = cc.director._scene;
                                    if (cc.isValid(i)) {
                                        if (t.parent) {
                                            if (!(t.parent instanceof cc.Scene)) return void cc.warnID(3801);
                                            if (t.parent !== i) return void cc.warnID(3802);
                                        } else t.parent = i;
                                        (this._persistRootNodes[e] = t), (t._persistNode = !0);
                                    }
                                }
                            } else cc.warnID(3800);
                        },
                        removePersistRootNode: function (t) {
                            if (t !== this._ignoreRemovePersistNode) {
                                var e = t.uuid || '';
                                t === this._persistRootNodes[e] &&
                                    (delete this._persistRootNodes[e], (t._persistNode = !1));
                            }
                        },
                        isPersistRootNode: function (t) {
                            return t._persistNode;
                        },
                        _setAnimFrame: function () {
                            this._lastTime = new Date();
                            var t = o.config[o.CONFIG_KEY.frameRate];
                            (this._frameTime = 1e3 / t),
                                60 !== t && 30 !== t
                                    ? ((window.requestAnimFrame = this._stTime),
                                      (window.cancelAnimFrame = this._ctTime))
                                    : ((window.requestAnimFrame =
                                          window.requestAnimationFrame ||
                                          window.webkitRequestAnimationFrame ||
                                          window.mozRequestAnimationFrame ||
                                          window.oRequestAnimationFrame ||
                                          window.msRequestAnimationFrame ||
                                          this._stTime),
                                      (window.cancelAnimFrame =
                                          window.cancelAnimationFrame ||
                                          window.cancelRequestAnimationFrame ||
                                          window.msCancelRequestAnimationFrame ||
                                          window.mozCancelRequestAnimationFrame ||
                                          window.oCancelRequestAnimationFrame ||
                                          window.webkitCancelRequestAnimationFrame ||
                                          window.msCancelAnimationFrame ||
                                          window.mozCancelAnimationFrame ||
                                          window.webkitCancelAnimationFrame ||
                                          window.oCancelAnimationFrame ||
                                          this._ctTime));
                        },
                        _stTime: function (t) {
                            var e = new Date().getTime(),
                                i = Math.max(0, o._frameTime - (e - o._lastTime)),
                                n = window.setTimeout(function () {
                                    t();
                                }, i);
                            return (o._lastTime = e + i), n;
                        },
                        _ctTime: function (t) {
                            window.clearTimeout(t);
                        },
                        _runMainLoop: function () {
                            var t,
                                e = this,
                                i = e.config,
                                n = e.CONFIG_KEY,
                                r = cc.director,
                                s = !0,
                                o = i[n.frameRate];
                            r.setDisplayStats(i[n.showFPS]),
                                (t = function () {
                                    if (!e._paused) {
                                        if (((e._intervalId = window.requestAnimFrame(t)), 30 === o && (s = !s)))
                                            return;
                                        r.mainLoop();
                                    }
                                }),
                                (e._intervalId = window.requestAnimFrame(t)),
                                (e._paused = !1);
                        },
                        _loadConfig: function (t) {
                            if (this.config) return this._initConfig(this.config), void (t && t());
                            if (document.ccConfig) return this._initConfig(document.ccConfig), void (t && t());
                            var e = this;
                            cc.loader.load('project.json', function (i, n) {
                                i && cc.logID(3818), e._initConfig(n || {}), t && t();
                            });
                        },
                        _initConfig: function (t) {
                            var e = this.CONFIG_KEY;
                            'number' != typeof t[e.debugMode] && (t[e.debugMode] = 0),
                                (t[e.exposeClassName] = !!t[e.exposeClassName]),
                                'number' != typeof t[e.frameRate] && (t[e.frameRate] = 60),
                                'number' != typeof t[e.renderMode] && (t[e.renderMode] = 0),
                                'boolean' != typeof t[e.registerSystemEvent] && (t[e.registerSystemEvent] = !0),
                                (t[e.showFPS] = !(e.showFPS in t) || !!t[e.showFPS]),
                                (this._sceneInfos = t[e.scenes] || []),
                                (this.collisionMatrix = t.collisionMatrix || []),
                                (this.groupList = t.groupList || []),
                                cc._initDebugSetting(t[e.debugMode]),
                                (this.config = t),
                                (this._configLoaded = !0);
                        },
                        _initRenderer: function (t, e) {
                            if (!this._rendererInitialized) {
                                if (!cc._supportRender)
                                    throw new Error(
                                        "The renderer doesn't support the renderMode " +
                                            this.config[this.CONFIG_KEY.renderMode],
                                    );
                                var i,
                                    n,
                                    r = this.config[o.CONFIG_KEY.id],
                                    s = window,
                                    a = cc.sys.platform === cc.sys.WECHAT_GAME,
                                    c = cc.sys.platform === cc.sys.QQ_PLAY;
                                if (a)
                                    (this.container = cc.container = n = document.createElement('DIV')),
                                        (this.frame =
                                            n.parentNode === document.body ? document.documentElement : n.parentNode),
                                        (i =
                                            cc.sys.browserType === cc.sys.BROWSER_TYPE_WECHAT_GAME_SUB
                                                ? wx.getSharedCanvas()
                                                : canvas),
                                        (this.canvas = cc._canvas = i);
                                else if (c)
                                    (this.container = cc.container = document.createElement('DIV')),
                                        (this.frame = document.documentElement),
                                        (this.canvas = cc._canvas = i = canvas);
                                else {
                                    var h =
                                        r instanceof HTMLElement
                                            ? r
                                            : document.querySelector(r) || document.querySelector('#' + r);
                                    'CANVAS' === h.tagName
                                        ? ((t = t || h.width),
                                          (e = e || h.height),
                                          (this.canvas = cc._canvas = i = h),
                                          (this.container = cc.container = n = document.createElement('DIV')),
                                          i.parentNode && i.parentNode.insertBefore(n, i))
                                        : ('DIV' !== h.tagName && cc.warnID(3819),
                                          (t = t || h.clientWidth),
                                          (e = e || h.clientHeight),
                                          (this.canvas = cc._canvas = i = document.createElement('CANVAS')),
                                          (this.container = cc.container = n = document.createElement('DIV')),
                                          h.appendChild(n)),
                                        n.setAttribute('id', 'Cocos2dGameContainer'),
                                        n.appendChild(i),
                                        (this.frame =
                                            n.parentNode === document.body ? document.documentElement : n.parentNode);
                                    (function (t, e) {
                                        (' ' + t.className + ' ').indexOf(' ' + e + ' ') > -1 ||
                                            (t.className && (t.className += ' '), (t.className += e));
                                    })(i, 'gameCanvas'),
                                        window.CMPlayScreen &&
                                            ((n.style.backgroundColor = 'rgba(0, 0, 0, 255)'),
                                            (n.style.width = window.CMPlayScreen.containerWidth + 'px'),
                                            (n.style.height = window.CMPlayScreen.containerHeight + 'px'),
                                            (t = window.CMPlayScreen.canvasWidth),
                                            (e = window.CMPlayScreen.canvasHeight),
                                            (i.style = 'width:' + t + 'px; height:' + e + 'px;')),
                                        i.setAttribute('width', t || 480),
                                        i.setAttribute('height', e || 320),
                                        i.setAttribute('tabindex', 99);
                                }
                                if (cc._renderType === o.RENDER_TYPE_WEBGL) {
                                    var l = {
                                        stencil: !0,
                                        antialias: cc.macro.ENABLE_WEBGL_ANTIALIAS,
                                        alpha: cc.macro.ENABLE_TRANSPARENT_CANVAS,
                                    };
                                    a && (l.preserveDrawingBuffer = !0),
                                        (this._renderContext =
                                            cc._renderContext =
                                            cc.webglContext =
                                                cc.create3DContext(i, l));
                                }
                                this._renderContext
                                    ? ((cc.renderer = cc.rendererWebGL),
                                      (s.gl = this._renderContext),
                                      cc.renderer.init())
                                    : ((cc._renderType = o.RENDER_TYPE_CANVAS),
                                      (cc.renderer = cc.rendererCanvas),
                                      cc.renderer.init(),
                                      (this._renderContext = cc._renderContext =
                                          new cc.CanvasContextWrapper(i.getContext('2d')))),
                                    (cc._gameDiv = n),
                                    (o.canvas.oncontextmenu = function () {
                                        if (!cc._isContextMenuEnable) return !1;
                                    }),
                                    this.emit(this.EVENT_RENDERER_INITED, !0),
                                    (this._rendererInitialized = !0);
                            }
                        },
                        _initEvents: function () {
                            function t() {
                                r || ((r = !0), o.emit(o.EVENT_HIDE, o));
                            }

                            function e() {
                                r && ((r = !1), o.emit(o.EVENT_SHOW, o));
                            }
                            var i,
                                n = window;
                            this.config[this.CONFIG_KEY.registerSystemEvent] && s.registerSystemEvent(this.canvas),
                                void 0 !== document.hidden
                                    ? (i = 'hidden')
                                    : void 0 !== document.mozHidden
                                    ? (i = 'mozHidden')
                                    : void 0 !== document.msHidden
                                    ? (i = 'msHidden')
                                    : void 0 !== document.webkitHidden && (i = 'webkitHidden');
                            var r = !1;
                            if (i)
                                for (
                                    var a = [
                                            'visibilitychange',
                                            'mozvisibilitychange',
                                            'msvisibilitychange',
                                            'webkitvisibilitychange',
                                            'qbrowserVisibilityChange',
                                        ],
                                        c = 0;
                                    c < a.length;
                                    c++
                                )
                                    document.addEventListener(
                                        a[c],
                                        function (n) {
                                            var r = document[i];
                                            (r = r || n.hidden) ? t() : e();
                                        },
                                        !1,
                                    );
                            else n.addEventListener('blur', t, !1), n.addEventListener('focus', e, !1);
                            navigator.userAgent.indexOf('MicroMessenger') > -1 && (n.onfocus = e),
                                'onpageshow' in window &&
                                    'onpagehide' in window &&
                                    (n.addEventListener('pagehide', t, !1), n.addEventListener('pageshow', e, !1)),
                                this.on(o.EVENT_HIDE, function () {
                                    o.pause();
                                }),
                                this.on(o.EVENT_SHOW, function () {
                                    o.resume();
                                });
                        },
                    };
                r.call(o), cc.js.addon(o, r.prototype), (cc.game = e.exports = o);
            },
            {
                '../audio/CCAudioEngine': 23,
                './event/event-target': 97,
                './platform/BKInputManager': 133,
                './platform/CCInputManager': 139,
                './platform/CCView': 145,
            },
        ],
        40: [
            function (t, e, i) {
                'use strict';

                function n(t) {
                    var e = cc.Mask;
                    if (e)
                        for (var i = 0, n = t; n && cc.Node.isNode(n); n = n._parent, ++i)
                            if (n.getComponent(e))
                                return {
                                    index: i,
                                    node: n,
                                };
                    return null;
                }
                var r = t('./utils/prefab-helper'),
                    s = t('./utils/scene-graph-helper'),
                    o = t('./event-manager'),
                    a = cc.Object.Flags,
                    c = a.Destroying,
                    h = 'position-changed',
                    l = 'size-changed',
                    u = 'anchor-changed',
                    d = 'rotation-changed',
                    _ = 'scale-changed',
                    f = t('./utils/misc'),
                    p = (t('./event/event'), !!cc.ActionManager),
                    g = function () {},
                    m = cc.Enum({
                        TOUCH_START: 'touchstart',
                        TOUCH_MOVE: 'touchmove',
                        TOUCH_END: 'touchend',
                        TOUCH_CANCEL: 'touchcancel',
                        MOUSE_DOWN: 'mousedown',
                        MOUSE_MOVE: 'mousemove',
                        MOUSE_ENTER: 'mouseenter',
                        MOUSE_LEAVE: 'mouseleave',
                        MOUSE_UP: 'mouseup',
                        MOUSE_WHEEL: 'mousewheel',
                    }),
                    v = [m.TOUCH_START, m.TOUCH_MOVE, m.TOUCH_END, m.TOUCH_CANCEL],
                    y = [m.MOUSE_DOWN, m.MOUSE_ENTER, m.MOUSE_MOVE, m.MOUSE_LEAVE, m.MOUSE_UP, m.MOUSE_WHEEL],
                    C = null,
                    T = function (t, e) {
                        var i = t.getLocation(),
                            n = this.owner;
                        return (
                            !!n._hitTest(i, this) &&
                            ((e.type = m.TOUCH_START), (e.touch = t), (e.bubbles = !0), n.dispatchEvent(e), !0)
                        );
                    },
                    E = function (t, e) {
                        var i = this.owner;
                        (e.type = m.TOUCH_MOVE), (e.touch = t), (e.bubbles = !0), i.dispatchEvent(e);
                    },
                    x = function (t, e) {
                        var i = t.getLocation(),
                            n = this.owner;
                        n._hitTest(i, this) ? (e.type = m.TOUCH_END) : (e.type = m.TOUCH_CANCEL),
                            (e.touch = t),
                            (e.bubbles = !0),
                            n.dispatchEvent(e);
                    },
                    S = function (t, e) {
                        t.getLocation();
                        var i = this.owner;
                        (e.type = m.TOUCH_CANCEL), (e.touch = t), (e.bubbles = !0), i.dispatchEvent(e);
                    },
                    b = function (t) {
                        var e = t.getLocation(),
                            i = this.owner;
                        i._hitTest(e, this) &&
                            ((t.type = m.MOUSE_DOWN), (t.bubbles = !0), i.dispatchEvent(t), t.stopPropagation());
                    },
                    A = function (t) {
                        var e = t.getLocation(),
                            i = this.owner,
                            n = i._hitTest(e, this);
                        if (n)
                            this._previousIn ||
                                (C &&
                                    ((t.type = m.MOUSE_LEAVE), C.dispatchEvent(t), (C._mouseListener._previousIn = !1)),
                                (C = this.owner),
                                (t.type = m.MOUSE_ENTER),
                                i.dispatchEvent(t),
                                (this._previousIn = !0)),
                                (t.type = m.MOUSE_MOVE),
                                (t.bubbles = !0),
                                i.dispatchEvent(t);
                        else {
                            if (!this._previousIn) return;
                            (t.type = m.MOUSE_LEAVE), i.dispatchEvent(t), (this._previousIn = !1), (C = null);
                        }
                        t.stopPropagation();
                    },
                    R = function (t) {
                        var e = t.getLocation(),
                            i = this.owner;
                        i._hitTest(e, this) &&
                            ((t.type = m.MOUSE_UP), (t.bubbles = !0), i.dispatchEvent(t), t.stopPropagation());
                    },
                    w = function (t) {
                        var e = t.getLocation(),
                            i = this.owner;
                        i._hitTest(e, this) &&
                            ((t.type = m.MOUSE_WHEEL), (t.bubbles = !0), i.dispatchEvent(t), t.stopPropagation());
                    },
                    I = cc.Class({
                        name: 'cc.Node',
                        extends: t('./utils/base-node'),
                        properties: {
                            _opacity: 255,
                            _color: cc.Color.WHITE,
                            _cascadeOpacityEnabled: !0,
                            _anchorPoint: cc.p(0.5, 0.5),
                            _contentSize: cc.size(0, 0),
                            _rotationX: 0,
                            _rotationY: 0,
                            _scaleX: 1,
                            _scaleY: 1,
                            _position: cc.p(0, 0),
                            _skewX: 0,
                            _skewY: 0,
                            _localZOrder: 0,
                            _globalZOrder: 0,
                            _opacityModifyRGB: !1,
                            groupIndex: {
                                default: 0,
                                type: cc.Integer,
                            },
                            group: {
                                get: function () {
                                    return cc.game.groupList[this.groupIndex] || '';
                                },
                                set: function (t) {
                                    (this.groupIndex = cc.game.groupList.indexOf(t)), this.emit('group-changed');
                                },
                            },
                            x: {
                                get: function () {
                                    return this._position.x;
                                },
                                set: function (t) {
                                    var e = this._position;
                                    if (t !== e.x) {
                                        (e.x = t), this._sgNode.setPositionX(t);
                                        var i = this._hasListenerCache;
                                        i && i[h] && this.emit(h);
                                    }
                                },
                            },
                            y: {
                                get: function () {
                                    return this._position.y;
                                },
                                set: function (t) {
                                    var e = this._position;
                                    if (t !== e.y) {
                                        (e.y = t), this._sgNode.setPositionY(t);
                                        var i = this._hasListenerCache;
                                        i && i[h] && this.emit(h);
                                    }
                                },
                            },
                            rotation: {
                                get: function () {
                                    return this._rotationX !== this._rotationY && cc.logID(1602), this._rotationX;
                                },
                                set: function (t) {
                                    if (this._rotationX !== t || this._rotationY !== t) {
                                        (this._rotationX = this._rotationY = t), (this._sgNode.rotation = t);
                                        var e = this._hasListenerCache;
                                        e && e[d] && this.emit(d);
                                    }
                                },
                            },
                            rotationX: {
                                get: function () {
                                    return this._rotationX;
                                },
                                set: function (t) {
                                    if (this._rotationX !== t) {
                                        (this._rotationX = t), (this._sgNode.rotationX = t);
                                        var e = this._hasListenerCache;
                                        e && e[d] && this.emit(d);
                                    }
                                },
                            },
                            rotationY: {
                                get: function () {
                                    return this._rotationY;
                                },
                                set: function (t) {
                                    if (this._rotationY !== t) {
                                        (this._rotationY = t), (this._sgNode.rotationY = t);
                                        var e = this._hasListenerCache;
                                        e && e[d] && this.emit(d);
                                    }
                                },
                            },
                            scaleX: {
                                get: function () {
                                    return this._scaleX;
                                },
                                set: function (t) {
                                    if (this._scaleX !== t) {
                                        (this._scaleX = t), (this._sgNode.scaleX = t);
                                        var e = this._hasListenerCache;
                                        e && e[_] && this.emit(_);
                                    }
                                },
                            },
                            scaleY: {
                                get: function () {
                                    return this._scaleY;
                                },
                                set: function (t) {
                                    if (this._scaleY !== t) {
                                        (this._scaleY = t), (this._sgNode.scaleY = t);
                                        var e = this._hasListenerCache;
                                        e && e[_] && this.emit(_);
                                    }
                                },
                            },
                            skewX: {
                                get: function () {
                                    return this._skewX;
                                },
                                set: function (t) {
                                    (this._skewX = t), (this._sgNode.skewX = t);
                                },
                            },
                            skewY: {
                                get: function () {
                                    return this._skewY;
                                },
                                set: function (t) {
                                    (this._skewY = t), (this._sgNode.skewY = t);
                                },
                            },
                            opacity: {
                                get: function () {
                                    return this._opacity;
                                },
                                set: function (t) {
                                    if (
                                        this._opacity !== t &&
                                        ((this._opacity = t), this._sgNode.setOpacity(t), !this._cascadeOpacityEnabled)
                                    ) {
                                        var e = this._sizeProvider;
                                        e instanceof _ccsg.Node && e !== this._sgNode && e.setOpacity(t);
                                    }
                                },
                                range: [0, 255],
                            },
                            cascadeOpacity: {
                                get: function () {
                                    return this._cascadeOpacityEnabled;
                                },
                                set: function (t) {
                                    if (this._cascadeOpacityEnabled !== t) {
                                        (this._cascadeOpacityEnabled = t), (this._sgNode.cascadeOpacity = t);
                                        var e = t ? 255 : this._opacity,
                                            i = this._sizeProvider;
                                        i instanceof _ccsg.Node && i.setOpacity(e);
                                    }
                                },
                            },
                            color: {
                                get: function () {
                                    return this._color.clone();
                                },
                                set: function (t) {
                                    this._color.equals(t) ||
                                        (this._color.fromColor(t),
                                        this._sizeProvider instanceof _ccsg.Node && this._sizeProvider.setColor(t));
                                },
                            },
                            anchorX: {
                                get: function () {
                                    return this._anchorPoint.x;
                                },
                                set: function (t) {
                                    var e = this._anchorPoint;
                                    if (e.x !== t) {
                                        e.x = t;
                                        var i = this._sizeProvider;
                                        i instanceof _ccsg.Node && i.setAnchorPoint(e), this.emit(u);
                                    }
                                },
                            },
                            anchorY: {
                                get: function () {
                                    return this._anchorPoint.y;
                                },
                                set: function (t) {
                                    var e = this._anchorPoint;
                                    if (e.y !== t) {
                                        e.y = t;
                                        var i = this._sizeProvider;
                                        i instanceof _ccsg.Node && i.setAnchorPoint(e), this.emit(u);
                                    }
                                },
                            },
                            width: {
                                get: function () {
                                    if (this._sizeProvider) {
                                        var t = this._sizeProvider._getWidth();
                                        return (this._contentSize.width = t), t;
                                    }
                                    return this._contentSize.width;
                                },
                                set: function (t) {
                                    if (t !== this._contentSize.width) {
                                        var e = this._sizeProvider;
                                        e && e.setContentSize(t, e._getHeight());
                                        (this._contentSize.width = t), this.emit(l);
                                    }
                                },
                            },
                            height: {
                                get: function () {
                                    if (this._sizeProvider) {
                                        var t = this._sizeProvider._getHeight();
                                        return (this._contentSize.height = t), t;
                                    }
                                    return this._contentSize.height;
                                },
                                set: function (t) {
                                    if (t !== this._contentSize.height) {
                                        var e = this._sizeProvider;
                                        e && e.setContentSize(e._getWidth(), t);
                                        (this._contentSize.height = t), this.emit(l);
                                    }
                                },
                            },
                            zIndex: {
                                get: function () {
                                    return this._localZOrder;
                                },
                                set: function (t) {
                                    this._localZOrder !== t &&
                                        ((this._localZOrder = t),
                                        (this._sgNode.zIndex = t),
                                        this._parent &&
                                            (function (t) {
                                                t._parent._delaySort(), o._setDirtyForNode(t);
                                            })(this));
                                },
                            },
                        },
                        ctor: function (t) {
                            var e = (this._sgNode = new _ccsg.Node());
                            cc.game._isCloning || (e.cascadeOpacity = !0),
                                (this._sizeProvider = null),
                                (this._reorderChildDirty = !1),
                                (this._widget = null),
                                (this._touchListener = null),
                                (this._mouseListener = null);
                        },
                        statics: {
                            isNode: function (t) {
                                return t instanceof I && (t.constructor === I || !(t instanceof cc.Scene));
                            },
                        },
                        _onSetParent: function (t) {
                            var e = this._sgNode;
                            e.parent && e.parent.removeChild(e, !1), t && (t._sgNode.addChild(e), t._delaySort());
                        },
                        _onSiblingIndexChanged: function (t) {
                            var e = this._parent,
                                i = e._children,
                                n = 0,
                                r = i.length;
                            for (0; n < r; n++) (i[n]._sgNode._arrivalOrder = n), o._setDirtyForNode(i[n]);
                            (cc.renderer.childrenOrderDirty = !0), (e._sgNode._reorderChildDirty = !0), e._delaySort();
                        },
                        _onPreDestroy: function () {
                            var t = this._onPreDestroyBase();
                            p && cc.director.getActionManager().removeAllActionsFromTarget(this),
                                C === this && (C = null),
                                this._reorderChildDirty &&
                                    cc.director.__fastOff(cc.Director.EVENT_AFTER_UPDATE, this.sortAllChildren, this),
                                o.removeListeners(this),
                                t || this._removeSgNode();
                        },
                        _onPostActivated: function (t) {
                            var e = p ? cc.director.getActionManager() : null;
                            if (t)
                                if ((e && e.resumeTarget(this), o.resumeTarget(this), this._touchListener)) {
                                    var i = (this._touchListener.mask = n(this));
                                    this._mouseListener && (this._mouseListener.mask = i);
                                } else this._mouseListener && (this._mouseListener.mask = n(this));
                            else e && e.pauseTarget(this), o.pauseTarget(this);
                        },
                        _onHierarchyChanged: function (t) {
                            this._onHierarchyChangedBase(t), (cc._widgetManager._nodesOrderDirty = !0);
                        },
                        _onBatchCreated: function () {
                            var t = this._prefab;
                            t && t.sync && !t._synced && t.root === this && r.syncWithPrefab(this),
                                this._updateDummySgNode(),
                                this._parent && this._parent._sgNode.addChild(this._sgNode),
                                this._activeInHierarchy ||
                                    (p && cc.director.getActionManager().pauseTarget(this), o.pauseTarget(this));
                            for (var e = this._children, i = 0, n = e.length; i < n; i++) e[i]._onBatchCreated();
                        },
                        on: function (t, e, i, r) {
                            var s = !1;
                            return (
                                -1 !== v.indexOf(t)
                                    ? this._touchListener ||
                                      ((this._touchListener = cc.EventListener.create({
                                          event: cc.EventListener.TOUCH_ONE_BY_ONE,
                                          swallowTouches: !0,
                                          owner: this,
                                          mask: n(this),
                                          onTouchBegan: T,
                                          onTouchMoved: E,
                                          onTouchEnded: x,
                                          onTouchCancelled: S,
                                      })),
                                      o.addListener(this._touchListener, this),
                                      (s = !0))
                                    : -1 !== y.indexOf(t) &&
                                      (this._mouseListener ||
                                          ((this._mouseListener = cc.EventListener.create({
                                              event: cc.EventListener.MOUSE,
                                              _previousIn: !1,
                                              owner: this,
                                              mask: n(this),
                                              onMouseDown: b,
                                              onMouseMove: A,
                                              onMouseUp: R,
                                              onMouseScroll: w,
                                          })),
                                          o.addListener(this._mouseListener, this),
                                          (s = !0))),
                                s &&
                                    !this._activeInHierarchy &&
                                    cc.director.getScheduler().schedule(
                                        function () {
                                            this._activeInHierarchy || o.pauseTarget(this);
                                        },
                                        this,
                                        0,
                                        0,
                                        0,
                                        !1,
                                    ),
                                this._EventTargetOn(t, e, i, r)
                            );
                        },
                        off: function (t, e, i, n) {
                            this._EventTargetOff(t, e, i, n),
                                -1 !== v.indexOf(t)
                                    ? this._checkTouchListeners()
                                    : -1 !== y.indexOf(t) && this._checkMouseListeners();
                        },
                        targetOff: function (t) {
                            this._EventTargetTargetOff(t), this._checkTouchListeners(), this._checkMouseListeners();
                        },
                        pauseSystemEvents: function (t) {
                            o.pauseTarget(this, t);
                        },
                        resumeSystemEvents: function (t) {
                            o.resumeTarget(this, t);
                        },
                        _checkTouchListeners: function () {
                            if (!(this._objFlags & c) && this._touchListener) {
                                var t = 0;
                                if (this._bubblingListeners)
                                    for (; t < v.length; ++t) if (this._bubblingListeners.has(v[t])) return;
                                if (this._capturingListeners)
                                    for (; t < v.length; ++t) if (this._capturingListeners.has(v[t])) return;
                                o.removeListener(this._touchListener), (this._touchListener = null);
                            }
                        },
                        _checkMouseListeners: function () {
                            if (!(this._objFlags & c) && this._mouseListener) {
                                var t = 0;
                                if (this._bubblingListeners)
                                    for (; t < y.length; ++t) if (this._bubblingListeners.has(y[t])) return;
                                if (this._capturingListeners)
                                    for (; t < y.length; ++t) if (this._capturingListeners.has(y[t])) return;
                                C === this && (C = null),
                                    o.removeListener(this._mouseListener),
                                    (this._mouseListener = null);
                            }
                        },
                        _hitTest: function (t, e) {
                            var i = this.width,
                                n = this.height,
                                r = t,
                                s = cc.Camera;
                            s && s.main && s.main.containsNode(this) && (r = s.main.getCameraToWorldPoint(r));
                            var o = cc.affineTransformInvertIn(this._sgNode.getNodeToWorldTransform());
                            ((r = cc.pointApplyAffineTransform(r, o)).x += this._anchorPoint.x * i),
                                (r.y += this._anchorPoint.y * n);
                            var a = r.x,
                                c = i - r.x,
                                h = r.y,
                                l = n - r.y;
                            if (a >= 0 && c >= 0 && l >= 0 && h >= 0) {
                                if (e && e.mask) {
                                    for (var u = e.mask, d = this, _ = 0; d && _ < u.index; ++_, d = d.parent);
                                    if (d === u.node) {
                                        var f = d.getComponent(cc.Mask);
                                        return !f || !f.enabledInHierarchy || f._hitTest(t);
                                    }
                                    return (e.mask = null), !0;
                                }
                                return !0;
                            }
                            return !1;
                        },
                        _getCapturingTargets: function (t, e) {
                            for (var i = this.parent; i; ) i.hasEventListener(t, !0) && e.push(i), (i = i.parent);
                        },
                        _getBubblingTargets: function (t, e) {
                            for (var i = this.parent; i; ) i.hasEventListener(t) && e.push(i), (i = i.parent);
                        },
                        isRunning: function () {
                            return this._activeInHierarchy;
                        },
                        runAction: p
                            ? function (t) {
                                  if (this.active)
                                      return (
                                          cc.assertID(t, 1618),
                                          cc.macro.ENABLE_GC_FOR_NATIVE_OBJECTS || this._retainAction(t),
                                          cc.director.getActionManager().addAction(t, this, !1),
                                          t
                                      );
                              }
                            : g,
                        pauseAllActions: p
                            ? function () {
                                  cc.director.getActionManager().pauseTarget(this);
                              }
                            : g,
                        resumeAllActions: p
                            ? function () {
                                  cc.director.getActionManager().resumeTarget(this);
                              }
                            : g,
                        stopAllActions: p
                            ? function () {
                                  cc.director.getActionManager().removeAllActionsFromTarget(this);
                              }
                            : g,
                        stopAction: p
                            ? function (t) {
                                  cc.director.getActionManager().removeAction(t);
                              }
                            : g,
                        stopActionByTag: p
                            ? function (t) {
                                  t !== cc.Action.TAG_INVALID
                                      ? cc.director.getActionManager().removeActionByTag(t, this)
                                      : cc.logID(1612);
                              }
                            : g,
                        getActionByTag: p
                            ? function (t) {
                                  return t === cc.Action.TAG_INVALID
                                      ? (cc.logID(1613), null)
                                      : cc.director.getActionManager().getActionByTag(t, this);
                              }
                            : function () {
                                  return null;
                              },
                        getNumberOfRunningActions: p
                            ? function () {
                                  return cc.director.getActionManager().getNumberOfRunningActionsInTarget(this);
                              }
                            : function () {
                                  return 0;
                              },
                        _retainAction: function (t) {
                            0;
                        },
                        _releaseAllActions: function () {},
                        setTag: function (t) {
                            (this._tag = t), (this._sgNode.tag = t);
                        },
                        getPosition: function () {
                            return new cc.Vec2(this._position);
                        },
                        setPosition: function (t, e) {
                            var i;
                            void 0 === e ? ((i = t.x), (e = t.y)) : (i = t);
                            var n = this._position;
                            if (n.x !== i || n.y !== e) {
                                (n.x = i), (n.y = e), this._sgNode.setPosition(i, e);
                                var r = this._hasListenerCache;
                                r && r[h] && this.emit(h);
                            }
                        },
                        getScale: function () {
                            return this._scaleX !== this._scaleY && cc.logID(1603), this._scaleX;
                        },
                        setScale: function (t, e) {
                            if (
                                ('object' == typeof t ? ((e = t.y), (t = t.x)) : (e = e || 0 === e ? e : t),
                                this._scaleX !== t || this._scaleY !== e)
                            ) {
                                (this._scaleX = t), (this._scaleY = e), this._sgNode.setScale(t, e);
                                var i = this._hasListenerCache;
                                i && i[_] && this.emit(_);
                            }
                        },
                        getContentSize: function (t) {
                            if (this._sizeProvider && !t) {
                                var e = this._sizeProvider.getContentSize();
                                return (this._contentSize = e), cc.size(e);
                            }
                            return cc.size(this._contentSize);
                        },
                        setContentSize: function (t, e) {
                            var i = this._contentSize;
                            if (void 0 === e) {
                                if (t.width === i.width && t.height === i.height) return;
                                0, (i.width = t.width), (i.height = t.height);
                            } else {
                                if (t === i.width && e === i.height) return;
                                0, (i.width = t), (i.height = e);
                            }
                            this._sizeProvider && this._sizeProvider.setContentSize(i), this.emit(l);
                        },
                        setOpacityModifyRGB: function (t) {
                            if (this._opacityModifyRGB !== t) {
                                (this._opacityModifyRGB = t), this._sgNode.setOpacityModifyRGB(t);
                                var e = this._sizeProvider;
                                e instanceof _ccsg.Node && e !== this._sgNode && e.setOpacityModifyRGB(t);
                            }
                        },
                        isOpacityModifyRGB: function () {
                            return this._opacityModifyRGB;
                        },
                        setGlobalZOrder: function (t) {
                            (this._globalZOrder = t), this._sgNode.setGlobalZOrder(t);
                        },
                        getGlobalZOrder: function () {
                            return (this._globalZOrder = this._sgNode.getGlobalZOrder()), this._globalZOrder;
                        },
                        getAnchorPoint: function () {
                            return cc.p(this._anchorPoint);
                        },
                        setAnchorPoint: function (t, e) {
                            var i = this._anchorPoint;
                            if (void 0 === e) {
                                if (t.x === i.x && t.y === i.y) return;
                                (i.x = t.x), (i.y = t.y);
                            } else {
                                if (t === i.x && e === i.y) return;
                                (i.x = t), (i.y = e);
                            }
                            var n = this._sizeProvider;
                            n instanceof _ccsg.Node && n.setAnchorPoint(i), this.emit(u);
                        },
                        getAnchorPointInPoints: function () {
                            return this._sgNode.getAnchorPointInPoints();
                        },
                        getDisplayedOpacity: function () {
                            return this._sgNode.getDisplayedOpacity();
                        },
                        _updateDisplayedOpacity: function (t) {
                            this._sgNode.updateDisplayedOpacity(t);
                        },
                        getDisplayedColor: function () {
                            return this._sgNode.getDisplayedColor();
                        },
                        getNodeToParentTransformAR: function () {
                            var t = this.getContentSize(),
                                e = this._sgNode.getNodeToParentTransform();
                            if (!this._isSgTransformArToMe(t)) {
                                var i = this._anchorPoint.x * t.width,
                                    n = this._anchorPoint.y * t.height,
                                    r = cc.affineTransformMake(1, 0, 0, 1, i, n);
                                e = cc.affineTransformConcatIn(r, e);
                            }
                            return e;
                        },
                        getBoundingBox: function () {
                            var t = this.getContentSize(),
                                e = cc.rect(0, 0, t.width, t.height);
                            return cc._rectApplyAffineTransformIn(e, this.getNodeToParentTransform());
                        },
                        getBoundingBoxToWorld: function () {
                            var t;
                            return (
                                this.parent && (t = this.parent.getNodeToWorldTransformAR()), this._getBoundingBoxTo(t)
                            );
                        },
                        _getBoundingBoxTo: function (t) {
                            var e = this.getContentSize(),
                                i = e.width,
                                n = e.height,
                                r = cc.rect(-this._anchorPoint.x * i, -this._anchorPoint.y * n, i, n),
                                s = cc.affineTransformConcat(this.getNodeToParentTransformAR(), t);
                            if ((cc._rectApplyAffineTransformIn(r, s), !this._children)) return r;
                            for (var o = this._children, a = 0; a < o.length; a++) {
                                var c = o[a];
                                if (c && c.active) {
                                    var h = c._getBoundingBoxTo(s);
                                    h && (r = cc.rectUnion(r, h));
                                }
                            }
                            return r;
                        },
                        getNodeToParentTransform: function () {
                            var t = this.getContentSize(),
                                e = this._sgNode.getNodeToParentTransform();
                            if (this._isSgTransformArToMe(t)) {
                                var i = -this._anchorPoint.x * t.width,
                                    n = -this._anchorPoint.y * t.height,
                                    r = cc.affineTransformMake(1, 0, 0, 1, i, n);
                                e = cc.affineTransformConcatIn(r, e);
                            }
                            return e;
                        },
                        getNodeToWorldTransform: function () {
                            var t = this.getContentSize();
                            cc._renderType === cc.game.RENDER_TYPE_CANVAS && cc.director._visitScene();
                            var e = this._sgNode.getNodeToWorldTransform();
                            if (this._isSgTransformArToMe(t)) {
                                var i = -this._anchorPoint.x * t.width,
                                    n = -this._anchorPoint.y * t.height,
                                    r = cc.affineTransformMake(1, 0, 0, 1, i, n);
                                e = cc.affineTransformConcatIn(r, e);
                            }
                            return e;
                        },
                        getNodeToWorldTransformAR: function () {
                            var t = this.getContentSize();
                            cc._renderType === cc.game.RENDER_TYPE_CANVAS && cc.director._visitScene();
                            var e = this._sgNode.getNodeToWorldTransform();
                            if (!this._isSgTransformArToMe(t)) {
                                var i = this._anchorPoint.x * t.width,
                                    n = this._anchorPoint.y * t.height,
                                    r = cc.affineTransformMake(1, 0, 0, 1, i, n);
                                e = cc.affineTransformConcatIn(r, e);
                            }
                            return e;
                        },
                        getParentToNodeTransform: function () {
                            return this._sgNode.getParentToNodeTransform();
                        },
                        getWorldToNodeTransform: function () {
                            return (
                                cc._renderType === cc.game.RENDER_TYPE_CANVAS && cc.director._visitScene(),
                                this._sgNode.getWorldToNodeTransform()
                            );
                        },
                        _isSgTransformArToMe: function (t) {
                            var e = this._sgNode.getContentSize();
                            return (
                                (0 === e.width && 0 === e.height && (0 !== t.width || 0 !== t.height)) ||
                                !!this._sgNode.isIgnoreAnchorPointForPosition()
                            );
                        },
                        convertToNodeSpace: function (t) {
                            cc._renderType === cc.game.RENDER_TYPE_CANVAS && cc.director._visitScene();
                            var e = this._sgNode.convertToNodeSpace(t);
                            return cc.pAdd(
                                e,
                                cc.p(
                                    this._anchorPoint.x * this._contentSize.width,
                                    this._anchorPoint.y * this._contentSize.height,
                                ),
                            );
                        },
                        convertToWorldSpace: function (t) {
                            cc._renderType === cc.game.RENDER_TYPE_CANVAS && cc.director._visitScene();
                            var e = t.x - this._anchorPoint.x * this._contentSize.width,
                                i = t.y - this._anchorPoint.y * this._contentSize.height;
                            return cc.v2(this._sgNode.convertToWorldSpace(cc.v2(e, i)));
                        },
                        convertToNodeSpaceAR: function (t) {
                            return (
                                cc._renderType === cc.game.RENDER_TYPE_CANVAS && cc.director._visitScene(),
                                this._sgNode.isIgnoreAnchorPointForPosition()
                                    ? cc.v2(this._sgNode.convertToNodeSpace(t))
                                    : this._sgNode.convertToNodeSpaceAR(t)
                            );
                        },
                        convertToWorldSpaceAR: function (t) {
                            return (
                                cc._renderType === cc.game.RENDER_TYPE_CANVAS && cc.director._visitScene(),
                                this._sgNode.isIgnoreAnchorPointForPosition()
                                    ? cc.v2(this._sgNode.convertToWorldSpace(t))
                                    : cc.v2(this._sgNode.convertToWorldSpaceAR(t))
                            );
                        },
                        convertTouchToNodeSpace: function (t) {
                            return this.convertToNodeSpace(t.getLocation());
                        },
                        convertTouchToNodeSpaceAR: function (t) {
                            return this.convertToNodeSpaceAR(t.getLocation());
                        },
                        setNodeDirty: function () {
                            this._sgNode.setNodeDirty();
                        },
                        addChild: function (t, e, i) {
                            e = void 0 === e ? t._localZOrder : e;
                            var n,
                                r = !1;
                            void 0 === i
                                ? ((i = void 0), (n = t._name))
                                : cc.js.isString(i)
                                ? ((n = i), (i = void 0))
                                : cc.js.isNumber(i) && ((r = !0), (n = '')),
                                cc.assertID(t, 1606),
                                cc.assertID(null === t._parent, 1605),
                                (t.parent = this),
                                (t.zIndex = e),
                                r ? t.setTag(i) : t.setName(n);
                        },
                        cleanup: function () {
                            p && cc.director.getActionManager().removeAllActionsFromTarget(this),
                                o.removeListeners(this);
                            var t,
                                e,
                                i = this._children.length;
                            for (t = 0; t < i; ++t) (e = this._children[t]) && e.cleanup();
                        },
                        sortAllChildren: function () {
                            if (this._reorderChildDirty) {
                                this._reorderChildDirty = !1;
                                var t = this._children;
                                if (t.length > 1) {
                                    var e,
                                        i,
                                        n,
                                        r = t.length;
                                    for (e = 1; e < r; e++) {
                                        for (n = t[e], i = e - 1; i >= 0; ) {
                                            if (n._localZOrder < t[i]._localZOrder) t[i + 1] = t[i];
                                            else {
                                                if (
                                                    !(
                                                        n._localZOrder === t[i]._localZOrder &&
                                                        n._sgNode._arrivalOrder < t[i]._sgNode._arrivalOrder
                                                    )
                                                )
                                                    break;
                                                t[i + 1] = t[i];
                                            }
                                            i--;
                                        }
                                        t[i + 1] = n;
                                    }
                                    this.emit('child-reorder');
                                }
                                cc.director.__fastOff(cc.Director.EVENT_AFTER_UPDATE, this.sortAllChildren, this);
                            }
                        },
                        _delaySort: function () {
                            this._reorderChildDirty ||
                                ((this._reorderChildDirty = !0),
                                cc.director.__fastOn(cc.Director.EVENT_AFTER_UPDATE, this.sortAllChildren, this));
                        },
                        _updateDummySgNode: function () {
                            var t = this._sgNode;
                            t.setPosition(this._position),
                                t.setRotationX(this._rotationX),
                                t.setRotationY(this._rotationY),
                                t.setScale(this._scaleX, this._scaleY),
                                t.setSkewX(this._skewX),
                                t.setSkewY(this._skewY);
                            var e = t._arrivalOrder;
                            t.setLocalZOrder(this._localZOrder),
                                (t._arrivalOrder = e),
                                t.setGlobalZOrder(this._globalZOrder),
                                t.setOpacity(this._opacity),
                                t.setOpacityModifyRGB(this._opacityModifyRGB),
                                t.setCascadeOpacityEnabled(this._cascadeOpacityEnabled),
                                t.setTag(this._tag);
                        },
                        _updateSgNode: function () {
                            this._updateDummySgNode();
                            var t = this._sgNode;
                            t.setAnchorPoint(this._anchorPoint), t.setVisible(this._active), t.setColor(this._color);
                            var e = p ? cc.director.getActionManager() : null;
                            this._activeInHierarchy
                                ? (e && e.resumeTarget(this), o.resumeTarget(this))
                                : (e && e.pauseTarget(this), o.pauseTarget(this));
                        },
                        _removeSgNode: s.removeSgNode,
                        onRestore: !1,
                    });
                f.propertyDefine(
                    I,
                    [
                        'parent',
                        'tag',
                        'skewX',
                        'skewY',
                        'position',
                        'rotation',
                        'rotationX',
                        'rotationY',
                        'scale',
                        'scaleX',
                        'scaleY',
                        'opacity',
                        'color',
                    ],
                    {
                        x: ['getPositionX', 'setPositionX'],
                        y: ['getPositionY', 'setPositionY'],
                        zIndex: ['getLocalZOrder', 'setLocalZOrder'],
                        opacityModifyRGB: ['isOpacityModifyRGB', 'setOpacityModifyRGB'],
                        cascadeOpacity: ['isCascadeOpacityEnabled', 'setCascadeOpacityEnabled'],
                    },
                ),
                    (I.EventType = m),
                    (cc.Node = e.exports = I);
            },
            {
                './event-manager': 95,
                './event/event': 98,
                './utils/base-node': 180,
                './utils/misc': 185,
                './utils/prefab-helper': 187,
                './utils/scene-graph-helper': 188,
            },
        ],
        41: [
            function (t, e, i) {
                (cc.Scene = cc.Class({
                    name: 'cc.Scene',
                    extends: t('./CCNode'),
                    properties: {
                        autoReleaseAssets: {
                            default: void 0,
                            type: cc.Boolean,
                        },
                    },
                    ctor: function () {
                        var t = (this._sgNode = new _ccsg.Scene());
                        t.setAnchorPoint(0, 0),
                            (this._anchorPoint.x = 0),
                            (this._anchorPoint.y = 0),
                            (this._activeInHierarchy = !1),
                            (this._inited = !cc.game._isCloning),
                            (this.dependAssets = null);
                    },
                    destroy: function () {
                        this._super(), (this._activeInHierarchy = !1);
                    },
                    _onHierarchyChanged: function () {},
                    _instantiate: null,
                    _load: function () {
                        this._inited || (this._onBatchCreated(), (this._inited = !0));
                    },
                    _activate: function (t) {
                        (t = !1 !== t), cc.director._nodeActivator.activateNode(this, t);
                    },
                })),
                    (e.exports = cc.Scene);
            },
            {
                './CCNode': 40,
            },
        ],
        42: [
            function (t, e, i) {
                function n() {
                    (this._lock = !1),
                        (this._scheduler = null),
                        (this._elapsed = -1),
                        (this._runForever = !1),
                        (this._useDelay = !1),
                        (this._timesExecuted = 0),
                        (this._repeat = 0),
                        (this._delay = 0),
                        (this._interval = 0),
                        (this._target = null),
                        (this._callback = null);
                }
                var r = function (t, e, i, n, r, s, o) {
                        (this.prev = t),
                            (this.next = e),
                            (this.callback = i),
                            (this.target = n),
                            (this.priority = r),
                            (this.paused = s),
                            (this.markedForDeletion = o),
                            (this.isUpdate = !i);
                    },
                    s = [];
                (r.get = function (t, e, i, n, o, a, c) {
                    var h = s.pop();
                    return (
                        h
                            ? ((h.prev = t),
                              (h.next = e),
                              (h.callback = i),
                              (h.target = n),
                              (h.priority = o),
                              (h.paused = a),
                              (h.markedForDeletion = c),
                              (h.isUpdate = !i))
                            : (h = new r(t, e, i, n, o, a, c)),
                        h
                    );
                }),
                    (r.put = function (t) {
                        s.length < 20 && ((t.prev = t.next = t.callback = t.target = null), s.push(t));
                    });
                var o = function (t, e, i, n) {
                        (this.list = t), (this.entry = e), (this.target = i), (this.callback = n);
                    },
                    a = [];
                (o.get = function (t, e, i, n) {
                    var r = a.pop();
                    return (
                        r ? ((r.list = t), (r.entry = e), (r.target = i), (r.callback = n)) : (r = new o(t, e, i, n)), r
                    );
                }),
                    (o.put = function (t) {
                        a.length < 20 && ((t.list = t.entry = t.target = t.callback = null), a.push(t));
                    });
                var c = function (t, e, i, n, r, s) {
                        (this.timers = t),
                            (this.target = e),
                            (this.timerIndex = i),
                            (this.currentTimer = n),
                            (this.currentTimerSalvaged = r),
                            (this.paused = s);
                    },
                    h = [];
                (c.get = function (t, e, i, n, r, s) {
                    var o = h.pop();
                    return (
                        o
                            ? ((o.timers = t),
                              (o.target = e),
                              (o.timerIndex = i),
                              (o.currentTimer = n),
                              (o.currentTimerSalvaged = r),
                              (o.paused = s))
                            : (o = new c(t, e, i, n, r, s)),
                        o
                    );
                }),
                    (c.put = function (t) {
                        h.length < 20 && ((t.timers = t.target = t.currentTimer = null), h.push(t));
                    });
                var l = n.prototype;
                (l.initWithCallback = function (t, e, i, n, r, s) {
                    return (
                        (this._lock = !1),
                        (this._scheduler = t),
                        (this._target = i),
                        (this._callback = e),
                        (this._elapsed = -1),
                        (this._interval = n),
                        (this._delay = s),
                        (this._useDelay = this._delay > 0),
                        (this._repeat = r),
                        (this._runForever = this._repeat === cc.macro.REPEAT_FOREVER),
                        !0
                    );
                }),
                    (l.getInterval = function () {
                        return this._interval;
                    }),
                    (l.setInterval = function (t) {
                        this._interval = t;
                    }),
                    (l.update = function (t) {
                        -1 === this._elapsed
                            ? ((this._elapsed = 0), (this._timesExecuted = 0))
                            : ((this._elapsed += t),
                              this._runForever && !this._useDelay
                                  ? this._elapsed >= this._interval && (this.trigger(), (this._elapsed = 0))
                                  : (this._useDelay
                                        ? this._elapsed >= this._delay &&
                                          (this.trigger(),
                                          (this._elapsed -= this._delay),
                                          (this._timesExecuted += 1),
                                          (this._useDelay = !1))
                                        : this._elapsed >= this._interval &&
                                          (this.trigger(), (this._elapsed = 0), (this._timesExecuted += 1)),
                                    this._callback &&
                                        !this._runForever &&
                                        this._timesExecuted > this._repeat &&
                                        this.cancel()));
                    }),
                    (l.getCallback = function () {
                        return this._callback;
                    }),
                    (l.trigger = function () {
                        this._target &&
                            this._callback &&
                            ((this._lock = !0), this._callback.call(this._target, this._elapsed), (this._lock = !1));
                    }),
                    (l.cancel = function () {
                        this._scheduler.unschedule(this._callback, this._target);
                    });
                var u = [];
                (n.get = function () {
                    return u.pop() || new n();
                }),
                    (n.put = function (t) {
                        u.length < 20 && !t._lock && ((t._scheduler = t._target = t._callback = null), u.push(t));
                    });
                var d = function (t) {
                    return t.__instanceId || t.uuid;
                };
                (cc.Scheduler = cc._Class.extend({
                    ctor: function () {
                        (this._timeScale = 1),
                            (this._updatesNegList = []),
                            (this._updates0List = []),
                            (this._updatesPosList = []),
                            (this._hashForUpdates = {}),
                            (this._hashForTimers = {}),
                            (this._currentTarget = null),
                            (this._currentTargetSalvaged = !1),
                            (this._updateHashLocked = !1),
                            (this._arrayForTimers = []);
                    },
                    _removeHashElement: function (t) {
                        delete this._hashForTimers[d(t.target)];
                        for (var e = this._arrayForTimers, i = 0, n = e.length; i < n; i++)
                            if (e[i] === t) {
                                e.splice(i, 1);
                                break;
                            }
                        c.put(t);
                    },
                    _removeUpdateFromHash: function (t) {
                        var e = d(t.target),
                            i = this._hashForUpdates[e];
                        if (i) {
                            for (var n = i.list, s = i.entry, a = 0, c = n.length; a < c; a++)
                                if (n[a] === s) {
                                    n.splice(a, 1);
                                    break;
                                }
                            delete this._hashForUpdates[e], r.put(s), o.put(i);
                        }
                    },
                    _priorityIn: function (t, e, i) {
                        for (var n = 0; n < t.length; n++) if (i < t[n].priority) return void t.splice(n, 0, e);
                        t.push(e);
                    },
                    _appendIn: function (t, e) {
                        t.push(e);
                    },
                    setTimeScale: function (t) {
                        this._timeScale = t;
                    },
                    getTimeScale: function () {
                        return this._timeScale;
                    },
                    update: function (t) {
                        (this._updateHashLocked = !0), 1 !== this._timeScale && (t *= this._timeScale);
                        var e, i, n, r;
                        for (e = 0, n = (i = this._updatesNegList).length; e < n; e++)
                            (r = i[e]).paused ||
                                r.markedForDeletion ||
                                (r.isUpdate ? r.target.update(t) : r.callback.call(r.target, t));
                        for (e = 0, n = (i = this._updates0List).length; e < n; e++)
                            (r = i[e]).paused ||
                                r.markedForDeletion ||
                                (r.isUpdate ? r.target.update(t) : r.callback.call(r.target, t));
                        for (e = 0, n = (i = this._updatesPosList).length; e < n; e++)
                            (r = i[e]).paused ||
                                r.markedForDeletion ||
                                (r.isUpdate ? r.target.update(t) : r.callback.call(r.target, t));
                        var s,
                            o = this._arrayForTimers;
                        for (e = 0; e < o.length; e++) {
                            if (((s = o[e]), (this._currentTarget = s), (this._currentTargetSalvaged = !1), !s.paused))
                                for (s.timerIndex = 0; s.timerIndex < s.timers.length; ++s.timerIndex)
                                    (s.currentTimer = s.timers[s.timerIndex]),
                                        (s.currentTimerSalvaged = !1),
                                        s.currentTimer.update(t),
                                        (s.currentTimer = null);
                            this._currentTargetSalvaged &&
                                0 === this._currentTarget.timers.length &&
                                (this._removeHashElement(this._currentTarget), --e);
                        }
                        for (e = 0, i = this._updatesNegList; e < i.length; )
                            (r = i[e]).markedForDeletion ? this._removeUpdateFromHash(r) : e++;
                        for (e = 0, i = this._updates0List; e < i.length; )
                            (r = i[e]).markedForDeletion ? this._removeUpdateFromHash(r) : e++;
                        for (e = 0, i = this._updatesPosList; e < i.length; )
                            (r = i[e]).markedForDeletion ? this._removeUpdateFromHash(r) : e++;
                        (this._updateHashLocked = !1), (this._currentTarget = null);
                    },
                    scheduleCallbackForTarget: function (t, e, i, n, r, s) {
                        this.schedule(e, t, i, n, r, s);
                    },
                    schedule: function (t, e, i, r, s, o) {
                        'use strict';
                        if ('function' != typeof t) {
                            var a = t;
                            (t = e), (e = a);
                        }
                        (4 !== arguments.length && 5 !== arguments.length) ||
                            ((o = !!r), (r = cc.macro.REPEAT_FOREVER), (s = 0)),
                            cc.assertID(e, 1502);
                        var h = d(e);
                        cc.assertID(h, 1510);
                        var l = this._hashForTimers[h];
                        l
                            ? l.paused !== o && cc.warnID(1511)
                            : ((l = c.get(null, e, 0, null, null, o)),
                              this._arrayForTimers.push(l),
                              (this._hashForTimers[h] = l));
                        var u, _;
                        if (null == l.timers) l.timers = [];
                        else
                            for (_ = 0; _ < l.timers.length; ++_)
                                if ((u = l.timers[_]) && t === u._callback)
                                    return cc.logID(1507, u.getInterval(), i), void (u._interval = i);
                        (u = n.get()).initWithCallback(this, t, e, i, r, s),
                            l.timers.push(u),
                            this._currentTarget === l &&
                                this._currentTargetSalvaged &&
                                (this._currentTargetSalvaged = !1);
                    },
                    scheduleUpdate: function (t, e, i, n) {
                        var s = d(t);
                        cc.assertID(s, 1510);
                        var a = this._hashForUpdates[s];
                        if (a && a.entry) {
                            if (a.entry.priority === e)
                                return (a.entry.markedForDeletion = !1), void (a.entry.paused = i);
                            if (this._updateHashLocked)
                                return cc.logID(1506), (a.entry.markedForDeletion = !1), void (a.entry.paused = i);
                            this.unscheduleUpdate(t);
                        }
                        n && cc.warnID(1512);
                        var c,
                            h = r.get(null, null, n, t, e, i, !1);
                        0 === e
                            ? ((c = this._updates0List), this._appendIn(c, h))
                            : ((c = e < 0 ? this._updatesNegList : this._updatesPosList), this._priorityIn(c, h, e)),
                            (this._hashForUpdates[s] = o.get(c, h, t, null));
                    },
                    unschedule: function (t, e) {
                        if (e && t) {
                            var i = d(e);
                            cc.assertID(i, 1510);
                            var r = this._hashForTimers[i];
                            if (r)
                                for (var s = r.timers, o = 0, a = s.length; o < a; o++) {
                                    var c = s[o];
                                    if (t === c._callback)
                                        return (
                                            c !== r.currentTimer ||
                                                r.currentTimerSalvaged ||
                                                (r.currentTimerSalvaged = !0),
                                            s.splice(o, 1),
                                            n.put(c),
                                            r.timerIndex >= o && r.timerIndex--,
                                            void (
                                                0 === s.length &&
                                                (this._currentTarget === r
                                                    ? (this._currentTargetSalvaged = !0)
                                                    : this._removeHashElement(r))
                                            )
                                        );
                                }
                        }
                    },
                    unscheduleUpdate: function (t) {
                        if (t) {
                            var e = d(t);
                            cc.assertID(e, 1510);
                            var i = this._hashForUpdates[e];
                            i &&
                                (this._updateHashLocked
                                    ? (i.entry.markedForDeletion = !0)
                                    : this._removeUpdateFromHash(i.entry));
                        }
                    },
                    unscheduleAllForTarget: function (t) {
                        if (t) {
                            var e = d(t);
                            cc.assertID(e, 1510);
                            var i = this._hashForTimers[e];
                            if (i) {
                                var r = i.timers;
                                r.indexOf(i.currentTimer) > -1 &&
                                    !i.currentTimerSalvaged &&
                                    (i.currentTimerSalvaged = !0);
                                for (var s = 0, o = r.length; s < o; s++) n.put(r[s]);
                                (r.length = 0),
                                    this._currentTarget === i
                                        ? (this._currentTargetSalvaged = !0)
                                        : this._removeHashElement(i);
                            }
                            this.unscheduleUpdate(t);
                        }
                    },
                    unscheduleAll: function () {
                        this.unscheduleAllWithMinPriority(cc.Scheduler.PRIORITY_SYSTEM);
                    },
                    unscheduleAllWithMinPriority: function (t) {
                        var e,
                            i,
                            n = this._arrayForTimers;
                        for (e = n.length - 1; e >= 0; e--) (i = n[e]), this.unscheduleAllForTarget(i.target);
                        var r,
                            s = 0;
                        if (t < 0)
                            for (e = 0; e < this._updatesNegList.length; )
                                (s = this._updatesNegList.length),
                                    (r = this._updatesNegList[e]) && r.priority >= t && this.unscheduleUpdate(r.target),
                                    s == this._updatesNegList.length && e++;
                        if (t <= 0)
                            for (e = 0; e < this._updates0List.length; )
                                (s = this._updates0List.length),
                                    (r = this._updates0List[e]) && this.unscheduleUpdate(r.target),
                                    s == this._updates0List.length && e++;
                        for (e = 0; e < this._updatesPosList.length; )
                            (s = this._updatesPosList.length),
                                (r = this._updatesPosList[e]) && r.priority >= t && this.unscheduleUpdate(r.target),
                                s == this._updatesPosList.length && e++;
                    },
                    isScheduled: function (t, e) {
                        cc.assertID(t, 1508), cc.assertID(e, 1509);
                        var i = d(e);
                        cc.assertID(i, 1510);
                        var n = this._hashForTimers[i];
                        if (!n) return !1;
                        if (null == n.timers) return !1;
                        for (var r = n.timers, s = 0; s < r.length; ++s) {
                            if (t === r[s]._callback) return !0;
                        }
                        return !1;
                    },
                    pauseAllTargets: function () {
                        return this.pauseAllTargetsWithMinPriority(cc.Scheduler.PRIORITY_SYSTEM);
                    },
                    pauseAllTargetsWithMinPriority: function (t) {
                        var e,
                            i,
                            n,
                            r = [],
                            s = this._arrayForTimers;
                        for (i = 0, n = s.length; i < n; i++) (e = s[i]) && ((e.paused = !0), r.push(e.target));
                        var o;
                        if (t < 0)
                            for (i = 0; i < this._updatesNegList.length; i++)
                                (o = this._updatesNegList[i]) && o.priority >= t && ((o.paused = !0), r.push(o.target));
                        if (t <= 0)
                            for (i = 0; i < this._updates0List.length; i++)
                                (o = this._updates0List[i]) && ((o.paused = !0), r.push(o.target));
                        for (i = 0; i < this._updatesPosList.length; i++)
                            (o = this._updatesPosList[i]) && o.priority >= t && ((o.paused = !0), r.push(o.target));
                        return r;
                    },
                    resumeTargets: function (t) {
                        if (t) for (var e = 0; e < t.length; e++) this.resumeTarget(t[e]);
                    },
                    pauseTarget: function (t) {
                        cc.assertID(t, 1503);
                        var e = d(t);
                        cc.assertID(e, 1510);
                        var i = this._hashForTimers[e];
                        i && (i.paused = !0);
                        var n = this._hashForUpdates[e];
                        n && (n.entry.paused = !0);
                    },
                    resumeTarget: function (t) {
                        cc.assertID(t, 1504);
                        var e = d(t);
                        cc.assertID(e, 1510);
                        var i = this._hashForTimers[e];
                        i && (i.paused = !1);
                        var n = this._hashForUpdates[e];
                        n && (n.entry.paused = !1);
                    },
                    isTargetPaused: function (t) {
                        cc.assertID(t, 1505);
                        var e = d(t);
                        cc.assertID(e, 1510);
                        var i = this._hashForTimers[e];
                        if (i) return i.paused;
                        var n = this._hashForUpdates[e];
                        return !!n && n.entry.paused;
                    },
                    scheduleUpdateForTarget: function (t, e, i) {
                        this.scheduleUpdate(t, e, i);
                    },
                    unscheduleCallbackForTarget: function (t, e) {
                        this.unschedule(e, t);
                    },
                    unscheduleUpdateForTarget: function (t) {
                        this.unscheduleUpdate(t);
                    },
                    unscheduleAllCallbacksForTarget: function (t) {
                        this.unscheduleAllForTarget(t);
                    },
                    unscheduleAllCallbacks: function () {
                        this.unscheduleAllWithMinPriority(cc.Scheduler.PRIORITY_SYSTEM);
                    },
                    unscheduleAllCallbacksWithMinPriority: function (t) {
                        this.unscheduleAllWithMinPriority(t);
                    },
                })),
                    (cc.Scheduler.PRIORITY_SYSTEM = 1 << 31),
                    (cc.Scheduler.PRIORITY_NON_SYSTEM = cc.Scheduler.PRIORITY_SYSTEM + 1);
            },
            {},
        ],
        43: [
            function (t, e, i) {
                var n = t('./CCRawAsset');
                (cc.Asset = cc.Class({
                    name: 'cc.Asset',
                    extends: n,
                    properties: {
                        rawUrl: {
                            get: function () {
                                if (this._rawFiles) {
                                    if (cc.AssetLibrary)
                                        return cc.AssetLibrary.getLibUrlNoExt(this._uuid) + '/' + this._rawFiles[0];
                                    cc.errorID(6400);
                                }
                                return '';
                            },
                            visible: !1,
                        },
                        rawUrls: {
                            get: function () {
                                if (this._rawFiles) {
                                    if (cc.AssetLibrary) {
                                        var t = cc.AssetLibrary.getLibUrlNoExt(this._uuid) + '/';
                                        return this._rawFiles.map(function (e) {
                                            return t + e;
                                        });
                                    }
                                    cc.errorID(6401);
                                }
                                return [];
                            },
                            visible: !1,
                        },
                        _rawFiles: null,
                    },
                    statics: {
                        deserialize: function (t) {
                            return cc.deserialize(t);
                        },
                        preventDeferredLoadDependents: !1,
                    },
                    serialize: function () {
                        return Editor.serialize(this);
                    },
                    createNode: null,
                    _setRawFiles: function (t) {
                        this._rawFiles = t.length > 0 ? t : null;
                    },
                    _preloadRawFiles: null,
                })),
                    (e.exports = cc.Asset);
            },
            {
                './CCRawAsset': 49,
            },
        ],
        44: [
            function (t, e, i) {
                var n = cc.Class({
                    name: 'cc.AudioClip',
                    extends: cc.RawAsset,
                });
                (cc.AudioClip = n), (e.exports = n);
            },
            {},
        ],
        45: [
            function (t, e, i) {
                var n = cc.Class({
                    name: 'cc.BitmapFont',
                    extends: cc.Font,
                    properties: {
                        fntDataStr: {
                            default: '',
                        },
                        spriteFrame: {
                            default: null,
                            type: cc.SpriteFrame,
                        },
                        fontSize: {
                            default: -1,
                        },
                        _fntConfig: null,
                    },
                });
                (cc.BitmapFont = n), (e.exports = n);
            },
            {},
        ],
        46: [
            function (t, e, i) {
                var n = cc.Class({
                    name: 'cc.Font',
                    extends: cc.Asset,
                });
                (cc.Font = n), (e.exports = n);
            },
            {},
        ],
        47: [
            function (t, e, i) {
                var n = cc.Class({
                    name: 'cc.LabelAtlas',
                    extends: cc.BitmapFont,
                });
                (cc.LabelAtlas = n), (e.exports = n);
            },
            {},
        ],
        48: [
            function (t, e, i) {
                var n = cc.Class({
                    name: 'cc.Prefab',
                    extends: cc.Asset,
                    properties: {
                        data: null,
                        asyncLoadAssets: void 0,
                        _createFunction: {
                            default: null,
                            serializable: !1,
                        },
                    },
                    createNode: !1,
                    compileCreateFunction: function () {
                        var e = t('../platform/instantiate-jit');
                        this._createFunction = e.compile(this.data);
                    },
                    _doInstantiate: function (t) {
                        return (
                            this.data._prefab ? (this.data._prefab._synced = !0) : cc.warnID(3700),
                            this._createFunction || this.compileCreateFunction(),
                            this._createFunction(t)
                        );
                    },
                    _instantiate: function () {
                        var t;
                        return (t = this._doInstantiate()), this.data._instantiate(t), t;
                    },
                });
                (cc.Prefab = e.exports = n), cc.js.obsolete(cc, 'cc._Prefab', 'Prefab');
            },
            {
                '../platform/instantiate-jit': 154,
            },
        ],
        49: [
            function (t, e, i) {
                var n = t('../platform/CCObject');
                (cc.RawAsset = cc.Class({
                    name: 'cc.RawAsset',
                    extends: n,
                    ctor: function () {
                        Object.defineProperty(this, '_uuid', {
                            value: '',
                            writable: !0,
                        });
                    },
                    statics: {
                        createNodeByInfo: null,
                    },
                })),
                    Object.defineProperty(cc.RawAsset, 'isRawAssetType', {
                        value: function (t) {
                            return cc.isChildClassOf(t, cc.RawAsset) && !cc.isChildClassOf(t, cc.Asset);
                        },
                    }),
                    (e.exports = cc.RawAsset);
            },
            {
                '../platform/CCObject': 141,
            },
        ],
        50: [
            function (t, e, i) {
                var n = cc.Class({
                    name: 'cc.SceneAsset',
                    extends: cc.Asset,
                    properties: {
                        scene: null,
                        asyncLoadAssets: void 0,
                    },
                });
                (cc.SceneAsset = n), (e.exports = n);
            },
            {},
        ],
        51: [
            function (t, e, i) {
                var n = cc.Class({
                    name: 'cc.Script',
                    extends: cc.Asset,
                });
                cc._Script = n;
                var r = cc.Class({
                    name: 'cc.JavaScript',
                    extends: n,
                });
                cc._JavaScript = r;
                var s = cc.Class({
                    name: 'cc.CoffeeScript',
                    extends: n,
                });
                cc._CoffeeScript = s;
                var o = cc.Class({
                    name: 'cc.TypeScript',
                    extends: n,
                });
                cc._TypeScript = o;
            },
            {},
        ],
        52: [
            function (t, e, i) {
                var n = cc.Class({
                    name: 'cc.SpriteAtlas',
                    extends: cc.Asset,
                    properties: {
                        _spriteFrames: {
                            default: {},
                        },
                    },
                    getTexture: function () {
                        var t = Object.keys(this._spriteFrames);
                        if (t.length > 0) {
                            var e = this._spriteFrames[t[0]];
                            return e ? e.getTexture() : null;
                        }
                        return null;
                    },
                    getSpriteFrame: function (t) {
                        return this._spriteFrames[t];
                    },
                    getSpriteFrames: function () {
                        var t = [],
                            e = this._spriteFrames;
                        for (var i in e) t.push(e[i]);
                        return t;
                    },
                });
                (cc.SpriteAtlas = n), (e.exports = n);
            },
            {},
        ],
        53: [
            function (t, e, i) {
                var n = cc.Class({
                    name: 'cc.TTFFont',
                    extends: cc.Font,
                });
                (cc.TTFFont = n), (e.exports = n);
            },
            {},
        ],
        54: [
            function (t, e, i) {
                t('./CCRawAsset'),
                    t('./CCAsset'),
                    t('./CCFont'),
                    t('./CCPrefab'),
                    t('./CCAudioClip'),
                    t('./CCScripts'),
                    t('./CCSceneAsset'),
                    t('../sprites/CCSpriteFrame'),
                    t('../textures/CCTexture2D'),
                    t('./CCTTFFont'),
                    t('./CCSpriteAtlas'),
                    t('./CCBitmapFont'),
                    t('./CCLabelAtlas');
            },
            {
                '../sprites/CCSpriteFrame': 174,
                '../textures/CCTexture2D': 175,
                './CCAsset': 43,
                './CCAudioClip': 44,
                './CCBitmapFont': 45,
                './CCFont': 46,
                './CCLabelAtlas': 47,
                './CCPrefab': 48,
                './CCRawAsset': 49,
                './CCSceneAsset': 50,
                './CCScripts': 51,
                './CCSpriteAtlas': 52,
                './CCTTFFont': 53,
            },
        ],
        55: [
            function (t, e, i) {
                var n = t('../utils/misc'),
                    r = t('../event-manager'),
                    s = !!cc.ActionManager,
                    o = function () {};
                (cc.s_globalOrderOfArrival = 1),
                    (_ccsg.Node = cc.Class({
                        name: 'ccsg.Node',
                        properties: {
                            _running: !1,
                            _localZOrder: 0,
                            _globalZOrder: 0,
                            _arrivalOrder: 0,
                            _reorderChildDirty: !1,
                            _vertexZ: 0,
                            _customZ: void 0,
                            _rotationX: 0,
                            _rotationY: 0,
                            _scaleX: 1,
                            _scaleY: 1,
                            _position: cc.p(0, 0),
                            _skewX: 0,
                            _skewY: 0,
                            _children: [],
                            _visible: !0,
                            _anchorPoint: cc.p(0, 0),
                            _contentSize: cc.size(0, 0),
                            _parent: null,
                            _ignoreAnchorPointForPosition: !1,
                            tag: cc.macro.NODE_TAG_INVALID,
                            _name: '',
                            _realOpacity: 255,
                            _realColor: cc.Color.WHITE,
                            _cascadeColorEnabled: !1,
                            _cascadeOpacityEnabled: !1,
                            _isTransitionFinished: !1,
                            _actionManager: null,
                            _scheduler: null,
                            _renderCmd: null,
                        },
                        ctor: function () {
                            (this.__instanceId = cc.ClassManager.getNewInstanceId()),
                                (this._renderCmd = this._createRenderCmd());
                        },
                        init: function () {
                            return !0;
                        },
                        attr: function (t) {
                            for (var e in t) this[e] = t[e];
                        },
                        getSkewX: function () {
                            return this._skewX;
                        },
                        setSkewX: function (t) {
                            (this._skewX = t), this._renderCmd.setDirtyFlag(_ccsg.Node._dirtyFlags.transformDirty);
                        },
                        getSkewY: function () {
                            return this._skewY;
                        },
                        setSkewY: function (t) {
                            (this._skewY = t), this._renderCmd.setDirtyFlag(_ccsg.Node._dirtyFlags.transformDirty);
                        },
                        setLocalZOrder: function (t) {
                            this._parent ? this._parent.reorderChild(this, t) : (this._localZOrder = t),
                                r._setDirtyForNode(this);
                        },
                        _setLocalZOrder: function (t) {
                            this._localZOrder = t;
                        },
                        getLocalZOrder: function () {
                            return this._localZOrder;
                        },
                        getZOrder: function () {
                            return cc.logID(1600), this.getLocalZOrder();
                        },
                        setZOrder: function (t) {
                            cc.logID(1601), this.setLocalZOrder(t);
                        },
                        setGlobalZOrder: function (t) {
                            this._globalZOrder !== t && ((this._globalZOrder = t), r._setDirtyForNode(this));
                        },
                        getGlobalZOrder: function () {
                            return this._globalZOrder;
                        },
                        getVertexZ: function () {
                            return this._vertexZ;
                        },
                        setVertexZ: function (t) {
                            this._customZ = this._vertexZ = t;
                        },
                        getRotation: function () {
                            return this._rotationX !== this._rotationY && cc.logID(1602), this._rotationX;
                        },
                        setRotation: function (t) {
                            (this._rotationX = this._rotationY = t),
                                this._renderCmd.setDirtyFlag(_ccsg.Node._dirtyFlags.transformDirty);
                        },
                        getRotationX: function () {
                            return this._rotationX;
                        },
                        setRotationX: function (t) {
                            (this._rotationX = t), this._renderCmd.setDirtyFlag(_ccsg.Node._dirtyFlags.transformDirty);
                        },
                        getRotationY: function () {
                            return this._rotationY;
                        },
                        setRotationY: function (t) {
                            (this._rotationY = t), this._renderCmd.setDirtyFlag(_ccsg.Node._dirtyFlags.transformDirty);
                        },
                        getScale: function () {
                            return this._scaleX !== this._scaleY && cc.logID(1603), this._scaleX;
                        },
                        setScale: function (t, e) {
                            (this._scaleX = t),
                                (this._scaleY = e || 0 === e ? e : t),
                                this._renderCmd.setDirtyFlag(_ccsg.Node._dirtyFlags.transformDirty);
                        },
                        getScaleX: function () {
                            return this._scaleX;
                        },
                        setScaleX: function (t) {
                            (this._scaleX = t), this._renderCmd.setDirtyFlag(_ccsg.Node._dirtyFlags.transformDirty);
                        },
                        getScaleY: function () {
                            return this._scaleY;
                        },
                        setScaleY: function (t) {
                            (this._scaleY = t), this._renderCmd.setDirtyFlag(_ccsg.Node._dirtyFlags.transformDirty);
                        },
                        setPosition: function (t, e) {
                            var i = this._position;
                            if (void 0 === e) {
                                if (i.x === t.x && i.y === t.y) return;
                                (i.x = t.x), (i.y = t.y);
                            } else {
                                if (i.x === t && i.y === e) return;
                                (i.x = t), (i.y = e);
                            }
                            this._renderCmd.setDirtyFlag(_ccsg.Node._dirtyFlags.transformDirty);
                        },
                        getPosition: function () {
                            return cc.p(this._position);
                        },
                        getPositionX: function () {
                            return this._position.x;
                        },
                        setPositionX: function (t) {
                            (this._position.x = t), this._renderCmd.setDirtyFlag(_ccsg.Node._dirtyFlags.transformDirty);
                        },
                        getPositionY: function () {
                            return this._position.y;
                        },
                        setPositionY: function (t) {
                            (this._position.y = t), this._renderCmd.setDirtyFlag(_ccsg.Node._dirtyFlags.transformDirty);
                        },
                        getChildrenCount: function () {
                            return this._children.length;
                        },
                        getChildren: function () {
                            return this._children;
                        },
                        isVisible: function () {
                            return this._visible;
                        },
                        setVisible: function (t) {
                            this._visible !== t &&
                                ((this._visible = t),
                                this._renderCmd.setDirtyFlag(_ccsg.Node._dirtyFlags.transformDirty),
                                (cc.renderer.childrenOrderDirty = !0));
                        },
                        getAnchorPoint: function () {
                            return cc.p(this._anchorPoint);
                        },
                        setAnchorPoint: function (t, e) {
                            var i = this._anchorPoint;
                            if (void 0 === e) {
                                if (t.x === i.x && t.y === i.y) return;
                                (i.x = t.x), (i.y = t.y);
                            } else {
                                if (t === i.x && e === i.y) return;
                                (i.x = t), (i.y = e);
                            }
                            this._renderCmd._updateAnchorPointInPoint();
                        },
                        _getAnchorX: function () {
                            return this._anchorPoint.x;
                        },
                        _setAnchorX: function (t) {
                            this._anchorPoint.x !== t &&
                                ((this._anchorPoint.x = t), this._renderCmd._updateAnchorPointInPoint());
                        },
                        _getAnchorY: function () {
                            return this._anchorPoint.y;
                        },
                        _setAnchorY: function (t) {
                            this._anchorPoint.y !== t &&
                                ((this._anchorPoint.y = t), this._renderCmd._updateAnchorPointInPoint());
                        },
                        getAnchorPointInPoints: function () {
                            return this._renderCmd.getAnchorPointInPoints();
                        },
                        _getWidth: function () {
                            return this._contentSize.width;
                        },
                        _setWidth: function (t) {
                            (this._contentSize.width = t), this._renderCmd._updateAnchorPointInPoint();
                        },
                        _getHeight: function () {
                            return this._contentSize.height;
                        },
                        _setHeight: function (t) {
                            (this._contentSize.height = t), this._renderCmd._updateAnchorPointInPoint();
                        },
                        getContentSize: function () {
                            return cc.size(this._contentSize);
                        },
                        setContentSize: function (t, e) {
                            var i = this._contentSize;
                            if (void 0 === e) {
                                if (t.width === i.width && t.height === i.height) return;
                                (i.width = t.width), (i.height = t.height);
                            } else {
                                if (t === i.width && e === i.height) return;
                                (i.width = t), (i.height = e);
                            }
                            this._renderCmd._updateAnchorPointInPoint();
                        },
                        isRunning: function () {
                            return this._running;
                        },
                        getParent: function () {
                            return this._parent;
                        },
                        setParent: function (t) {
                            this._parent = t;
                            var e = _ccsg.Node._dirtyFlags;
                            this._renderCmd.setDirtyFlag(e.transformDirty | e.opacityDirty);
                        },
                        isIgnoreAnchorPointForPosition: function () {
                            return this._ignoreAnchorPointForPosition;
                        },
                        setIgnoreAnchorPointForPosition: function (t) {
                            t !== this._ignoreAnchorPointForPosition &&
                                ((this._ignoreAnchorPointForPosition = t),
                                this._renderCmd.setDirtyFlag(_ccsg.Node._dirtyFlags.transformDirty));
                        },
                        getTag: function () {
                            return this.tag;
                        },
                        setTag: function (t) {
                            this.tag = t;
                        },
                        setName: function (t) {
                            this._name = t;
                        },
                        getName: function () {
                            return this._name;
                        },
                        updateOrderOfArrival: function () {
                            this._arrivalOrder = ++cc.s_globalOrderOfArrival;
                        },
                        getScheduler: function () {
                            return this._scheduler || cc.director.getScheduler();
                        },
                        setScheduler: function (t) {
                            this._scheduler !== t && (this.unscheduleAllCallbacks(), (this._scheduler = t));
                        },
                        boundingBox: function () {
                            return cc.logID(1608), this.getBoundingBox();
                        },
                        getBoundingBox: function () {
                            var t = cc.rect(0, 0, this._contentSize.width, this._contentSize.height);
                            return cc._rectApplyAffineTransformIn(t, this.getNodeToParentTransform());
                        },
                        cleanup: function () {
                            this.stopAllActions(), this.unscheduleAllCallbacks(), r.removeListeners(this);
                        },
                        getChildByTag: function (t) {
                            var e = this._children;
                            if (null !== e)
                                for (var i = 0; i < e.length; i++) {
                                    var n = e[i];
                                    if (n && n.tag === t) return n;
                                }
                            return null;
                        },
                        getChildByName: function (t) {
                            if (!t) return cc.log('Invalid name'), null;
                            for (var e = this._children, i = 0, n = e.length; i < n; i++)
                                if (e[i]._name === t) return e[i];
                            return null;
                        },
                        addChild: function (t, e, i) {
                            e = void 0 === e ? t._localZOrder : e;
                            var n,
                                r = !1;
                            void 0 === i
                                ? (n = t._name)
                                : 'string' == typeof i
                                ? ((n = i), (i = void 0))
                                : 'number' == typeof i && ((r = !0), (n = '')),
                                cc.assertID(t, 1606),
                                cc.assertID(null === t._parent, 1605),
                                this._addChildHelper(t, e, i, n, r);
                        },
                        _addChildHelper: function (t, e, i, n, r) {
                            this._children || (this._children = []),
                                this._insertChild(t, e),
                                r ? t.setTag(i) : t.setName(n),
                                t.setParent(this),
                                t.updateOrderOfArrival(),
                                this._running &&
                                    (t.performRecursive(_ccsg.Node.performType.onEnter),
                                    this._isTransitionFinished &&
                                        t.performRecursive(_ccsg.Node.performType.onEnterTransitionDidFinish)),
                                t._renderCmd.setDirtyFlag(_ccsg.Node._dirtyFlags.transformDirty),
                                this._cascadeColorEnabled &&
                                    t._renderCmd.setDirtyFlag(_ccsg.Node._dirtyFlags.colorDirty),
                                this._cascadeOpacityEnabled &&
                                    t._renderCmd.setDirtyFlag(_ccsg.Node._dirtyFlags.opacityDirty);
                        },
                        removeFromParent: function (t) {
                            this._parent && (void 0 === t && (t = !0), this._parent.removeChild(this, t));
                        },
                        removeFromParentAndCleanup: function (t) {
                            cc.logID(1607), this.removeFromParent(t);
                        },
                        removeChild: function (t, e) {
                            0 !== this._children.length &&
                                (void 0 === e && (e = !0),
                                this._children.indexOf(t) > -1 && this._detachChild(t, e),
                                (cc.renderer.childrenOrderDirty = !0));
                        },
                        removeChildByTag: function (t, e) {
                            t === cc.macro.NODE_TAG_INVALID && cc.logID(1609);
                            var i = this.getChildByTag(t);
                            i ? this.removeChild(i, e) : cc.logID(1610, t);
                        },
                        removeAllChildrenWithCleanup: function (t) {
                            this.removeAllChildren(t);
                        },
                        removeAllChildren: function (t) {
                            var e = this._children;
                            if (null !== e) {
                                void 0 === t && (t = !0);
                                for (var i = 0; i < e.length; i++) {
                                    var n = e[i];
                                    n &&
                                        (this._running &&
                                            (n.performRecursive(_ccsg.Node.performType.onExitTransitionDidStart),
                                            n.performRecursive(_ccsg.Node.performType.onExit)),
                                        t && n.performRecursive(_ccsg.Node.performType.cleanup),
                                        (n.parent = null),
                                        n._renderCmd.detachFromParent());
                                }
                                (this._children.length = 0), (cc.renderer.childrenOrderDirty = !0);
                            }
                        },
                        _detachChild: function (t, e) {
                            this._running &&
                                (t.performRecursive(_ccsg.Node.performType.onExitTransitionDidStart),
                                t.performRecursive(_ccsg.Node.performType.onExit)),
                                e && t.performRecursive(_ccsg.Node.performType.cleanup),
                                (t.parent = null),
                                t._renderCmd.detachFromParent(),
                                cc.js.array.remove(this._children, t);
                        },
                        _insertChild: function (t, e) {
                            (cc.renderer.childrenOrderDirty = this._reorderChildDirty = !0),
                                this._children.push(t),
                                t._setLocalZOrder(e);
                        },
                        setNodeDirty: function () {
                            this._renderCmd.setDirtyFlag(_ccsg.Node._dirtyFlags.transformDirty);
                        },
                        reorderChild: function (t, e) {
                            cc.assertID(t, 1617),
                                -1 !== this._children.indexOf(t)
                                    ? e !== t.zIndex &&
                                      ((cc.renderer.childrenOrderDirty = this._reorderChildDirty = !0),
                                      t.updateOrderOfArrival(),
                                      t._setLocalZOrder(e),
                                      this._renderCmd.setDirtyFlag(_ccsg.Node._dirtyFlags.orderDirty))
                                    : cc.logID(1635);
                        },
                        sortAllChildren: function () {
                            if (this._reorderChildDirty) {
                                var t,
                                    e,
                                    i,
                                    n = this._children,
                                    r = n.length;
                                for (t = 1; t < r; t++) {
                                    for (i = n[t], e = t - 1; e >= 0; ) {
                                        if (i._localZOrder < n[e]._localZOrder) n[e + 1] = n[e];
                                        else {
                                            if (
                                                !(
                                                    i._localZOrder === n[e]._localZOrder &&
                                                    i._arrivalOrder < n[e]._arrivalOrder
                                                )
                                            )
                                                break;
                                            n[e + 1] = n[e];
                                        }
                                        e--;
                                    }
                                    n[e + 1] = i;
                                }
                                this._reorderChildDirty = !1;
                            }
                        },
                        draw: function (t) {},
                        transformAncestors: function () {
                            null !== this._parent && (this._parent.transformAncestors(), this._parent.transform());
                        },
                        onEnter: function () {
                            (this._isTransitionFinished = !1), (this._running = !0), this.resume();
                        },
                        performRecursive: function (t) {
                            var e = _ccsg.Node.performType;
                            if (!(t >= e.max)) {
                                var i,
                                    n,
                                    r,
                                    s,
                                    o,
                                    a = 0,
                                    c = _ccsg.Node._performStacks[_ccsg.Node._performing];
                                for (
                                    c || ((c = []), _ccsg.Node._performStacks.push(c)),
                                        c.length = 0,
                                        _ccsg.Node._performing++,
                                        r = c[0] = this;
                                    r;

                                ) {
                                    if ((i = r._children) && i.length > 0)
                                        for (s = 0, o = i.length; s < o; ++s) (n = i[s]), c.push(n);
                                    r = c[++a];
                                }
                                switch (t) {
                                    case e.onEnter:
                                        for (s = c.length - 1; s >= 0; --s) (r = c[s]), (c[s] = null), r && r.onEnter();
                                        break;
                                    case e.onExit:
                                        for (s = c.length - 1; s >= 0; --s) (r = c[s]), (c[s] = null), r && r.onExit();
                                        break;
                                    case e.onEnterTransitionDidFinish:
                                        for (s = c.length - 1; s >= 0; --s)
                                            (r = c[s]), (c[s] = null), r && r.onEnterTransitionDidFinish();
                                        break;
                                    case e.cleanup:
                                        for (s = c.length - 1; s >= 0; --s) (r = c[s]), (c[s] = null), r && r.cleanup();
                                        break;
                                    case e.onExitTransitionDidStart:
                                        for (s = c.length - 1; s >= 0; --s)
                                            (r = c[s]), (c[s] = null), r && r.onExitTransitionDidStart();
                                }
                                _ccsg.Node._performing--;
                            }
                        },
                        onEnterTransitionDidFinish: function () {
                            this._isTransitionFinished = !0;
                        },
                        onExitTransitionDidStart: function () {},
                        onExit: function () {
                            (this._running = !1), this.pause();
                        },
                        runAction: s
                            ? function (t) {
                                  return (
                                      cc.assertID(t, 1618),
                                      cc.director.getActionManager().addAction(t, this, !this._running),
                                      t
                                  );
                              }
                            : o,
                        stopAllActions: s
                            ? function () {
                                  cc.director.getActionManager().removeAllActionsFromTarget(this);
                              }
                            : o,
                        stopAction: s
                            ? function (t) {
                                  cc.director.getActionManager().removeAction(t);
                              }
                            : o,
                        stopActionByTag: s
                            ? function (t) {
                                  t !== cc.Action.TAG_INVALID
                                      ? cc.director.getActionManager().removeActionByTag(t, this)
                                      : cc.logID(1612);
                              }
                            : o,
                        getActionByTag: s
                            ? function (t) {
                                  return t === cc.Action.TAG_INVALID
                                      ? (cc.logID(1613), null)
                                      : cc.director.getActionManager().getActionByTag(t, this);
                              }
                            : function () {
                                  return null;
                              },
                        getNumberOfRunningActions: s
                            ? function () {
                                  return cc.director.getActionManager().getNumberOfRunningActionsInTarget(this);
                              }
                            : function () {
                                  return 0;
                              },
                        scheduleUpdate: function () {
                            this.scheduleUpdateWithPriority(0);
                        },
                        scheduleUpdateWithPriority: function (t) {
                            this.scheduler.scheduleUpdate(this, t, !this._running);
                        },
                        unscheduleUpdate: function () {
                            this.scheduler.unscheduleUpdate(this);
                        },
                        schedule: function (t, e, i, n, r) {
                            var s = arguments.length;
                            'function' == typeof t
                                ? 1 === s
                                    ? ((e = 0), (i = cc.macro.REPEAT_FOREVER), (n = 0), (r = this.__instanceId))
                                    : 2 === s
                                    ? 'number' == typeof e
                                        ? ((i = cc.macro.REPEAT_FOREVER), (n = 0), (r = this.__instanceId))
                                        : ((r = e), (e = 0), (i = cc.macro.REPEAT_FOREVER), (n = 0))
                                    : 3 === s
                                    ? ('string' == typeof i
                                          ? ((r = i), (i = cc.macro.REPEAT_FOREVER))
                                          : (r = this.__instanceId),
                                      (n = 0))
                                    : 4 === s && (r = this.__instanceId)
                                : 1 === s
                                ? ((e = 0), (i = cc.macro.REPEAT_FOREVER), (n = 0))
                                : 2 === s && ((i = cc.macro.REPEAT_FOREVER), (n = 0)),
                                cc.assertID(t, 1619),
                                cc.assertID(e >= 0, 1620),
                                (e = e || 0),
                                (i = isNaN(i) ? cc.macro.REPEAT_FOREVER : i),
                                (n = n || 0),
                                this.scheduler.schedule(t, this, e, i, n, !this._running, r);
                        },
                        scheduleOnce: function (t, e, i) {
                            void 0 === i && (i = this.__instanceId), this.schedule(t, 0, 0, e, i);
                        },
                        unschedule: function (t) {
                            t && this.scheduler.unschedule(t, this);
                        },
                        unscheduleAllCallbacks: function () {
                            this.scheduler.unscheduleAllForTarget(this);
                        },
                        resumeSchedulerAndActions: function () {
                            cc.logID(1614), this.resume();
                        },
                        resume: function () {
                            this.scheduler.resumeTarget(this),
                                s && cc.director.getActionManager().resumeTarget(this),
                                r.resumeTarget(this);
                        },
                        pauseSchedulerAndActions: function () {
                            cc.logID(1615), this.pause();
                        },
                        pause: function () {
                            this.scheduler.pauseTarget(this),
                                s && cc.director.getActionManager().pauseTarget(this),
                                r.pauseTarget(this);
                        },
                        getParentToNodeTransform: function () {
                            return this._renderCmd.getParentToNodeTransform();
                        },
                        parentToNodeTransform: function () {
                            return this.getParentToNodeTransform();
                        },
                        getNodeToWorldTransform: function () {
                            for (var t = this.getNodeToParentTransform(), e = this._parent; null !== e; e = e.parent)
                                t = cc.affineTransformConcat(t, e.getNodeToParentTransform());
                            return t;
                        },
                        nodeToWorldTransform: function () {
                            return this.getNodeToWorldTransform();
                        },
                        getWorldToNodeTransform: function () {
                            return cc.affineTransformInvert(this.getNodeToWorldTransform());
                        },
                        worldToNodeTransform: function () {
                            return this.getWorldToNodeTransform();
                        },
                        convertToNodeSpace: function (t) {
                            return cc.pointApplyAffineTransform(t, this.getWorldToNodeTransform());
                        },
                        convertToWorldSpace: function (t) {
                            return (
                                (t = t || cc.v2(0, 0)), cc.pointApplyAffineTransform(t, this.getNodeToWorldTransform())
                            );
                        },
                        convertToNodeSpaceAR: function (t) {
                            return cc.pSub(this.convertToNodeSpace(t), this._renderCmd.getAnchorPointInPoints());
                        },
                        convertToWorldSpaceAR: function (t) {
                            t = t || cc.v2(0, 0);
                            var e = cc.pAdd(t, this._renderCmd.getAnchorPointInPoints());
                            return this.convertToWorldSpace(e);
                        },
                        _convertToWindowSpace: function (t) {
                            var e = this.convertToWorldSpace(t);
                            return cc.director.convertToUI(e);
                        },
                        convertTouchToNodeSpace: function (t) {
                            var e = t.getLocation();
                            return this.convertToNodeSpace(e);
                        },
                        convertTouchToNodeSpaceAR: function (t) {
                            var e = cc.director.convertToGL(t.getLocation());
                            return this.convertToNodeSpaceAR(e);
                        },
                        updateTransform: function () {
                            for (var t = this._children, e = 0; e < t.length; e++) {
                                var i;
                                (i = t[e]) && i.updateTransform();
                            }
                        },
                        retain: function () {},
                        release: function () {},
                        visit: function (t) {
                            var e = this._renderCmd,
                                i = t ? t._renderCmd : null;
                            if (this._visible) {
                                var n = cc.renderer;
                                e.visit(i);
                                var r,
                                    s,
                                    o = this._children,
                                    a = o.length;
                                if (a > 0) {
                                    for (
                                        this._reorderChildDirty && this.sortAllChildren(), r = 0;
                                        r < a && (s = o[r])._localZOrder < 0;
                                        r++
                                    )
                                        s.visit(this);
                                    for (n.pushRenderCommand(e); r < a; r++) o[r].visit(this);
                                } else n.pushRenderCommand(e);
                                e._dirtyFlag = 0;
                            } else e._propagateFlagsDown(i);
                        },
                        transform: function (t, e) {
                            this._renderCmd.transform(t, e);
                        },
                        nodeToParentTransform: function () {
                            return this.getNodeToParentTransform();
                        },
                        getNodeToParentTransform: function (t) {
                            var e = this._renderCmd.getNodeToParentTransform();
                            if (t) {
                                for (
                                    var i = {
                                            a: e.a,
                                            b: e.b,
                                            c: e.c,
                                            d: e.d,
                                            tx: e.tx,
                                            ty: e.ty,
                                        },
                                        n = this._parent;
                                    null != n && n != t;
                                    n = n.getParent()
                                )
                                    cc.affineTransformConcatIn(i, n.getNodeToParentTransform());
                                return i;
                            }
                            return e;
                        },
                        getNodeToParentAffineTransform: function (t) {
                            return this.getNodeToParentTransform(t);
                        },
                        getShaderProgram: function () {
                            return this._renderCmd.getShaderProgram();
                        },
                        setShaderProgram: function (t) {
                            this._renderCmd.setShaderProgram(t);
                        },
                        getGLServerState: function () {
                            return 0;
                        },
                        setGLServerState: function (t) {},
                        getBoundingBoxToWorld: function () {
                            var t = cc.rect(0, 0, this._contentSize.width, this._contentSize.height),
                                e = this.getNodeToWorldTransform();
                            if ((cc._rectApplyAffineTransformIn(t, e), !this._children)) return t;
                            for (var i = this._children, n = 0; n < i.length; n++) {
                                var r = i[n];
                                if (r && r._visible) {
                                    var s = r._getBoundingBoxToCurrentNode(e);
                                    s && (t = cc.rectUnion(t, s));
                                }
                            }
                            return t;
                        },
                        _getBoundingBoxToCurrentNode: function (t) {
                            var e = cc.rect(0, 0, this._contentSize.width, this._contentSize.height),
                                i =
                                    void 0 === t
                                        ? this.getNodeToParentTransform()
                                        : cc.affineTransformConcat(this.getNodeToParentTransform(), t);
                            if ((cc._rectApplyAffineTransformIn(e, i), !this._children)) return e;
                            for (var n = this._children, r = 0; r < n.length; r++) {
                                var s = n[r];
                                if (s && s._visible) {
                                    var o = s._getBoundingBoxToCurrentNode(i);
                                    o && (e = cc.rectUnion(e, o));
                                }
                            }
                            return e;
                        },
                        getOpacity: function () {
                            return this._realOpacity;
                        },
                        getDisplayedOpacity: function () {
                            return this._renderCmd.getDisplayedOpacity();
                        },
                        setOpacity: function (t) {
                            (this._realOpacity = t), this._renderCmd.setDirtyFlag(_ccsg.Node._dirtyFlags.opacityDirty);
                        },
                        updateDisplayedOpacity: function (t) {
                            this._renderCmd._updateDisplayOpacity(t);
                        },
                        isCascadeOpacityEnabled: function () {
                            return this._cascadeOpacityEnabled;
                        },
                        setCascadeOpacityEnabled: function (t) {
                            this._cascadeOpacityEnabled !== t &&
                                ((this._cascadeOpacityEnabled = t), this._renderCmd.setCascadeOpacityEnabledDirty());
                        },
                        getColor: function () {
                            var t = this._realColor;
                            return cc.color(t.r, t.g, t.b, t.a);
                        },
                        getDisplayedColor: function () {
                            return this._renderCmd.getDisplayedColor();
                        },
                        setColor: function (t) {
                            var e = this._realColor;
                            (e.r = t.r),
                                (e.g = t.g),
                                (e.b = t.b),
                                this._renderCmd.setDirtyFlag(_ccsg.Node._dirtyFlags.colorDirty);
                        },
                        updateDisplayedColor: function (t) {
                            this._renderCmd._updateDisplayColor(t);
                        },
                        isCascadeColorEnabled: function () {
                            return this._cascadeColorEnabled;
                        },
                        setCascadeColorEnabled: function (t) {
                            this._cascadeColorEnabled !== t &&
                                ((this._cascadeColorEnabled = t), this._renderCmd.setCascadeColorEnabledDirty());
                        },
                        setOpacityModifyRGB: function (t) {},
                        isOpacityModifyRGB: function () {
                            return !1;
                        },
                        _createRenderCmd: function () {
                            return cc._renderType === cc.game.RENDER_TYPE_CANVAS
                                ? new _ccsg.Node.CanvasRenderCmd(this)
                                : new _ccsg.Node.WebGLRenderCmd(this);
                        },
                    })),
                    (_ccsg.Node.extend = cc._Class.extend),
                    (_ccsg.Node.prototype.ctor = _ccsg.Node),
                    (_ccsg.Node.performType = {
                        onEnter: 1,
                        onExit: 2,
                        cleanup: 3,
                        onEnterTransitionDidFinish: 4,
                        onExitTransitionDidStart: 5,
                        max: 6,
                    }),
                    (_ccsg.Node._performStacks = [[]]),
                    (_ccsg.Node._performing = 0);
                n.propertyDefine(
                    _ccsg.Node,
                    [
                        'skewX',
                        'skewY',
                        'vertexZ',
                        'rotation',
                        'rotationX',
                        'rotationY',
                        'scale',
                        'scaleX',
                        'scaleY',
                        'children',
                        'childrenCount',
                        'parent',
                        'scheduler',
                        'shaderProgram',
                        'opacity',
                        'color',
                    ],
                    {
                        x: ['getPositionX', 'setPositionX'],
                        y: ['getPositionY', 'setPositionY'],
                        width: ['_getWidth', '_setWidth'],
                        height: ['_getHeight', '_setHeight'],
                        anchorX: ['_getAnchorX', '_setAnchorX'],
                        anchorY: ['_getAnchorY', '_setAnchorY'],
                        zIndex: ['getLocalZOrder', 'setLocalZOrder'],
                        visible: ['isVisible', 'setVisible'],
                        running: ['isRunning'],
                        ignoreAnchor: ['isIgnoreAnchorPointForPosition', 'setIgnoreAnchorPointForPosition'],
                        opacityModifyRGB: ['isOpacityModifyRGB', 'setOpacityModifyRGB'],
                        cascadeOpacity: ['isCascadeOpacityEnabled', 'setCascadeOpacityEnabled'],
                        cascadeColor: ['isCascadeColorEnabled', 'setCascadeColorEnabled'],
                    },
                );
            },
            {
                '../event-manager': 95,
                '../utils/misc': 185,
            },
        ],
        56: [
            function (t, e, i) {
                function n(t, e) {
                    var i,
                        n,
                        r,
                        s,
                        o,
                        a,
                        c = 1,
                        h = _ccsg.Node._performStacks[_ccsg.Node._performing];
                    h || ((h = []), _ccsg.Node._performStacks.push(h)),
                        (h.length = 0),
                        _ccsg.Node._performing++,
                        (h[0] = t);
                    for (; c; )
                        if ((c--, (r = h[c]), (h[c] = null), r && (i = r._children) && i.length > 0))
                            for (s = r._renderCmd, o = 0, a = i.length; o < a; ++o)
                                (n = i[o]), (h[c] = n), c++, n._renderCmd[e](s);
                    _ccsg.Node._performing--;
                }
                (cc.CustomRenderCmd = function (t, e) {
                    (this._needDraw = !0), (this._target = t), (this._callback = e);
                }),
                    (cc.CustomRenderCmd.prototype.rendering = function (t, e, i) {
                        this._callback && this._callback.call(this._target, t, e, i);
                    });
                var r = (_ccsg.Node._dirtyFlags = {
                    transformDirty: 1,
                    visibleDirty: 2,
                    colorDirty: 4,
                    opacityDirty: 8,
                    cacheDirty: 16,
                    orderDirty: 32,
                    textDirty: 64,
                    gradientDirty: 128,
                    textureDirty: 256,
                    contentDirty: 512,
                    cullingDirty: 1024,
                    COUNT: 9,
                });
                cc.js.get(
                    r,
                    'all',
                    function () {
                        return (1 << r.COUNT) - 1;
                    },
                    !1,
                ),
                    (_ccsg.Node._requestDirtyFlag = function (t) {
                        cc.assertID(!r[t], 1622, t);
                        var e = 1 << r.COUNT;
                        return (r[t] = e), r.COUNT++, e;
                    });
                var s = Math.PI / 180;
                (_ccsg.Node.RenderCmd = function (t) {
                    (this._node = t),
                        (this._anchorPointInPoints = new cc.Vec2(0, 0)),
                        (this._needDraw = !1),
                        (this._dirtyFlag = 1),
                        (this._curLevel = -1),
                        (this._cameraFlag = 0),
                        (this._displayedColor = new cc.Color(255, 255, 255, 255)),
                        (this._displayedOpacity = 255),
                        (this._cascadeColorEnabledDirty = !1),
                        (this._cascadeOpacityEnabledDirty = !1),
                        (this._transform = {
                            a: 1,
                            b: 0,
                            c: 0,
                            d: 1,
                            tx: 0,
                            ty: 0,
                        }),
                        (this._worldTransform = {
                            a: 1,
                            b: 0,
                            c: 0,
                            d: 1,
                            tx: 0,
                            ty: 0,
                        }),
                        (this._inverse = {
                            a: 1,
                            b: 0,
                            c: 0,
                            d: 1,
                            tx: 0,
                            ty: 0,
                        }),
                        (this._transformUpdated = !1),
                        cc.renderer.pushDirtyNode(this);
                }),
                    (_ccsg.Node.RenderCmd.prototype = {
                        constructor: _ccsg.Node.RenderCmd,
                        _ctor: _ccsg.Node.RenderCmd,
                        getAnchorPointInPoints: function () {
                            return cc.p(this._anchorPointInPoints);
                        },
                        getDisplayedColor: function () {
                            var t = this._displayedColor;
                            return cc.color(t.r, t.g, t.b, t.a);
                        },
                        getDisplayedOpacity: function () {
                            return this._displayedOpacity;
                        },
                        setCascadeColorEnabledDirty: function () {
                            (this._cascadeColorEnabledDirty = !0), this.setDirtyFlag(r.colorDirty);
                        },
                        setCascadeOpacityEnabledDirty: function () {
                            (this._cascadeOpacityEnabledDirty = !0), this.setDirtyFlag(r.opacityDirty);
                        },
                        getParentToNodeTransform: function () {
                            return (
                                this._dirtyFlag & r.transformDirty &&
                                    cc.affineTransformInvertOut(this.getNodeToParentTransform(), this._inverse),
                                this._inverse
                            );
                        },
                        detachFromParent: function () {},
                        _updateAnchorPointInPoint: function () {
                            var t = this._anchorPointInPoints,
                                e = this._node._contentSize,
                                i = this._node._anchorPoint;
                            (t.x = e.width * i.x), (t.y = e.height * i.y), this.setDirtyFlag(r.transformDirty);
                        },
                        setDirtyFlag: function (t) {
                            0 === this._dirtyFlag && 0 !== t && cc.renderer.pushDirtyNode(this), (this._dirtyFlag |= t);
                        },
                        getParentRenderCmd: function () {
                            return this._node && this._node._parent && this._node._parent._renderCmd
                                ? this._node._parent._renderCmd
                                : null;
                        },
                        updateTransform: function (t, e) {
                            var i = this._node,
                                n = t ? t._worldTransform : null,
                                r = this._transform,
                                o = this._worldTransform;
                            if (!this._transformUpdated) {
                                var a = i._rotationX || i._rotationY,
                                    c = i._skewX || i._skewY,
                                    h = i._scaleX,
                                    l = i._scaleY,
                                    u = this._anchorPointInPoints.x,
                                    d = this._anchorPointInPoints.y,
                                    _ = 1,
                                    f = 0,
                                    p = 0,
                                    g = 1;
                                if (a || c) {
                                    if (((r.tx = i._position.x), (r.ty = i._position.y), a)) {
                                        var m = i._rotationX * s;
                                        if (((p = Math.sin(m)), (g = Math.cos(m)), i._rotationY === i._rotationX))
                                            (_ = g), (f = -p);
                                        else {
                                            var v = i._rotationY * s;
                                            (_ = Math.cos(v)), (f = -Math.sin(v));
                                        }
                                    }
                                    if (((r.a = _ *= h), (r.b = f *= h), (r.c = p *= l), (r.d = g *= l), c)) {
                                        var y = Math.tan(i._skewX * s),
                                            C = Math.tan(i._skewY * s);
                                        y === 1 / 0 && (y = 99999999),
                                            C === 1 / 0 && (C = 99999999),
                                            (r.a = _ + p * C),
                                            (r.b = f + g * C),
                                            (r.c = p + _ * y),
                                            (r.d = g + f * y);
                                    }
                                    (u || d) &&
                                        ((r.tx -= r.a * u + r.c * d),
                                        (r.ty -= r.b * u + r.d * d),
                                        i._ignoreAnchorPointForPosition && ((r.tx += u), (r.ty += d)));
                                } else
                                    (r.a = h),
                                        (r.b = 0),
                                        (r.c = 0),
                                        (r.d = l),
                                        (r.tx = i._position.x),
                                        (r.ty = i._position.y),
                                        (u || d) &&
                                            ((r.tx -= r.a * u),
                                            (r.ty -= r.d * d),
                                            i._ignoreAnchorPointForPosition && ((r.tx += u), (r.ty += d)));
                            }
                            n
                                ? ((o.a = r.a * n.a + r.b * n.c),
                                  (o.b = r.a * n.b + r.b * n.d),
                                  (o.c = r.c * n.a + r.d * n.c),
                                  (o.d = r.c * n.b + r.d * n.d),
                                  (o.tx = r.tx * n.a + r.ty * n.c + n.tx),
                                  (o.ty = r.tx * n.b + r.ty * n.d + n.ty))
                                : ((o.a = r.a), (o.b = r.b), (o.c = r.c), (o.d = r.d), (o.tx = r.tx), (o.ty = r.ty));
                        },
                        transform: function (t, e) {
                            this.updateTransform(t),
                                this._currentRegion &&
                                    (this._updateCurrentRegions(),
                                    this._notifyRegionStatus &&
                                        this._notifyRegionStatus(_ccsg.Node.CanvasRenderCmd.RegionStatus.DirtyDouble)),
                                cc.macro.ENABLE_CULLING
                                    ? (this._updateCameraFlag(t), this._doCulling && this._doCulling())
                                    : this._doCulling && (this._needDraw = !0),
                                e && n(this._node, 'transform');
                        },
                        _updateCameraFlag: function (t) {
                            var e = cc.Camera;
                            cc._renderType === cc.game.RENDER_TYPE_WEBGL &&
                                e &&
                                t &&
                                this._cameraFlag != e.flags.InCamera &&
                                (this._cameraFlag = t._cameraFlag > 0 ? e.flags.ParentInCamera : 0);
                        },
                        culling: function (t, e) {
                            cc.macro.ENABLE_CULLING
                                ? (this._updateCameraFlag(t),
                                  this._doCulling && this._doCulling(),
                                  e && n(this._node, 'culling'))
                                : this._doCulling && (this._needDraw = !0);
                        },
                        getNodeToParentTransform: function () {
                            return this._dirtyFlag & r.transformDirty && this.transform(), this._transform;
                        },
                        setNodeToParentTransform: function (t) {
                            t ? ((this._transform = t), (this._transformUpdated = !0)) : (this._transformUpdated = !1),
                                this.setDirtyFlag(r.transformDirty);
                        },
                        _propagateFlagsDown: function (t) {
                            if (t) {
                                var e = this._dirtyFlag,
                                    i = t._node,
                                    n = t._dirtyFlag;
                                i._cascadeColorEnabled && n & r.colorDirty && (e |= r.colorDirty),
                                    i._cascadeOpacityEnabled && n & r.opacityDirty && (e |= r.opacityDirty),
                                    n & r.transformDirty && (e |= r.transformDirty),
                                    n & r.cullingDirty && (e |= r.cullingDirty),
                                    (this._dirtyFlag = e);
                            }
                        },
                        visit: function (t) {
                            var e = this._node,
                                i = cc.renderer;
                            t && (this._curLevel = t._curLevel + 1),
                                this._propagateFlagsDown(t),
                                isNaN(e._customZ) && ((e._vertexZ = i.assignedZ), (i.assignedZ += i.assignedZStep)),
                                this._syncStatus(t);
                        },
                        _updateDisplayColor: function (t) {
                            var e,
                                i,
                                n,
                                s,
                                o = this._node,
                                a = this._displayedColor,
                                c = o._realColor;
                            if (
                                (this._notifyRegionStatus &&
                                    this._notifyRegionStatus(_ccsg.Node.CanvasRenderCmd.RegionStatus.Dirty),
                                this._cascadeColorEnabledDirty && !o._cascadeColorEnabled)
                            ) {
                                (a.r = c.r), (a.g = c.g), (a.b = c.b);
                                var h = new cc.Color(255, 255, 255, 255);
                                for (e = 0, i = (n = o._children).length; e < i; e++)
                                    (s = n[e]) && s._renderCmd && s._renderCmd._updateDisplayColor(h);
                                this._cascadeColorEnabledDirty = !1;
                            } else {
                                if (void 0 === t) {
                                    var l = o._parent;
                                    t = l && l._cascadeColorEnabled ? l.getDisplayedColor() : cc.Color.WHITE;
                                }
                                if (
                                    ((a.r = 0 | ((c.r * t.r) / 255)),
                                    (a.g = 0 | ((c.g * t.g) / 255)),
                                    (a.b = 0 | ((c.b * t.b) / 255)),
                                    o._cascadeColorEnabled)
                                )
                                    for (e = 0, i = (n = o._children).length; e < i; e++)
                                        (s = n[e]) &&
                                            s._renderCmd &&
                                            (s._renderCmd._updateDisplayColor(a), s._renderCmd._updateColor());
                            }
                            this._dirtyFlag &= ~r.colorDirty;
                        },
                        _updateDisplayOpacity: function (t) {
                            var e,
                                i,
                                n,
                                s,
                                o = this._node;
                            if (
                                (this._notifyRegionStatus &&
                                    this._notifyRegionStatus(_ccsg.Node.CanvasRenderCmd.RegionStatus.Dirty),
                                this._cascadeOpacityEnabledDirty && !o._cascadeOpacityEnabled)
                            ) {
                                for (
                                    this._displayedOpacity = o._realOpacity, e = 0, i = (n = o._children).length;
                                    e < i;
                                    e++
                                )
                                    (s = n[e]) && s._renderCmd && s._renderCmd._updateDisplayOpacity(255);
                                this._cascadeOpacityEnabledDirty = !1;
                            } else {
                                if (void 0 === t) {
                                    var a = o._parent;
                                    (t = 255), a && a._cascadeOpacityEnabled && (t = a.getDisplayedOpacity());
                                }
                                if (((this._displayedOpacity = (o._realOpacity * t) / 255), o._cascadeOpacityEnabled))
                                    for (e = 0, i = (n = o._children).length; e < i; e++)
                                        (s = n[e]) &&
                                            s._renderCmd &&
                                            (s._renderCmd._updateDisplayOpacity(this._displayedOpacity),
                                            s._renderCmd._updateColor());
                            }
                            this._dirtyFlag &= ~r.opacityDirty;
                        },
                        _syncDisplayColor: function (t) {
                            var e = this._node,
                                i = this._displayedColor,
                                n = e._realColor;
                            if (void 0 === t) {
                                var r = e._parent;
                                t = r && r._cascadeColorEnabled ? r.getDisplayedColor() : cc.Color.WHITE;
                            }
                            (i.r = 0 | ((n.r * t.r) / 255)),
                                (i.g = 0 | ((n.g * t.g) / 255)),
                                (i.b = 0 | ((n.b * t.b) / 255));
                        },
                        _syncDisplayOpacity: function (t) {
                            var e = this._node;
                            if (void 0 === t) {
                                var i = e._parent;
                                (t = 255), i && i._cascadeOpacityEnabled && (t = i.getDisplayedOpacity());
                            }
                            this._displayedOpacity = (e._realOpacity * t) / 255;
                        },
                        _updateColor: function () {},
                        updateStatus: function () {
                            var t = this._dirtyFlag,
                                e = t & r.colorDirty,
                                i = t & r.opacityDirty;
                            if (
                                (t & r.contentDirty &&
                                    (this._notifyRegionStatus &&
                                        this._notifyRegionStatus(_ccsg.Node.CanvasRenderCmd.RegionStatus.Dirty),
                                    (this._dirtyFlag &= ~r.contentDirty)),
                                e && this._updateDisplayColor(),
                                i && this._updateDisplayOpacity(),
                                (e || i) && this._updateColor(),
                                t & r.transformDirty)
                            ) {
                                var n = this.getParentRenderCmd();
                                this.transform(n, !0),
                                    (this._dirtyFlag &= ~r.transformDirty),
                                    (this._dirtyFlag &= ~r.cullingDirty);
                            } else t & r.cullingDirty && (this.culling(n, !0), (this._dirtyFlag &= ~r.cullingDirty));
                        },
                        _syncStatus: function (t) {
                            var e = this._dirtyFlag,
                                i = e & r.colorDirty,
                                n = e & r.opacityDirty;
                            i && this._syncDisplayColor(),
                                n && this._syncDisplayOpacity(),
                                (i || n) && this._updateColor(),
                                e & r.transformDirty ? this.transform(t) : e & r.cullingDirty && this.culling(t);
                        },
                    }),
                    (_ccsg.Node.RenderCmd.prototype.originUpdateTransform =
                        _ccsg.Node.RenderCmd.prototype.updateTransform),
                    (_ccsg.Node.RenderCmd.prototype.originTransform = _ccsg.Node.RenderCmd.prototype.transform),
                    (_ccsg.Node.RenderCmd.prototype.originCulling = _ccsg.Node.RenderCmd.prototype.culling),
                    (_ccsg.Node.RenderCmd.prototype.originUpdateStatus = _ccsg.Node.RenderCmd.prototype.updateStatus),
                    (_ccsg.Node.RenderCmd.prototype._originSyncStatus = _ccsg.Node.RenderCmd.prototype._syncStatus);
            },
            {},
        ],
        57: [
            function (t, e, i) {
                (_ccsg.Node.CanvasRenderCmd = function (t) {
                    this._ctor(t),
                        (this._currentRegion = new cc.Region()),
                        (this._oldRegion = new cc.Region()),
                        (this._regionFlag = 0);
                }),
                    (_ccsg.Node.CanvasRenderCmd.RegionStatus = {
                        NotDirty: 0,
                        Dirty: 1,
                        DirtyDouble: 2,
                    });
                var n = (_ccsg.Node.CanvasRenderCmd.prototype = Object.create(_ccsg.Node.RenderCmd.prototype));
                (n.constructor = _ccsg.Node.CanvasRenderCmd),
                    (n._rootCtor = _ccsg.Node.CanvasRenderCmd),
                    (n._notifyRegionStatus = function (t) {
                        this._needDraw && this._regionFlag < t && (this._regionFlag = t);
                    });
                var r = new cc.Rect();
                (n.getLocalBB = function () {
                    var t = this._node;
                    return (r.x = r.y = 0), (r.width = t._contentSize.width), (r.height = t._contentSize.height), r;
                }),
                    (n._updateCurrentRegions = function () {
                        var t = this._currentRegion;
                        (this._currentRegion = this._oldRegion),
                            (this._oldRegion = t),
                            _ccsg.Node.CanvasRenderCmd.RegionStatus.DirtyDouble !== this._regionFlag ||
                                this._currentRegion.isEmpty() ||
                                this._oldRegion.union(this._currentRegion),
                            this._currentRegion.updateRegion(this.getLocalBB(), this._worldTransform);
                    }),
                    (n.detachFromParent = function () {
                        for (var t, e = this._node._children, i = 0, n = e.length; i < n; i++)
                            (t = e[i]) && t._renderCmd && t._renderCmd.detachFromParent();
                    }),
                    (n.setShaderProgram = function (t) {}),
                    (n.getShaderProgram = function () {
                        return null;
                    }),
                    (_ccsg.Node.CanvasRenderCmd._getCompositeOperationByBlendFunc = function (t) {
                        return t
                            ? (t.src === cc.macro.SRC_ALPHA && t.dst === cc.macro.ONE) ||
                              (t.src === cc.macro.ONE && t.dst === cc.macro.ONE)
                                ? 'lighter'
                                : t.src === cc.macro.ZERO && t.dst === cc.macro.SRC_ALPHA
                                ? 'destination-in'
                                : t.src === cc.macro.ZERO && t.dst === cc.macro.ONE_MINUS_SRC_ALPHA
                                ? 'destination-out'
                                : 'source-over'
                            : 'source-over';
                    });
            },
            {},
        ],
        58: [
            function (t, e, i) {
                _ccsg.Node.WebGLRenderCmd = function (t) {
                    this._ctor(t), (this._shaderProgram = null);
                };
                var n = (_ccsg.Node.WebGLRenderCmd.prototype = Object.create(_ccsg.Node.RenderCmd.prototype));
                (n.constructor = _ccsg.Node.WebGLRenderCmd),
                    (n._rootCtor = _ccsg.Node.WebGLRenderCmd),
                    (n._updateColor = function () {}),
                    (n.setShaderProgram = function (t) {
                        this._shaderProgram = t;
                    }),
                    (n.getShaderProgram = function () {
                        return this._shaderProgram;
                    });
            },
            {},
        ],
        59: [
            function (t, e, i) {
                function n(t) {
                    return t instanceof cc.Scene
                        ? cc.visibleRect
                        : !t._sizeProvider || t._sizeProvider instanceof _ccsg.Node
                        ? t._contentSize
                        : t.getContentSize();
                }

                function r(t, e, i, n) {
                    for (var r = t._parent._scaleX, s = t._parent._scaleY, o = 0, a = 0, c = t._parent; ; ) {
                        var h = c._position;
                        if (((o += h.x), (a += h.y), !(c = c._parent))) return (i.x = i.y = 0), void (n.x = n.y = 1);
                        if (c === e) break;
                        var l = c._scaleX,
                            u = c._scaleY;
                        (o *= l), (a *= u), (r *= l), (s *= u);
                    }
                    (n.x = 0 !== r ? 1 / r : 1), (n.y = 0 !== s ? 1 / s : 1), (i.x = -o), (i.y = -a);
                }

                function s(t, e) {
                    var i,
                        s,
                        o,
                        a = e._target;
                    a ? r(t, (i = a), (s = u), (o = d)) : (i = t._parent);
                    var c = n(i),
                        _ = i._anchorPoint,
                        f = i instanceof cc.Scene,
                        p = t._position.x,
                        g = t._position.y,
                        m = t._anchorPoint;
                    if (e._alignFlags & h) {
                        var v,
                            y,
                            C = c.width;
                        f ? ((v = cc.visibleRect.left.x), (y = cc.visibleRect.right.x)) : (y = (v = -_.x * C) + C),
                            (v += e._isAbsLeft ? e._left : e._left * C),
                            (y -= e._isAbsRight ? e._right : e._right * C),
                            a && ((v += s.x), (v *= o.x), (y += s.x), (y *= o.x));
                        var T,
                            E = m.x,
                            x = t._scaleX;
                        if ((x < 0 && ((E = 1 - E), (x = -x)), e.isStretchWidth))
                            (T = y - v), 0 !== x && (t.width = T / x), (p = v + E * T);
                        else if (((T = t.width * x), e.isAlignHorizontalCenter)) {
                            var S = e._isAbsHorizontalCenter ? e._horizontalCenter : e._horizontalCenter * C,
                                b = (0.5 - _.x) * c.width;
                            a && ((S *= o.x), (b += s.x), (b *= o.x)), (p = b + (E - 0.5) * T + S);
                        } else p = e.isAlignLeft ? v + E * T : y + (E - 1) * T;
                    }
                    if (e._alignFlags & l) {
                        var A,
                            R,
                            w = c.height;
                        f ? ((R = cc.visibleRect.bottom.y), (A = cc.visibleRect.top.y)) : (A = (R = -_.y * w) + w),
                            (R += e._isAbsBottom ? e._bottom : e._bottom * w),
                            (A -= e._isAbsTop ? e._top : e._top * w),
                            a && ((R += s.y), (R *= o.y), (A += s.y), (A *= o.y));
                        var I,
                            O = m.y,
                            L = t._scaleY;
                        if ((L < 0 && ((O = 1 - O), (L = -L)), e.isStretchHeight))
                            (I = A - R), 0 !== L && (t.height = I / L), (g = R + O * I);
                        else if (((I = t.height * L), e.isAlignVerticalCenter)) {
                            var P = e._isAbsVerticalCenter ? e._verticalCenter : e._verticalCenter * w,
                                D = (0.5 - _.y) * c.height;
                            a && ((P *= o.y), (D += s.y), (D *= o.y)), (g = D + (O - 0.5) * I + P);
                        } else g = e.isAlignBottom ? R + O * I : A + (O - 1) * I;
                    }
                    t.setPosition(p, g);
                }

                function o(t) {
                    var e = t._widget;
                    if (e) {
                        s(t, e), e.isAlignOnce ? (e.enabled = !1) : _.push(e);
                    }
                    for (var i = t._children, n = 0; n < i.length; n++) {
                        var r = i[n];
                        r._active && o(r);
                    }
                }

                function a() {
                    var t = cc.director.getScene();
                    if (t) {
                        if (((f.isAligning = !0), f._nodesOrderDirty)) (_.length = 0), o(t), (f._nodesOrderDirty = !1);
                        else {
                            var e,
                                i = f._activeWidgetsIterator;
                            for (i.i = 0; i.i < _.length; ++i.i) s((e = _[i.i]).node, e);
                        }
                        f.isAligning = !1;
                    }
                }

                function c(t) {
                    var e = t._parent;
                    cc.Node.isNode(e) && c(e);
                    var i = t._widget || t.getComponent(cc.Widget);
                    i && s(t, i);
                }
                var h = 56,
                    l = 7,
                    u = cc.Vec2.ZERO,
                    d = cc.Vec2.ONE,
                    _ = [],
                    f =
                        (cc._widgetManager =
                        e.exports =
                            {
                                _AlignFlags: {
                                    TOP: 1,
                                    MID: 2,
                                    BOT: 4,
                                    LEFT: 8,
                                    CENTER: 16,
                                    RIGHT: 32,
                                },
                                isAligning: !1,
                                _nodesOrderDirty: !1,
                                _activeWidgetsIterator: new cc.js.array.MutableForwardIterator(_),
                                init: function (t) {
                                    t.on(cc.Director.EVENT_BEFORE_VISIT, a);
                                },
                                add: function (t) {
                                    (t.node._widget = t), (this._nodesOrderDirty = !0);
                                },
                                remove: function (t) {
                                    (t.node._widget = null), this._activeWidgetsIterator.remove(t);
                                },
                                updateAlignment: c,
                            });
            },
            {},
        ],
        60: [
            function (t, e, i) {
                function n(t, e) {
                    for (
                        var i = e.constructor._executionOrder, n = e.__instanceId, r = 0, s = t.length - 1, o = s >>> 1;
                        r <= s;
                        o = (r + s) >>> 1
                    ) {
                        var a = t[o],
                            c = a.constructor._executionOrder;
                        if (c > i) s = o - 1;
                        else if (c < i) r = o + 1;
                        else {
                            var h = a.__instanceId;
                            if (h > n) s = o - 1;
                            else {
                                if (!(h < n)) return o;
                                r = o + 1;
                            }
                        }
                    }
                    return ~r;
                }

                function r(t, e) {
                    for (var i = t.array, n = t.i + 1; n < i.length; ) {
                        var r = i[n];
                        r._enabled && r.node._activeInHierarchy ? ++n : (t.removeAt(n), e && (r._objFlags &= ~e));
                    }
                }

                function s(t, e) {
                    return t.constructor._executionOrder - e.constructor._executionOrder;
                }

                function o(t, e) {
                    if ('function' == typeof t)
                        return e
                            ? function (e, i) {
                                  var n = e.array;
                                  for (e.i = 0; e.i < n.length; ++e.i) {
                                      var r = n[e.i];
                                      t(r, i);
                                  }
                              }
                            : function (e) {
                                  var i = e.array;
                                  for (e.i = 0; e.i < i.length; ++e.i) {
                                      var n = i[e.i];
                                      t(n);
                                  }
                              };
                    var i = 'var a=it.array;for(it.i=0;it.i<a.length;++it.i){var c=a[it.i];' + t + '}';
                    return e ? Function('it', 'dt', i) : Function('it', i);
                }

                function a() {
                    (this.startInvoker = new g(o(d))),
                        (this.updateInvoker = new m(o(_, !0))),
                        (this.lateUpdateInvoker = new m(o(f, !0))),
                        (this.scheduleInNextFrame = []),
                        (this._updating = !1);
                }
                t('./platform/CCClass');
                var c = t('./platform/CCObject').Flags,
                    h = t('./platform/js').array,
                    l = c.IsStartCalled,
                    u = c.IsOnEnableCalled,
                    d = (c.IsEditorOnEnableCalled, 'c.start();c._objFlags|=' + l),
                    _ = 'c.update(dt)',
                    f = 'c.lateUpdate(dt)',
                    p = cc.Class({
                        __ctor__: function (t) {
                            var e = h.MutableForwardIterator;
                            (this._zero = new e([])),
                                (this._neg = new e([])),
                                (this._pos = new e([])),
                                (this._invoke = t);
                        },
                        statics: {
                            stableRemoveInactive: r,
                        },
                        add: null,
                        remove: null,
                        invoke: null,
                    }),
                    g = cc.Class({
                        extends: p,
                        add: function (t) {
                            var e = t.constructor._executionOrder;
                            (0 === e ? this._zero : e < 0 ? this._neg : this._pos).array.push(t);
                        },
                        remove: function (t) {
                            var e = t.constructor._executionOrder;
                            (0 === e ? this._zero : e < 0 ? this._neg : this._pos).fastRemove(t);
                        },
                        cancelInactive: function (t) {
                            r(this._zero, t), r(this._neg, t), r(this._pos, t);
                        },
                        invoke: function () {
                            var t = this._neg;
                            t.array.length > 0 && (t.array.sort(s), this._invoke(t), (t.array.length = 0)),
                                this._invoke(this._zero),
                                (this._zero.array.length = 0);
                            var e = this._pos;
                            e.array.length > 0 && (e.array.sort(s), this._invoke(e), (e.array.length = 0));
                        },
                    }),
                    m = cc.Class({
                        extends: p,
                        add: function (t) {
                            var e = t.constructor._executionOrder;
                            if (0 === e) this._zero.array.push(t);
                            else {
                                var i = e < 0 ? this._neg.array : this._pos.array,
                                    r = n(i, t);
                                r < 0 && i.splice(~r, 0, t);
                            }
                        },
                        remove: function (t) {
                            var e = t.constructor._executionOrder;
                            if (0 === e) this._zero.fastRemove(t);
                            else {
                                var i = e < 0 ? this._neg : this._pos,
                                    r = n(i.array, t);
                                r >= 0 && i.removeAt(r);
                            }
                        },
                        invoke: function (t) {
                            this._neg.array.length > 0 && this._invoke(this._neg, t),
                                this._invoke(this._zero, t),
                                this._pos.array.length > 0 && this._invoke(this._pos, t);
                        },
                    }),
                    v = cc.Class({
                        ctor: a,
                        unscheduleAll: a,
                        statics: {
                            LifeCycleInvoker: p,
                            OneOffInvoker: g,
                            createInvokeImpl: o,
                            invokeOnEnable: function (t) {
                                var e = cc.director._compScheduler,
                                    i = t.array;
                                for (t.i = 0; t.i < i.length; ++t.i) {
                                    var n = i[t.i];
                                    if (n._enabled) {
                                        n.onEnable();
                                        !n.node._activeInHierarchy || e._onEnabled(n);
                                    }
                                }
                            },
                        },
                        _onEnabled: function (t) {
                            cc.director.getScheduler().resumeTarget(t),
                                (t._objFlags |= u),
                                this._updating ? this.scheduleInNextFrame.push(t) : this._scheduleImmediate(t);
                        },
                        _onDisabled: function (t) {
                            cc.director.getScheduler().pauseTarget(t), (t._objFlags &= ~u);
                            var e = this.scheduleInNextFrame.indexOf(t);
                            e >= 0
                                ? h.fastRemoveAt(this.scheduleInNextFrame, e)
                                : (!t.start || t._objFlags & l || this.startInvoker.remove(t),
                                  t.update && this.updateInvoker.remove(t),
                                  t.lateUpdate && this.lateUpdateInvoker.remove(t));
                        },
                        enableComp: function (t, e) {
                            if (!(t._objFlags & u)) {
                                if (t.onEnable) {
                                    if (e) return void e.add(t);
                                    t.onEnable();
                                    if (!t.node._activeInHierarchy) return;
                                }
                                this._onEnabled(t);
                            }
                        },
                        disableComp: function (t) {
                            t._objFlags & u && (t.onDisable && t.onDisable(), this._onDisabled(t));
                        },
                        _scheduleImmediate: function (t) {
                            !t.start || t._objFlags & l || this.startInvoker.add(t),
                                t.update && this.updateInvoker.add(t),
                                t.lateUpdate && this.lateUpdateInvoker.add(t);
                        },
                        _deferredSchedule: function () {
                            for (var t = this.scheduleInNextFrame, e = 0, i = t.length; e < i; e++) {
                                var n = t[e];
                                this._scheduleImmediate(n);
                            }
                            t.length = 0;
                        },
                        startPhase: function () {
                            (this._updating = !0),
                                this.scheduleInNextFrame.length > 0 && this._deferredSchedule(),
                                this.startInvoker.invoke();
                        },
                        updatePhase: function (t) {
                            this.updateInvoker.invoke(t);
                        },
                        lateUpdatePhase: function (t) {
                            this.lateUpdateInvoker.invoke(t), (this._updating = !1);
                        },
                    });
                e.exports = v;
            },
            {
                './platform/CCClass': 135,
                './platform/CCObject': 141,
                './platform/js': 156,
                './utils/misc': 185,
            },
        ],
        61: [
            function (t, e, i) {
                function n(t, e) {
                    return t === e || (t && e && (t.name === e.name || t._uuid === e._uuid));
                }
                var r = t('../../animation/animation-animator'),
                    s = t('../../animation/animation-clip'),
                    o = cc.Class({
                        name: 'cc.Animation',
                        extends: t('./CCComponent'),
                        mixins: [cc.EventTarget],
                        editor: !1,
                        ctor: function () {
                            cc.EventTarget.call(this),
                                (this._animator = null),
                                (this._nameToState = {}),
                                (this._didInit = !1),
                                (this._currentClip = null);
                        },
                        properties: {
                            _defaultClip: {
                                default: null,
                                type: s,
                            },
                            defaultClip: {
                                type: s,
                                get: function () {
                                    return this._defaultClip;
                                },
                                set: function (t) {
                                    return void 0;
                                },
                                tooltip: !1,
                            },
                            currentClip: {
                                get: function () {
                                    return this._currentClip;
                                },
                                set: function (t) {
                                    this._currentClip = t;
                                },
                                type: s,
                                visible: !1,
                            },
                            _clips: {
                                default: [],
                                type: [s],
                                tooltip: !1,
                                visible: !0,
                            },
                            playOnLoad: {
                                default: !1,
                                tooltip: !1,
                            },
                        },
                        start: function () {
                            if (this.playOnLoad && this._defaultClip) {
                                if (!(this._animator && this._animator.isPlaying)) {
                                    var t = this.getAnimationState(this._defaultClip.name);
                                    this._animator.playState(t);
                                }
                            }
                        },
                        onEnable: function () {
                            this._animator && this._animator.resume();
                        },
                        onDisable: function () {
                            this._animator && this._animator.pause();
                        },
                        onDestroy: function () {
                            this.stop();
                        },
                        getClips: function () {
                            return this._clips;
                        },
                        play: function (t, e) {
                            var i = this.playAdditive(t, e);
                            return this._animator.stopStatesExcept(i), i;
                        },
                        playAdditive: function (t, e) {
                            this._init();
                            var i = this.getAnimationState(t || (this._defaultClip && this._defaultClip.name));
                            if (i) {
                                this.enabled = !0;
                                var n = this._animator;
                                n.isPlaying && i.isPlaying
                                    ? i.isPaused
                                        ? n.resumeState(i)
                                        : (n.stopState(i), n.playState(i, e))
                                    : n.playState(i, e),
                                    (this.currentClip = i.clip);
                            }
                            return i;
                        },
                        stop: function (t) {
                            if (this._didInit)
                                if (t) {
                                    var e = this._nameToState[t];
                                    e && this._animator.stopState(e);
                                } else this._animator.stop();
                        },
                        pause: function (t) {
                            if (this._didInit)
                                if (t) {
                                    var e = this._nameToState[t];
                                    e && this._animator.pauseState(e);
                                } else this.enabled = !1;
                        },
                        resume: function (t) {
                            if (this._didInit)
                                if (t) {
                                    var e = this._nameToState[t];
                                    e && this._animator.resumeState(e);
                                } else this.enabled = !0;
                        },
                        setCurrentTime: function (t, e) {
                            if ((this._init(), e)) {
                                var i = this._nameToState[e];
                                i && this._animator.setStateTime(i, t);
                            } else this._animator.setStateTime(t);
                        },
                        getAnimationState: function (t) {
                            this._init();
                            var e = this._nameToState[t];
                            return e && !e.curveLoaded && this._animator._reloadClip(e), e || null;
                        },
                        addClip: function (t, e) {
                            if (t) {
                                this._init(),
                                    cc.js.array.contains(this._clips, t) || this._clips.push(t),
                                    (e = e || t.name);
                                var i = this._nameToState[e];
                                if (i) {
                                    if (i.clip === t) return i;
                                    var n = this._clips.indexOf(i.clip);
                                    -1 !== n && this._clips.splice(n, 1);
                                }
                                var r = new cc.AnimationState(t, e);
                                return (this._nameToState[e] = r), r;
                            }
                            cc.warnID(3900);
                        },
                        removeClip: function (t, e) {
                            if (t) {
                                this._init();
                                var i;
                                for (var n in this._nameToState) {
                                    if ((i = this._nameToState[n]).clip === t) break;
                                }
                                if (t === this._defaultClip) {
                                    if (!e) return void cc.warnID(3902);
                                    this._defaultClip = null;
                                }
                                if (i && i.isPlaying) {
                                    if (!e) return void cc.warnID(3903);
                                    this.stop(i.name);
                                }
                                (this._clips = this._clips.filter(function (e) {
                                    return e !== t;
                                })),
                                    i && delete this._nameToState[i.name];
                            } else cc.warnID(3901);
                        },
                        sample: function (t) {
                            if ((this._init(), t)) {
                                var e = this._nameToState[t];
                                e && e.sample();
                            } else this._animator.sample();
                        },
                        on: function (t, e, i, n) {
                            this._init();
                            for (
                                var r = cc.EventTarget.prototype.on.call(this, t, e, i, n),
                                    s = this._animator._anims.array,
                                    o = 0;
                                o < s.length;
                                ++o
                            )
                                s[o]._setListeners(this);
                            return r;
                        },
                        off: function (t, e, i, n) {
                            this._init(), cc.EventTarget.prototype.off.call(this, t, e, i, n);
                            var r = this._nameToState;
                            for (var s in r) {
                                r[s]._setListeners(null);
                            }
                        },
                        _init: function () {
                            this._didInit ||
                                ((this._didInit = !0), (this._animator = new r(this.node, this)), this._createStates());
                        },
                        _createStates: function () {
                            this._nameToState = {};
                            for (var t = null, e = !1, i = 0; i < this._clips.length; ++i) {
                                var r = this._clips[i];
                                r &&
                                    ((t = new cc.AnimationState(r)),
                                    (this._nameToState[t.name] = t),
                                    n(this._defaultClip, r) && (e = t));
                            }
                            this._defaultClip &&
                                !e &&
                                ((t = new cc.AnimationState(this._defaultClip)), (this._nameToState[t.name] = t));
                        },
                    });
                cc.Animation = e.exports = o;
            },
            {
                '../../animation/animation-animator': 11,
                '../../animation/animation-clip': 12,
                './CCComponent': 66,
            },
        ],
        62: [
            function (t, e, i) {
                var n = cc.Class({
                    name: 'cc.AudioSource',
                    extends: t('./CCComponent'),
                    editor: !1,
                    ctor: function () {
                        this.audio = new cc.Audio();
                    },
                    properties: {
                        _clip: {
                            default: '',
                            url: cc.AudioClip,
                        },
                        _volume: 1,
                        _mute: !1,
                        _loop: !1,
                        _pausedFlag: {
                            default: !1,
                            serializable: !1,
                        },
                        isPlaying: {
                            get: function () {
                                if (!this.audio) return !1;
                                return this.audio.getState() === cc.Audio.State.PLAYING;
                            },
                            visible: !1,
                        },
                        clip: {
                            get: function () {
                                return this._clip;
                            },
                            set: function (t) {
                                t !== this._clip &&
                                    ((this._clip = t),
                                    this.audio.stop(),
                                    (this.audio.src = this._clip),
                                    this.audio.preload && this.audio.preload());
                            },
                            url: cc.AudioClip,
                            tooltip: !1,
                            animatable: !1,
                        },
                        volume: {
                            get: function () {
                                return this._volume;
                            },
                            set: function (t) {
                                (t = cc.clamp01(t)), (this._volume = t);
                                var e = this.audio;
                                return (
                                    e &&
                                        !this._mute &&
                                        (e.setVolume(t),
                                        e._loaded ||
                                            e.on('load', function () {
                                                e.setVolume(t);
                                            })),
                                    t
                                );
                            },
                            tooltip: !1,
                        },
                        mute: {
                            get: function () {
                                return this._mute;
                            },
                            set: function (t) {
                                return (this._mute = t), this.audio && this.audio.setVolume(t ? 0 : this._volume), t;
                            },
                            animatable: !1,
                            tooltip: !1,
                        },
                        loop: {
                            get: function () {
                                return this._loop;
                            },
                            set: function (t) {
                                return (this._loop = t), this.audio && this.audio.setLoop(t), t;
                            },
                            animatable: !1,
                            tooltip: !1,
                        },
                        playOnLoad: {
                            default: !1,
                            tooltip: !1,
                            animatable: !1,
                        },
                        preload: {
                            default: !1,
                            animatable: !1,
                        },
                    },
                    _pausedCallback: function () {
                        var t = this.audio;
                        t && !t.paused && (this.audio.pause(), (this._pausedFlag = !0));
                    },
                    _restoreCallback: function () {
                        this.audio && (this._pausedFlag && this.audio.resume(), (this._pausedFlag = !1));
                    },
                    onEnable: function () {
                        this.playOnLoad
                            ? this.play()
                            : this.preload && ((this.audio.src = this._clip), this.audio.preload()),
                            cc.game.on(cc.game.EVENT_HIDE, this._pausedCallback, this),
                            cc.game.on(cc.game.EVENT_SHOW, this._restoreCallback, this);
                    },
                    onDisable: function () {
                        this.stop(),
                            cc.game.off(cc.game.EVENT_HIDE, this._pausedCallback, this),
                            cc.game.off(cc.game.EVENT_SHOW, this._restoreCallback, this);
                    },
                    onDestroy: function () {
                        this.stop(), this.audio.destroy(), cc.audioEngine.uncache(this._clip);
                    },
                    play: function () {
                        if (this._clip) {
                            var t = this._mute ? 0 : this._volume,
                                e = this.audio,
                                i = this._loop;
                            if (e._loaded) return e.stop(), e.setCurrentTime(0), void e.play();
                            (e.src = this._clip),
                                e.once('load', function () {
                                    e.setLoop(i), e.setVolume(t), e.play();
                                }),
                                e.preload();
                        }
                    },
                    stop: function () {
                        this.audio && this.audio.stop();
                    },
                    pause: function () {
                        this.audio && this.audio.pause();
                    },
                    resume: function () {
                        this.audio && this.audio.resume();
                    },
                    rewind: function () {
                        this.audio && this.audio.setCurrentTime(0);
                    },
                    getCurrentTime: function () {
                        var t = 0;
                        return this.audio && (t = this.audio.getCurrentTime()), t;
                    },
                    setCurrentTime: function (t) {
                        var e = this.audio;
                        return e
                            ? e._loaded
                                ? (e.setCurrentTime(t), t)
                                : (e.once('load', function () {
                                      e.setCurrentTime(t);
                                  }),
                                  t)
                            : t;
                    },
                    getDuration: function () {
                        var t = 0;
                        return this.audio && (t = this.audio.getDuration()), t;
                    },
                });
                cc.AudioSource = e.exports = n;
            },
            {
                './CCComponent': 66,
            },
        ],
        63: [
            function (t, e, i) {
                function n(t) {
                    t.stopPropagation();
                }
                var r = [
                        'touchstart',
                        'touchmove',
                        'touchend',
                        'mousedown',
                        'mousemove',
                        'mouseup',
                        'mouseenter',
                        'mouseleave',
                        'mousewheel',
                    ],
                    s = cc.Class({
                        name: 'cc.BlockInputEvents',
                        extends: t('./CCComponent'),
                        editor: {
                            menu: 'i18n:MAIN_MENU.component.ui/Block Input Events',
                            inspector: 'packages://inspector/inspectors/comps/block-input-events.js',
                            help: 'i18n:COMPONENT.help_url.block-input-events',
                        },
                        onEnable: function () {
                            for (var t = 0; t < r.length; t++) this.node.on(r[t], n, this);
                        },
                        onDisable: function () {
                            for (var t = 0; t < r.length; t++) this.node.off(r[t], n, this);
                        },
                    });
                cc.BlockInputEvents = e.exports = s;
            },
            {
                './CCComponent': 66,
            },
        ],
        64: [
            function (t, e, i) {
                var n = cc.Enum({
                        NONE: 0,
                        COLOR: 1,
                        SPRITE: 2,
                        SCALE: 3,
                    }),
                    r = cc.Class({
                        name: 'cc.Button',
                        extends: t('./CCComponent'),
                        ctor: function () {
                            this._resetState(),
                                (this._fromColor = null),
                                (this._toColor = null),
                                (this._time = 0),
                                (this._transitionFinished = !0),
                                (this._fromScale = 1),
                                (this._toScale = 1),
                                (this._originalScale = 1),
                                (this._sprite = null);
                        },
                        _resetState: function () {
                            (this._pressed = !1), (this._hovered = !1);
                        },
                        editor: !1,
                        properties: {
                            interactable: {
                                default: !0,
                                tooltip: !1,
                                notify: function (t) {
                                    this._updateState(), this.interactable || this._resetState();
                                },
                                animatable: !1,
                            },
                            _resizeToTarget: {
                                animatable: !1,
                                set: function (t) {
                                    t && this._resizeNodeToTargetNode();
                                },
                            },
                            enableAutoGrayEffect: {
                                default: !1,
                                tooltip: !1,
                                notify: function () {
                                    this._updateDisabledState();
                                },
                            },
                            transition: {
                                default: n.NONE,
                                tooltip: !1,
                                type: n,
                                animatable: !1,
                            },
                            normalColor: {
                                default: cc.color(214, 214, 214),
                                displayName: 'Normal',
                                tooltip: !1,
                                notify: function () {
                                    this._updateState();
                                },
                            },
                            pressedColor: {
                                default: cc.color(211, 211, 211),
                                displayName: 'Pressed',
                                tooltip: !1,
                            },
                            hoverColor: {
                                default: cc.Color.WHITE,
                                displayName: 'Hover',
                                tooltip: !1,
                            },
                            disabledColor: {
                                default: cc.color(124, 124, 124),
                                displayName: 'Disabled',
                                tooltip: !1,
                                notify: function () {
                                    this._updateState();
                                },
                            },
                            duration: {
                                default: 0.1,
                                range: [0, 10],
                                tooltip: !1,
                            },
                            zoomScale: {
                                default: 1.2,
                                tooltip: !1,
                            },
                            normalSprite: {
                                default: null,
                                type: cc.SpriteFrame,
                                displayName: 'Normal',
                                tooltip: !1,
                                notify: function () {
                                    this._updateState();
                                },
                            },
                            pressedSprite: {
                                default: null,
                                type: cc.SpriteFrame,
                                displayName: 'Pressed',
                                tooltip: !1,
                                formerlySerializedAs: 'pressedSprite',
                                notify: function () {
                                    this._updateState();
                                },
                            },
                            hoverSprite: {
                                default: null,
                                type: cc.SpriteFrame,
                                displayName: 'Hover',
                                tooltip: !1,
                                formerlySerializedAs: 'hoverSprite',
                                notify: function () {
                                    this._updateState();
                                },
                            },
                            disabledSprite: {
                                default: null,
                                type: cc.SpriteFrame,
                                displayName: 'Disabled',
                                tooltip: !1,
                                notify: function () {
                                    this._updateState();
                                },
                            },
                            target: {
                                default: null,
                                type: cc.Node,
                                tooltip: !1,
                                notify: function () {
                                    this._applyTarget();
                                },
                            },
                            clickEvents: {
                                default: [],
                                type: cc.Component.EventHandler,
                                tooltip: !1,
                            },
                        },
                        statics: {
                            Transition: n,
                        },
                        __preload: function () {
                            this.target || (this.target = this.node), this._applyTarget(), this._updateState();
                        },
                        onEnable: function () {
                            this.normalSprite && this.normalSprite.ensureLoadTexture(),
                                this.hoverSprite && this.hoverSprite.ensureLoadTexture(),
                                this.pressedSprite && this.pressedSprite.ensureLoadTexture(),
                                this.disabledSprite && this.disabledSprite.ensureLoadTexture(),
                                this._registerEvent();
                        },
                        update: function (t) {
                            var e = this.target;
                            if (
                                !this._transitionFinished &&
                                (this.transition === n.COLOR || this.transition === n.SCALE)
                            ) {
                                this.time += t;
                                var i = 1;
                                this.duration > 0 && (i = this.time / this.duration),
                                    i >= 1 && ((i = 1), (this._transitionFinished = !0)),
                                    this.transition === n.COLOR
                                        ? (e.color = this._fromColor.lerp(this._toColor, i))
                                        : this.transition === n.SCALE &&
                                          (e.scale = cc.lerp(this._fromScale, this._toScale, i));
                            }
                        },
                        _registerEvent: function () {
                            this.node.on(cc.Node.EventType.TOUCH_START, this._onTouchBegan, this),
                                this.node.on(cc.Node.EventType.TOUCH_MOVE, this._onTouchMove, this),
                                this.node.on(cc.Node.EventType.TOUCH_END, this._onTouchEnded, this),
                                this.node.on(cc.Node.EventType.TOUCH_CANCEL, this._onTouchCancel, this),
                                this.node.on(cc.Node.EventType.MOUSE_ENTER, this._onMouseMoveIn, this),
                                this.node.on(cc.Node.EventType.MOUSE_LEAVE, this._onMouseMoveOut, this);
                        },
                        _getTargetSprite: function (t) {
                            var e = null;
                            return t && (e = t.getComponent(cc.Sprite)), e;
                        },
                        _applyTarget: function () {
                            (this._sprite = this._getTargetSprite(this.target)),
                                this.target && (this._originalScale = this.target.scale);
                        },
                        _onTouchBegan: function (t) {
                            this.interactable &&
                                this.enabledInHierarchy &&
                                ((this._pressed = !0), this._updateState(), t.stopPropagation());
                        },
                        _onTouchMove: function (t) {
                            if (this.interactable && this.enabledInHierarchy && this._pressed) {
                                var e = t.touch,
                                    i = this.node._hitTest(e.getLocation());
                                if (this.transition === n.SCALE && this.target)
                                    i
                                        ? ((this._fromScale = this._originalScale),
                                          (this._toScale = this._originalScale * this.zoomScale),
                                          (this._transitionFinished = !1))
                                        : ((this.time = 0),
                                          (this._transitionFinished = !0),
                                          (this.target.scale = this._originalScale));
                                else {
                                    var r;
                                    (r = i ? 'pressed' : 'normal'), this._applyTransition(r);
                                }
                                t.stopPropagation();
                            }
                        },
                        _onTouchEnded: function (t) {
                            this.interactable &&
                                this.enabledInHierarchy &&
                                (this._pressed &&
                                    (cc.Component.EventHandler.emitEvents(this.clickEvents, t),
                                    this.node.emit('click', this)),
                                (this._pressed = !1),
                                this._updateState(),
                                t.stopPropagation());
                        },
                        _zoomUp: function () {
                            (this._fromScale = this._originalScale),
                                (this._toScale = this._originalScale * this.zoomScale),
                                (this.time = 0),
                                (this._transitionFinished = !1);
                        },
                        _zoomBack: function () {
                            (this._fromScale = this.target.scale),
                                (this._toScale = this._originalScale),
                                (this.time = 0),
                                (this._transitionFinished = !1);
                        },
                        _onTouchCancel: function () {
                            this.interactable && this.enabledInHierarchy && ((this._pressed = !1), this._updateState());
                        },
                        _onMouseMoveIn: function () {
                            !this._pressed &&
                                this.interactable &&
                                this.enabledInHierarchy &&
                                (this.transition !== n.SPRITE || this.hoverSprite) &&
                                (this._hovered || ((this._hovered = !0), this._updateState()));
                        },
                        _onMouseMoveOut: function () {
                            this._hovered && ((this._hovered = !1), this._updateState());
                        },
                        _updateState: function () {
                            var t = this._getButtonState();
                            this._applyTransition(t), this._updateDisabledState();
                        },
                        onDisable: function () {
                            (this._hovered = !1),
                                (this._pressed = !1),
                                this.node.off(cc.Node.EventType.TOUCH_START, this._onTouchBegan, this),
                                this.node.off(cc.Node.EventType.TOUCH_MOVE, this._onTouchMove, this),
                                this.node.off(cc.Node.EventType.TOUCH_END, this._onTouchEnded, this),
                                this.node.off(cc.Node.EventType.TOUCH_CANCEL, this._onTouchCancel, this),
                                this.node.off(cc.Node.EventType.MOUSE_ENTER, this._onMouseMoveIn, this),
                                this.node.off(cc.Node.EventType.MOUSE_LEAVE, this._onMouseMoveOut, this);
                        },
                        _getButtonState: function () {
                            return this.interactable
                                ? this._pressed
                                    ? 'pressed'
                                    : this._hovered
                                    ? 'hover'
                                    : 'normal'
                                : 'disabled';
                        },
                        _updateColorTransition: function (t) {
                            var e = this[t + 'Color'],
                                i = this.target;
                            (this._fromColor = i.color.clone()),
                                (this._toColor = e),
                                (this.time = 0),
                                (this._transitionFinished = !1);
                        },
                        _updateSpriteTransition: function (t) {
                            var e = this[t + 'Sprite'];
                            this._sprite && e && (this._sprite.spriteFrame = e);
                        },
                        _updateScaleTransition: function (t) {
                            'pressed' === t ? this._zoomUp() : this._zoomBack();
                        },
                        _applyTransition: function (t) {
                            var e = this.transition;
                            e === n.COLOR
                                ? this._updateColorTransition(t)
                                : e === n.SPRITE
                                ? this._updateSpriteTransition(t)
                                : e === n.SCALE && this._updateScaleTransition(t);
                        },
                        _resizeNodeToTargetNode: !1,
                        _updateDisabledState: function () {
                            this._sprite && this._sprite._sgNode.setState(0),
                                this.enableAutoGrayEffect &&
                                    this.transition !== n.COLOR &&
                                    ((this.transition === n.SPRITE && this.disabledSprite) ||
                                        (this._sprite && !this.interactable && this._sprite._sgNode.setState(1)));
                        },
                    });
                cc.Button = e.exports = r;
            },
            {
                './CCComponent': 66,
            },
        ],
        65: [
            function (t, e, i) {
                var n = t('../event-manager'),
                    r = {
                        getContentSize: function () {
                            return cc.visibleRect;
                        },
                        setContentSize: function (t) {},
                        _getWidth: function () {
                            return this.getContentSize().width;
                        },
                        _getHeight: function () {
                            return this.getContentSize().height;
                        },
                    },
                    s = cc.Class({
                        name: 'cc.Canvas',
                        extends: t('./CCComponent'),
                        editor: !1,
                        resetInEditor: !1,
                        statics: {
                            instance: null,
                        },
                        properties: {
                            _designResolution: cc.size(960, 640),
                            designResolution: {
                                get: function () {
                                    return cc.size(this._designResolution);
                                },
                                set: function (t) {
                                    (this._designResolution.width = t.width),
                                        (this._designResolution.height = t.height),
                                        this.applySettings();
                                },
                                tooltip: !1,
                            },
                            _fitWidth: !1,
                            _fitHeight: !0,
                            fitHeight: {
                                get: function () {
                                    return this._fitHeight;
                                },
                                set: function (t) {
                                    this._fitHeight !== t && ((this._fitHeight = t), this.applySettings());
                                },
                                tooltip: !1,
                            },
                            fitWidth: {
                                get: function () {
                                    return this._fitWidth;
                                },
                                set: function (t) {
                                    this._fitWidth !== t && ((this._fitWidth = t), this.applySettings());
                                },
                                tooltip: !1,
                            },
                        },
                        ctor: function () {
                            this._thisOnResized = this.onResized.bind(this);
                        },
                        __preload: function () {
                            if (s.instance) return cc.errorID(6700, this.node.name, s.instance.node.name);
                            if (((s.instance = this), this.node._sizeProvider)) {
                            } else this.node._sizeProvider = r;
                            cc.director.on(cc.Director.EVENT_BEFORE_VISIT, this.alignWithScreen, this),
                                cc.sys.isMobile
                                    ? window.addEventListener('resize', this._thisOnResized)
                                    : n.addCustomListener('canvas-resize', this._thisOnResized),
                                this.applySettings(),
                                this.onResized();
                        },
                        onDestroy: function () {
                            this.node._sizeProvider === r && (this.node._sizeProvider = null),
                                cc.director.off(cc.Director.EVENT_BEFORE_VISIT, this.alignWithScreen, this),
                                cc.sys.isMobile
                                    ? window.removeEventListener('resize', this._thisOnResized)
                                    : n.removeCustomListeners('canvas-resize', this._thisOnResized),
                                s.instance === this && (s.instance = null);
                        },
                        alignWithScreen: function () {
                            var t,
                                e = cc.visibleRect,
                                i = 0,
                                n = 0;
                            !this.fitHeight &&
                                !this.fitWidth &&
                                ((i = 0.5 * ((t = cc.view.getDesignResolutionSize()).width - e.width)),
                                (n = 0.5 * (t.height - e.height))),
                                this.node.setPosition(0.5 * e.width + i, 0.5 * e.height + n);
                        },
                        onResized: function () {
                            this.alignWithScreen();
                        },
                        applySettings: function () {
                            var t,
                                e = cc.ResolutionPolicy;
                            t =
                                this.fitHeight && this.fitWidth
                                    ? e.SHOW_ALL
                                    : this.fitHeight || this.fitWidth
                                    ? this.fitWidth
                                        ? e.FIXED_WIDTH
                                        : e.FIXED_HEIGHT
                                    : e.NO_BORDER;
                            var i = this._designResolution;
                            cc.view.setDesignResolutionSize(i.width, i.height, t);
                        },
                    });
                cc.Canvas = e.exports = s;
            },
            {
                '../event-manager': 95,
                './CCComponent': 66,
            },
        ],
        66: [
            function (t, e, i) {
                var n = t('../platform/CCObject'),
                    r = t('../platform/js'),
                    s = new (t('../platform/id-generater'))('Comp'),
                    o = n.Flags.IsOnEnableCalled,
                    a = n.Flags.IsOnLoadCalled,
                    c = cc.Class({
                        name: 'cc.Component',
                        extends: n,
                        ctor: function () {
                            (this.__instanceId = cc.ClassManager.getNewInstanceId()), (this.__eventTargets = []);
                        },
                        properties: {
                            node: {
                                default: null,
                                visible: !1,
                            },
                            name: {
                                get: function () {
                                    if (this._name) return this._name;
                                    var t = cc.js.getClassName(this),
                                        e = t.lastIndexOf('.');
                                    return e >= 0 && (t = t.slice(e + 1)), this.node.name + '<' + t + '>';
                                },
                                set: function (t) {
                                    this._name = t;
                                },
                                visible: !1,
                            },
                            _id: {
                                default: '',
                                serializable: !1,
                            },
                            uuid: {
                                get: function () {
                                    var t = this._id;
                                    return t || (t = this._id = s.getNewId()), t;
                                },
                                visible: !1,
                            },
                            __scriptAsset: !1,
                            _enabled: !0,
                            enabled: {
                                get: function () {
                                    return this._enabled;
                                },
                                set: function (t) {
                                    if (this._enabled !== t && ((this._enabled = t), this.node._activeInHierarchy)) {
                                        var e = cc.director._compScheduler;
                                        t ? e.enableComp(this) : e.disableComp(this);
                                    }
                                },
                                visible: !1,
                            },
                            enabledInHierarchy: {
                                get: function () {
                                    return (this._objFlags & o) > 0;
                                },
                                visible: !1,
                            },
                            _isOnLoadCalled: {
                                get: function () {
                                    return this._objFlags & a;
                                },
                            },
                        },
                        update: null,
                        lateUpdate: null,
                        __preload: null,
                        onLoad: null,
                        start: null,
                        onEnable: null,
                        onDisable: null,
                        onDestroy: null,
                        onFocusInEditor: null,
                        onLostFocusInEditor: null,
                        resetInEditor: null,
                        addComponent: function (t) {
                            return this.node.addComponent(t);
                        },
                        getComponent: function (t) {
                            return this.node.getComponent(t);
                        },
                        getComponents: function (t) {
                            return this.node.getComponents(t);
                        },
                        getComponentInChildren: function (t) {
                            return this.node.getComponentInChildren(t);
                        },
                        getComponentsInChildren: function (t) {
                            return this.node.getComponentsInChildren(t);
                        },
                        _getLocalBounds: null,
                        onRestore: null,
                        destroy: function () {
                            this._super() &&
                                this._enabled &&
                                this.node._activeInHierarchy &&
                                cc.director._compScheduler.disableComp(this);
                        },
                        _onPreDestroy: function () {
                            this.unscheduleAllCallbacks();
                            for (var t = this.__eventTargets, e = 0, i = t.length; e < i; ++e) {
                                var n = t[e];
                                n && n.targetOff(this);
                            }
                            (t.length = 0),
                                cc.director._nodeActivator.destroyComp(this),
                                this.node._removeComponent(this);
                        },
                        _instantiate: function (t) {
                            return t || (t = cc.instantiate._clone(this, this)), (t.node = null), t;
                        },
                        isRunning: function () {
                            return this.enabledInHierarchy;
                        },
                        schedule: function (t, e, i, n) {
                            cc.assertID(t, 1619),
                                cc.assertID(e >= 0, 1620),
                                (e = e || 0),
                                (i = isNaN(i) ? cc.macro.REPEAT_FOREVER : i),
                                (n = n || 0);
                            var r = cc.director.getScheduler(),
                                s = r.isTargetPaused(this);
                            r.schedule(t, this, e, i, n, s);
                        },
                        scheduleOnce: function (t, e) {
                            this.schedule(t, 0, 0, e);
                        },
                        unschedule: function (t) {
                            t && cc.director.getScheduler().unschedule(t, this);
                        },
                        unscheduleAllCallbacks: function () {
                            cc.director.getScheduler().unscheduleAllForTarget(this);
                        },
                    });
                (c._requireComponent = null),
                    (c._executionOrder = 0),
                    r.value(c, '_registerEditorProps', function (t, e) {
                        var i = e.requireComponent;
                        i && (t._requireComponent = i);
                        var n = e.executionOrder;
                        n && 'number' == typeof n && (t._executionOrder = n);
                    }),
                    (c.prototype.__scriptUuid = ''),
                    (cc.Component = e.exports = c);
            },
            {
                '../platform/CCObject': 141,
                '../platform/id-generater': 152,
                '../platform/js': 156,
            },
        ],
        67: [
            function (t, e, i) {
                cc.Component.EventHandler = cc.Class({
                    name: 'cc.ClickEvent',
                    properties: {
                        target: {
                            default: null,
                            type: cc.Node,
                        },
                        component: {
                            default: '',
                        },
                        handler: {
                            default: '',
                        },
                        customEventData: {
                            default: '',
                        },
                    },
                    statics: {
                        emitEvents: function (t) {
                            'use strict';
                            var e, i, n;
                            if (arguments.length > 0)
                                for (i = 0, n = (e = new Array(arguments.length - 1)).length; i < n; i++)
                                    e[i] = arguments[i + 1];
                            for (i = 0, n = t.length; i < n; i++) {
                                var r = t[i];
                                r instanceof cc.Component.EventHandler && r.emit(e);
                            }
                        },
                    },
                    emit: function (t) {
                        var e = this.target;
                        if (cc.isValid(e)) {
                            var i = e.getComponent(this.component);
                            if (cc.isValid(i)) {
                                var n = i[this.handler];
                                'function' == typeof n &&
                                    (null != this.customEventData &&
                                        '' !== this.customEventData &&
                                        (t = t.slice()).push(this.customEventData),
                                    n.apply(i, t));
                            }
                        }
                    },
                });
            },
            {},
        ],
        68: [
            function (t, e, i) {
                t('../editbox/CCSGEditBox');
                var n = _ccsg.EditBox.KeyboardReturnType,
                    r = _ccsg.EditBox.InputMode,
                    s = _ccsg.EditBox.InputFlag,
                    o = cc.Class({
                        name: 'cc.EditBox',
                        extends: cc._RendererUnderSG,
                        editor: !1,
                        properties: {
                            _useOriginalSize: !0,
                            _string: '',
                            string: {
                                tooltip: !1,
                                get: function () {
                                    return this._sgNode.string;
                                },
                                set: function (t) {
                                    this._sgNode.string = this._string = t;
                                },
                            },
                            backgroundImage: {
                                tooltip: !1,
                                default: null,
                                type: cc.SpriteFrame,
                                notify: function () {
                                    var t = this._sgNode,
                                        e = t.getBackgroundSprite();
                                    if (this.backgroundImage) {
                                        this._createBackgroundSprite().setContentSize(t.getContentSize());
                                    } else e.removeFromParent();
                                },
                            },
                            returnType: {
                                default: n.DEFAULT,
                                tooltip: !1,
                                displayName: 'KeyboardReturnType',
                                type: n,
                                notify: function () {
                                    this._sgNode.returnType = this.returnType;
                                },
                            },
                            inputFlag: {
                                tooltip: !1,
                                default: s.DEFAULT,
                                type: s,
                                notify: function () {
                                    this._sgNode.inputFlag = this.inputFlag;
                                },
                            },
                            inputMode: {
                                tooltip: !1,
                                default: r.ANY,
                                type: r,
                                notify: function () {
                                    this._sgNode.inputMode = this.inputMode;
                                },
                            },
                            fontSize: {
                                tooltip: !1,
                                default: 20,
                                notify: function () {
                                    this._sgNode.fontSize = this.fontSize;
                                },
                            },
                            lineHeight: {
                                tooltip: !1,
                                default: 40,
                                notify: function () {
                                    this._sgNode.setLineHeight(this.lineHeight);
                                },
                            },
                            fontColor: {
                                tooltip: !1,
                                default: cc.Color.WHITE,
                                notify: function () {
                                    this._sgNode.fontColor = this.fontColor;
                                },
                            },
                            placeholder: {
                                tooltip: !1,
                                default: 'Enter text here...',
                                notify: function () {
                                    this._sgNode.placeholder = this.placeholder;
                                },
                            },
                            placeholderFontSize: {
                                tooltip: !1,
                                default: 20,
                                notify: function () {
                                    this._sgNode.placeholderFontSize = this.placeholderFontSize;
                                },
                            },
                            placeholderFontColor: {
                                tooltip: !1,
                                default: cc.Color.GRAY,
                                notify: function () {
                                    this._sgNode.placeholderFontColor = this.placeholderFontColor;
                                },
                            },
                            maxLength: {
                                tooltip: !1,
                                default: 20,
                                notify: function () {
                                    this._sgNode.maxLength = this.maxLength;
                                },
                            },
                            stayOnTop: {
                                tooltip: !1,
                                default: !1,
                                notify: function () {
                                    this._sgNode.stayOnTop(this.stayOnTop),
                                        (this._sgNode.fontSize = this.fontSize),
                                        (this._sgNode.fontColor = this.fontColor);
                                },
                            },
                            _tabIndex: 0,
                            tabIndex: {
                                tooltip: !1,
                                get: function () {
                                    return this._tabIndex;
                                },
                                set: function (t) {
                                    (this._tabIndex = t), this._sgNode.setTabIndex(t);
                                },
                            },
                            editingDidBegan: {
                                default: [],
                                type: cc.Component.EventHandler,
                            },
                            textChanged: {
                                default: [],
                                type: cc.Component.EventHandler,
                            },
                            editingDidEnded: {
                                default: [],
                                type: cc.Component.EventHandler,
                            },
                            editingReturn: {
                                default: [],
                                type: cc.Component.EventHandler,
                            },
                        },
                        statics: {
                            KeyboardReturnType: n,
                            InputFlag: s,
                            InputMode: r,
                        },
                        _applyCapInset: function (t) {
                            var e = this.backgroundImage;
                            t.setInsetTop(e.insetTop),
                                t.setInsetBottom(e.insetBottom),
                                t.setInsetRight(e.insetRight),
                                t.setInsetLeft(e.insetLeft);
                        },
                        _createSgNode: function () {
                            return new _ccsg.EditBox(cc.size(160, 40));
                        },
                        _createBackgroundSprite: function () {
                            var t = this._sgNode,
                                e = new cc.Scale9Sprite();
                            return (
                                e.setRenderingType(cc.Scale9Sprite.RenderingType.SLICED),
                                this.backgroundImage &&
                                    (this.backgroundImage.ensureLoadTexture(),
                                    e.setSpriteFrame(this.backgroundImage),
                                    this._applyCapInset(e)),
                                t.initWithSizeAndBackgroundSprite(cc.size(160, 40), e),
                                e
                            );
                        },
                        _initSgNode: function () {
                            var t = this._sgNode;
                            t.createDomElementIfNeeded(),
                                this._createBackgroundSprite(),
                                t.setContentSize(this.node.getContentSize()),
                                (t.inputMode = this.inputMode),
                                (t.maxLength = this.maxLength),
                                (t.string = this._string),
                                (t.fontSize = this.fontSize),
                                (t.fontColor = this.fontColor),
                                (t.placeholder = this.placeholder),
                                (t.placeholderFontSize = this.placeholderFontSize),
                                (t.placeholderFontColor = this.placeholderFontColor),
                                (t.inputFlag = this.inputFlag),
                                (t.returnType = this.returnType),
                                t.setLineHeight(this.lineHeight),
                                t.stayOnTop(this.stayOnTop),
                                t.setTabIndex(this.tabIndex),
                                t.setDelegate(this);
                        },
                        editBoxEditingDidBegan: function () {
                            cc.Component.EventHandler.emitEvents(this.editingDidBegan, this),
                                this.node.emit('editing-did-began', this);
                        },
                        editBoxEditingDidEnded: function () {
                            cc.Component.EventHandler.emitEvents(this.editingDidEnded, this),
                                this.node.emit('editing-did-ended', this);
                        },
                        editBoxTextChanged: function (t, e) {
                            cc.Component.EventHandler.emitEvents(this.textChanged, e, this),
                                this.node.emit('text-changed', this);
                        },
                        editBoxEditingReturn: function () {
                            cc.Component.EventHandler.emitEvents(this.editingReturn, this),
                                this.node.emit('editing-return', this);
                        },
                        onDestroy: function () {
                            this._sgNode.setDelegate(null), this._super();
                        },
                        __preload: function () {
                            this._super(), this._registerEvent();
                        },
                        _registerEvent: function () {
                            this.node.on(cc.Node.EventType.TOUCH_START, this._onTouchBegan, this),
                                this.node.on(cc.Node.EventType.TOUCH_END, this._onTouchEnded, this);
                        },
                        _onTouchBegan: function (t) {
                            this._sgNode && this._sgNode._onTouchBegan(t.touch), t.stopPropagation();
                        },
                        _onTouchEnded: function (t) {
                            this._sgNode && this._sgNode._onTouchEnded(), t.stopPropagation();
                        },
                        setFocus: function () {
                            this._sgNode && this._sgNode.setFocus();
                        },
                        isFocused: function () {
                            var t = !1;
                            return this._sgNode && (t = this._sgNode.isFocused()), t;
                        },
                    });
                cc.EditBox = e.exports = o;
            },
            {
                '../editbox/CCSGEditBox': 90,
            },
        ],
        69: [
            function (t, e, i) {
                t('../label/CCSGLabel'), t('../label/CCSGLabelCanvasRenderCmd'), t('../label/CCSGLabelWebGLRenderCmd');
                var n = cc.TextAlignment,
                    r = cc.VerticalTextAlignment,
                    s = _ccsg.Label.Overflow,
                    o = cc.Class({
                        name: 'cc.Label',
                        extends: cc._RendererUnderSG,
                        ctor: function () {
                            0;
                        },
                        editor: !1,
                        _updateSgNodeString: function () {
                            this._sgNode.setString(this.string), this._updateNodeSize();
                        },
                        _updateSgNodeFontSize: function () {
                            this._sgNode && (this._sgNode.setFontSize(this._fontSize), this._updateNodeSize());
                        },
                        properties: {
                            _useOriginalSize: !0,
                            string: {
                                default: 'Label',
                                multiline: !0,
                                tooltip: !1,
                                notify: function () {
                                    this._sgNode && this._updateSgNodeString();
                                },
                            },
                            horizontalAlign: {
                                default: n.LEFT,
                                type: n,
                                tooltip: !1,
                                notify: function () {
                                    this._sgNode && this._sgNode.setHorizontalAlign(this.horizontalAlign);
                                },
                                animatable: !1,
                            },
                            verticalAlign: {
                                default: r.TOP,
                                type: r,
                                tooltip: !1,
                                notify: function () {
                                    this._sgNode && this._sgNode.setVerticalAlign(this.verticalAlign);
                                },
                                animatable: !1,
                            },
                            _actualFontSize: {
                                default: 40,
                            },
                            actualFontSize: {
                                displayName: 'Actual Font Size',
                                animatable: !1,
                                readonly: !0,
                                get: function () {
                                    return (
                                        this._sgNode && (this._actualFontSize = this._sgNode.getFontSize()),
                                        this._actualFontSize
                                    );
                                },
                            },
                            _fontSize: 40,
                            fontSize: {
                                get: function () {
                                    return this._fontSize;
                                },
                                set: function (t) {
                                    (this._fontSize = t), this._updateSgNodeFontSize();
                                },
                                tooltip: !1,
                            },
                            fontFamily: {
                                default: 'Arial',
                                tooltip: !1,
                                notify: function () {
                                    this._sgNode && this._sgNode.setFontFamily(this.fontFamily);
                                },
                                animatable: !1,
                            },
                            _lineHeight: 40,
                            lineHeight: {
                                get: function () {
                                    return (
                                        this._sgNode && (this._lineHeight = this._sgNode.getLineHeight()),
                                        this._lineHeight
                                    );
                                },
                                set: function (t) {
                                    (this._lineHeight = t),
                                        this._sgNode && (this._sgNode.setLineHeight(t), this._updateNodeSize());
                                },
                                tooltip: !1,
                            },
                            overflow: {
                                default: s.NONE,
                                type: s,
                                tooltip: !1,
                                notify: function () {
                                    this._sgNode && (this._sgNode.setOverflow(this.overflow), this._updateNodeSize());
                                },
                                animatable: !1,
                            },
                            _enableWrapText: !0,
                            enableWrapText: {
                                get: function () {
                                    return (
                                        this._sgNode && (this._enableWrapText = this._sgNode.isWrapTextEnabled()),
                                        this._enableWrapText
                                    );
                                },
                                set: function (t) {
                                    (this._enableWrapText = t), this._sgNode && this._sgNode.enableWrapText(t);
                                },
                                animatable: !1,
                                tooltip: !1,
                            },
                            _N$file: null,
                            font: {
                                get: function () {
                                    return this._N$file;
                                },
                                set: function (t) {
                                    if (
                                        (t || (this._isSystemFontUsed = !0),
                                        (this._N$file = t),
                                        (this._bmFontOriginalSize = -1),
                                        t && this._isSystemFontUsed && (this._isSystemFontUsed = !1),
                                        this._sgNode)
                                    ) {
                                        'string' == typeof t && cc.warnID(4e3);
                                        var e = this.font;
                                        e instanceof cc.BitmapFont
                                            ? e.spriteFrame
                                                ? this._sgNode.setFontAsset(e)
                                                : (cc.warnID(4011, e.name), this._sgNode.setFontFamily(''))
                                            : this._sgNode.setFontAsset(e);
                                    }
                                    t instanceof cc.BitmapFont && (this._bmFontOriginalSize = t.fontSize);
                                },
                                type: cc.Font,
                                tooltip: !1,
                                animatable: !1,
                            },
                            _isSystemFontUsed: !0,
                            useSystemFont: {
                                get: function () {
                                    return this._isSystemFontUsed;
                                },
                                set: function (t) {
                                    (this._isSystemFontUsed = !!t),
                                        t &&
                                            ((this.font = null),
                                            this._sgNode && this._sgNode.setFontFamily(this.fontFamily));
                                },
                                animatable: !1,
                                tooltip: !1,
                            },
                            _bmFontOriginalSize: {
                                displayName: 'BMFont Original Size',
                                default: -1,
                                serializable: !1,
                                readonly: !0,
                                visible: !0,
                                animatable: !1,
                            },
                            _spacingX: 0,
                            spacingX: {
                                get: function () {
                                    return this._spacingX;
                                },
                                set: function (t) {
                                    (this._spacingX = t),
                                        this._sgNode &&
                                            (this._sgNode.setSpacingX(this.spacingX), this._updateNodeSize());
                                },
                            },
                        },
                        statics: {
                            HorizontalAlign: n,
                            VerticalAlign: r,
                            Overflow: s,
                        },
                        __preload: function () {
                            this._super(), this._sgNode.on('load', this._updateNodeSize, this), this._updateNodeSize();
                        },
                        _createSgNode: function () {
                            return null;
                        },
                        _initSgNode: function () {
                            var t = this.font;
                            'string' == typeof t && cc.warnID(4e3);
                            var e;
                            t instanceof cc.BitmapFont
                                ? t.spriteFrame
                                    ? (e = this._sgNode = _ccsg.Label.pool.get(this.string, t))
                                    : (cc.warnID(4011, t.name), (e = this._sgNode = _ccsg.Label.pool.get(this.string)))
                                : (e = this._sgNode = _ccsg.Label.pool.get(this.string, t, null, this._fontSize)),
                                t instanceof cc.BitmapFont && (this._bmFontOriginalSize = t.fontSize),
                                e.setVisible(!1),
                                e.setHorizontalAlign(this.horizontalAlign),
                                e.setVerticalAlign(this.verticalAlign),
                                e.setFontSize(this._fontSize),
                                this.useSystemFont && e.setFontFamily(this.fontFamily),
                                e.setOverflow(this.overflow),
                                e.enableWrapText(this._enableWrapText),
                                e.setLineHeight(this._lineHeight),
                                e.setString(this.string),
                                t instanceof cc.BitmapFont && e.setSpacingX(this.spacingX),
                                e.setContentSize(this.node.getContentSize()),
                                e.setColor(this.node.color);
                        },
                        _updateNodeSize: function () {
                            this._sgNode &&
                                this._sgNode.parent &&
                                ((this.overflow !== s.NONE && this.overflow !== s.RESIZE_HEIGHT) ||
                                    this.node.setContentSize(this._sgNode.getContentSize()));
                        },
                        onDestroy: function () {
                            var t = this._sgNode;
                            this._super(), t && (t.removeFromParent(!0), _ccsg.Label.pool.put(t));
                        },
                    });
                cc.Label = e.exports = o;
            },
            {
                '../label/CCSGLabel': 111,
                '../label/CCSGLabelCanvasRenderCmd': 112,
                '../label/CCSGLabelWebGLRenderCmd': 113,
            },
        ],
        70: [
            function (t, e, i) {
                var n = cc.Class({
                    name: 'cc.LabelOutline',
                    extends: t('./CCComponent'),
                    editor: !1,
                    ctor: function () {
                        this._labelSGNode = null;
                    },
                    properties: {
                        _color: cc.color(255, 255, 255, 255),
                        _width: 1,
                        color: {
                            get: function () {
                                return this._color;
                            },
                            set: function (t) {
                                (this._color = cc.color(t)),
                                    this._labelSGNode && this._labelSGNode.setOutlineColor(cc.color(this._color));
                            },
                        },
                        width: {
                            get: function () {
                                return this._width;
                            },
                            set: function (t) {
                                (this._width = t),
                                    this._labelSGNode &&
                                        (this._labelSGNode.setOutlineWidth(t), this._labelSGNode.setMargin(t));
                            },
                        },
                    },
                    onEnable: function () {
                        var t = this.node.getComponent('cc.Label'),
                            e = (this._labelSGNode = t && t._sgNode);
                        this._labelSGNode &&
                            (e.setOutlined(!0),
                            e.setOutlineColor(cc.color(this._color)),
                            e.setOutlineWidth(this._width),
                            e.setMargin(this._width));
                    },
                    onDisable: function () {
                        this._labelSGNode && (this._labelSGNode.setOutlined(!1), this._labelSGNode.setMargin(0)),
                            (this._labelSGNode = null);
                    },
                });
                cc.LabelOutline = e.exports = n;
            },
            {
                './CCComponent': 66,
            },
        ],
        71: [
            function (t, e, i) {
                var n = cc.Enum({
                        NONE: 0,
                        HORIZONTAL: 1,
                        VERTICAL: 2,
                        GRID: 3,
                    }),
                    r = cc.Enum({
                        NONE: 0,
                        CONTAINER: 1,
                        CHILDREN: 2,
                    }),
                    s = cc.Enum({
                        HORIZONTAL: 0,
                        VERTICAL: 1,
                    }),
                    o = cc.Enum({
                        BOTTOM_TO_TOP: 0,
                        TOP_TO_BOTTOM: 1,
                    }),
                    a = cc.Enum({
                        LEFT_TO_RIGHT: 0,
                        RIGHT_TO_LEFT: 1,
                    }),
                    c = cc.Class({
                        name: 'cc.Layout',
                        extends: t('./CCComponent'),
                        editor: !1,
                        properties: {
                            _layoutSize: cc.size(300, 200),
                            _layoutDirty: {
                                default: !0,
                                serializable: !1,
                            },
                            _resize: r.NONE,
                            _N$layoutType: n.NONE,
                            type: {
                                type: n,
                                get: function () {
                                    return this._N$layoutType;
                                },
                                set: function (t) {
                                    this._N$layoutType = t;
                                    this._doLayoutDirty();
                                },
                                tooltip: !1,
                                animatable: !1,
                            },
                            resizeMode: {
                                type: r,
                                tooltip: !1,
                                animatable: !1,
                                get: function () {
                                    return this._resize;
                                },
                                set: function (t) {
                                    if (this.type !== n.NONE || t !== r.CHILDREN) {
                                        this._resize = t;
                                        this._doLayoutDirty();
                                    }
                                },
                            },
                            cellSize: {
                                default: cc.size(40, 40),
                                tooltip: !1,
                                type: cc.Size,
                                notify: function () {
                                    this._doLayoutDirty();
                                },
                            },
                            startAxis: {
                                default: s.HORIZONTAL,
                                tooltip: !1,
                                type: s,
                                notify: function () {
                                    this._doLayoutDirty();
                                },
                                animatable: !1,
                            },
                            _N$padding: {
                                default: 0,
                            },
                            paddingLeft: {
                                default: 0,
                                tooltip: !1,
                                notify: function () {
                                    this._doLayoutDirty();
                                },
                            },
                            paddingRight: {
                                default: 0,
                                tooltip: !1,
                                notify: function () {
                                    this._doLayoutDirty();
                                },
                            },
                            paddingTop: {
                                default: 0,
                                tooltip: !1,
                                notify: function () {
                                    this._doLayoutDirty();
                                },
                            },
                            paddingBottom: {
                                default: 0,
                                tooltip: !1,
                                notify: function () {
                                    this._doLayoutDirty();
                                },
                            },
                            spacingX: {
                                default: 0,
                                notify: function () {
                                    this._doLayoutDirty();
                                },
                                tooltip: !1,
                            },
                            spacingY: {
                                default: 0,
                                notify: function () {
                                    this._doLayoutDirty();
                                },
                                tooltip: !1,
                            },
                            verticalDirection: {
                                default: o.TOP_TO_BOTTOM,
                                type: o,
                                notify: function () {
                                    this._doLayoutDirty();
                                },
                                tooltip: !1,
                                animatable: !1,
                            },
                            horizontalDirection: {
                                default: a.LEFT_TO_RIGHT,
                                type: a,
                                notify: function () {
                                    this._doLayoutDirty();
                                },
                                tooltip: !1,
                                animatable: !1,
                            },
                        },
                        statics: {
                            Type: n,
                            VerticalDirection: o,
                            HorizontalDirection: a,
                            ResizeMode: r,
                            AxisDirection: s,
                        },
                        _migratePaddingData: function () {
                            (this.paddingLeft = this._N$padding),
                                (this.paddingRight = this._N$padding),
                                (this.paddingTop = this._N$padding),
                                (this.paddingBottom = this._N$padding),
                                (this._N$padding = 0);
                        },
                        onEnable: function () {
                            this._addEventListeners(),
                                cc.sizeEqualToSize(this.node.getContentSize(), cc.size(0, 0)) &&
                                    this.node.setContentSize(this._layoutSize),
                                0 !== this._N$padding && this._migratePaddingData(),
                                this._doLayoutDirty();
                        },
                        onDisable: function () {
                            this._removeEventListeners();
                        },
                        _doLayoutDirty: function () {
                            this._layoutDirty = !0;
                        },
                        _addEventListeners: function () {
                            cc.director.on(cc.Director.EVENT_BEFORE_VISIT, this.updateLayout, this),
                                this.node.on('size-changed', this._resized, this),
                                this.node.on('anchor-changed', this._doLayoutDirty, this),
                                this.node.on('child-added', this._childAdded, this),
                                this.node.on('child-removed', this._childRemoved, this),
                                this.node.on('child-reorder', this._doLayoutDirty, this),
                                this._addChildrenEventListeners();
                        },
                        _removeEventListeners: function () {
                            cc.director.off(cc.Director.EVENT_BEFORE_VISIT, this.updateLayout, this),
                                this.node.off('size-changed', this._resized, this),
                                this.node.off('anchor-changed', this._doLayoutDirty, this),
                                this.node.off('child-added', this._childAdded, this),
                                this.node.off('child-removed', this._childRemoved, this),
                                this.node.off('child-reorder', this._doLayoutDirty, this),
                                this._removeChildrenEventListeners();
                        },
                        _addChildrenEventListeners: function () {
                            this.node.children.forEach(
                                function (t) {
                                    t.on('size-changed', this._doLayoutDirty, this),
                                        t.on('position-changed', this._doLayoutDirty, this),
                                        t.on('anchor-changed', this._doLayoutDirty, this),
                                        t.on('active-in-hierarchy-changed', this._doLayoutDirty, this);
                                }.bind(this),
                            );
                        },
                        _removeChildrenEventListeners: function () {
                            this.node.children.forEach(
                                function (t) {
                                    t.off('size-changed', this._doLayoutDirty, this),
                                        t.off('position-changed', this._doLayoutDirty, this),
                                        t.off('anchor-changed', this._doLayoutDirty, this),
                                        t.off('active-in-hierarchy-changed', this._doLayoutDirty, this);
                                }.bind(this),
                            );
                        },
                        _childAdded: function (t) {
                            var e = t.detail;
                            e.on('size-changed', this._doLayoutDirty, this),
                                e.on('position-changed', this._doLayoutDirty, this),
                                e.on('anchor-changed', this._doLayoutDirty, this),
                                e.on('active-in-hierarchy-changed', this._doLayoutDirty, this),
                                this._doLayoutDirty();
                        },
                        _childRemoved: function (t) {
                            var e = t.detail;
                            e.off('size-changed', this._doLayoutDirty, this),
                                e.off('position-changed', this._doLayoutDirty, this),
                                e.off('anchor-changed', this._doLayoutDirty, this),
                                e.off('active-in-hierarchy-changed', this._doLayoutDirty, this),
                                this._doLayoutDirty();
                        },
                        _resized: function () {
                            (this._layoutSize = this.node.getContentSize()), this._doLayoutDirty();
                        },
                        _doLayoutHorizontally: function (t, e, i, s) {
                            var c = this.node.getAnchorPoint(),
                                h = this.node.children,
                                l = 1,
                                u = this.paddingLeft,
                                d = -c.x * t;
                            this.horizontalDirection === a.RIGHT_TO_LEFT &&
                                ((l = -1), (d = (1 - c.x) * t), (u = this.paddingRight));
                            var _ = d + l * u - l * this.spacingX,
                                f = 0,
                                p = 0,
                                g = 0,
                                m = 0,
                                v = 0,
                                y = 0,
                                C = this.cellSize.width;
                            return (
                                this.type !== n.GRID &&
                                    this.resizeMode === r.CHILDREN &&
                                    (C =
                                        (t - (this.paddingLeft + this.paddingRight) - (h.length - 1) * this.spacingX) /
                                        h.length),
                                h.forEach(
                                    function (h) {
                                        if (h.activeInHierarchy) {
                                            this._resize === r.CHILDREN &&
                                                ((h.width = C),
                                                this.type === n.GRID && (h.height = this.cellSize.height));
                                            var T = h.anchorX;
                                            g > p && (p = g),
                                                h.height >= p && ((g = p), (p = h.height), (y = h.getAnchorPoint().y)),
                                                this.horizontalDirection === a.RIGHT_TO_LEFT && (T = 1 - h.anchorX),
                                                (_ = _ + l * T * h.width + l * this.spacingX);
                                            var E = l * (1 - T) * h.width;
                                            if (e) {
                                                var x = _ + E + l * (l > 0 ? this.paddingRight : this.paddingLeft),
                                                    S =
                                                        this.horizontalDirection === a.LEFT_TO_RIGHT &&
                                                        x > (1 - c.x) * t,
                                                    b = this.horizontalDirection === a.RIGHT_TO_LEFT && x < -c.x * t;
                                                (S || b) &&
                                                    (h.height >= p
                                                        ? (0 === g && (g = p), (f += g), (g = p))
                                                        : ((f += p), (g = h.height), (p = 0)),
                                                    (_ = d + l * (u + T * h.width)),
                                                    m++);
                                            }
                                            var A = i(h, f, m);
                                            t >= h.width + this.paddingLeft + this.paddingRight &&
                                                s &&
                                                h.setPosition(cc.p(_, A));
                                            var R,
                                                w = 1,
                                                I = 0 === p ? h.height : p;
                                            this.verticalDirection === o.TOP_TO_BOTTOM
                                                ? ((v = v || this.node._contentSize.height),
                                                  (R = A + (w = -1) * (I * y + this.paddingBottom)) < v && (v = R))
                                                : ((v = v || -this.node._contentSize.height),
                                                  (R = A + w * (I * y + this.paddingTop)) > v && (v = R)),
                                                (_ += E);
                                        }
                                    }.bind(this),
                                ),
                                v
                            );
                        },
                        _getVerticalBaseHeight: function (t) {
                            var e = 0,
                                i = 0;
                            return (
                                this.resizeMode === r.CONTAINER
                                    ? (t.forEach(function (t) {
                                          t.activeInHierarchy && (i++, (e += t.height));
                                      }),
                                      (e += (i - 1) * this.spacingY + this.paddingBottom + this.paddingTop))
                                    : (e = this.node.getContentSize().height),
                                e
                            );
                        },
                        _doLayoutVertically: function (t, e, i, s) {
                            var c = this.node.getAnchorPoint(),
                                h = this.node.children,
                                l = 1,
                                u = this.paddingBottom,
                                d = -c.y * t;
                            this.verticalDirection === o.TOP_TO_BOTTOM &&
                                ((l = -1), (d = (1 - c.y) * t), (u = this.paddingTop));
                            var _ = d + l * u - l * this.spacingY,
                                f = 0,
                                p = 0,
                                g = 0,
                                m = 0,
                                v = 0,
                                y = 0,
                                C = this.cellSize.height;
                            return (
                                this.type !== n.GRID &&
                                    this.resizeMode === r.CHILDREN &&
                                    (C =
                                        (t - (this.paddingTop + this.paddingBottom) - (h.length - 1) * this.spacingY) /
                                        h.length),
                                h.forEach(
                                    function (h) {
                                        if (h.activeInHierarchy) {
                                            this.resizeMode === r.CHILDREN &&
                                                ((h.height = C),
                                                this.type === n.GRID && (h.width = this.cellSize.width));
                                            var T = h.anchorY;
                                            g > p && (p = g),
                                                h.width >= p && ((g = p), (p = h.width), (y = h.getAnchorPoint().x)),
                                                this.verticalDirection === o.TOP_TO_BOTTOM && (T = 1 - h.anchorY),
                                                (_ = _ + l * T * h.height + l * this.spacingY);
                                            var E = l * (1 - T) * h.height;
                                            if (e) {
                                                var x = _ + E + l * (l > 0 ? this.paddingTop : this.paddingBottom),
                                                    S = this.verticalDirection === o.BOTTOM_TO_TOP && x > (1 - c.y) * t,
                                                    b = this.verticalDirection === o.TOP_TO_BOTTOM && x < -c.y * t;
                                                (S || b) &&
                                                    (h.width >= p
                                                        ? (0 === g && (g = p), (f += g), (g = p))
                                                        : ((f += p), (g = h.width), (p = 0)),
                                                    (_ = d + l * (u + T * h.height)),
                                                    m++);
                                            }
                                            var A = i(h, f, m);
                                            t >= h.height + (this.paddingTop + this.paddingBottom) &&
                                                s &&
                                                h.setPosition(cc.p(A, _));
                                            var R,
                                                w = 1,
                                                I = 0 === p ? h.width : p;
                                            this.horizontalDirection === a.RIGHT_TO_LEFT
                                                ? ((w = -1),
                                                  (v = v || this.node._contentSize.width),
                                                  (R = A + w * (I * y + this.paddingLeft)) < v && (v = R))
                                                : ((v = v || -this.node._contentSize.width),
                                                  (R = A + w * (I * y + this.paddingRight)) > v && (v = R)),
                                                (_ += E);
                                        }
                                    }.bind(this),
                                ),
                                v
                            );
                        },
                        _doLayoutBasic: function () {
                            var t = null;
                            if (
                                (this.node.children.forEach(function (e) {
                                    e.activeInHierarchy &&
                                        (t = t
                                            ? cc.rectUnion(t, e.getBoundingBoxToWorld())
                                            : e.getBoundingBoxToWorld());
                                }),
                                t)
                            ) {
                                var e = this.node.parent.convertToNodeSpaceAR(cc.p(t.x, t.y));
                                e = cc.pAdd(e, cc.p(-this.paddingLeft, -this.paddingBottom));
                                var i = this.node.parent.convertToNodeSpaceAR(cc.p(t.x + t.width, t.y + t.height));
                                i = cc.pAdd(i, cc.p(this.paddingRight, this.paddingTop));
                                var n = cc.size(parseFloat((i.x - e.x).toFixed(2)), parseFloat((i.y - e.y).toFixed(2))),
                                    r = this.node.getPosition(),
                                    s = (r.x - e.x) / n.width,
                                    o = (r.y - e.y) / n.height,
                                    a = cc.p(parseFloat(s.toFixed(2)), parseFloat(o.toFixed(2)));
                                this.node.setAnchorPoint(a), this.node.setContentSize(n);
                            }
                        },
                        _doLayoutGridAxisHorizontal: function (t, e) {
                            var i = e.width,
                                n = 1,
                                s = -t.y * e.height,
                                a = this.paddingBottom;
                            this.verticalDirection === o.TOP_TO_BOTTOM &&
                                ((n = -1), (s = (1 - t.y) * e.height), (a = this.paddingTop));
                            var c = function (t, e, i) {
                                    return s + n * (e + t.anchorY * t.height + a + i * this.spacingY);
                                }.bind(this),
                                h = 0;
                            if (this.resizeMode === r.CONTAINER) {
                                var l = this._doLayoutHorizontally(i, !0, c, !1);
                                (h = s - l) < 0 && (h *= -1),
                                    (s = -t.y * h),
                                    this.verticalDirection === o.TOP_TO_BOTTOM && ((n = -1), (s = (1 - t.y) * h));
                            }
                            this._doLayoutHorizontally(i, !0, c, !0),
                                this.resizeMode === r.CONTAINER && this.node.setContentSize(i, h);
                        },
                        _doLayoutGridAxisVertical: function (t, e) {
                            var i = e.height,
                                n = 1,
                                s = -t.x * e.width,
                                o = this.paddingLeft;
                            this.horizontalDirection === a.RIGHT_TO_LEFT &&
                                ((n = -1), (s = (1 - t.x) * e.width), (o = this.paddingRight));
                            var c = function (t, e, i) {
                                    return s + n * (e + t.anchorX * t.width + o + i * this.spacingX);
                                }.bind(this),
                                h = 0;
                            if (this.resizeMode === r.CONTAINER) {
                                var l = this._doLayoutVertically(i, !0, c, !1);
                                (h = s - l) < 0 && (h *= -1),
                                    (s = -t.x * h),
                                    this.horizontalDirection === a.RIGHT_TO_LEFT && ((n = -1), (s = (1 - t.x) * h));
                            }
                            this._doLayoutVertically(i, !0, c, !0),
                                this.resizeMode === r.CONTAINER && this.node.setContentSize(h, i);
                        },
                        _doLayoutGrid: function () {
                            var t = this.node.getAnchorPoint(),
                                e = this.node.getContentSize();
                            this.startAxis === s.HORIZONTAL
                                ? this._doLayoutGridAxisHorizontal(t, e)
                                : this.startAxis === s.VERTICAL && this._doLayoutGridAxisVertical(t, e);
                        },
                        _getHorizontalBaseWidth: function (t) {
                            var e = 0,
                                i = 0;
                            return (
                                this.resizeMode === r.CONTAINER
                                    ? (t.forEach(function (t) {
                                          t.activeInHierarchy && (i++, (e += t.width));
                                      }),
                                      (e += (i - 1) * this.spacingX + this.paddingLeft + this.paddingRight))
                                    : (e = this.node.getContentSize().width),
                                e
                            );
                        },
                        _doLayout: function () {
                            if (this.type === n.HORIZONTAL) {
                                var t = this._getHorizontalBaseWidth(this.node.children),
                                    e = function (t) {
                                        return t.y;
                                    };
                                this._doLayoutHorizontally(t, !1, e, !0), (this.node.width = t);
                            } else if (this.type === n.VERTICAL) {
                                var i = this._getVerticalBaseHeight(this.node.children),
                                    s = function (t) {
                                        return t.x;
                                    };
                                this._doLayoutVertically(i, !1, s, !0), (this.node.height = i);
                            } else
                                this.type === n.NONE
                                    ? this.resizeMode === r.CONTAINER && this._doLayoutBasic()
                                    : this.type === n.GRID && this._doLayoutGrid();
                        },
                        updateLayout: function () {
                            this._layoutDirty &&
                                this.node.children.length > 0 &&
                                (this._doLayout(), (this._layoutDirty = !1));
                        },
                    });
                Object.defineProperty(c.prototype, 'padding', {
                    get: function () {
                        return cc.warnID(4100), this.paddingLeft;
                    },
                    set: function (t) {
                        (this._N$padding = t), this._migratePaddingData(), this._doLayoutDirty();
                    },
                }),
                    (cc.Layout = e.exports = c);
            },
            {
                './CCComponent': 66,
            },
        ],
        72: [
            function (t, e, i) {
                t('../../clipping-nodes/CCClippingNode'),
                    t('../../clipping-nodes/CCClippingNodeCanvasRenderCmd'),
                    t('../../clipping-nodes/CCClippingNodeWebGLRenderCmd'),
                    t('../../shape-nodes/CCDrawNode');
                var n = cc._RendererInSG,
                    r = cc.Enum({
                        RECT: 0,
                        ELLIPSE: 1,
                        IMAGE_STENCIL: 2,
                    }),
                    s = cc.Class({
                        name: 'cc.Mask',
                        extends: n,
                        editor: !1,
                        properties: {
                            _clippingStencil: {
                                default: null,
                                serializable: !1,
                            },
                            _type: r.RECT,
                            type: {
                                get: function () {
                                    return this._type;
                                },
                                set: function (t) {
                                    (this._type = t), this._refreshStencil();
                                },
                                type: r,
                                tooltip: !1,
                            },
                            spriteFrame: {
                                default: null,
                                type: cc.SpriteFrame,
                                tooltip: !1,
                                notify: function () {
                                    this._refreshStencil();
                                },
                            },
                            alphaThreshold: {
                                default: 1,
                                type: cc.Float,
                                range: [0, 1, 0.1],
                                slide: !0,
                                tooltip: !1,
                                notify: function () {
                                    cc._renderType !== cc.game.RENDER_TYPE_CANVAS
                                        ? this._sgNode.setAlphaThreshold(this.alphaThreshold)
                                        : cc.warnID(4201);
                                },
                            },
                            inverted: {
                                default: !1,
                                type: cc.Boolean,
                                tooltip: !1,
                                notify: function () {
                                    cc._renderType !== cc.game.RENDER_TYPE_CANVAS
                                        ? this._sgNode.setInverted(this.inverted)
                                        : cc.warnID(4202);
                                },
                            },
                            _segements: 64,
                            segements: {
                                get: function () {
                                    return this._segements;
                                },
                                set: function (t) {
                                    (this._segements = cc.clampf(t, 3, 1e4)), this._refreshStencil();
                                },
                                tooltip: !1,
                            },
                            _resizeToTarget: {
                                animatable: !1,
                                set: function (t) {
                                    t && this._resizeNodeToTargetNode();
                                },
                            },
                        },
                        statics: {
                            Type: r,
                        },
                        _resizeNodeToTargetNode: !1,
                        _initSgNode: function () {},
                        _createSgNode: function () {
                            return new cc.ClippingNode();
                        },
                        _hitTest: function (t) {
                            var e = this.node.getContentSize(),
                                i = e.width,
                                n = e.height,
                                s = this.node.getNodeToWorldTransform();
                            if (this.type === r.RECT || this.type === r.IMAGE_STENCIL) {
                                var o = cc.rect(0, 0, i, n);
                                cc._rectApplyAffineTransformIn(o, s);
                                var a = t.x - o.x,
                                    c = o.x + o.width - t.x,
                                    h = t.y - o.y,
                                    l = o.y + o.height - t.y;
                                return a >= 0 && c >= 0 && l >= 0 && h >= 0;
                            }
                            if (this.type === r.ELLIPSE) {
                                var u = i / 2,
                                    d = n / 2,
                                    _ = s.a * u + s.c * d + s.tx,
                                    f = s.b * u + s.d * d + s.ty,
                                    p = t.x - _,
                                    g = t.y - f;
                                return (p * p) / (u * u) + (g * g) / (d * d) < 1;
                            }
                        },
                        onEnable: function () {
                            this._super(),
                                this.spriteFrame && this.spriteFrame.ensureLoadTexture(),
                                this._refreshStencil(),
                                this.node.on('size-changed', this._refreshStencil, this),
                                this.node.on('anchor-changed', this._refreshStencil, this);
                        },
                        onDisable: function () {
                            this._super(),
                                this.node.off('size-changed', this._refreshStencil, this),
                                this.node.off('anchor-changed', this._refreshStencil, this);
                        },
                        _calculateCircle: function (t, e, i) {
                            for (var n = [], r = (2 * Math.PI) / i, s = 0; s < i; ++s)
                                n.push(cc.v2(e.x * Math.cos(r * s) + t.x, e.y * Math.sin(r * s) + t.y));
                            return n;
                        },
                        _refreshStencil: function () {
                            if (this.type !== r.IMAGE_STENCIL || cc._renderType === cc.game.RENDER_TYPE_WEBGL) {
                                var t = this.node.getContentSize(),
                                    e = this.node.getAnchorPoint(),
                                    i = this._clippingStencil;
                                if (this._type === r.IMAGE_STENCIL) {
                                    (i instanceof cc.Scale9Sprite && i._spriteFrame === this.spriteFrame) ||
                                        ((i = new cc.Scale9Sprite()).setSpriteFrame(this.spriteFrame),
                                        this._sgNode.setStencil(i)),
                                        i.setContentSize(t),
                                        i.setAnchorPoint(e),
                                        this._sgNode.setAlphaThreshold(this.alphaThreshold);
                                } else {
                                    i instanceof cc.DrawNode || ((i = new cc.DrawNode()), this._sgNode.setStencil(i));
                                    var n = t.width,
                                        s = t.height,
                                        o = -n * e.x,
                                        a = -s * e.y,
                                        c = cc.color(255, 255, 255, 0);
                                    if ((i.clear(), this._type === r.RECT)) {
                                        var h = [cc.v2(o, a), cc.v2(o + n, a), cc.v2(o + n, a + s), cc.v2(o, a + s)];
                                        i.drawPoly(h, c, 0, c);
                                    } else if (this._type === r.ELLIPSE) {
                                        var l = cc.v2(o + n / 2, a + s / 2),
                                            u = {
                                                x: n / 2,
                                                y: s / 2,
                                            };
                                        i.drawPoly(this._calculateCircle(l, u, this._segements), c, 0, c);
                                    }
                                }
                                this._sgNode.setInverted(this.inverted),
                                    (this._clippingStencil = i),
                                    (cc.renderer.childrenOrderDirty = !0);
                            } else cc.warnID(4200);
                        },
                    });
                cc.Mask = e.exports = s;
            },
            {
                '../../clipping-nodes/CCClippingNode': 25,
                '../../clipping-nodes/CCClippingNodeCanvasRenderCmd': 26,
                '../../clipping-nodes/CCClippingNodeWebGLRenderCmd': 27,
                '../../shape-nodes/CCDrawNode': 229,
            },
        ],
        73: [
            function (t, e, i) {
                var n = cc.Enum({
                        Unified: 0,
                        Free: 1,
                    }),
                    r = cc.Enum({
                        Horizontal: 0,
                        Vertical: 1,
                    }),
                    s = cc.Enum({
                        PAGE_TURNING: 0,
                    }),
                    o = cc.Class({
                        name: 'cc.PageView',
                        extends: cc.ScrollView,
                        editor: !1,
                        ctor: function () {
                            (this._curPageIdx = 0),
                                (this._lastPageIdx = 0),
                                (this._pages = []),
                                (this._scrollCenterOffsetX = []),
                                (this._scrollCenterOffsetY = []);
                        },
                        properties: {
                            sizeMode: {
                                default: n.Unified,
                                type: n,
                                tooltip: !1,
                                notify: function () {
                                    this._syncSizeMode();
                                },
                            },
                            direction: {
                                default: r.Horizontal,
                                type: r,
                                tooltip: !1,
                                notify: function () {
                                    this._syncScrollDirection();
                                },
                            },
                            scrollThreshold: {
                                default: 0.5,
                                type: cc.Float,
                                slide: !0,
                                range: [0, 1, 0.01],
                                tooltip: !1,
                            },
                            autoPageTurningThreshold: {
                                default: 100,
                                type: cc.Float,
                                tooltip: !1,
                            },
                            pageTurningEventTiming: {
                                default: 0.1,
                                type: cc.Float,
                                range: [0, 1, 0.01],
                                tooltip: !1,
                            },
                            indicator: {
                                default: null,
                                type: cc.PageViewIndicator,
                                tooltip: !1,
                                notify: function () {
                                    this.indicator && this.indicator.setPageView(this);
                                },
                            },
                            pageTurningSpeed: {
                                default: 0.3,
                                type: cc.Float,
                                tooltip: !1,
                            },
                            pageEvents: {
                                default: [],
                                type: cc.Component.EventHandler,
                                tooltip: !1,
                            },
                        },
                        statics: {
                            SizeMode: n,
                            Direction: r,
                            EventType: s,
                        },
                        __preload: function () {
                            this.node.on('size-changed', this._updateAllPagesSize, this);
                        },
                        onEnable: function () {
                            this._super(),
                                this.node.on('scroll-ended-with-threshold', this._dispatchPageTurningEvent, this);
                        },
                        onDisable: function () {
                            this._super(),
                                this.node.off('scroll-ended-with-threshold', this._dispatchPageTurningEvent, this);
                        },
                        onLoad: function () {
                            this._initPages(), this.indicator && this.indicator.setPageView(this);
                        },
                        onDestroy: function () {
                            this.node.off('size-changed', this._updateAllPagesSize, this);
                        },
                        getCurrentPageIndex: function () {
                            return this._curPageIdx;
                        },
                        setCurrentPageIndex: function (t) {
                            this.scrollToPage(t, !0);
                        },
                        getPages: function () {
                            return this._pages;
                        },
                        addPage: function (t) {
                            t &&
                                -1 === this._pages.indexOf(t) &&
                                this.content &&
                                (this.content.addChild(t), this._pages.push(t), this._updatePageView());
                        },
                        insertPage: function (t, e) {
                            if (!(e < 0) && t && -1 === this._pages.indexOf(t) && this.content) {
                                e >= this._pages.length
                                    ? this.addPage(t)
                                    : (this._pages.splice(e, 0, t), this.content.addChild(t), this._updatePageView());
                            }
                        },
                        removePage: function (t) {
                            if (t && this.content) {
                                var e = this._pages.indexOf(t);
                                -1 !== e ? this.removePageAtIndex(e) : cc.warnID(4300, t.name);
                            }
                        },
                        removePageAtIndex: function (t) {
                            var e = this._pages;
                            if (!(t < 0 || t >= e.length)) {
                                var i = e[t];
                                i && (this.content.removeChild(i), e.splice(t, 1), this._updatePageView());
                            }
                        },
                        removeAllPages: function () {
                            if (this.content) {
                                for (var t = this._pages, e = 0, i = t.length; e < i; e++)
                                    this.content.removeChild(t[e]);
                                (this._pages.length = 0), this._updatePageView();
                            }
                        },
                        scrollToPage: function (t, e) {
                            t < 0 ||
                                t >= this._pages.length ||
                                ((e = void 0 !== e ? e : 0.3),
                                (this._curPageIdx = t),
                                this.scrollToOffset(this._moveOffsetValue(t), e, !0),
                                this.indicator && this.indicator._changedState());
                        },
                        getScrollEndedEventTiming: function () {
                            return this.pageTurningEventTiming;
                        },
                        _syncScrollDirection: function () {
                            (this.horizontal = this.direction === r.Horizontal),
                                (this.vertical = this.direction === r.Vertical);
                        },
                        _syncSizeMode: function () {
                            if (this.content) {
                                var t = this.content.getComponent(cc.Layout);
                                if (t) {
                                    if (0 === this._pages.length) t.padding = 0;
                                    else {
                                        var e = this._pages[this._pages.length - 1];
                                        this.sizeMode === n.Free &&
                                            (this.direction === r.Horizontal
                                                ? ((t.paddingLeft = (this.node.width - this._pages[0].width) / 2),
                                                  (t.paddingRight = (this.node.width - e.width) / 2))
                                                : this.direction === r.Vertical &&
                                                  ((t.paddingTop = (this.node.height - this._pages[0].height) / 2),
                                                  (t.paddingBottom = (this.node.height - e.height) / 2)));
                                    }
                                    t.updateLayout();
                                }
                            }
                        },
                        _updatePageView: function () {
                            var t = this._pages.length;
                            this._curPageIdx >= t &&
                                ((this._curPageIdx = 0 === t ? 0 : t - 1), (this._lastPageIdx = this._curPageIdx));
                            for (var e = 0; e < t; ++e)
                                this._pages[e].setSiblingIndex(e),
                                    this.direction === r.Horizontal
                                        ? (this._scrollCenterOffsetX[e] = Math.abs(this.content.x + this._pages[e].x))
                                        : (this._scrollCenterOffsetY[e] = Math.abs(this.content.y + this._pages[e].y));
                            var i = this.content.getComponent(cc.Layout);
                            i && i.enabled && i.updateLayout(), this.indicator && this.indicator._refresh();
                        },
                        _updateAllPagesSize: function () {
                            if (this.sizeMode === n.Unified)
                                for (
                                    var t = this._pages, e = this.node.getContentSize(), i = 0, r = t.length;
                                    i < r;
                                    i++
                                )
                                    t[i].setContentSize(e);
                        },
                        _initPages: function () {
                            if (this.content) {
                                for (var t = this.content.children, e = 0; e < t.length; ++e) {
                                    var i = t[e];
                                    this._pages.indexOf(i) >= 0 || this._pages.push(i);
                                }
                                this._syncScrollDirection(), this._syncSizeMode(), this._updatePageView();
                            }
                        },
                        _dispatchPageTurningEvent: function () {
                            this._lastPageIdx !== this._curPageIdx &&
                                ((this._lastPageIdx = this._curPageIdx),
                                cc.Component.EventHandler.emitEvents(this.pageEvents, this, s.PAGE_TURNING),
                                this.node.emit('page-turning', this));
                        },
                        _isScrollable: function (t, e, i) {
                            if (this.sizeMode === n.Free) {
                                var s, o;
                                if (this.direction === r.Horizontal)
                                    return (
                                        (s = this._scrollCenterOffsetX[e]),
                                        (o = this._scrollCenterOffsetX[i]),
                                        Math.abs(t.x) >= Math.abs(s - o) * this.scrollThreshold
                                    );
                                if (this.direction === r.Vertical)
                                    return (
                                        (s = this._scrollCenterOffsetY[e]),
                                        (o = this._scrollCenterOffsetY[i]),
                                        Math.abs(t.y) >= Math.abs(s - o) * this.scrollThreshold
                                    );
                            } else {
                                if (this.direction === r.Horizontal)
                                    return Math.abs(t.x) >= this.node.width * this.scrollThreshold;
                                if (this.direction === r.Vertical)
                                    return Math.abs(t.y) >= this.node.height * this.scrollThreshold;
                            }
                        },
                        _isQuicklyScrollable: function (t) {
                            if (this.direction === r.Horizontal) {
                                if (Math.abs(t.x) > this.autoPageTurningThreshold) return !0;
                            } else if (this.direction === r.Vertical && Math.abs(t.y) > this.autoPageTurningThreshold)
                                return !0;
                            return !1;
                        },
                        _moveOffsetValue: function (t) {
                            var e = cc.p(0, 0);
                            return (
                                this.sizeMode === n.Free
                                    ? this.direction === r.Horizontal
                                        ? (e.x = this._scrollCenterOffsetX[t])
                                        : this.direction === r.Vertical && (e.y = this._scrollCenterOffsetY[t])
                                    : this.direction === r.Horizontal
                                    ? (e.x = t * this.node.width)
                                    : this.direction === r.Vertical && (e.y = t * this.node.height),
                                e
                            );
                        },
                        _getDragDirection: function (t) {
                            return this.direction === r.Horizontal
                                ? 0 === t.x
                                    ? 0
                                    : t.x > 0
                                    ? 1
                                    : -1
                                : this.direction === r.Vertical
                                ? 0 === t.y
                                    ? 0
                                    : t.y < 0
                                    ? 1
                                    : -1
                                : void 0;
                        },
                        _handleReleaseLogic: function (t) {
                            var e = this._startBounceBackIfNeeded(),
                                i = cc.pSub(this._touchBeganPosition, this._touchEndPosition);
                            if (e) {
                                var n = this._getDragDirection(i);
                                if (0 === n) return;
                                (this._curPageIdx = n > 0 ? this._pages.length - 1 : 0),
                                    this.indicator && this.indicator._changedState();
                            } else {
                                var r = this._curPageIdx,
                                    s = r + this._getDragDirection(i),
                                    o = this.pageTurningSpeed * Math.abs(r - s);
                                if (s < this._pages.length) {
                                    if (this._isScrollable(i, r, s)) return void this.scrollToPage(s, o);
                                    var a = this._calculateTouchMoveVelocity();
                                    if (this._isQuicklyScrollable(a)) return void this.scrollToPage(s, o);
                                }
                                this.scrollToPage(r, o);
                            }
                        },
                        _onTouchBegan: function (t, e) {
                            (this._touchBeganPosition = t.touch.getLocation()), this._super(t, e);
                        },
                        _onTouchMoved: function (t, e) {
                            this._super(t, e);
                        },
                        _onTouchEnded: function (t, e) {
                            (this._touchEndPosition = t.touch.getLocation()), this._super(t, e);
                        },
                        _onTouchCancelled: function (t, e) {
                            (this._touchEndPosition = t.touch.getLocation()), this._super(t, e);
                        },
                        _onMouseWheel: function () {},
                    });
                cc.PageView = e.exports = o;
            },
            {},
        ],
        74: [
            function (t, e, i) {
                var n = cc.Enum({
                        HORIZONTAL: 0,
                        VERTICAL: 1,
                        FILLED: 2,
                    }),
                    r = cc.Class({
                        name: 'cc.ProgressBar',
                        extends: t('./CCComponent'),
                        editor: !1,
                        _initBarSprite: function () {
                            if (this.barSprite) {
                                var t = this.barSprite.node;
                                if (!t) return;
                                var e = this.node.getContentSize(),
                                    i = this.node.getAnchorPoint(),
                                    r = t.getContentSize();
                                t.parent === this.node && this.node.setContentSize(r),
                                    this.barSprite.fillType === cc.Sprite.FillType.RADIAL && (this.mode = n.FILLED);
                                var s = t.getContentSize();
                                if (
                                    (this.mode === n.HORIZONTAL
                                        ? (this.totalLength = s.width)
                                        : this.mode === n.VERTICAL
                                        ? (this.totalLength = s.height)
                                        : (this.totalLength = this.barSprite.fillRange),
                                    t.parent === this.node)
                                ) {
                                    var o = -e.width * i.x;
                                    t.setPosition(cc.p(o, 0));
                                }
                            }
                        },
                        _updateBarStatus: function () {
                            if (this.barSprite) {
                                var t = this.barSprite.node;
                                if (!t) return;
                                var e,
                                    i,
                                    r,
                                    s = t.getAnchorPoint(),
                                    o = t.getContentSize(),
                                    a = t.getPosition(),
                                    c = cc.p(0, 0.5),
                                    h = cc.clamp01(this.progress),
                                    l = this.totalLength * h;
                                switch (this.mode) {
                                    case n.HORIZONTAL:
                                        this.reverse && (c = cc.p(1, 0.5)),
                                            (e = cc.size(l, o.height)),
                                            (i = this.totalLength),
                                            (r = o.height);
                                        break;
                                    case n.VERTICAL:
                                        (c = this.reverse ? cc.p(0.5, 1) : cc.p(0.5, 0)),
                                            (e = cc.size(o.width, l)),
                                            (i = o.width),
                                            (r = this.totalLength);
                                }
                                if (this.mode === n.FILLED)
                                    this.barSprite.type !== cc.Sprite.Type.FILLED
                                        ? cc.warn("ProgressBar FILLED mode only works when barSprite's Type is FILLED!")
                                        : (this.reverse && (l *= -1), (this.barSprite.fillRange = l));
                                else if (this.barSprite.type !== cc.Sprite.Type.FILLED) {
                                    var u = c.x - s.x,
                                        d = c.y - s.y,
                                        _ = cc.p(i * u, r * d);
                                    t.setPosition(cc.pAdd(a, _)), t.setAnchorPoint(c), t.setContentSize(e);
                                } else
                                    cc.warn(
                                        "ProgressBar non-FILLED mode only works when barSprite's Type is non-FILLED!",
                                    );
                            }
                        },
                        properties: {
                            barSprite: {
                                default: null,
                                type: cc.Sprite,
                                tooltip: !1,
                                notify: function () {
                                    this._initBarSprite();
                                },
                                animatable: !1,
                            },
                            mode: {
                                default: n.HORIZONTAL,
                                type: n,
                                tooltip: !1,
                                notify: function () {
                                    if (this.barSprite) {
                                        var t = this.barSprite.node;
                                        if (!t) return;
                                        var e = t.getContentSize();
                                        this.mode === n.HORIZONTAL
                                            ? (this.totalLength = e.width)
                                            : this.mode === n.VERTICAL
                                            ? (this.totalLength = e.height)
                                            : this.mode === n.FILLED && (this.totalLength = this.barSprite.fillRange);
                                    }
                                },
                                animatable: !1,
                            },
                            _N$totalLength: 1,
                            totalLength: {
                                range: [0, Number.MAX_VALUE],
                                tooltip: !1,
                                get: function () {
                                    return this._N$totalLength;
                                },
                                set: function (t) {
                                    this.mode === n.FILLED && (t = cc.clamp01(t)),
                                        (this._N$totalLength = t),
                                        this._updateBarStatus();
                                },
                            },
                            progress: {
                                default: 1,
                                type: 'Float',
                                range: [0, 1, 0.1],
                                slide: !0,
                                tooltip: !1,
                                notify: function () {
                                    this._updateBarStatus();
                                },
                            },
                            reverse: {
                                default: !1,
                                tooltip: !1,
                                notify: function () {
                                    this.barSprite && (this.barSprite.fillStart = 1 - this.barSprite.fillStart),
                                        this._updateBarStatus();
                                },
                                animatable: !1,
                            },
                        },
                        statics: {
                            Mode: n,
                        },
                    });
                cc.ProgressBar = e.exports = r;
            },
            {
                './CCComponent': 66,
            },
        ],
        75: [
            function (t, e, i) {
                var n = cc.Class({
                    extends: t('./CCSGComponent'),
                    name: 'cc._RendererInSG',
                    ctor: function () {
                        var t = (this._sgNode = this._createSgNode());
                        t.setVisible(!1), (this._plainNode = new _ccsg.Node());
                    },
                    __preload: function () {
                        this._initSgNode();
                    },
                    onEnable: function () {
                        this._replaceSgNode(this._sgNode);
                    },
                    onDisable: function () {
                        this._replaceSgNode(this._plainNode);
                    },
                    onDestroy: function () {
                        this._removeSgNode();
                    },
                    _replaceSgNode: function (t) {
                        var e = this.node,
                            i = e._sgNode;
                        i._entity = null;
                        var n = i.getChildren().slice();
                        i.removeAllChildren(!1), t.getChildrenCount() > 0 && t.removeAllChildren(!1);
                        for (var r = 0, s = n.length; r < s; ++r) t.addChild(n[r]);
                        var o = i.getParent();
                        o &&
                            (o.removeChild(i, !1),
                            o.addChild(t),
                            (t._arrivalOrder = i._arrivalOrder),
                            (cc.renderer.childrenOrderDirty = o._reorderChildDirty = !0)),
                            (e._sgNode = t),
                            (e._sgNode._entity = e),
                            e._updateSgNode();
                    },
                });
                cc._RendererInSG = e.exports = n;
            },
            {
                './CCSGComponent': 78,
            },
        ],
        76: [
            function (t, e, i) {
                var n = cc.Class({
                    extends: t('./CCSGComponent'),
                    name: 'cc._RendererUnderSG',
                    ctor: function () {
                        var t = (this._sgNode = this._createSgNode());
                        t && t.setVisible(!1);
                    },
                    __preload: function () {
                        this._initSgNode(), this._registSizeProvider(), this._appendSgNode(this._sgNode);
                    },
                    onEnable: function () {
                        this._sgNode && this._sgNode.setVisible(!0);
                    },
                    onDisable: function () {
                        this._sgNode && this._sgNode.setVisible(!1);
                    },
                    onDestroy: function () {
                        this.node._sizeProvider === this._sgNode && (this.node._sizeProvider = null),
                            this._removeSgNode();
                    },
                    _appendSgNode: function (t) {
                        if (t) {
                            var e = this.node;
                            t.setColor(e._color),
                                e._cascadeOpacityEnabled || t.setOpacity(e._opacity),
                                t.setAnchorPoint(e._anchorPoint),
                                t.setOpacityModifyRGB(e._opacityModifyRGB),
                                t.setLocalZOrder(-1);
                            e._sgNode.addChild(t);
                        }
                    },
                });
                cc._RendererUnderSG = e.exports = n;
            },
            {
                './CCSGComponent': 78,
            },
        ],
        77: [
            function (t, e, i) {
                t('../label/CCHtmlTextParser'), t('../label/CCTextUtils');
                var n = cc.TextAlignment,
                    r = cc.VerticalTextAlignment,
                    s = cc.Class({
                        name: 'cc.RichText',
                        extends: cc._RendererUnderSG,
                        ctor: function () {
                            (this._textArray = null),
                                (this._labelSegments = []),
                                (this._labelSegmentsCache = []),
                                (this._linesWidth = []),
                                this._resetState(),
                                (this._updateRichTextStatus = this._updateRichText);
                        },
                        editor: !1,
                        properties: {
                            string: {
                                default: '<color=#00ff00>Rich</c><color=#0fffff>Text</color>',
                                multiline: !0,
                                tooltip: !1,
                                notify: function () {
                                    this._updateRichTextStatus();
                                },
                            },
                            horizontalAlign: {
                                default: n.LEFT,
                                type: n,
                                tooltip: !1,
                                animatable: !1,
                                notify: function (t) {
                                    this.horizontalAlign !== t &&
                                        ((this._layoutDirty = !0), this._updateRichTextStatus());
                                },
                            },
                            fontSize: {
                                default: 40,
                                tooltip: !1,
                                notify: function (t) {
                                    this.fontSize !== t && ((this._layoutDirty = !0), this._updateRichTextStatus());
                                },
                            },
                            font: {
                                default: null,
                                type: cc.TTFFont,
                                tooltip: !1,
                                notify: function (t) {
                                    this.font !== t &&
                                        ((this._layoutDirty = !0),
                                        this.font && this._onTTFLoaded(),
                                        this._updateRichTextStatus());
                                },
                            },
                            maxWidth: {
                                default: 0,
                                tooltip: !1,
                                notify: function (t) {
                                    this.maxWidth !== t && ((this._layoutDirty = !0), this._updateRichTextStatus());
                                },
                            },
                            lineHeight: {
                                default: 40,
                                tooltip: !1,
                                notify: function (t) {
                                    this.lineHeight !== t && ((this._layoutDirty = !0), this._updateRichTextStatus());
                                },
                            },
                            imageAtlas: {
                                default: null,
                                type: cc.SpriteAtlas,
                                tooltip: !1,
                                notify: function (t) {
                                    this.imageAtlas !== t && ((this._layoutDirty = !0), this._updateRichTextStatus());
                                },
                            },
                            handleTouchEvent: {
                                default: !0,
                                tooltip: !1,
                                notify: function (t) {
                                    this.handleTouchEvent !== t &&
                                        this.enabledInHierarchy &&
                                        (this.handleTouchEvent
                                            ? this._addEventListeners()
                                            : this._removeEventListeners());
                                },
                            },
                        },
                        statics: {
                            HorizontalAlign: n,
                            VerticalAlign: r,
                        },
                        onEnable: function () {
                            this._super(), this.handleTouchEvent && this._addEventListeners();
                        },
                        onDisable: function () {
                            this._super(), this.handleTouchEvent && this._removeEventListeners();
                        },
                        _addEventListeners: function () {
                            this.node.on(cc.Node.EventType.TOUCH_END, this._onTouchEnded, this);
                        },
                        _removeEventListeners: function () {
                            this.node.off(cc.Node.EventType.TOUCH_END, this._onTouchEnded, this);
                        },
                        _createSgNode: function () {
                            var t = new _ccsg.Node();
                            t.setCascadeOpacityEnabled(!0);
                            var e = this;
                            return (
                                (t.setColor = function () {
                                    e._updateLabelSegmentTextAttributes();
                                }),
                                (t._setContentSize = t.setContentSize),
                                (t.setContentSize = function () {}),
                                t
                            );
                        },
                        _updateLabelSegmentTextAttributes: function () {
                            this._labelSegments.forEach(
                                function (t) {
                                    this._applyTextAttribute(t);
                                }.bind(this),
                            );
                        },
                        _initSgNode: function () {
                            this._updateRichText(), this._onTTFLoaded();
                        },
                        _createFontLabel: function (t) {
                            return _ccsg.Label.pool.get(t, this.font, null, this.fontSize);
                        },
                        _getFontRawUrl: function () {
                            return this.font instanceof cc.TTFFont ? this.font.rawUrl : '';
                        },
                        _onTTFLoaded: function () {
                            var t = this._getFontRawUrl();
                            if (t) {
                                var e = this;
                                cc.CustomFontLoader.loadTTF(t, function () {
                                    (e._layoutDirty = !0), e._updateRichText();
                                });
                            }
                        },
                        _measureText: function (t, e) {
                            var i = this,
                                n = function (e) {
                                    var n;
                                    0 === i._labelSegmentsCache.length
                                        ? ((n = i._createFontLabel(e)), i._labelSegmentsCache.push(n))
                                        : (n = i._labelSegmentsCache[0]).setString(e),
                                        (n._styleIndex = t),
                                        i._applyTextAttribute(n);
                                    return n.getContentSize().width;
                                };
                            return e ? n(e) : n;
                        },
                        _onTouchEnded: function (t) {
                            for (
                                var e = this.node.getComponents(cc.Component), i = 0;
                                i < this._labelSegments.length;
                                ++i
                            ) {
                                var n = this._labelSegments[i],
                                    r = n._clickHandler;
                                r &&
                                    this._containsTouchLocation(n, t.touch.getLocation()) &&
                                    (e.forEach(function (e) {
                                        e.enabledInHierarchy && e[r] && e[r](t);
                                    }),
                                    t.stopPropagation());
                            }
                        },
                        _containsTouchLocation: function (t, e) {
                            var i = t.getBoundingBoxToWorld();
                            return cc.rectContainsPoint(i, e);
                        },
                        _resetState: function () {
                            var t = this._sgNode;
                            t && t.removeAllChildren(),
                                (this._labelSegments.length = 0),
                                (this._labelSegmentsCache.length = 0),
                                (this._linesWidth.length = 0),
                                (this._lineOffsetX = 0),
                                (this._lineCount = 1),
                                (this._labelWidth = 0),
                                (this._labelHeight = 0),
                                (this._layoutDirty = !0);
                        },
                        _addLabelSegment: function (t, e) {
                            var i;
                            0 === this._labelSegmentsCache.length
                                ? (i = this._createFontLabel(t))
                                : (i = this._labelSegmentsCache.pop()).setString(t),
                                (i._styleIndex = e),
                                (i._lineCount = this._lineCount),
                                this._applyTextAttribute(i),
                                i.setAnchorPoint(0, 0),
                                this._sgNode.addChild(i),
                                this._labelSegments.push(i);
                            return i;
                        },
                        _updateRichTextWithMaxWidth: function (t, e, i) {
                            var n = e;
                            if (this._lineOffsetX > 0 && n + this._lineOffsetX > this.maxWidth)
                                for (var r = 0; this._lineOffsetX <= this.maxWidth; ) {
                                    var s = this._getFirstWordLen(t, r, t.length),
                                        o = t.substr(r, s),
                                        a = this._measureText(i, o);
                                    if (!(this._lineOffsetX + a <= this.maxWidth)) {
                                        if (r > 0) {
                                            var c = t.substr(0, r);
                                            this._addLabelSegment(c, i),
                                                (t = t.substr(r, t.length)),
                                                (n = this._measureText(i, t));
                                        }
                                        this._updateLineInfo();
                                        break;
                                    }
                                    (this._lineOffsetX += a), (r += s);
                                }
                            if (n > this.maxWidth)
                                for (
                                    var h = cc.TextUtils.fragmentText(t, n, this.maxWidth, this._measureText(i)), l = 0;
                                    l < h.length;
                                    ++l
                                ) {
                                    var u = h[l],
                                        d = this._addLabelSegment(u, i).getContentSize();
                                    (this._lineOffsetX += d.width),
                                        h.length > 1 && l < h.length - 1 && this._updateLineInfo();
                                }
                            else (this._lineOffsetX += n), this._addLabelSegment(t, i);
                        },
                        _isLastComponentCR: function (t) {
                            return t.length - 1 === t.lastIndexOf('\n');
                        },
                        _updateLineInfo: function () {
                            this._linesWidth.push(this._lineOffsetX), (this._lineOffsetX = 0), this._lineCount++;
                        },
                        _needsUpdateTextLayout: function (t) {
                            if (this._layoutDirty || !this._textArray || !t) return !0;
                            if (this._textArray.length !== t.length) return !0;
                            for (var e = 0; e < this._textArray.length; ++e) {
                                var i = this._textArray[e],
                                    n = t[e];
                                if (i.text != n.text) return !0;
                                if (i.style) {
                                    if (n.style) {
                                        if (
                                            i.style.size !== n.style.size ||
                                            i.style.italic !== n.style.italic ||
                                            i.style.isImage !== n.style.isImage
                                        )
                                            return !0;
                                        if (i.style.isImage === n.style.isImage && i.style.src !== n.style.src)
                                            return !0;
                                    } else if (i.style.size || i.style.italic || i.style.isImage) return !0;
                                } else if (n.style && (n.style.size || n.style.italic || n.style.isImage)) return !0;
                            }
                            return !1;
                        },
                        _onSpriteFrameLoaded: function (t, e) {
                            var i;
                            (i = e || t.target).__sprite.setSpriteFrame(i);
                        },
                        _applySpriteFrame: function (t) {
                            t &&
                                (t.textureLoaded()
                                    ? this._onSpriteFrameLoaded(null, t)
                                    : (t.once('load', this._onSpriteFrameLoaded, this), t.ensureLoadTexture()));
                        },
                        _addRichTextImageElement: function (t) {
                            var e = t.style.src,
                                i = this.imageAtlas.getSpriteFrame(e);
                            if (i) {
                                var n = new cc.Scale9Sprite();
                                n.setAnchorPoint(0, 0),
                                    (i.__sprite = n),
                                    this._sgNode.addChild(n),
                                    this._labelSegments.push(n);
                                var r = i.getRect(),
                                    s = 1,
                                    o = r.width,
                                    a = r.height,
                                    c = t.style.imageWidth,
                                    h = t.style.imageHeight;
                                h > 0 && h < this.lineHeight
                                    ? ((o *= s = h / a), (a *= s))
                                    : ((o *= s = this.lineHeight / a), (a *= s)),
                                    c > 0 && (o = c),
                                    this.maxWidth > 0
                                        ? (this._lineOffsetX + o > this.maxWidth && this._updateLineInfo(),
                                          (this._lineOffsetX += o))
                                        : ((this._lineOffsetX += o),
                                          this._lineOffsetX > this._labelWidth &&
                                              (this._labelWidth = this._lineOffsetX)),
                                    this._applySpriteFrame(i),
                                    n.setContentSize(o, a),
                                    (n._lineCount = this._lineCount),
                                    t.style.event && t.style.event.click && (n._clickHandler = t.style.event.click);
                            } else cc.warnID(4400);
                        },
                        _updateRichText: function () {
                            if (this.enabled) {
                                var t = cc.htmlTextParser.parse(this.string);
                                if (!this._needsUpdateTextLayout(t))
                                    return (this._textArray = t), void this._updateLabelSegmentTextAttributes();
                                (this._textArray = t), this._resetState();
                                for (var e, i = !1, n = 0; n < this._textArray.length; ++n) {
                                    var r = this._textArray[n],
                                        s = r.text;
                                    if ('' === s) {
                                        if (r.style && r.style.newline) {
                                            this._updateLineInfo();
                                            continue;
                                        }
                                        if (r.style && r.style.isImage && this.imageAtlas) {
                                            this._addRichTextImageElement(r);
                                            continue;
                                        }
                                    }
                                    for (var o = s.split('\n'), a = 0; a < o.length; ++a) {
                                        var c = o[a];
                                        if ('' !== c)
                                            if (((i = !1), this.maxWidth > 0)) {
                                                var h = this._measureText(n, c);
                                                this._updateRichTextWithMaxWidth(c, h, n),
                                                    o.length > 1 && a < o.length - 1 && this._updateLineInfo();
                                            } else
                                                (e = this._addLabelSegment(c, n).getContentSize()),
                                                    (this._lineOffsetX += e.width),
                                                    this._lineOffsetX > this._labelWidth &&
                                                        (this._labelWidth = this._lineOffsetX),
                                                    o.length > 1 && a < o.length - 1 && this._updateLineInfo();
                                        else {
                                            if (this._isLastComponentCR(s) && a == o.length - 1) continue;
                                            this._updateLineInfo(), (i = !0);
                                        }
                                    }
                                }
                                i || this._linesWidth.push(this._lineOffsetX),
                                    this.maxWidth > 0 && (this._labelWidth = this.maxWidth),
                                    (this._labelHeight = this._lineCount * this.lineHeight),
                                    this.node.setContentSize(this._labelWidth, this._labelHeight),
                                    this._sgNode._setContentSize(this._labelWidth, this._labelHeight),
                                    this._updateRichTextPosition(),
                                    (this._layoutDirty = !1);
                            }
                        },
                        _getFirstWordLen: function (t, e, i) {
                            var n = t.charAt(e);
                            if (cc.TextUtils.isUnicodeCJK(n) || cc.TextUtils.isUnicodeSpace(n)) return 1;
                            for (
                                var r = 1, s = e + 1;
                                s < i &&
                                ((n = t.charAt(s)), !cc.TextUtils.isUnicodeSpace(n) && !cc.TextUtils.isUnicodeCJK(n));
                                ++s
                            )
                                r++;
                            return r;
                        },
                        _updateRichTextPosition: function () {
                            for (var t = 0, e = 1, i = this._lineCount, n = 0; n < this._labelSegments.length; ++n) {
                                var r = this._labelSegments[n],
                                    s = r._lineCount;
                                s > e && ((t = 0), (e = s));
                                var o = 0;
                                switch (this.horizontalAlign) {
                                    case cc.TextAlignment.LEFT:
                                        o = 0;
                                        break;
                                    case cc.TextAlignment.CENTER:
                                        o = (this._labelWidth - this._linesWidth[s - 1]) / 2;
                                        break;
                                    case cc.TextAlignment.RIGHT:
                                        o = this._labelWidth - this._linesWidth[s - 1];
                                }
                                r.setPositionX(t + o);
                                var a = r.getContentSize(),
                                    c = (i - s) * this.lineHeight;
                                r instanceof cc.Scale9Sprite &&
                                    (c += (this.lineHeight - r.getContentSize().height) / 2),
                                    r.setPositionY(c),
                                    s === e && (t += a.width);
                            }
                        },
                        _convertLiteralColorValue: function (t) {
                            var e = t.toUpperCase();
                            return cc.Color[e] ? cc.Color[e] : cc.hexToColor(t);
                        },
                        _applyTextAttribute: function (t) {
                            if (!(t instanceof cc.Scale9Sprite)) {
                                var e = t._styleIndex;
                                t.setLineHeight(this.lineHeight), t.setVerticalAlign(r.CENTER);
                                var i = null;
                                this._textArray[e] && (i = this._textArray[e].style),
                                    i && i.color
                                        ? t.setColor(this._convertLiteralColorValue(i.color))
                                        : t.setColor(this.node.color),
                                    i && i.bold ? t.enableBold(!0) : t.enableBold(!1),
                                    i && i.italic ? t.enableItalics(!0) : t.enableItalics(!1),
                                    i && i.underline ? t.enableUnderline(!0) : t.enableUnderline(!1),
                                    i && i.outline
                                        ? (t.setOutlined(!0),
                                          t.setOutlineColor(this._convertLiteralColorValue(i.outline.color)),
                                          t.setOutlineWidth(i.outline.width),
                                          t.setMargin(i.outline.width))
                                        : (t.setOutlined(!1), t.setMargin(0)),
                                    i && i.size ? t.setFontSize(i.size) : t.setFontSize(this.fontSize),
                                    i && i.event && i.event.click && (t._clickHandler = i.event.click);
                            }
                        },
                        onDestroy: function () {
                            this._super();
                            for (var t = 0; t < this._labelSegments.length; ++t)
                                this._labelSegments[t].removeFromParent(!0),
                                    _ccsg.Label.pool.put(this._labelSegments[t]);
                            this._resetState();
                        },
                    });
                cc.RichText = e.exports = s;
            },
            {
                '../label/CCHtmlTextParser': 110,
                '../label/CCTextUtils': 114,
            },
        ],
        78: [
            function (t, e, i) {
                var n = t('../utils/scene-graph-helper'),
                    r = cc.Class({
                        extends: t('./CCComponent'),
                        name: 'cc._SGComponent',
                        editor: !1,
                        properties: {
                            _sgNode: {
                                default: null,
                                serializable: !1,
                            },
                        },
                        _createSgNode: null,
                        _initSgNode: null,
                        _removeSgNode: n.removeSgNode,
                        _registSizeProvider: function () {
                            if (this.node._sizeProvider) {
                            } else this.node._sizeProvider = this._sgNode;
                        },
                    });
                cc._SGComponent = e.exports = r;
            },
            {
                '../utils/scene-graph-helper': 188,
                './CCComponent': 66,
            },
        ],
        79: [
            function (t, e, i) {
                var n = cc.Enum({
                        HORIZONTAL: 0,
                        VERTICAL: 1,
                    }),
                    r = cc.Class({
                        name: 'cc.Scrollbar',
                        extends: t('./CCComponent'),
                        editor: !1,
                        properties: {
                            _scrollView: null,
                            _touching: !1,
                            _autoHideRemainingTime: {
                                default: 0,
                                serializable: !1,
                            },
                            _opacity: 255,
                            handle: {
                                default: null,
                                type: cc.Sprite,
                                tooltip: !1,
                                notify: function () {
                                    this._onScroll(cc.p(0, 0));
                                },
                                animatable: !1,
                            },
                            direction: {
                                default: n.HORIZONTAL,
                                type: n,
                                tooltip: !1,
                                notify: function () {
                                    this._onScroll(cc.p(0, 0));
                                },
                                animatable: !1,
                            },
                            enableAutoHide: {
                                default: !0,
                                animatable: !1,
                                tooltip: !1,
                            },
                            autoHideTime: {
                                default: 1,
                                animatable: !1,
                                tooltip: !1,
                            },
                        },
                        statics: {
                            Direction: n,
                        },
                        setTargetScrollView: function (t) {
                            this._scrollView = t;
                        },
                        _convertToScrollViewSpace: function (t) {
                            var e = t.convertToWorldSpace(cc.p(0, 0));
                            return this._scrollView.node.convertToNodeSpace(e);
                        },
                        _setOpacity: function (t) {
                            this.handle && this.node.setOpacity(t);
                        },
                        _onScroll: function (t) {
                            if (this._scrollView) {
                                var e = this._scrollView.content;
                                if (e) {
                                    var i = e.getContentSize(),
                                        r = this._scrollView.node.getContentSize(),
                                        s = this.node.getContentSize();
                                    if (this._conditionalDisableScrollBar(i, r)) return;
                                    this.enableAutoHide &&
                                        ((this._autoHideRemainingTime = this.autoHideTime),
                                        this._setOpacity(this._opacity));
                                    var o = 0,
                                        a = 0,
                                        c = 0,
                                        h = 0,
                                        l = 0;
                                    this.direction === n.HORIZONTAL
                                        ? ((o = i.width),
                                          (a = r.width),
                                          (l = s.width),
                                          (c = t.x),
                                          (h = -this._convertToScrollViewSpace(e).x))
                                        : this.direction === n.VERTICAL &&
                                          ((o = i.height),
                                          (a = r.height),
                                          (l = s.height),
                                          (c = t.y),
                                          (h = -this._convertToScrollViewSpace(e).y));
                                    var u = this._calculateLength(o, a, l, c),
                                        d = this._calculatePosition(o, a, l, h, c, u);
                                    this._updateLength(u), this._updateHanlderPosition(d);
                                }
                            }
                        },
                        _updateHanlderPosition: function (t) {
                            if (this.handle) {
                                var e = this._fixupHandlerPosition();
                                this.handle.node.setPosition(cc.pAdd(t, e));
                            }
                        },
                        _fixupHandlerPosition: function () {
                            var t = this.node.getContentSize(),
                                e = this.node.getAnchorPoint(),
                                i = this.handle.node.getContentSize(),
                                r = this.handle.node.parent,
                                s = this.node.convertToWorldSpaceAR(cc.p(-t.width * e.x, -t.height * e.y)),
                                o = r.convertToNodeSpaceAR(s);
                            return (
                                this.direction === n.HORIZONTAL
                                    ? (o = cc.pAdd(o, cc.p(0, (t.height - i.height) / 2)))
                                    : this.direction === n.VERTICAL &&
                                      (o = cc.pAdd(o, cc.p((t.width - i.width) / 2, 0))),
                                this.handle.node.setPosition(o),
                                o
                            );
                        },
                        _onTouchBegan: function () {
                            this.enableAutoHide && (this._touching = !0);
                        },
                        _conditionalDisableScrollBar: function (t, e) {
                            return (
                                (t.width <= e.width && this.direction === n.HORIZONTAL) ||
                                (t.height <= e.height && this.direction === n.VERTICAL)
                            );
                        },
                        _onTouchEnded: function () {
                            if (this.enableAutoHide && ((this._touching = !1), !(this.autoHideTime <= 0))) {
                                if (this._scrollView) {
                                    var t = this._scrollView.content;
                                    if (t) {
                                        var e = t.getContentSize(),
                                            i = this._scrollView.node.getContentSize();
                                        if (this._conditionalDisableScrollBar(e, i)) return;
                                    }
                                }
                                this._autoHideRemainingTime = this.autoHideTime;
                            }
                        },
                        _calculateLength: function (t, e, i, n) {
                            var r = t;
                            n && (r += 20 * (n > 0 ? n : -n));
                            return i * (e / r);
                        },
                        _calculatePosition: function (t, e, i, r, s, o) {
                            var a = t - e;
                            s && (a += Math.abs(s));
                            var c = 0;
                            a && ((c = r / a), (c = cc.clamp01(c)));
                            var h = (i - o) * c;
                            return this.direction === n.VERTICAL ? cc.p(0, h) : cc.p(h, 0);
                        },
                        _updateLength: function (t) {
                            if (this.handle) {
                                var e = this.handle.node,
                                    i = e.getContentSize();
                                e.setAnchorPoint(cc.p(0, 0)),
                                    this.direction === n.HORIZONTAL
                                        ? e.setContentSize(t, i.height)
                                        : e.setContentSize(i.width, t);
                            }
                        },
                        _processAutoHide: function (t) {
                            if (
                                this.enableAutoHide &&
                                !(this._autoHideRemainingTime <= 0) &&
                                !this._touching &&
                                ((this._autoHideRemainingTime -= t), this._autoHideRemainingTime <= this.autoHideTime)
                            ) {
                                this._autoHideRemainingTime = Math.max(0, this._autoHideRemainingTime);
                                var e = this._opacity * (this._autoHideRemainingTime / this.autoHideTime);
                                this._setOpacity(e);
                            }
                        },
                        start: function () {
                            this.enableAutoHide && this._setOpacity(0);
                        },
                        hide: function () {
                            (this._autoHideRemainingTime = 0), this._setOpacity(0);
                        },
                        show: function () {
                            (this._autoHideRemainingTime = this.autoHideTime), this._setOpacity(this._opacity);
                        },
                        update: function (t) {
                            this._processAutoHide(t);
                        },
                    });
                cc.Scrollbar = e.exports = r;
            },
            {
                './CCComponent': 66,
            },
        ],
        80: [
            function (t, e, i) {
                var n = function () {
                        return new Date().getMilliseconds();
                    },
                    r = cc.Enum({
                        SCROLL_TO_TOP: 0,
                        SCROLL_TO_BOTTOM: 1,
                        SCROLL_TO_LEFT: 2,
                        SCROLL_TO_RIGHT: 3,
                        SCROLLING: 4,
                        BOUNCE_TOP: 5,
                        BOUNCE_BOTTOM: 6,
                        BOUNCE_LEFT: 7,
                        BOUNCE_RIGHT: 8,
                        SCROLL_ENDED: 9,
                        TOUCH_UP: 10,
                        AUTOSCROLL_ENDED_WITH_THRESHOLD: 11,
                        SCROLL_BEGAN: 12,
                    }),
                    s = {
                        'scroll-to-top': r.SCROLL_TO_TOP,
                        'scroll-to-bottom': r.SCROLL_TO_BOTTOM,
                        'scroll-to-left': r.SCROLL_TO_LEFT,
                        'scroll-to-right': r.SCROLL_TO_RIGHT,
                        scrolling: r.SCROLLING,
                        'bounce-bottom': r.BOUNCE_BOTTOM,
                        'bounce-left': r.BOUNCE_LEFT,
                        'bounce-right': r.BOUNCE_RIGHT,
                        'bounce-top': r.BOUNCE_TOP,
                        'scroll-ended': r.SCROLL_ENDED,
                        'touch-up': r.TOUCH_UP,
                        'scroll-ended-with-threshold': r.AUTOSCROLL_ENDED_WITH_THRESHOLD,
                        'scroll-began': r.SCROLL_BEGAN,
                    },
                    o = cc.Class({
                        name: 'cc.ScrollView',
                        extends: t('./CCViewGroup'),
                        editor: !1,
                        ctor: function () {
                            (this._topBoundary = 0),
                                (this._bottomBoundary = 0),
                                (this._leftBoundary = 0),
                                (this._rightBoundary = 0),
                                (this._touchMoveDisplacements = []),
                                (this._touchMoveTimeDeltas = []),
                                (this._touchMovePreviousTimestamp = 0),
                                (this._touchMoved = !1),
                                (this._autoScrolling = !1),
                                (this._autoScrollAttenuate = !1),
                                (this._autoScrollStartPosition = cc.p(0, 0)),
                                (this._autoScrollTargetDelta = cc.p(0, 0)),
                                (this._autoScrollTotalTime = 0),
                                (this._autoScrollAccumulatedTime = 0),
                                (this._autoScrollCurrentlyOutOfBoundary = !1),
                                (this._autoScrollBraking = !1),
                                (this._autoScrollBrakingStartPosition = cc.p(0, 0)),
                                (this._outOfBoundaryAmount = cc.p(0, 0)),
                                (this._outOfBoundaryAmountDirty = !0),
                                (this._stopMouseWheel = !1),
                                (this._mouseWheelEventElapsedTime = 0),
                                (this._isScrollEndedWithThresholdEventFired = !1),
                                (this._scrollEventEmitMask = 0),
                                (this._isBouncing = !1),
                                (this._scrolling = !1);
                        },
                        properties: {
                            content: {
                                default: void 0,
                                type: cc.Node,
                                tooltip: !1,
                            },
                            horizontal: {
                                default: !0,
                                animatable: !1,
                                tooltip: !1,
                            },
                            vertical: {
                                default: !0,
                                animatable: !1,
                                tooltip: !1,
                            },
                            inertia: {
                                default: !0,
                                tooltip: !1,
                            },
                            brake: {
                                default: 0.5,
                                type: 'Float',
                                range: [0, 1, 0.1],
                                tooltip: !1,
                            },
                            elastic: {
                                default: !0,
                                animatable: !1,
                                tooltip: !1,
                            },
                            bounceDuration: {
                                default: 1,
                                range: [0, 10],
                                tooltip: !1,
                            },
                            horizontalScrollBar: {
                                default: void 0,
                                type: cc.Scrollbar,
                                tooltip: !1,
                                notify: function () {
                                    this.horizontalScrollBar &&
                                        (this.horizontalScrollBar.setTargetScrollView(this), this._updateScrollBar(0));
                                },
                                animatable: !1,
                            },
                            verticalScrollBar: {
                                default: void 0,
                                type: cc.Scrollbar,
                                tooltip: !1,
                                notify: function () {
                                    this.verticalScrollBar &&
                                        (this.verticalScrollBar.setTargetScrollView(this), this._updateScrollBar(0));
                                },
                                animatable: !1,
                            },
                            scrollEvents: {
                                default: [],
                                type: cc.Component.EventHandler,
                                tooltip: !1,
                            },
                            cancelInnerEvents: {
                                default: !0,
                                animatable: !1,
                                tooltip: !1,
                            },
                        },
                        statics: {
                            EventType: r,
                        },
                        scrollToBottom: function (t, e) {
                            var i = this._calculateMovePercentDelta({
                                anchor: cc.p(0, 0),
                                applyToHorizontal: !1,
                                applyToVertical: !0,
                            });
                            t ? this._startAutoScroll(i, t, !1 !== e) : this._moveContent(i, !0);
                        },
                        scrollToTop: function (t, e) {
                            var i = this._calculateMovePercentDelta({
                                anchor: cc.p(0, 1),
                                applyToHorizontal: !1,
                                applyToVertical: !0,
                            });
                            t ? this._startAutoScroll(i, t, !1 !== e) : this._moveContent(i);
                        },
                        scrollToLeft: function (t, e) {
                            var i = this._calculateMovePercentDelta({
                                anchor: cc.p(0, 0),
                                applyToHorizontal: !0,
                                applyToVertical: !1,
                            });
                            t ? this._startAutoScroll(i, t, !1 !== e) : this._moveContent(i);
                        },
                        scrollToRight: function (t, e) {
                            var i = this._calculateMovePercentDelta({
                                anchor: cc.p(1, 0),
                                applyToHorizontal: !0,
                                applyToVertical: !1,
                            });
                            t ? this._startAutoScroll(i, t, !1 !== e) : this._moveContent(i);
                        },
                        scrollToTopLeft: function (t, e) {
                            var i = this._calculateMovePercentDelta({
                                anchor: cc.p(0, 1),
                                applyToHorizontal: !0,
                                applyToVertical: !0,
                            });
                            t ? this._startAutoScroll(i, t, !1 !== e) : this._moveContent(i);
                        },
                        scrollToTopRight: function (t, e) {
                            var i = this._calculateMovePercentDelta({
                                anchor: cc.p(1, 1),
                                applyToHorizontal: !0,
                                applyToVertical: !0,
                            });
                            t ? this._startAutoScroll(i, t, !1 !== e) : this._moveContent(i);
                        },
                        scrollToBottomLeft: function (t, e) {
                            var i = this._calculateMovePercentDelta({
                                anchor: cc.p(0, 0),
                                applyToHorizontal: !0,
                                applyToVertical: !0,
                            });
                            t ? this._startAutoScroll(i, t, !1 !== e) : this._moveContent(i);
                        },
                        scrollToBottomRight: function (t, e) {
                            var i = this._calculateMovePercentDelta({
                                anchor: cc.p(1, 0),
                                applyToHorizontal: !0,
                                applyToVertical: !0,
                            });
                            t ? this._startAutoScroll(i, t, !1 !== e) : this._moveContent(i);
                        },
                        scrollToOffset: function (t, e, i) {
                            var n = this.getMaxScrollOffset(),
                                r = cc.p(0, 0);
                            0 === n.x ? (r.x = 0) : (r.x = t.x / n.x),
                                0 === n.y ? (r.y = 1) : (r.y = (n.y - t.y) / n.y),
                                this.scrollTo(r, e, i);
                        },
                        getScrollOffset: function () {
                            var t = this._getContentTopBoundary() - this._topBoundary,
                                e = this._getContentLeftBoundary() - this._leftBoundary;
                            return cc.p(e, t);
                        },
                        getMaxScrollOffset: function () {
                            var t = this.node.getContentSize(),
                                e = this.content.getContentSize(),
                                i = e.width - t.width,
                                n = e.height - t.height;
                            return (i = i >= 0 ? i : 0), (n = n >= 0 ? n : 0), cc.p(i, n);
                        },
                        scrollToPercentHorizontal: function (t, e, i) {
                            var n = this._calculateMovePercentDelta({
                                anchor: cc.p(t, 0),
                                applyToHorizontal: !0,
                                applyToVertical: !1,
                            });
                            e ? this._startAutoScroll(n, e, !1 !== i) : this._moveContent(n);
                        },
                        scrollTo: function (t, e, i) {
                            var n = this._calculateMovePercentDelta({
                                anchor: t,
                                applyToHorizontal: !0,
                                applyToVertical: !0,
                            });
                            e ? this._startAutoScroll(n, e, !1 !== i) : this._moveContent(n);
                        },
                        scrollToPercentVertical: function (t, e, i) {
                            var n = this._calculateMovePercentDelta({
                                anchor: cc.p(0, t),
                                applyToHorizontal: !1,
                                applyToVertical: !0,
                            });
                            e ? this._startAutoScroll(n, e, !1 !== i) : this._moveContent(n);
                        },
                        stopAutoScroll: function () {
                            (this._autoScrolling = !1), (this._autoScrollAccumulatedTime = this._autoScrollTotalTime);
                        },
                        setContentPosition: function (t) {
                            cc.pFuzzyEqual(t, this.getContentPosition(), 1e-4) ||
                                (this.content.setPosition(t), (this._outOfBoundaryAmountDirty = !0));
                        },
                        getContentPosition: function () {
                            return this.content.getPosition();
                        },
                        isScrolling: function () {
                            return this._scrolling;
                        },
                        isAutoScrolling: function () {
                            return this._autoScrolling;
                        },
                        _registerEvent: function () {
                            this.node.on(cc.Node.EventType.TOUCH_START, this._onTouchBegan, this, !0),
                                this.node.on(cc.Node.EventType.TOUCH_MOVE, this._onTouchMoved, this, !0),
                                this.node.on(cc.Node.EventType.TOUCH_END, this._onTouchEnded, this, !0),
                                this.node.on(cc.Node.EventType.TOUCH_CANCEL, this._onTouchCancelled, this, !0),
                                this.node.on(cc.Node.EventType.MOUSE_WHEEL, this._onMouseWheel, this, !0);
                        },
                        _unregisterEvent: function () {
                            this.node.off(cc.Node.EventType.TOUCH_START, this._onTouchBegan, this, !0),
                                this.node.off(cc.Node.EventType.TOUCH_MOVE, this._onTouchMoved, this, !0),
                                this.node.off(cc.Node.EventType.TOUCH_END, this._onTouchEnded, this, !0),
                                this.node.off(cc.Node.EventType.TOUCH_CANCEL, this._onTouchCancelled, this, !0),
                                this.node.off(cc.Node.EventType.MOUSE_WHEEL, this._onMouseWheel, this, !0);
                        },
                        _onMouseWheel: function (t, e) {
                            if (this.enabledInHierarchy && !this._hasNestedViewGroup(t, e)) {
                                var i = cc.p(0, 0),
                                    n = -0.1;
                                0,
                                    this.vertical
                                        ? (i = cc.p(0, t.getScrollY() * n))
                                        : this.horizontal && (i = cc.p(t.getScrollY() * n, 0)),
                                    (this._mouseWheelEventElapsedTime = 0),
                                    this._processDeltaMove(i),
                                    this._stopMouseWheel ||
                                        (this._handlePressLogic(),
                                        this.schedule(this._checkMouseWheel, 1 / 60),
                                        (this._stopMouseWheel = !0)),
                                    this._stopPropagationIfTargetIsMe(t);
                            }
                        },
                        _checkMouseWheel: function (t) {
                            var e = this._getHowMuchOutOfBoundary();
                            if (!cc.pFuzzyEqual(e, cc.p(0, 0), 1e-4))
                                return (
                                    this._processInertiaScroll(),
                                    this.unschedule(this._checkMouseWheel),
                                    void (this._stopMouseWheel = !1)
                                );
                            (this._mouseWheelEventElapsedTime += t),
                                this._mouseWheelEventElapsedTime > 0.1 &&
                                    (this._onScrollBarTouchEnded(),
                                    this.unschedule(this._checkMouseWheel),
                                    (this._stopMouseWheel = !1));
                        },
                        _calculateMovePercentDelta: function (t) {
                            var e = t.anchor,
                                i = t.applyToHorizontal,
                                n = t.applyToVertical;
                            this._calculateBoundary(), (e = cc.pClamp(e, cc.p(0, 0), cc.p(1, 1)));
                            var r = this.node.getContentSize(),
                                s = this.content.getContentSize(),
                                o = this._getContentBottomBoundary() - this._bottomBoundary;
                            o = -o;
                            var a = this._getContentLeftBoundary() - this._leftBoundary;
                            a = -a;
                            var c = cc.p(0, 0),
                                h = 0;
                            return (
                                i && ((h = s.width - r.width), (c.x = a - h * e.x)),
                                n && ((h = s.height - r.height), (c.y = o - h * e.y)),
                                c
                            );
                        },
                        _moveContentToTopLeft: function (t) {
                            var e = this.content.getContentSize(),
                                i = this._getContentBottomBoundary() - this._bottomBoundary;
                            i = -i;
                            var n = cc.p(0, 0),
                                r = 0,
                                s = this._getContentLeftBoundary() - this._leftBoundary;
                            (s = -s),
                                e.height < t.height
                                    ? ((r = e.height - t.height),
                                      (n.y = i - r),
                                      this.verticalScrollBar && this.verticalScrollBar.hide())
                                    : this.verticalScrollBar && this.verticalScrollBar.show(),
                                e.width < t.width
                                    ? ((r = e.width - t.width),
                                      (n.x = s),
                                      this.horizontalScrollBar && this.horizontalScrollBar.hide())
                                    : this.horizontalScrollBar && this.horizontalScrollBar.show(),
                                this._moveContent(n),
                                this._adjustContentOutOfBoundary();
                        },
                        _calculateBoundary: function () {
                            if (this.content) {
                                var t = this.content.getComponent(cc.Layout);
                                t && t.enabledInHierarchy && t.updateLayout();
                                var e = this.node.getContentSize(),
                                    i = this._convertToContentParentSpace(cc.p(0, 0));
                                (this._leftBoundary = i.x), (this._bottomBoundary = i.y);
                                var n = this._convertToContentParentSpace(cc.p(e.width, e.height));
                                (this._rightBoundary = n.x), (this._topBoundary = n.y), this._moveContentToTopLeft(e);
                            }
                        },
                        _convertToContentParentSpace: function (t) {
                            var e = this.node.convertToWorldSpace(t);
                            return this.content.parent.convertToNodeSpaceAR(e);
                        },
                        _hasNestedViewGroup: function (t, e) {
                            if (t.eventPhase === cc.Event.CAPTURING_PHASE) {
                                if (e)
                                    for (var i = 0; i < e.length; ++i) {
                                        var n = e[i];
                                        if (this.node === n) return !!t.target.getComponent(cc.ViewGroup);
                                        if (n.getComponent(cc.ViewGroup)) return !0;
                                    }
                                return !1;
                            }
                        },
                        _stopPropagationIfTargetIsMe: function (t) {
                            t.eventPhase === cc.Event.AT_TARGET && t.target === this.node && t.stopPropagation();
                        },
                        _onTouchBegan: function (t, e) {
                            if (this.enabledInHierarchy && !this._hasNestedViewGroup(t, e)) {
                                var i = t.touch;
                                this.content && this._handlePressLogic(i),
                                    (this._touchMoved = !1),
                                    this._stopPropagationIfTargetIsMe(t);
                            }
                        },
                        _onTouchMoved: function (t, e) {
                            if (this.enabledInHierarchy && !this._hasNestedViewGroup(t, e)) {
                                var i = t.touch;
                                if ((this.content && this._handleMoveLogic(i), this.cancelInnerEvents)) {
                                    var n = cc.pSub(i.getLocation(), i.getStartLocation());
                                    if (cc.pLength(n) > 7 && !this._touchMoved && t.target !== this.node) {
                                        var r = new cc.Event.EventTouch(t.getTouches(), t.bubbles);
                                        (r.type = cc.Node.EventType.TOUCH_CANCEL),
                                            (r.touch = t.touch),
                                            (r.simulate = !0),
                                            t.target.dispatchEvent(r),
                                            (this._touchMoved = !0);
                                    }
                                    this._stopPropagationIfTargetIsMe(t);
                                }
                            }
                        },
                        _onTouchEnded: function (t, e) {
                            if (this.enabledInHierarchy && !this._hasNestedViewGroup(t, e)) {
                                this._dispatchEvent('touch-up');
                                var i = t.touch;
                                this.content && this._handleReleaseLogic(i),
                                    this._touchMoved ? t.stopPropagation() : this._stopPropagationIfTargetIsMe(t);
                            }
                        },
                        _onTouchCancelled: function (t, e) {
                            if (this.enabledInHierarchy && !this._hasNestedViewGroup(t, e)) {
                                if (!t.simulate) {
                                    var i = t.touch;
                                    this.content && this._handleReleaseLogic(i);
                                }
                                this._stopPropagationIfTargetIsMe(t);
                            }
                        },
                        _processDeltaMove: function (t) {
                            this._scrollChildren(t), this._gatherTouchMove(t);
                        },
                        _handleMoveLogic: function (t) {
                            var e = t.getDelta();
                            this._processDeltaMove(e);
                        },
                        _scrollChildren: function (t) {
                            var e,
                                i = (t = this._clampDelta(t));
                            this.elastic &&
                                ((e = this._getHowMuchOutOfBoundary()),
                                (i.x *= 0 === e.x ? 1 : 0.5),
                                (i.y *= 0 === e.y ? 1 : 0.5)),
                                this.elastic || ((e = this._getHowMuchOutOfBoundary(i)), (i = cc.pAdd(i, e)));
                            var n = -1;
                            if (i.y > 0) {
                                this.content.y - this.content.anchorY * this.content.height + i.y >
                                    this._bottomBoundary && (n = 'scroll-to-bottom');
                            } else if (i.y < 0) {
                                this.content.y -
                                    this.content.anchorY * this.content.height +
                                    this.content.height +
                                    i.y <=
                                    this._topBoundary && (n = 'scroll-to-top');
                            } else if (i.x < 0) {
                                this.content.x - this.content.anchorX * this.content.width + this.content.width + i.x <=
                                    this._rightBoundary && (n = 'scroll-to-right');
                            } else if (i.x > 0) {
                                this.content.x - this.content.anchorX * this.content.width + i.x >=
                                    this._leftBoundary && (n = 'scroll-to-left');
                            }
                            this._moveContent(i, !1),
                                (0 === i.x && 0 === i.y) ||
                                    (this._scrolling || ((this._scrolling = !0), this._dispatchEvent('scroll-began')),
                                    this._dispatchEvent('scrolling')),
                                -1 !== n && this._dispatchEvent(n);
                        },
                        _handlePressLogic: function () {
                            this._autoScrolling && this._dispatchEvent('scroll-ended'),
                                (this._autoScrolling = !1),
                                (this._isBouncing = !1),
                                (this._touchMovePreviousTimestamp = n()),
                                (this._touchMoveDisplacements.length = 0),
                                (this._touchMoveTimeDeltas.length = 0),
                                this._onScrollBarTouchBegan();
                        },
                        _clampDelta: function (t) {
                            var e = this.content.getContentSize(),
                                i = this.node.getContentSize();
                            return e.width < i.width && (t.x = 0), e.height < i.height && (t.y = 0), t;
                        },
                        _gatherTouchMove: function (t) {
                            for (t = this._clampDelta(t); this._touchMoveDisplacements.length >= 5; )
                                this._touchMoveDisplacements.shift(), this._touchMoveTimeDeltas.shift();
                            this._touchMoveDisplacements.push(t);
                            var e = n();
                            this._touchMoveTimeDeltas.push((e - this._touchMovePreviousTimestamp) / 1e3),
                                (this._touchMovePreviousTimestamp = e);
                        },
                        _startBounceBackIfNeeded: function () {
                            if (!this.elastic) return !1;
                            var t = this._getHowMuchOutOfBoundary();
                            if (((t = this._clampDelta(t)), cc.pFuzzyEqual(t, cc.p(0, 0), 1e-4))) return !1;
                            var e = Math.max(this.bounceDuration, 0);
                            return (
                                this._startAutoScroll(t, e, !0),
                                this._isBouncing ||
                                    (t.y > 0 && this._dispatchEvent('bounce-top'),
                                    t.y < 0 && this._dispatchEvent('bounce-bottom'),
                                    t.x > 0 && this._dispatchEvent('bounce-right'),
                                    t.x < 0 && this._dispatchEvent('bounce-left'),
                                    (this._isBouncing = !0)),
                                !0
                            );
                        },
                        _processInertiaScroll: function () {
                            if (!this._startBounceBackIfNeeded() && this.inertia) {
                                var t = this._calculateTouchMoveVelocity();
                                !cc.pFuzzyEqual(t, cc.p(0, 0), 1e-4) && this.brake < 1 && this._startInertiaScroll(t);
                            }
                            this._onScrollBarTouchEnded();
                        },
                        _handleReleaseLogic: function (t) {
                            var e = t.getDelta();
                            this._gatherTouchMove(e),
                                this._processInertiaScroll(),
                                this._scrolling &&
                                    ((this._scrolling = !1),
                                    this._autoScrolling || this._dispatchEvent('scroll-ended'));
                        },
                        _isOutOfBoundary: function () {
                            var t = this._getHowMuchOutOfBoundary();
                            return !cc.pFuzzyEqual(t, cc.p(0, 0), 1e-4);
                        },
                        _isNecessaryAutoScrollBrake: function () {
                            if (this._autoScrollBraking) return !0;
                            if (this._isOutOfBoundary()) {
                                if (!this._autoScrollCurrentlyOutOfBoundary)
                                    return (
                                        (this._autoScrollCurrentlyOutOfBoundary = !0),
                                        (this._autoScrollBraking = !0),
                                        (this._autoScrollBrakingStartPosition = this.getContentPosition()),
                                        !0
                                    );
                            } else this._autoScrollCurrentlyOutOfBoundary = !1;
                            return !1;
                        },
                        getScrollEndedEventTiming: function () {
                            return 1e-4;
                        },
                        _processAutoScrolling: function (t) {
                            var e = this._isNecessaryAutoScrollBrake(),
                                i = e ? 0.05 : 1;
                            this._autoScrollAccumulatedTime += t * (1 / i);
                            var n = Math.min(1, this._autoScrollAccumulatedTime / this._autoScrollTotalTime);
                            this._autoScrollAttenuate &&
                                (n = (function (t) {
                                    return (t -= 1) * t * t * t * t + 1;
                                })(n));
                            var r = cc.pAdd(this._autoScrollStartPosition, cc.pMult(this._autoScrollTargetDelta, n)),
                                s = Math.abs(n - 1) <= 1e-4;
                            if (
                                (Math.abs(n - 1) <= this.getScrollEndedEventTiming() &&
                                    !this._isScrollEndedWithThresholdEventFired &&
                                    (this._dispatchEvent('scroll-ended-with-threshold'),
                                    (this._isScrollEndedWithThresholdEventFired = !0)),
                                this.elastic)
                            ) {
                                var o = cc.pSub(r, this._autoScrollBrakingStartPosition);
                                e && (o = cc.pMult(o, i)), (r = cc.pAdd(this._autoScrollBrakingStartPosition, o));
                            } else {
                                var a = cc.pSub(r, this.getContentPosition()),
                                    c = this._getHowMuchOutOfBoundary(a);
                                cc.pFuzzyEqual(c, cc.p(0, 0), 1e-4) || ((r = cc.pAdd(r, c)), (s = !0));
                            }
                            s && (this._autoScrolling = !1);
                            var h = cc.pSub(r, this.getContentPosition());
                            this._moveContent(this._clampDelta(h), s),
                                this._dispatchEvent('scrolling'),
                                this._autoScrolling || ((this._isBouncing = !1), this._dispatchEvent('scroll-ended'));
                        },
                        _startInertiaScroll: function (t) {
                            var e = cc.pMult(t, 0.7);
                            this._startAttenuatingAutoScroll(e, t);
                        },
                        _calculateAttenuatedFactor: function (t) {
                            if (this.brake <= 0) return 1 - this.brake;
                            return (1 - this.brake) * (1 / (1 + 14e-6 * t + t * t * 8e-9));
                        },
                        _startAttenuatingAutoScroll: function (t, e) {
                            var i = this._calculateAutoScrollTimeByInitalSpeed(cc.pLength(e)),
                                n = cc.pNormalize(t),
                                r = this.content.getContentSize(),
                                s = this.node.getContentSize(),
                                o = r.width - s.width,
                                a = r.height - s.height,
                                c = this._calculateAttenuatedFactor(o),
                                h = this._calculateAttenuatedFactor(a);
                            n = cc.p(n.x * o * (1 - this.brake) * c, n.y * a * h * (1 - this.brake));
                            var l = cc.pLength(t),
                                u = cc.pLength(n) / l;
                            (n = cc.pAdd(n, t)),
                                this.brake > 0 && u > 7 && ((u = Math.sqrt(u)), (n = cc.pAdd(cc.pMult(t, u), t))),
                                this.brake > 0 && u > 3 && (i *= u = 3),
                                0 === this.brake && u > 1 && (i *= u),
                                this._startAutoScroll(n, i, !0);
                        },
                        _calculateAutoScrollTimeByInitalSpeed: function (t) {
                            return Math.sqrt(Math.sqrt(t / 5));
                        },
                        _startAutoScroll: function (t, e, i) {
                            var n = this._flattenVectorByDirection(t);
                            (this._autoScrolling = !0),
                                (this._autoScrollTargetDelta = n),
                                (this._autoScrollAttenuate = i),
                                (this._autoScrollStartPosition = this.getContentPosition()),
                                (this._autoScrollTotalTime = e),
                                (this._autoScrollAccumulatedTime = 0),
                                (this._autoScrollBraking = !1),
                                (this._isScrollEndedWithThresholdEventFired = !1),
                                (this._autoScrollBrakingStartPosition = cc.p(0, 0));
                            var r = this._getHowMuchOutOfBoundary();
                            if (!cc.pFuzzyEqual(r, cc.p(0, 0), 1e-4)) {
                                this._autoScrollCurrentlyOutOfBoundary = !0;
                                var s = this._getHowMuchOutOfBoundary(n);
                                (r.x * s.x > 0 || r.y * s.y > 0) && (this._autoScrollBraking = !0);
                            }
                        },
                        _calculateTouchMoveVelocity: function () {
                            var t = 0;
                            if (
                                (t = this._touchMoveTimeDeltas.reduce(function (t, e) {
                                    return t + e;
                                }, t)) <= 0 ||
                                t >= 0.5
                            )
                                return cc.p(0, 0);
                            var e = cc.p(0, 0);
                            return (
                                (e = this._touchMoveDisplacements.reduce(function (t, e) {
                                    return cc.pAdd(t, e);
                                }, e)),
                                cc.p((e.x * (1 - this.brake)) / t, (e.y * (1 - this.brake)) / t)
                            );
                        },
                        _flattenVectorByDirection: function (t) {
                            var e = t;
                            return (e.x = this.horizontal ? e.x : 0), (e.y = this.vertical ? e.y : 0), e;
                        },
                        _moveContent: function (t, e) {
                            var i = this._flattenVectorByDirection(t),
                                n = cc.pAdd(this.getContentPosition(), i);
                            this.setContentPosition(n);
                            var r = this._getHowMuchOutOfBoundary();
                            this._updateScrollBar(r), this.elastic && e && this._startBounceBackIfNeeded();
                        },
                        _getContentLeftBoundary: function () {
                            return (
                                this.getContentPosition().x -
                                this.content.getAnchorPoint().x * this.content.getContentSize().width
                            );
                        },
                        _getContentRightBoundary: function () {
                            var t = this.content.getContentSize();
                            return this._getContentLeftBoundary() + t.width;
                        },
                        _getContentTopBoundary: function () {
                            var t = this.content.getContentSize();
                            return this._getContentBottomBoundary() + t.height;
                        },
                        _getContentBottomBoundary: function () {
                            return (
                                this.getContentPosition().y -
                                this.content.getAnchorPoint().y * this.content.getContentSize().height
                            );
                        },
                        _getHowMuchOutOfBoundary: function (t) {
                            if (
                                ((t = t || cc.p(0, 0)),
                                cc.pFuzzyEqual(t, cc.p(0, 0), 1e-4) && !this._outOfBoundaryAmountDirty)
                            )
                                return this._outOfBoundaryAmount;
                            var e = cc.p(0, 0);
                            return (
                                this._getContentLeftBoundary() + t.x > this._leftBoundary
                                    ? (e.x = this._leftBoundary - (this._getContentLeftBoundary() + t.x))
                                    : this._getContentRightBoundary() + t.x < this._rightBoundary &&
                                      (e.x = this._rightBoundary - (this._getContentRightBoundary() + t.x)),
                                this._getContentTopBoundary() + t.y < this._topBoundary
                                    ? (e.y = this._topBoundary - (this._getContentTopBoundary() + t.y))
                                    : this._getContentBottomBoundary() + t.y > this._bottomBoundary &&
                                      (e.y = this._bottomBoundary - (this._getContentBottomBoundary() + t.y)),
                                cc.pFuzzyEqual(t, cc.p(0, 0), 1e-4) &&
                                    ((this._outOfBoundaryAmount = e), (this._outOfBoundaryAmountDirty = !1)),
                                (e = this._clampDelta(e))
                            );
                        },
                        _updateScrollBar: function (t) {
                            this.horizontalScrollBar && this.horizontalScrollBar._onScroll(t),
                                this.verticalScrollBar && this.verticalScrollBar._onScroll(t);
                        },
                        _onScrollBarTouchBegan: function () {
                            this.horizontalScrollBar && this.horizontalScrollBar._onTouchBegan(),
                                this.verticalScrollBar && this.verticalScrollBar._onTouchBegan();
                        },
                        _onScrollBarTouchEnded: function () {
                            this.horizontalScrollBar && this.horizontalScrollBar._onTouchEnded(),
                                this.verticalScrollBar && this.verticalScrollBar._onTouchEnded();
                        },
                        _dispatchEvent: function (t) {
                            if ('scroll-ended' === t) this._scrollEventEmitMask = 0;
                            else if (
                                'scroll-to-top' === t ||
                                'scroll-to-bottom' === t ||
                                'scroll-to-left' === t ||
                                'scroll-to-right' === t
                            ) {
                                var e = 1 << s[t];
                                if (this._scrollEventEmitMask & e) return;
                                this._scrollEventEmitMask |= e;
                            }
                            cc.Component.EventHandler.emitEvents(this.scrollEvents, this, s[t]),
                                this.node.emit(t, this);
                        },
                        _adjustContentOutOfBoundary: function () {
                            if (((this._outOfBoundaryAmountDirty = !0), this._isOutOfBoundary())) {
                                var t = this._getHowMuchOutOfBoundary(cc.p(0, 0)),
                                    e = cc.pAdd(this.getContentPosition(), t);
                                this.content && (this.content.setPosition(e), this._updateScrollBar(0));
                            }
                        },
                        start: function () {
                            this._calculateBoundary(),
                                this.content &&
                                    cc.director.once(
                                        cc.Director.EVENT_AFTER_VISIT,
                                        this._adjustContentOutOfBoundary,
                                        this,
                                    );
                        },
                        _hideScrollbar: function () {
                            this.horizontalScrollBar && this.horizontalScrollBar.hide(),
                                this.verticalScrollBar && this.verticalScrollBar.hide();
                        },
                        _showScrollbar: function () {
                            this.horizontalScrollBar && this.horizontalScrollBar.show(),
                                this.verticalScrollBar && this.verticalScrollBar.show();
                        },
                        onDisable: function () {
                            this._unregisterEvent(),
                                this.node.off('size-changed', this._calculateBoundary, this),
                                this.node.off('scale-changed', this._calculateBoundary, this),
                                this.content &&
                                    (this.content.off('size-changed', this._calculateBoundary, this),
                                    this.content.off('scale-changed', this._calculateBoundary, this)),
                                this._hideScrollbar(),
                                this.stopAutoScroll();
                        },
                        onEnable: function () {
                            this._registerEvent(),
                                this.node.on('size-changed', this._calculateBoundary, this),
                                this.node.on('scale-changed', this._calculateBoundary, this),
                                this.content &&
                                    (this.content.on('size-changed', this._calculateBoundary, this),
                                    this.content.on('scale-changed', this._calculateBoundary, this)),
                                this._showScrollbar();
                        },
                        update: function (t) {
                            this._autoScrolling && this._processAutoScrolling(t);
                        },
                    });
                cc.ScrollView = e.exports = o;
            },
            {
                './CCViewGroup': 86,
            },
        ],
        81: [
            function (t, e, i) {
                var n = cc.Enum({
                        Horizontal: 0,
                        Vertical: 1,
                    }),
                    r = cc.Class({
                        name: 'cc.Slider',
                        extends: t('./CCComponent'),
                        editor: !1,
                        ctor: function () {
                            this._dragging = !1;
                        },
                        properties: {
                            handle: {
                                default: null,
                                type: cc.Button,
                                tooltip: !1,
                                notify: function () {
                                    0;
                                },
                            },
                            direction: {
                                default: n.Horizontal,
                                type: n,
                                tooltip: !1,
                            },
                            progress: {
                                default: 0.5,
                                type: cc.Float,
                                range: [0, 1, 0.1],
                                slide: !0,
                                tooltip: !1,
                                notify: function () {
                                    this._updateHandlePosition();
                                },
                            },
                            slideEvents: {
                                default: [],
                                type: cc.Component.EventHandler,
                                tooltip: !1,
                            },
                        },
                        statics: {
                            Direction: n,
                        },
                        __preload: function () {
                            this._updateHandlePosition();
                        },
                        onEnable: function () {
                            this.node.on(cc.Node.EventType.TOUCH_START, this._onTouchBegan, this),
                                this.node.on(cc.Node.EventType.TOUCH_MOVE, this._onTouchMoved, this),
                                this.node.on(cc.Node.EventType.TOUCH_END, this._onTouchEnded, this),
                                this.node.on(cc.Node.EventType.TOUCH_CANCEL, this._onTouchCancelled, this),
                                this.handle &&
                                    this.handle.isValid &&
                                    (this.handle.node.on(cc.Node.EventType.TOUCH_START, this._onHandleDragStart, this),
                                    this.handle.node.on(cc.Node.EventType.TOUCH_MOVE, this._onTouchMoved, this),
                                    this.handle.node.on(cc.Node.EventType.TOUCH_END, this._onTouchEnded, this));
                        },
                        onDisable: function () {
                            this.node.off(cc.Node.EventType.TOUCH_START, this._onTouchBegan, this),
                                this.node.off(cc.Node.EventType.TOUCH_MOVE, this._onTouchMoved, this),
                                this.node.off(cc.Node.EventType.TOUCH_END, this._onTouchEnded, this),
                                this.node.off(cc.Node.EventType.TOUCH_CANCEL, this._onTouchCancelled, this),
                                this.handle &&
                                    this.handle.isValid &&
                                    (this.handle.node.off(cc.Node.EventType.TOUCH_START, this._onHandleDragStart, this),
                                    this.handle.node.off(cc.Node.EventType.TOUCH_MOVE, this._onTouchMoved, this),
                                    this.handle.node.off(cc.Node.EventType.TOUCH_END, this._onTouchEnded, this));
                        },
                        _onHandleDragStart: function (t) {
                            (this._dragging = !0), t.stopPropagation();
                        },
                        _onTouchBegan: function (t) {
                            this.handle &&
                                ((this._dragging = !0), this._handleSliderLogic(t.touch), t.stopPropagation());
                        },
                        _onTouchMoved: function (t) {
                            this._dragging && (this._handleSliderLogic(t.touch), t.stopPropagation());
                        },
                        _onTouchEnded: function (t) {
                            (this._dragging = !1), t.stopPropagation();
                        },
                        _onTouchCancelled: function (t) {
                            (this._dragging = !1), t.stopPropagation();
                        },
                        _handleSliderLogic: function (t) {
                            this._updateProgress(t), this._emitSlideEvent();
                        },
                        _emitSlideEvent: function () {
                            cc.Component.EventHandler.emitEvents(this.slideEvents, this), this.node.emit('slide', this);
                        },
                        _updateProgress: function (t) {
                            if (this.handle) {
                                var e = null,
                                    i = 0,
                                    r = this.node.convertTouchToNodeSpaceAR(t);
                                this.direction === n.Horizontal
                                    ? ((e = this.node.width / 2 - this.handle.node.width * this.handle.node.anchorX),
                                      (i = cc.clamp01((r.x + e) / (2 * e), 0, 1)))
                                    : this.direction === n.Vertical &&
                                      ((e = this.node.height / 2 - this.handle.node.height * this.handle.node.anchorY),
                                      (i = cc.clamp01((r.y + e) / (2 * e), 0, 1))),
                                    (this.progress = i);
                            }
                        },
                        _updateHandlePosition: function () {
                            if (this.handle) {
                                var t;
                                t =
                                    this.direction === n.Horizontal
                                        ? cc.p(
                                              -this.node.width * this.node.anchorX + this.progress * this.node.width,
                                              0,
                                          )
                                        : cc.p(
                                              0,
                                              -this.node.height * this.node.anchorY + this.progress * this.node.height,
                                          );
                                var e = this.node.convertToWorldSpaceAR(t);
                                this.handle.node.position = this.handle.node.parent.convertToNodeSpaceAR(e);
                            }
                        },
                    });
                cc.Slider = e.exports = r;
            },
            {
                './CCComponent': 66,
            },
        ],
        82: [
            function (t, e, i) {
                var n = t('./CCRendererUnderSG'),
                    r = cc.Scale9Sprite.RenderingType,
                    s = cc.Scale9Sprite.FillType,
                    o = cc.BlendFunc.BlendFactor,
                    a = cc.Enum({
                        CUSTOM: 0,
                        TRIMMED: 1,
                        RAW: 2,
                    }),
                    c = cc.Class({
                        name: 'cc.Sprite',
                        extends: n,
                        editor: !1,
                        ctor: function () {
                            this._blendFunc = new cc.BlendFunc(this._srcBlendFactor, this._dstBlendFactor);
                        },
                        properties: {
                            _spriteFrame: {
                                default: null,
                                type: cc.SpriteFrame,
                            },
                            _type: r.SIMPLE,
                            _sizeMode: a.TRIMMED,
                            _fillType: 0,
                            _fillCenter: cc.v2(0, 0),
                            _fillStart: 0,
                            _fillRange: 0,
                            _isTrimmedMode: !0,
                            _srcBlendFactor: o.SRC_ALPHA,
                            _dstBlendFactor: o.ONE_MINUS_SRC_ALPHA,
                            _atlas: {
                                default: null,
                                type: cc.SpriteAtlas,
                                tooltip: !1,
                                editorOnly: !0,
                                visible: !0,
                                animatable: !1,
                            },
                            spriteFrame: {
                                get: function () {
                                    return this._spriteFrame;
                                },
                                set: function (t, e) {
                                    var i = this._spriteFrame;
                                    i !== t && ((this._spriteFrame = t), this._applySpriteFrame(i));
                                },
                                type: cc.SpriteFrame,
                            },
                            type: {
                                get: function () {
                                    return this._type;
                                },
                                set: function (t) {
                                    (this._type = t), this._sgNode.setRenderingType(t);
                                },
                                type: r,
                                animatable: !1,
                                tooltip: !1,
                            },
                            fillType: {
                                get: function () {
                                    return this._fillType;
                                },
                                set: function (t) {
                                    (this._fillType = t), this._sgNode && this._sgNode.setFillType(t);
                                },
                                type: s,
                                tooltip: !1,
                            },
                            fillCenter: {
                                get: function () {
                                    return this._fillCenter;
                                },
                                set: function (t) {
                                    (this._fillCenter = cc.v2(t)),
                                        this._sgNode && this._sgNode.setFillCenter(this._fillCenter);
                                },
                                tooltip: !1,
                            },
                            fillStart: {
                                get: function () {
                                    return this._fillStart;
                                },
                                set: function (t) {
                                    (this._fillStart = cc.clampf(t, -1, 1)),
                                        this._sgNode && this._sgNode.setFillStart(t);
                                },
                                tooltip: !1,
                            },
                            fillRange: {
                                get: function () {
                                    return this._fillRange;
                                },
                                set: function (t) {
                                    (this._fillRange = cc.clampf(t, -1, 1)),
                                        this._sgNode && this._sgNode.setFillRange(t);
                                },
                                tooltip: !1,
                            },
                            trim: {
                                get: function () {
                                    return this._isTrimmedMode;
                                },
                                set: function (t) {
                                    this._isTrimmedMode !== t &&
                                        ((this._isTrimmedMode = t), this._sgNode.enableTrimmedContentSize(t));
                                },
                                animatable: !1,
                                tooltip: !1,
                            },
                            srcBlendFactor: {
                                get: function () {
                                    return this._srcBlendFactor;
                                },
                                set: function (t) {
                                    (this._srcBlendFactor = t),
                                        (this._blendFunc.src = t),
                                        this._sgNode.setBlendFunc(this._blendFunc);
                                },
                                animatable: !1,
                                type: o,
                                tooltip: !1,
                            },
                            dstBlendFactor: {
                                get: function () {
                                    return this._dstBlendFactor;
                                },
                                set: function (t) {
                                    (this._dstBlendFactor = t),
                                        (this._blendFunc.dst = t),
                                        this._sgNode.setBlendFunc(this._blendFunc);
                                },
                                animatable: !1,
                                type: o,
                                tooltip: !1,
                            },
                            sizeMode: {
                                get: function () {
                                    return this._sizeMode;
                                },
                                set: function (t) {
                                    (this._sizeMode = t), t !== a.CUSTOM && this._applySpriteSize();
                                },
                                animatable: !1,
                                type: a,
                                tooltip: !1,
                            },
                        },
                        statics: {
                            FillType: s,
                            Type: r,
                            SizeMode: a,
                        },
                        setVisible: function (t) {
                            this.enabled = t;
                        },
                        setInsetLeft: function (t) {
                            this._sgNode.setInsetLeft(t);
                        },
                        getInsetLeft: function () {
                            return this._sgNode.getInsetLeft();
                        },
                        setInsetTop: function (t) {
                            this._sgNode.setInsetTop(t);
                        },
                        getInsetTop: function () {
                            return this._sgNode.getInsetTop();
                        },
                        setInsetRight: function (t) {
                            this._sgNode.setInsetRight(t);
                        },
                        getInsetRight: function () {
                            return this._sgNode.getInsetRight();
                        },
                        setInsetBottom: function (t) {
                            this._sgNode.setInsetBottom(t);
                        },
                        getInsetBottom: function () {
                            return this._sgNode.getInsetBottom();
                        },
                        onEnable: function () {
                            this._sgNode &&
                                this._spriteFrame &&
                                this._spriteFrame.textureLoaded() &&
                                this._sgNode.setVisible(!0);
                        },
                        _applyAtlas: !1,
                        _applySpriteFrameInsets: function () {
                            var t = this._spriteFrame,
                                e = this._sgNode;
                            e.setInsetTop(t.insetTop),
                                e.setInsetBottom(t.insetBottom),
                                e.setInsetRight(t.insetRight),
                                e.setInsetLeft(t.insetLeft);
                        },
                        _applySpriteSize: function () {
                            if (this._spriteFrame)
                                if (a.RAW === this._sizeMode) {
                                    var t = this._spriteFrame.getOriginalSize();
                                    this.node.setContentSize(t);
                                } else if (a.TRIMMED === this._sizeMode) {
                                    var e = this._spriteFrame.getRect();
                                    this.node.setContentSize(e.width, e.height);
                                }
                        },
                        _onTextureLoaded: function (t) {
                            if (this.isValid) {
                                var e = this._sgNode;
                                e.setSpriteFrame(this._spriteFrame),
                                    this._applySpriteSize(),
                                    this.enabledInHierarchy && !e.isVisible() && e.setVisible(!0);
                            }
                        },
                        _applySpriteFrame: function (t, e) {
                            var i = this._sgNode;
                            t && t.off && t.off('load', this._onTextureLoaded, this);
                            var n = this._spriteFrame;
                            n
                                ? (e || this._applySpriteFrameInsets(),
                                  n.textureLoaded()
                                      ? this._onTextureLoaded(null)
                                      : (n.once('load', this._onTextureLoaded, this), n.ensureLoadTexture()))
                                : (i.setSpriteFrame(null), i.setVisible(!1));
                        },
                        _createSgNode: function () {
                            return new cc.Scale9Sprite();
                        },
                        _initSgNode: function () {
                            var t = this._sgNode,
                                e =
                                    0 !== t.getInsetLeft() ||
                                    0 !== t.getInsetRight() ||
                                    0 !== t.getInsetTop() ||
                                    0 !== t.getInsetBottom();
                            this._applySpriteFrame(null, e),
                                t.setContentSize(this.node.getContentSize(!0)),
                                this._applySpriteSize(),
                                t.setRenderingType(this._type),
                                t.setFillType(this._fillType),
                                t.setFillCenter(this._fillCenter),
                                t.setFillStart(this._fillStart),
                                t.setFillRange(this._fillRange),
                                t.enableTrimmedContentSize(this._isTrimmedMode),
                                (this._blendFunc.src = this._srcBlendFactor),
                                (this._blendFunc.dst = this._dstBlendFactor),
                                t.setBlendFunc(this._blendFunc);
                        },
                        _resized: !1,
                    });
                t('../utils/misc').propertyDefine(c, ['insetLeft', 'insetTop', 'insetRight', 'insetBottom'], {
                    type: [null, 'setRenderingType'],
                }),
                    (cc.Sprite = e.exports = c);
            },
            {
                '../utils/misc': 185,
                './CCRendererUnderSG': 76,
            },
        ],
        83: [
            function (t, e, i) {
                var n = cc.Class({
                    name: 'cc.Toggle',
                    extends: t('./CCButton'),
                    editor: !1,
                    properties: {
                        isChecked: {
                            default: !0,
                            tooltip: !1,
                            notify: function () {
                                this._updateCheckMark();
                            },
                        },
                        toggleGroup: {
                            default: null,
                            tooltip: !1,
                            type: t('./CCToggleGroup'),
                        },
                        checkMark: {
                            default: null,
                            type: cc.Sprite,
                            tooltip: !1,
                        },
                        checkEvents: {
                            default: [],
                            type: cc.Component.EventHandler,
                        },
                        _resizeToTarget: {
                            animatable: !1,
                            set: function (t) {
                                t && this._resizeNodeToTargetNode();
                            },
                        },
                    },
                    onEnable: function () {
                        this._super(),
                            this._registerToggleEvent(),
                            this.toggleGroup && this.toggleGroup.enabled && this.toggleGroup.addToggle(this);
                    },
                    onDisable: function () {
                        this._super(),
                            this._unregisterToggleEvent(),
                            this.toggleGroup && this.toggleGroup.enabled && this.toggleGroup.removeToggle(this);
                    },
                    _updateCheckMark: function () {
                        this.checkMark && (this.checkMark.node.active = !!this.isChecked);
                    },
                    _updateDisabledState: function () {
                        this._super(),
                            this.checkMark && this.checkMark._sgNode.setState(0),
                            this.enableAutoGrayEffect &&
                                this.checkMark &&
                                !this.interactable &&
                                this.checkMark._sgNode.setState(1);
                    },
                    _registerToggleEvent: function () {
                        this.node.on('click', this.toggle, this);
                    },
                    _unregisterToggleEvent: function () {
                        this.node.off('click', this.toggle, this);
                    },
                    toggle: function (t) {
                        var e = this.toggleGroup || this._toggleContainer;
                        (e && e.enabled && this.isChecked && !e.allowSwitchOff) ||
                            ((this.isChecked = !this.isChecked),
                            this._updateCheckMark(),
                            e && e.enabled && e.updateToggles(this),
                            this._emitToggleEvents(t));
                    },
                    _emitToggleEvents: function () {
                        this.node.emit('toggle', this),
                            this.checkEvents && cc.Component.EventHandler.emitEvents(this.checkEvents, this);
                    },
                    check: function () {
                        var t = this.toggleGroup || this._toggleContainer;
                        (t && t.enabled && this.isChecked && !t.allowSwitchOff) ||
                            ((this.isChecked = !0), t && t.enabled && t.updateToggles(this), this._emitToggleEvents());
                    },
                    uncheck: function () {
                        var t = this.toggleGroup || this._toggleContainer;
                        (t && t.enabled && this.isChecked && !t.allowSwitchOff) ||
                            ((this.isChecked = !1), this._emitToggleEvents());
                    },
                });
                cc.Toggle = e.exports = n;
                t('../platform/js').get(n.prototype, '_toggleContainer', function () {
                    var t = this.node.parent;
                    return cc.Node.isNode(t) ? t.getComponent(cc.ToggleContainer) : null;
                });
            },
            {
                '../platform/js': 156,
                './CCButton': 64,
                './CCToggleGroup': 85,
            },
        ],
        84: [
            function (t, e, i) {
                var n = cc.Class({
                    name: 'cc.ToggleContainer',
                    extends: cc.Component,
                    editor: !1,
                    properties: {
                        allowSwitchOff: {
                            tooltip: !1,
                            default: !1,
                        },
                    },
                    updateToggles: function (t) {
                        this.toggleItems.forEach(function (e) {
                            t.isChecked && e !== t && (e.isChecked = !1);
                        });
                    },
                    _allowOnlyOneToggleChecked: function () {
                        var t = !1;
                        return (
                            this.toggleItems.forEach(function (e) {
                                t ? (e.isChecked = !1) : e.isChecked && (t = !0);
                            }),
                            t
                        );
                    },
                    _makeAtLeastOneToggleChecked: function () {
                        if (!this._allowOnlyOneToggleChecked() && !this.allowSwitchOff) {
                            var t = this.toggleItems;
                            t.length > 0 && t[0].check();
                        }
                    },
                    onEnable: function () {
                        this.node.on('child-added', this._allowOnlyOneToggleChecked, this),
                            this.node.on('child-removed', this._makeAtLeastOneToggleChecked, this);
                    },
                    onDisable: function () {
                        this.node.off('child-added', this._allowOnlyOneToggleChecked, this),
                            this.node.off('child-removed', this._makeAtLeastOneToggleChecked, this);
                    },
                    start: function () {
                        this._makeAtLeastOneToggleChecked();
                    },
                });
                t('../platform/js').get(n.prototype, 'toggleItems', function () {
                    return this.node.getComponentsInChildren(cc.Toggle);
                }),
                    (cc.ToggleContainer = e.exports = n);
            },
            {
                '../platform/js': 156,
            },
        ],
        85: [
            function (t, e, i) {
                var n = cc.Class({
                        name: 'cc.ToggleGroup',
                        extends: cc.Component,
                        ctor: function () {
                            this._toggleItems = [];
                        },
                        editor: !1,
                        properties: {
                            allowSwitchOff: {
                                tooltip: !1,
                                default: !1,
                            },
                            toggleItems: {
                                get: function () {
                                    return this._toggleItems;
                                },
                            },
                        },
                        updateToggles: function (t) {
                            this.enabledInHierarchy &&
                                this._toggleItems.forEach(function (e) {
                                    t.isChecked && e !== t && e.isChecked && e.enabled && (e.isChecked = !1);
                                });
                        },
                        addToggle: function (t) {
                            -1 === this._toggleItems.indexOf(t) && this._toggleItems.push(t),
                                this._allowOnlyOneToggleChecked();
                        },
                        removeToggle: function (t) {
                            var e = this._toggleItems.indexOf(t);
                            e > -1 && this._toggleItems.splice(e, 1), this._makeAtLeastOneToggleChecked();
                        },
                        _allowOnlyOneToggleChecked: function () {
                            var t = !1;
                            return (
                                this._toggleItems.forEach(function (e) {
                                    t && e.enabled && (e.isChecked = !1), e.isChecked && e.enabled && (t = !0);
                                }),
                                t
                            );
                        },
                        _makeAtLeastOneToggleChecked: function () {
                            this._allowOnlyOneToggleChecked() ||
                                this.allowSwitchOff ||
                                (this._toggleItems.length > 0 && (this._toggleItems[0].isChecked = !0));
                        },
                        start: function () {
                            this._makeAtLeastOneToggleChecked();
                        },
                    }),
                    r = (t('../platform/js'), !1);
                cc.js.get(cc, 'ToggleGroup', function () {
                    return r || (cc.logID(1405, 'cc.ToggleGroup', 'cc.ToggleContainer'), (r = !0)), n;
                }),
                    (cc.ToggleGroup = e.exports = n);
            },
            {
                '../platform/js': 156,
            },
        ],
        86: [
            function (t, e, i) {
                var n = cc.Class({
                    name: 'cc.ViewGroup',
                    extends: t('./CCComponent'),
                });
                cc.ViewGroup = e.exports = n;
            },
            {
                './CCComponent': 66,
            },
        ],
        87: [
            function (t, e, i) {
                var n = t('../base-ui/CCWidgetManager'),
                    r = n._AlignFlags,
                    s = r.TOP,
                    o = r.MID,
                    a = r.BOT,
                    c = r.LEFT,
                    h = r.CENTER,
                    l = r.RIGHT,
                    u = s | a,
                    d = c | l,
                    _ = cc.Class({
                        name: 'cc.Widget',
                        extends: t('./CCComponent'),
                        editor: !1,
                        properties: {
                            target: {
                                get: function () {
                                    return this._target;
                                },
                                set: function (t) {
                                    this._target = t;
                                },
                                type: cc.Node,
                                tooltip: !1,
                            },
                            isAlignTop: {
                                get: function () {
                                    return (this._alignFlags & s) > 0;
                                },
                                set: function (t) {
                                    this._setAlign(s, t);
                                },
                                animatable: !1,
                                tooltip: !1,
                            },
                            isAlignVerticalCenter: {
                                get: function () {
                                    return (this._alignFlags & o) > 0;
                                },
                                set: function (t) {
                                    t
                                        ? ((this.isAlignTop = !1), (this.isAlignBottom = !1), (this._alignFlags |= o))
                                        : (this._alignFlags &= ~o);
                                },
                                animatable: !1,
                                tooltip: !1,
                            },
                            isAlignBottom: {
                                get: function () {
                                    return (this._alignFlags & a) > 0;
                                },
                                set: function (t) {
                                    this._setAlign(a, t);
                                },
                                animatable: !1,
                                tooltip: !1,
                            },
                            isAlignLeft: {
                                get: function () {
                                    return (this._alignFlags & c) > 0;
                                },
                                set: function (t) {
                                    this._setAlign(c, t);
                                },
                                animatable: !1,
                                tooltip: !1,
                            },
                            isAlignHorizontalCenter: {
                                get: function () {
                                    return (this._alignFlags & h) > 0;
                                },
                                set: function (t) {
                                    t
                                        ? ((this.isAlignLeft = !1), (this.isAlignRight = !1), (this._alignFlags |= h))
                                        : (this._alignFlags &= ~h);
                                },
                                animatable: !1,
                                tooltip: !1,
                            },
                            isAlignRight: {
                                get: function () {
                                    return (this._alignFlags & l) > 0;
                                },
                                set: function (t) {
                                    this._setAlign(l, t);
                                },
                                animatable: !1,
                                tooltip: !1,
                            },
                            isStretchWidth: {
                                get: function () {
                                    return (this._alignFlags & d) === d;
                                },
                                visible: !1,
                            },
                            isStretchHeight: {
                                get: function () {
                                    return (this._alignFlags & u) === u;
                                },
                                visible: !1,
                            },
                            top: {
                                get: function () {
                                    return this._top;
                                },
                                set: function (t) {
                                    this._top = t;
                                },
                                tooltip: !1,
                            },
                            bottom: {
                                get: function () {
                                    return this._bottom;
                                },
                                set: function (t) {
                                    this._bottom = t;
                                },
                                tooltip: !1,
                            },
                            left: {
                                get: function () {
                                    return this._left;
                                },
                                set: function (t) {
                                    this._left = t;
                                },
                                tooltip: !1,
                            },
                            right: {
                                get: function () {
                                    return this._right;
                                },
                                set: function (t) {
                                    this._right = t;
                                },
                                tooltip: !1,
                            },
                            horizontalCenter: {
                                get: function () {
                                    return this._horizontalCenter;
                                },
                                set: function (t) {
                                    this._horizontalCenter = t;
                                },
                                tooltip: !1,
                            },
                            verticalCenter: {
                                get: function () {
                                    return this._verticalCenter;
                                },
                                set: function (t) {
                                    this._verticalCenter = t;
                                },
                                tooltip: !1,
                            },
                            isAbsoluteHorizontalCenter: {
                                get: function () {
                                    return this._isAbsHorizontalCenter;
                                },
                                set: function (t) {
                                    this._isAbsHorizontalCenter = t;
                                },
                                animatable: !1,
                            },
                            isAbsoluteVerticalCenter: {
                                get: function () {
                                    return this._isAbsVerticalCenter;
                                },
                                set: function (t) {
                                    this._isAbsVerticalCenter = t;
                                },
                                animatable: !1,
                            },
                            isAbsoluteTop: {
                                get: function () {
                                    return this._isAbsTop;
                                },
                                set: function (t) {
                                    this._isAbsTop = t;
                                },
                                animatable: !1,
                            },
                            isAbsoluteBottom: {
                                get: function () {
                                    return this._isAbsBottom;
                                },
                                set: function (t) {
                                    this._isAbsBottom = t;
                                },
                                animatable: !1,
                            },
                            isAbsoluteLeft: {
                                get: function () {
                                    return this._isAbsLeft;
                                },
                                set: function (t) {
                                    this._isAbsLeft = t;
                                },
                                animatable: !1,
                            },
                            isAbsoluteRight: {
                                get: function () {
                                    return this._isAbsRight;
                                },
                                set: function (t) {
                                    this._isAbsRight = t;
                                },
                                animatable: !1,
                            },
                            isAlignOnce: {
                                default: !0,
                                tooltip: !1,
                                displayName: 'AlignOnce',
                            },
                            _target: null,
                            _alignFlags: 0,
                            _left: 0,
                            _right: 0,
                            _top: 0,
                            _bottom: 0,
                            _verticalCenter: 0,
                            _horizontalCenter: 0,
                            _isAbsLeft: !0,
                            _isAbsRight: !0,
                            _isAbsTop: !0,
                            _isAbsBottom: !0,
                            _isAbsHorizontalCenter: !0,
                            _isAbsVerticalCenter: !0,
                            _originalWidth: 0,
                            _originalHeight: 0,
                        },
                        onEnable: function () {
                            n.add(this);
                        },
                        onDisable: function () {
                            n.remove(this);
                        },
                        _setAlign: function (t, e) {
                            if (e != (this._alignFlags & t) > 0) {
                                var i = (t & d) > 0;
                                e
                                    ? ((this._alignFlags |= t),
                                      i
                                          ? ((this.isAlignHorizontalCenter = !1),
                                            this.isStretchWidth && (this._originalWidth = this.node.width))
                                          : ((this.isAlignVerticalCenter = !1),
                                            this.isStretchHeight && (this._originalHeight = this.node.height)))
                                    : (i
                                          ? this.isStretchWidth && (this.node.width = this._originalWidth)
                                          : this.isStretchHeight && (this.node.height = this._originalHeight),
                                      (this._alignFlags &= ~t));
                            }
                        },
                        updateAlignment: function () {
                            n.updateAlignment(this.node);
                        },
                    });
                cc.Widget = e.exports = _;
            },
            {
                '../base-ui/CCWidgetManager': 59,
                './CCComponent': 66,
            },
        ],
        88: [
            function (t, e, i) {
                t('./CCComponent'),
                    t('./CCRendererInSG'),
                    t('./CCRendererUnderSG'),
                    t('./CCComponentEventHandler'),
                    t('./missing-script'),
                    (e.exports = [
                        t('./CCSprite'),
                        t('./CCWidget'),
                        t('./CCCanvas'),
                        t('./CCAudioSource'),
                        t('./CCAnimation'),
                        t('./CCButton'),
                        t('./CCLabel'),
                        t('./CCProgressBar'),
                        t('./CCMask'),
                        t('./CCScrollBar'),
                        t('./CCScrollView'),
                        t('./CCPageViewIndicator'),
                        t('./CCPageView'),
                        t('./CCSlider'),
                        t('./CCLayout'),
                        t('./CCEditBox'),
                        t('./CCVideoPlayer'),
                        t('./CCWebView'),
                        t('./CCSpriteDistortion'),
                        t('./CCLabelOutline'),
                        t('./CCRichText'),
                        t('./CCToggleContainer'),
                        t('./CCToggleGroup'),
                        t('./CCToggle'),
                        t('./CCBlockInputEvents'),
                    ]);
            },
            {
                './CCAnimation': 61,
                './CCAudioSource': 62,
                './CCBlockInputEvents': 63,
                './CCButton': 64,
                './CCCanvas': 65,
                './CCComponent': 66,
                './CCComponentEventHandler': 67,
                './CCEditBox': 68,
                './CCLabel': 69,
                './CCLabelOutline': 70,
                './CCLayout': 71,
                './CCMask': 72,
                './CCPageView': 73,
                './CCPageViewIndicator': 237,
                './CCProgressBar': 74,
                './CCRendererInSG': 75,
                './CCRendererUnderSG': 76,
                './CCRichText': 77,
                './CCScrollBar': 79,
                './CCScrollView': 80,
                './CCSlider': 81,
                './CCSprite': 82,
                './CCSpriteDistortion': 237,
                './CCToggle': 83,
                './CCToggleContainer': 84,
                './CCToggleGroup': 85,
                './CCVideoPlayer': 237,
                './CCWebView': 237,
                './CCWidget': 87,
                './missing-script': 89,
            },
        ],
        89: [
            function (t, e, i) {
                var n = cc.js,
                    r = t('../utils/misc').BUILTIN_CLASSID_RE,
                    s = cc.Class({
                        name: 'cc.MissingClass',
                        properties: {
                            _$erialized: {
                                default: null,
                                visible: !1,
                                editorOnly: !0,
                            },
                        },
                    }),
                    o = cc.Class({
                        name: 'cc.MissingScript',
                        extends: cc.Component,
                        editor: {
                            inspector: 'packages://inspector/inspectors/comps/missing-script.js',
                        },
                        properties: {
                            compiled: {
                                default: !1,
                                serializable: !1,
                            },
                            _$erialized: {
                                default: null,
                                visible: !1,
                                editorOnly: !0,
                            },
                        },
                        ctor: !1,
                        statics: {
                            safeFindClass: function (t, e) {
                                var i = n._getClassById(t);
                                return (
                                    i || (t ? (cc.deserialize.reportMissingClass(t), o.getMissingWrapper(t, e)) : null)
                                );
                            },
                            getMissingWrapper: function (t, e) {
                                return e.node && (/^[0-9a-zA-Z+/]{23}$/.test(t) || r.test(t)) ? o : s;
                            },
                        },
                        onLoad: function () {
                            cc.warnID(4600, this.node.name);
                        },
                    });
                cc._MissingScript = e.exports = o;
            },
            {
                '../utils/misc': 185,
            },
        ],
        90: [
            function (t, e, i) {
                function n(t) {
                    var e = t.convertToWorldSpace(cc.p(0, 0)),
                        i = cc.visibleRect.height,
                        n = 0.5;
                    cc.visibleRect.width > i && (n = 0.7),
                        setTimeout(function () {
                            if (window.scrollY < r && e.y < i * n) {
                                var t = i * n - e.y - window.scrollY;
                                t < 35 && (t = 35), t > 320 && (t = 320), window.scrollTo(t, t);
                            }
                        }, s);
                }
                var r = 40,
                    s = 400,
                    o = t('../platform/utils'),
                    a = t('../platform/CCSys'),
                    c = cc.Enum({
                        DEFAULT: 0,
                        DONE: 1,
                        SEND: 2,
                        SEARCH: 3,
                        GO: 4,
                    }),
                    h = cc.Enum({
                        ANY: 0,
                        EMAIL_ADDR: 1,
                        NUMERIC: 2,
                        PHONE_NUMBER: 3,
                        URL: 4,
                        DECIMAL: 5,
                        SINGLE_LINE: 6,
                    }),
                    l = cc.Enum({
                        PASSWORD: 0,
                        SENSITIVE: 1,
                        INITIAL_CAPS_WORD: 2,
                        INITIAL_CAPS_SENTENCE: 3,
                        INITIAL_CAPS_ALL_CHARACTERS: 4,
                        DEFAULT: 5,
                    });
                (cc.EditBoxDelegate = cc._Class.extend({
                    editBoxEditingDidBegan: function (t) {},
                    editBoxEditingDidEnded: function (t) {},
                    editBoxTextChanged: function (t, e) {},
                    editBoxEditingReturn: function (t) {},
                })),
                    (_ccsg.EditBox = _ccsg.Node.extend({
                        _backgroundSprite: null,
                        _delegate: null,
                        _editBoxInputMode: h.ANY,
                        _editBoxInputFlag: l.DEFAULT,
                        _keyboardReturnType: c.DEFAULT,
                        _maxLength: 50,
                        _text: '',
                        _placeholderText: '',
                        _alwaysOnTop: !1,
                        _placeholderFontName: '',
                        _placeholderFontSize: 14,
                        __fullscreen: !1,
                        __autoResize: !1,
                        _placeholderColor: null,
                        _className: 'EditBox',
                        ctor: function (t, e) {
                            _ccsg.Node.prototype.ctor.call(this),
                                (this._textColor = cc.Color.WHITE),
                                (this._placeholderColor = cc.Color.GRAY),
                                this.initWithSizeAndBackgroundSprite(t, e),
                                this._renderCmd._createLabels();
                        },
                        _createRenderCmd: function () {
                            return cc._renderType === cc.game.RENDER_TYPE_CANVAS
                                ? new _ccsg.EditBox.CanvasRenderCmd(this)
                                : new _ccsg.EditBox.WebGLRenderCmd(this);
                        },
                        setContentSize: function (t, e) {
                            void 0 !== t.width && void 0 !== t.height && ((e = t.height), (t = t.width)),
                                _ccsg.Node.prototype.setContentSize.call(this, t, e),
                                this._updateEditBoxSize(t, e);
                        },
                        setVisible: function (t) {
                            _ccsg.Node.prototype.setVisible.call(this, t), this._renderCmd.updateVisibility();
                        },
                        createDomElementIfNeeded: function () {
                            this._renderCmd._edTxt || this._renderCmd.setInputMode(this._editBoxInputMode);
                        },
                        setTabIndex: function (t) {
                            this._renderCmd._edTxt && (this._renderCmd._edTxt.tabIndex = t);
                        },
                        getTabIndex: function () {
                            return this._renderCmd._edTxt ? this._renderCmd._edTxt.tabIndex : (cc.warnID(4700), -1);
                        },
                        setFocus: function () {
                            this._renderCmd._edTxt && this._renderCmd._edTxt.focus();
                        },
                        isFocused: function () {
                            return this._renderCmd._edTxt
                                ? document.activeElement === this._renderCmd._edTxt
                                : (cc.warnID(4700), !1);
                        },
                        stayOnTop: function (t) {
                            this._alwaysOnTop !== t &&
                                ((this._alwaysOnTop = t), this._renderCmd.stayOnTop(this._alwaysOnTop));
                        },
                        cleanup: function () {
                            this._super(), this._renderCmd.removeDom();
                        },
                        _onTouchBegan: function (t) {
                            var e = t.getLocation(),
                                i = cc.rect(0, 0, this._contentSize.width, this._contentSize.height);
                            return (
                                !!cc.rectContainsPoint(i, this.convertToNodeSpace(e)) ||
                                (this._renderCmd._endEditing(), !1)
                            );
                        },
                        _onTouchEnded: function () {
                            this._renderCmd._beginEditing();
                        },
                        _updateBackgroundSpriteSize: function (t, e) {
                            this._backgroundSprite && this._backgroundSprite.setContentSize(t, e);
                        },
                        _updateEditBoxSize: function (t, e) {
                            var i = 'number' == typeof t.width ? t.width : t,
                                n = 'number' == typeof t.height ? t.height : e;
                            this._updateBackgroundSpriteSize(i, n), this._renderCmd.updateSize(i, n);
                        },
                        setLineHeight: function (t) {
                            this._renderCmd.setLineHeight(t);
                        },
                        setFont: function (t, e) {
                            this._renderCmd.setFont(t, e);
                        },
                        _setFont: function (t) {
                            this._renderCmd._setFont(t);
                        },
                        getBackgroundSprite: function () {
                            return this._backgroundSprite;
                        },
                        setFontName: function (t) {
                            this._renderCmd.setFontName(t);
                        },
                        setFontSize: function (t) {
                            this._renderCmd.setFontSize(t);
                        },
                        setString: function (t) {
                            t.length >= this._maxLength && (t = t.slice(0, this._maxLength)),
                                (this._text = t),
                                this._renderCmd.setString(t);
                        },
                        setFontColor: function (t) {
                            (this._textColor = t), this._renderCmd.setFontColor(t);
                        },
                        setMaxLength: function (t) {
                            isNaN(t) || (t < 0 && (t = 65535), (this._maxLength = t), this._renderCmd.setMaxLength(t));
                        },
                        getMaxLength: function () {
                            return this._maxLength;
                        },
                        setPlaceHolder: function (t) {
                            null !== t && (this._renderCmd.setPlaceHolder(t), (this._placeholderText = t));
                        },
                        setPlaceholderFont: function (t, e) {
                            (this._placeholderFontName = t),
                                (this._placeholderFontSize = e),
                                this._renderCmd._updateDOMPlaceholderFontStyle();
                        },
                        _setPlaceholderFont: function (t) {
                            var e = cc.LabelTTF._fontStyleRE.exec(t);
                            e &&
                                ((this._placeholderFontName = e[2]),
                                (this._placeholderFontSize = parseInt(e[1])),
                                this._renderCmd._updateDOMPlaceholderFontStyle());
                        },
                        setPlaceholderFontName: function (t) {
                            (this._placeholderFontName = t), this._renderCmd._updateDOMPlaceholderFontStyle();
                        },
                        setPlaceholderFontSize: function (t) {
                            (this._placeholderFontSize = t), this._renderCmd._updateDOMPlaceholderFontStyle();
                        },
                        setPlaceholderFontColor: function (t) {
                            (this._placeholderColor = t), this._renderCmd.setPlaceholderFontColor(t);
                        },
                        setInputFlag: function (t) {
                            (this._editBoxInputFlag = t), this._renderCmd.setInputFlag(t);
                        },
                        getString: function () {
                            return this._text;
                        },
                        initWithSizeAndBackgroundSprite: function (t, e) {
                            return (
                                this._backgroundSprite && this._backgroundSprite.removeFromParent(),
                                (this._backgroundSprite = e),
                                _ccsg.Node.prototype.setContentSize.call(this, t),
                                this._backgroundSprite &&
                                    !this._backgroundSprite.parent &&
                                    (this._backgroundSprite.setAnchorPoint(cc.p(0, 0)),
                                    this.addChild(this._backgroundSprite),
                                    this._updateBackgroundSpriteSize(t.width, t.height)),
                                (this.x = 0),
                                (this.y = 0),
                                !0
                            );
                        },
                        setDelegate: function (t) {
                            this._delegate = t;
                        },
                        getPlaceHolder: function () {
                            return this._placeholderText;
                        },
                        setInputMode: function (t) {
                            if (this._editBoxInputMode !== t) {
                                var e = this.getString();
                                (this._editBoxInputMode = t),
                                    this._renderCmd.setInputMode(t),
                                    this._renderCmd.transform(),
                                    this.setString(e),
                                    this._renderCmd._updateLabelPosition(this.getContentSize());
                            }
                        },
                        setReturnType: function (t) {
                            (this._keyboardReturnType = t), this._renderCmd._updateDomInputType();
                        },
                        initWithBackgroundColor: function (t, e) {
                            (this._edWidth = t.width),
                                (this.dom.style.width = this._edWidth.toString() + 'px'),
                                (this._edHeight = t.height),
                                (this.dom.style.height = this._edHeight.toString() + 'px'),
                                (this.dom.style.backgroundColor = cc.colorToHex(e));
                        },
                    }));
                var u = _ccsg.EditBox.prototype;
                cc.defineGetterSetter(u, 'font', null, u._setFont),
                    cc.defineGetterSetter(u, 'fontName', null, u.setFontName),
                    cc.defineGetterSetter(u, 'fontSize', null, u.setFontSize),
                    cc.defineGetterSetter(u, 'fontColor', null, u.setFontColor),
                    cc.defineGetterSetter(u, 'string', u.getString, u.setString),
                    cc.defineGetterSetter(u, 'maxLength', u.getMaxLength, u.setMaxLength),
                    cc.defineGetterSetter(u, 'placeholder', u.getPlaceHolder, u.setPlaceHolder),
                    cc.defineGetterSetter(u, 'placeholderFont', null, u._setPlaceholderFont),
                    cc.defineGetterSetter(u, 'placeholderFontName', null, u.setPlaceholderFontName),
                    cc.defineGetterSetter(u, 'placeholderFontSize', null, u.setPlaceholderFontSize),
                    cc.defineGetterSetter(u, 'placeholderFontColor', null, u.setPlaceholderFontColor),
                    cc.defineGetterSetter(u, 'inputFlag', null, u.setInputFlag),
                    cc.defineGetterSetter(u, 'delegate', null, u.setDelegate),
                    cc.defineGetterSetter(u, 'inputMode', null, u.setInputMode),
                    cc.defineGetterSetter(u, 'returnType', null, u.setReturnType),
                    (u = null),
                    (_ccsg.EditBox.InputMode = h),
                    (_ccsg.EditBox.InputFlag = l),
                    (_ccsg.EditBox.KeyboardReturnType = c),
                    (function (t) {
                        (t._polyfill = {
                            zoomInvalid: !1,
                        }),
                            a.OS_ANDROID !== a.os ||
                                (a.browserType !== a.BROWSER_TYPE_SOUGOU && a.browserType !== a.BROWSER_TYPE_360) ||
                                (t._polyfill.zoomInvalid = !0);
                    })(_ccsg.EditBox),
                    (function (t) {
                        var e = (function () {}.prototype = Object.create(Object.prototype));
                        (e.updateMatrix = function () {
                            if (this._edTxt) {
                                var e = this._node,
                                    i = cc.view._scaleX,
                                    n = cc.view._scaleY,
                                    r = cc.view._devicePixelRatio,
                                    s = this._worldTransform;
                                (i /= r), (n /= r);
                                var o = cc.game.container,
                                    a = s.a * i,
                                    c = s.b,
                                    h = s.c,
                                    l = s.d * n,
                                    u = o && o.style.paddingLeft && parseInt(o.style.paddingLeft),
                                    d = o && o.style.paddingBottom && parseInt(o.style.paddingBottom),
                                    _ = s.tx * i + u,
                                    f = s.ty * n + d;
                                t.zoomInvalid &&
                                    (this.updateSize(e._contentSize.width * a, e._contentSize.height * l),
                                    (a = 1),
                                    (l = 1));
                                var p = 'matrix(' + a + ',' + -c + ',' + -h + ',' + l + ',' + _ + ',' + -f + ')';
                                (this._edTxt.style.transform = p),
                                    (this._edTxt.style['-webkit-transform'] = p),
                                    (this._edTxt.style['transform-origin'] = '0px 100% 0px'),
                                    (this._edTxt.style['-webkit-transform-origin'] = '0px 100% 0px');
                            }
                        }),
                            (e.updateVisibility = function () {
                                this._edTxt &&
                                    (this._node.visible
                                        ? (this._edTxt.style.visibility = 'visible')
                                        : (this._edTxt.style.visibility = 'hidden'));
                            }),
                            (e.stayOnTop = function (t) {
                                t
                                    ? (this._removeLabels(), (this._edTxt.style.display = ''))
                                    : (this._createLabels(), (this._edTxt.style.display = 'none'), this._showLabels());
                            }),
                            (e._beginEditingOnMobile = function (t) {
                                (this.__orientationChanged = function () {
                                    n(t);
                                }),
                                    window.addEventListener('orientationchange', this.__orientationChanged),
                                    cc.view.isAutoFullScreenEnabled()
                                        ? ((this.__fullscreen = !0),
                                          cc.view.enableAutoFullScreen(!1),
                                          cc.screen.exitFullScreen())
                                        : (this.__fullscreen = !1),
                                    (this.__autoResize = cc.view.__resizeWithBrowserSize),
                                    cc.view.resizeWithBrowserSize(!1);
                            }),
                            (e._endEditingOnMobile = function () {
                                if (this.__rotateScreen) {
                                    (cc.container.style['-webkit-transform'] = 'rotate(90deg)'),
                                        (cc.container.style.transform = 'rotate(90deg)');
                                    var t = cc.view,
                                        e = t._originalDesignResolutionSize.width,
                                        i = t._originalDesignResolutionSize.height;
                                    e > 0 && t.setDesignResolutionSize(e, i, t._resolutionPolicy),
                                        (this.__rotateScreen = !1);
                                }
                                window.removeEventListener('orientationchange', this.__orientationChanged),
                                    window.scrollTo(0, 0),
                                    this.__fullscreen && cc.view.enableAutoFullScreen(!0),
                                    this.__autoResize && cc.view.resizeWithBrowserSize(!0);
                            }),
                            (e._onFocusOnMobile = function (t) {
                                if (cc.view._isRotated) {
                                    (cc.container.style['-webkit-transform'] = 'rotate(0deg)'),
                                        (cc.container.style.transform = 'rotate(0deg)'),
                                        (cc.view._isRotated = !1);
                                    cc.view.getResolutionPolicy().apply(cc.view, cc.view.getDesignResolutionSize()),
                                        (cc.view._isRotated = !0),
                                        window.scrollTo(35, 35),
                                        (this.__rotateScreen = !0);
                                } else this.__rotateScreen = !1;
                                n(t);
                            }),
                            (e._createDomInput = function () {
                                function t(t) {
                                    var i = e._editBox;
                                    t.value.length > t.maxLength && (t.value = t.value.slice(0, t.maxLength)),
                                        i._delegate &&
                                            i._delegate.editBoxTextChanged &&
                                            i._text !== t.value &&
                                            ((i._text = t.value),
                                            e._updateDomTextCases(),
                                            i._delegate.editBoxTextChanged(i, i._text));
                                }
                                this.removeDom();
                                var e = this,
                                    i = (this._edTxt = document.createElement('input'));
                                (i.type = 'text'),
                                    (i.style.fontSize = this._edFontSize + 'px'),
                                    (i.style.color = '#000000'),
                                    (i.style.border = 0),
                                    (i.style.background = 'transparent'),
                                    (i.style.width = '100%'),
                                    (i.style.height = '100%'),
                                    (i.style.active = 0),
                                    (i.style.outline = 'medium'),
                                    (i.style.padding = '0'),
                                    (i.style.textTransform = 'uppercase'),
                                    (i.style.display = 'none'),
                                    (i.style.position = 'absolute'),
                                    (i.style.bottom = '0px'),
                                    (i.style.left = '2px'),
                                    (i.style['-moz-appearance'] = 'textfield'),
                                    (i.style.className = 'cocosEditBox');
                                var n = !1;
                                return (
                                    i.addEventListener('compositionstart', function () {
                                        n = !0;
                                    }),
                                    i.addEventListener('compositionend', function () {
                                        (n = !1), t(this);
                                    }),
                                    i.addEventListener('input', function () {
                                        n || t(this);
                                    }),
                                    i.addEventListener('keypress', function (t) {
                                        var i = e._editBox;
                                        t.keyCode === cc.KEY.enter &&
                                            (t.stopPropagation(),
                                            t.preventDefault(),
                                            '' === this.value &&
                                                ((this.style.fontSize = i._placeholderFontSize + 'px'),
                                                (this.style.color = cc.colorToHex(i._placeholderColor))),
                                            (i._text = this.value),
                                            e._updateDomTextCases(),
                                            e._endEditing(),
                                            i._delegate &&
                                                i._delegate.editBoxEditingReturn &&
                                                i._delegate.editBoxEditingReturn(i),
                                            cc._canvas.focus());
                                    }),
                                    i.addEventListener('focus', function () {
                                        var t = e._editBox;
                                        (this.style.fontSize = e._edFontSize + 'px'),
                                            (this.style.color = cc.colorToHex(t._textColor)),
                                            e._hiddenLabels(),
                                            a.isMobile && e._onFocusOnMobile(t),
                                            t._delegate &&
                                                t._delegate.editBoxEditingDidBegan &&
                                                t._delegate.editBoxEditingDidBegan(t);
                                    }),
                                    i.addEventListener('blur', function () {
                                        var t = e._editBox;
                                        (t._text = this.value),
                                            e._updateDomTextCases(),
                                            t._delegate &&
                                                t._delegate.editBoxEditingDidEnded &&
                                                t._delegate.editBoxEditingDidEnded(t),
                                            '' === this.value &&
                                                ((this.style.fontSize = t._placeholderFontSize + 'px'),
                                                (this.style.color = cc.colorToHex(t._placeholderColor))),
                                            e._endEditing();
                                    }),
                                    this._addDomToGameContainer(),
                                    i
                                );
                            }),
                            (e._createDomTextArea = function () {
                                function t(t) {
                                    t.value.length > t.maxLength && (t.value = t.value.slice(0, t.maxLength));
                                    var i = e._editBox;
                                    i._delegate &&
                                        i._delegate.editBoxTextChanged &&
                                        i._text.toLowerCase() !== t.value.toLowerCase() &&
                                        ((i._text = t.value),
                                        e._updateDomTextCases(),
                                        i._delegate.editBoxTextChanged(i, i._text));
                                }
                                this.removeDom();
                                var e = this,
                                    i = (this._edTxt = document.createElement('textarea'));
                                (i.type = 'text'),
                                    (i.style.fontSize = this._edFontSize + 'px'),
                                    (i.style.color = '#000000'),
                                    (i.style.border = 0),
                                    (i.style.background = 'transparent'),
                                    (i.style.width = '100%'),
                                    (i.style.height = '100%'),
                                    (i.style.active = 0),
                                    (i.style.outline = 'medium'),
                                    (i.style.padding = '0'),
                                    (i.style.resize = 'none'),
                                    (i.style.textTransform = 'uppercase'),
                                    (i.style.overflow_y = 'scroll'),
                                    (i.style.display = 'none'),
                                    (i.style.position = 'absolute'),
                                    (i.style.bottom = '0px'),
                                    (i.style.left = '2px'),
                                    (i.style.className = 'cocosEditBox');
                                var n = !1;
                                return (
                                    i.addEventListener('compositionstart', function () {
                                        n = !0;
                                    }),
                                    i.addEventListener('compositionend', function () {
                                        (n = !1), t(this);
                                    }),
                                    i.addEventListener('input', function () {
                                        n || t(this);
                                    }),
                                    i.addEventListener('focus', function () {
                                        var t = e._editBox;
                                        e._hiddenLabels(),
                                            (this.style.fontSize = e._edFontSize + 'px'),
                                            (this.style.color = cc.colorToHex(t._textColor)),
                                            a.isMobile && e._onFocusOnMobile(t),
                                            t._delegate &&
                                                t._delegate.editBoxEditingDidBegan &&
                                                t._delegate.editBoxEditingDidBegan(t);
                                    }),
                                    i.addEventListener('keypress', function (t) {
                                        var i = e._editBox;
                                        t.keyCode === cc.KEY.enter &&
                                            (t.stopPropagation(),
                                            i._delegate &&
                                                i._delegate.editBoxEditingReturn &&
                                                i._delegate.editBoxEditingReturn(i));
                                    }),
                                    i.addEventListener('blur', function () {
                                        var t = e._editBox;
                                        (t._text = this.value),
                                            e._updateDomTextCases(),
                                            t._delegate &&
                                                t._delegate.editBoxEditingDidEnded &&
                                                t._delegate.editBoxEditingDidEnded(t),
                                            '' === this.value &&
                                                ((this.style.fontSize = t._placeholderFontSize + 'px'),
                                                (this.style.color = cc.colorToHex(t._placeholderColor))),
                                            e._endEditing();
                                    }),
                                    this._addDomToGameContainer(),
                                    i
                                );
                            }),
                            (e._createWXInput = function (t) {
                                this.removeDom();
                                var e = this,
                                    i = (this._edTxt = document.createElement('input'));
                                (i.type = 'text'),
                                    (i.focus = function () {
                                        var i = e._editBox;
                                        wx.showKeyboard({
                                            defaultValue: i._text,
                                            maxLength: 140,
                                            multiple: t,
                                            confirmHold: !0,
                                            confirmType: 'done',
                                            success: function (t) {
                                                i._delegate &&
                                                    i._delegate.editBoxEditingDidBegan &&
                                                    i._delegate.editBoxEditingDidBegan(i);
                                            },
                                            fail: function (t) {
                                                cc.warn(t.errMsg), e._endEditing();
                                            },
                                        }),
                                            wx.onKeyboardConfirm(function (t) {
                                                (i._text = t.value),
                                                    e._updateDomTextCases(),
                                                    i._delegate &&
                                                        i._delegate.editBoxEditingReturn &&
                                                        i._delegate.editBoxEditingReturn(i),
                                                    wx.hideKeyboard({
                                                        success: function (t) {
                                                            i._delegate &&
                                                                i._delegate.editBoxEditingDidEnded &&
                                                                i._delegate.editBoxEditingDidEnded(i);
                                                        },
                                                        fail: function (t) {
                                                            cc.warn(t.errMsg);
                                                        },
                                                    });
                                            }),
                                            wx.onKeyboardInput(function (t) {
                                                i._delegate &&
                                                    i._delegate.editBoxTextChanged &&
                                                    i._text !== t.value &&
                                                    ((i._text = t.value),
                                                    e._updateDomTextCases(),
                                                    i._delegate.editBoxTextChanged(i, i._text));
                                            }),
                                            wx.onKeyboardComplete(function () {
                                                e._endEditing(),
                                                    wx.offKeyboardConfirm(),
                                                    wx.offKeyboardInput(),
                                                    wx.offKeyboardComplete();
                                            });
                                    });
                            }),
                            (e._createLabels = function () {
                                var t = this._editBox.getContentSize();
                                this._textLabel ||
                                    ((this._textLabel = _ccsg.Label.pool.get()),
                                    this._textLabel.setAnchorPoint(cc.p(0, 1)),
                                    this._textLabel.setOverflow(_ccsg.Label.Overflow.CLAMP),
                                    this._editBox.addChild(this._textLabel, 100)),
                                    this._placeholderLabel ||
                                        ((this._placeholderLabel = _ccsg.Label.pool.get()),
                                        this._placeholderLabel.setAnchorPoint(cc.p(0, 1)),
                                        this._placeholderLabel.setColor(cc.Color.GRAY),
                                        this._editBox.addChild(this._placeholderLabel, 100)),
                                    this._updateLabelPosition(t);
                            }),
                            (e._removeLabels = function () {
                                this._textLabel &&
                                    (this._editBox.removeChild(this._textLabel), (this._textLabel = null));
                            }),
                            (e._updateLabelPosition = function (t) {
                                if (this._textLabel && this._placeholderLabel) {
                                    var e = cc.size(t.width - 2, t.height);
                                    this._textLabel.setContentSize(e), this._placeholderLabel.setLineHeight(t.height);
                                    var i = this._placeholderLabel.getContentSize();
                                    this._editBox._editBoxInputMode === h.ANY
                                        ? (this._textLabel.setPosition(2, t.height),
                                          this._placeholderLabel.setPosition(2, t.height),
                                          this._placeholderLabel.setVerticalAlign(cc.VerticalTextAlignment.TOP),
                                          this._textLabel.setVerticalAlign(cc.VerticalTextAlignment.TOP),
                                          this._textLabel.enableWrapText(!0))
                                        : (this._textLabel.enableWrapText(!1),
                                          this._textLabel.setPosition(2, t.height),
                                          this._placeholderLabel.setPosition(2, (t.height + i.height) / 2),
                                          this._placeholderLabel.setVerticalAlign(cc.VerticalTextAlignment.CENTER),
                                          this._textLabel.setVerticalAlign(cc.VerticalTextAlignment.CENTER));
                                }
                            }),
                            (e.setLineHeight = function (t) {
                                this._textLabel && this._textLabel.setLineHeight(t);
                            }),
                            (e._hiddenLabels = function () {
                                this._textLabel && this._textLabel.setVisible(!1),
                                    this._placeholderLabel && this._placeholderLabel.setVisible(!1);
                            }),
                            (e._updateDomTextCases = function () {
                                var t = this._editBox._editBoxInputFlag;
                                t === l.INITIAL_CAPS_ALL_CHARACTERS
                                    ? (this._editBox._text = this._editBox._text.toUpperCase())
                                    : t === l.INITIAL_CAPS_WORD
                                    ? (this._editBox._text = (function (t) {
                                          return t.replace(/(?:^|\s)\S/g, function (t) {
                                              return t.toUpperCase();
                                          });
                                      })(this._editBox._text))
                                    : t === l.INITIAL_CAPS_SENTENCE &&
                                      (this._editBox._text = (function (t) {
                                          return t.charAt(0).toUpperCase() + t.slice(1);
                                      })(this._editBox._text)),
                                    this._edTxt && (this._edTxt.value = this._editBox._text);
                            }),
                            (e._updateLabelStringStyle = function () {
                                if ('password' === this._edTxt.type) {
                                    for (var t = '', e = this._editBox._text.length, i = 0; i < e; ++i) t += '●';
                                    this._textLabel && this._textLabel.setString(t);
                                } else
                                    this._updateDomTextCases(),
                                        this._textLabel && this._textLabel.setString(this._editBox._text);
                            }),
                            (e._showLabels = function () {
                                this._hiddenLabels();
                                '' === this._edTxt.value
                                    ? this._placeholderLabel &&
                                      (this._placeholderLabel.setVisible(!0),
                                      this._placeholderLabel.setString(this._editBox._placeholderText))
                                    : this._textLabel &&
                                      (this._textLabel.setVisible(!0), this._textLabel.setString(this._editBox._text)),
                                    this._updateLabelStringStyle();
                            }),
                            (e._beginEditing = function () {
                                var t = this;
                                if (a.platform === a.WECHAT_GAME) this._edTxt.focus();
                                else if (
                                    !t._editBox._alwaysOnTop &&
                                    a.platform !== a.QQ_PLAY &&
                                    'none' === t._edTxt.style.display
                                ) {
                                    t._edTxt.style.display = '';

                                    function e() {
                                        t._edTxt.focus();
                                    }
                                    a.browserType === a.BROWSER_TYPE_UC
                                        ? setTimeout(e, 400)
                                        : a.browserType === a.BROWSER_TYPE_FIREFOX
                                        ? setTimeout(e, 0)
                                        : e();
                                }
                                a.isMobile &&
                                    !t._editingMode &&
                                    a.platform !== a.QQ_PLAY &&
                                    t._beginEditingOnMobile(t._editBox),
                                    (t._editingMode = !0);
                            }),
                            (e._endEditing = function () {
                                if (
                                    (this._editBox._alwaysOnTop ||
                                        a.platform === a.QQ_PLAY ||
                                        (this._edTxt && this._edTxt.style && (this._edTxt.style.display = 'none')),
                                    this._edTxt && this._showLabels(),
                                    a.platform !== a.WECHAT_GAME &&
                                        a.platform !== a.QQ_PLAY &&
                                        a.isMobile &&
                                        this._editingMode)
                                ) {
                                    var t = this;
                                    setTimeout(function () {
                                        t._endEditingOnMobile();
                                    }, s);
                                }
                                this._editingMode = !1;
                            }),
                            (e._setFont = function (t) {
                                var e = cc.LabelTTF._fontStyleRE.exec(t),
                                    i = e[2],
                                    n = parseInt(e[1]);
                                e && this.setFont(i, n);
                            }),
                            (e.setFont = function (t, e) {
                                (this._edFontName = t || this._edFontName),
                                    (this._edFontSize = e || this._edFontSize),
                                    this._updateDOMFontStyle();
                            }),
                            (e.setFontName = function (t) {
                                (this._edFontName = t || this._edFontName), this._updateDOMFontStyle();
                            }),
                            (e.setFontSize = function (t) {
                                (this._edFontSize = t || this._edFontSize), this._updateDOMFontStyle();
                            }),
                            (e.setFontColor = function (t) {
                                this._edTxt &&
                                    (this._edTxt.value !== this._editBox._placeholderText &&
                                        (this._edTxt.style.color = cc.colorToHex(t)),
                                    this._textLabel && this._textLabel.setColor(t));
                            }),
                            (e.setPlaceHolder = function (t) {
                                this._placeholderLabel.setString(t);
                            }),
                            (e.setMaxLength = function (t) {
                                this._edTxt && (this._edTxt.maxLength = t);
                            }),
                            (e._updateDOMPlaceholderFontStyle = function () {
                                this._placeholderLabel.setFontFamily(this._editBox._placeholderFontName),
                                    this._placeholderLabel.setFontSize(this._editBox._placeholderFontSize);
                            }),
                            (e.setPlaceholderFontColor = function (t) {
                                this._placeholderLabel.setColor(t);
                            }),
                            (e._updateDomInputType = function () {
                                if (this._edTxt) {
                                    var t = this._editBox._editBoxInputMode;
                                    t === h.EMAIL_ADDR
                                        ? (this._edTxt.type = 'email')
                                        : t === h.NUMERIC || t === h.DECIMAL
                                        ? (this._edTxt.type = 'number')
                                        : t === h.PHONE_NUMBER
                                        ? ((this._edTxt.type = 'number'), (this._edTxt.pattern = '[0-9]*'))
                                        : t === h.URL
                                        ? (this._edTxt.type = 'url')
                                        : ((this._edTxt.type = 'text'),
                                          this._editBox._keyboardReturnType === c.SEARCH &&
                                              (this._edTxt.type = 'search')),
                                        this._editBox._editBoxInputFlag === l.PASSWORD &&
                                            (this._edTxt.type = 'password');
                                }
                            }),
                            (e.setInputFlag = function (t) {
                                this._edTxt &&
                                    (this._updateDomInputType(),
                                    (this._edTxt.style.textTransform = 'none'),
                                    t === l.INITIAL_CAPS_ALL_CHARACTERS
                                        ? (this._edTxt.style.textTransform = 'uppercase')
                                        : t === l.INITIAL_CAPS_WORD && (this._edTxt.style.textTransform = 'capitalize'),
                                    this._updateLabelStringStyle());
                            }),
                            (e.setInputMode = function (t) {
                                a.platform === a.WECHAT_GAME
                                    ? this._createWXInput(t === h.ANY)
                                    : t === h.ANY
                                    ? this._createDomTextArea()
                                    : this._createDomInput(),
                                    this._updateDomInputType();
                                var e = this._node.getContentSize();
                                this.updateSize(e.width, e.height);
                            }),
                            (e.setString = function (t) {
                                this._edTxt &&
                                    null !== t &&
                                    ((this._edTxt.value = t),
                                    '' === t
                                        ? (this._placeholderLabel &&
                                              (this._placeholderLabel.setString(this._editBox._placeholderText),
                                              this._placeholderLabel.setColor(this._editBox._placeholderColor)),
                                          this._editingMode ||
                                              (this._placeholderLabel && this._placeholderLabel.setVisible(!0),
                                              this._textLabel && this._textLabel.setVisible(!1)))
                                        : ((this._edTxt.style.color = cc.colorToHex(this._editBox._textColor)),
                                          this._textLabel && this._textLabel.setColor(this._editBox._textColor),
                                          this._editingMode ||
                                              (this._placeholderLabel && this._placeholderLabel.setVisible(!1),
                                              this._textLabel && this._textLabel.setVisible(!0)),
                                          this._updateLabelStringStyle()));
                            }),
                            (e._updateDOMFontStyle = function () {
                                this._edTxt &&
                                    ('' !== this._edTxt.value &&
                                        ((this._edTxt.style.fontFamily = this._edFontName),
                                        (this._edTxt.style.fontSize = this._edFontSize + 'px')),
                                    this._textLabel &&
                                        (this._textLabel.setFontSize(this._edFontSize),
                                        this._textLabel.setFontFamily(this._edFontName)));
                            }),
                            (e.updateSize = function (t, e) {
                                var i = this._edTxt;
                                i &&
                                    ((i.style.width = t + 'px'),
                                    (i.style.height = e + 'px'),
                                    this._updateLabelPosition(cc.size(t, e)));
                            }),
                            (e._addDomToGameContainer = function () {
                                cc.game.container.appendChild(this._edTxt);
                            }),
                            (e.removeDom = function () {
                                var t = this._edTxt;
                                if (t) {
                                    o.contains(cc.game.container, t) && cc.game.container.removeChild(t);
                                }
                                this._edTxt = null;
                            }),
                            (e.initializeRenderCmd = function (t) {
                                (this._editBox = t),
                                    (this._edFontSize = 14),
                                    (this._edFontName = 'Arial'),
                                    (this._textLabel = null),
                                    (this._placeholderLabel = null),
                                    (this._editingMode = !1),
                                    (this.__fullscreen = !1),
                                    (this.__autoResize = !1),
                                    (this.__rotateScreen = !1),
                                    (this.__orientationChanged = null);
                            }),
                            (_ccsg.EditBox.CanvasRenderCmd = function (t) {
                                this._rootCtor(t), this.initializeRenderCmd(t);
                            });
                        var i = (_ccsg.EditBox.CanvasRenderCmd.prototype = Object.create(
                            _ccsg.Node.CanvasRenderCmd.prototype,
                        ));
                        cc.js.mixin(i, e),
                            (i.constructor = _ccsg.EditBox.CanvasRenderCmd),
                            (i.transform = function (t, e) {
                                this.originTransform(t, e), this.updateMatrix();
                            }),
                            (_ccsg.EditBox.WebGLRenderCmd = function (t) {
                                this._rootCtor(t), this.initializeRenderCmd(t);
                            });
                        var r = (_ccsg.EditBox.WebGLRenderCmd.prototype = Object.create(
                            _ccsg.Node.WebGLRenderCmd.prototype,
                        ));
                        cc.js.mixin(r, e),
                            (r.constructor = _ccsg.EditBox.WebGLRenderCmd),
                            (r.transform = function (t, e) {
                                this.originTransform(t, e), this.updateMatrix();
                            });
                    })(_ccsg.EditBox._polyfill);
            },
            {
                '../platform/CCSys': 144,
                '../platform/utils': 160,
            },
        ],
        91: [
            function (t, e, i) {
                var n = cc.js;
                t('../event/event');
                var r = function (t, e) {
                    cc.Event.call(this, cc.Event.MOUSE, e),
                        (this._eventType = t),
                        (this._button = 0),
                        (this._x = 0),
                        (this._y = 0),
                        (this._prevX = 0),
                        (this._prevY = 0),
                        (this._scrollX = 0),
                        (this._scrollY = 0);
                };
                n.extend(r, cc.Event);
                var s = r.prototype;
                (s.setScrollData = function (t, e) {
                    (this._scrollX = t), (this._scrollY = e);
                }),
                    (s.getScrollX = function () {
                        return this._scrollX;
                    }),
                    (s.getScrollY = function () {
                        return this._scrollY;
                    }),
                    (s.setLocation = function (t, e) {
                        (this._x = t), (this._y = e);
                    }),
                    (s.getLocation = function () {
                        return {
                            x: this._x,
                            y: this._y,
                        };
                    }),
                    (s.getLocationInView = function () {
                        return {
                            x: this._x,
                            y: cc.view._designResolutionSize.height - this._y,
                        };
                    }),
                    (s._setPrevCursor = function (t, e) {
                        (this._prevX = t), (this._prevY = e);
                    }),
                    (s.getPreviousLocation = function () {
                        return {
                            x: this._prevX,
                            y: this._prevY,
                        };
                    }),
                    (s.getDelta = function () {
                        return {
                            x: this._x - this._prevX,
                            y: this._y - this._prevY,
                        };
                    }),
                    (s.getDeltaX = function () {
                        return this._x - this._prevX;
                    }),
                    (s.getDeltaY = function () {
                        return this._y - this._prevY;
                    }),
                    (s.setButton = function (t) {
                        this._button = t;
                    }),
                    (s.getButton = function () {
                        return this._button;
                    }),
                    (s.getLocationX = function () {
                        return this._x;
                    }),
                    (s.getLocationY = function () {
                        return this._y;
                    }),
                    (r.NONE = 0),
                    (r.DOWN = 1),
                    (r.UP = 2),
                    (r.MOVE = 3),
                    (r.SCROLL = 4),
                    (r.BUTTON_LEFT = 0),
                    (r.BUTTON_RIGHT = 2),
                    (r.BUTTON_MIDDLE = 1),
                    (r.BUTTON_4 = 3),
                    (r.BUTTON_5 = 4),
                    (r.BUTTON_6 = 5),
                    (r.BUTTON_7 = 6),
                    (r.BUTTON_8 = 7);
                var o = function (t, e) {
                    cc.Event.call(this, cc.Event.TOUCH, e),
                        (this._eventCode = 0),
                        (this._touches = t || []),
                        (this.touch = null),
                        (this.currentTouch = null);
                };
                n.extend(o, cc.Event),
                    ((s = o.prototype).getEventCode = function () {
                        return this._eventCode;
                    }),
                    (s.getTouches = function () {
                        return this._touches;
                    }),
                    (s._setEventCode = function (t) {
                        this._eventCode = t;
                    }),
                    (s._setTouches = function (t) {
                        this._touches = t;
                    }),
                    (s.setLocation = function (t, e) {
                        this.touch && this.touch.setTouchInfo(this.touch.getID(), t, e);
                    }),
                    (s.getLocation = function () {
                        return this.touch ? this.touch.getLocation() : cc.v2();
                    }),
                    (s.getLocationInView = function () {
                        return this.touch ? this.touch.getLocationInView() : cc.v2();
                    }),
                    (s.getPreviousLocation = function () {
                        return this.touch ? this.touch.getPreviousLocation() : cc.v2();
                    }),
                    (s.getStartLocation = function () {
                        return this.touch ? this.touch.getStartLocation() : cc.v2();
                    }),
                    (s.getID = function () {
                        return this.touch ? this.touch.getID() : null;
                    }),
                    (s.getDelta = function () {
                        return this.touch ? this.touch.getDelta() : cc.v2();
                    }),
                    (s.getDeltaX = function () {
                        return this.touch ? this.touch.getDelta().x : 0;
                    }),
                    (s.getDeltaY = function () {
                        return this.touch ? this.touch.getDelta().y : 0;
                    }),
                    (s.getLocationX = function () {
                        return this.touch ? this.touch.getLocationX() : 0;
                    }),
                    (s.getLocationY = function () {
                        return this.touch ? this.touch.getLocationY() : 0;
                    }),
                    (o.MAX_TOUCHES = 5),
                    (o.BEGAN = 0),
                    (o.MOVED = 1),
                    (o.ENDED = 2),
                    (o.CANCELED = 3);
                var a = function (t, e) {
                    cc.Event.call(this, cc.Event.ACCELERATION, e), (this.acc = t);
                };
                n.extend(a, cc.Event);
                var c = function (t, e, i) {
                    cc.Event.call(this, cc.Event.KEYBOARD, i), (this.keyCode = t), (this.isPressed = e);
                };
                n.extend(c, cc.Event),
                    (cc.Event.EventMouse = r),
                    (cc.Event.EventTouch = o),
                    (cc.Event.EventAcceleration = a),
                    (cc.Event.EventKeyboard = c),
                    (e.exports = cc.Event);
            },
            {
                '../event/event': 98,
            },
        ],
        92: [
            function (t, e, i) {
                (cc.EventListener = cc._Class.extend({
                    ctor: function (t, e, i) {
                        (this._onEvent = i),
                            (this._type = t || 0),
                            (this._listenerID = e || ''),
                            (this._registered = !1),
                            (this._fixedPriority = 0),
                            (this._node = null),
                            (this._target = null),
                            (this._paused = !0),
                            (this._isEnabled = !0);
                    },
                    _setPaused: function (t) {
                        this._paused = t;
                    },
                    _isPaused: function () {
                        return this._paused;
                    },
                    _setRegistered: function (t) {
                        this._registered = t;
                    },
                    _isRegistered: function () {
                        return this._registered;
                    },
                    _getType: function () {
                        return this._type;
                    },
                    _getListenerID: function () {
                        return this._listenerID;
                    },
                    _setFixedPriority: function (t) {
                        this._fixedPriority = t;
                    },
                    _getFixedPriority: function () {
                        return this._fixedPriority;
                    },
                    _setSceneGraphPriority: function (t) {
                        (this._target = t), (this._node = t);
                    },
                    _getSceneGraphPriority: function () {
                        return this._node;
                    },
                    checkAvailable: function () {
                        return null !== this._onEvent;
                    },
                    clone: function () {
                        return null;
                    },
                    setEnabled: function (t) {
                        this._isEnabled = t;
                    },
                    isEnabled: function () {
                        return this._isEnabled;
                    },
                    retain: function () {},
                    release: function () {},
                })),
                    (cc.EventListener.UNKNOWN = 0),
                    (cc.EventListener.TOUCH_ONE_BY_ONE = 1),
                    (cc.EventListener.TOUCH_ALL_AT_ONCE = 2),
                    (cc.EventListener.KEYBOARD = 3),
                    (cc.EventListener.MOUSE = 4),
                    (cc.EventListener.ACCELERATION = 6),
                    (cc.EventListener.CUSTOM = 8),
                    (cc._EventListenerCustom = cc.EventListener.extend({
                        _onCustomEvent: null,
                        ctor: function (t, e) {
                            (this._onCustomEvent = e),
                                cc.EventListener.prototype.ctor.call(this, cc.EventListener.CUSTOM, t, this._callback);
                        },
                        _callback: function (t) {
                            null !== this._onCustomEvent && this._onCustomEvent(t);
                        },
                        checkAvailable: function () {
                            return cc.EventListener.prototype.checkAvailable.call(this) && null !== this._onCustomEvent;
                        },
                        clone: function () {
                            return new cc._EventListenerCustom(this._listenerID, this._onCustomEvent);
                        },
                    })),
                    (cc._EventListenerMouse = cc.EventListener.extend({
                        onMouseDown: null,
                        onMouseUp: null,
                        onMouseMove: null,
                        onMouseScroll: null,
                        ctor: function () {
                            cc.EventListener.prototype.ctor.call(
                                this,
                                cc.EventListener.MOUSE,
                                cc._EventListenerMouse.LISTENER_ID,
                                this._callback,
                            );
                        },
                        _callback: function (t) {
                            var e = cc.Event.EventMouse;
                            switch (t._eventType) {
                                case e.DOWN:
                                    this.onMouseDown && this.onMouseDown(t);
                                    break;
                                case e.UP:
                                    this.onMouseUp && this.onMouseUp(t);
                                    break;
                                case e.MOVE:
                                    this.onMouseMove && this.onMouseMove(t);
                                    break;
                                case e.SCROLL:
                                    this.onMouseScroll && this.onMouseScroll(t);
                            }
                        },
                        clone: function () {
                            var t = new cc._EventListenerMouse();
                            return (
                                (t.onMouseDown = this.onMouseDown),
                                (t.onMouseUp = this.onMouseUp),
                                (t.onMouseMove = this.onMouseMove),
                                (t.onMouseScroll = this.onMouseScroll),
                                t
                            );
                        },
                        checkAvailable: function () {
                            return !0;
                        },
                    })),
                    (cc._EventListenerMouse.LISTENER_ID = '__cc_mouse'),
                    (cc._EventListenerTouchOneByOne = cc.EventListener.extend({
                        _claimedTouches: null,
                        swallowTouches: !1,
                        onTouchBegan: null,
                        onTouchMoved: null,
                        onTouchEnded: null,
                        onTouchCancelled: null,
                        ctor: function () {
                            cc.EventListener.prototype.ctor.call(
                                this,
                                cc.EventListener.TOUCH_ONE_BY_ONE,
                                cc._EventListenerTouchOneByOne.LISTENER_ID,
                                null,
                            ),
                                (this._claimedTouches = []);
                        },
                        setSwallowTouches: function (t) {
                            this.swallowTouches = t;
                        },
                        isSwallowTouches: function () {
                            return this.swallowTouches;
                        },
                        clone: function () {
                            var t = new cc._EventListenerTouchOneByOne();
                            return (
                                (t.onTouchBegan = this.onTouchBegan),
                                (t.onTouchMoved = this.onTouchMoved),
                                (t.onTouchEnded = this.onTouchEnded),
                                (t.onTouchCancelled = this.onTouchCancelled),
                                (t.swallowTouches = this.swallowTouches),
                                t
                            );
                        },
                        checkAvailable: function () {
                            return !!this.onTouchBegan || (cc.logID(1801), !1);
                        },
                    })),
                    (cc._EventListenerTouchOneByOne.LISTENER_ID = '__cc_touch_one_by_one'),
                    (cc._EventListenerTouchAllAtOnce = cc.EventListener.extend({
                        onTouchesBegan: null,
                        onTouchesMoved: null,
                        onTouchesEnded: null,
                        onTouchesCancelled: null,
                        ctor: function () {
                            cc.EventListener.prototype.ctor.call(
                                this,
                                cc.EventListener.TOUCH_ALL_AT_ONCE,
                                cc._EventListenerTouchAllAtOnce.LISTENER_ID,
                                null,
                            );
                        },
                        clone: function () {
                            var t = new cc._EventListenerTouchAllAtOnce();
                            return (
                                (t.onTouchesBegan = this.onTouchesBegan),
                                (t.onTouchesMoved = this.onTouchesMoved),
                                (t.onTouchesEnded = this.onTouchesEnded),
                                (t.onTouchesCancelled = this.onTouchesCancelled),
                                t
                            );
                        },
                        checkAvailable: function () {
                            return (
                                null !== this.onTouchesBegan ||
                                null !== this.onTouchesMoved ||
                                null !== this.onTouchesEnded ||
                                null !== this.onTouchesCancelled ||
                                (cc.logID(1802), !1)
                            );
                        },
                    })),
                    (cc._EventListenerTouchAllAtOnce.LISTENER_ID = '__cc_touch_all_at_once'),
                    (cc.EventListener.create = function (t) {
                        cc.assertID(t && t.event, 1900);
                        var e = t.event;
                        delete t.event;
                        var i = null;
                        e === cc.EventListener.TOUCH_ONE_BY_ONE
                            ? (i = new cc._EventListenerTouchOneByOne())
                            : e === cc.EventListener.TOUCH_ALL_AT_ONCE
                            ? (i = new cc._EventListenerTouchAllAtOnce())
                            : e === cc.EventListener.MOUSE
                            ? (i = new cc._EventListenerMouse())
                            : e === cc.EventListener.CUSTOM
                            ? ((i = new cc._EventListenerCustom(t.eventName, t.callback)),
                              delete t.eventName,
                              delete t.callback)
                            : e === cc.EventListener.KEYBOARD
                            ? (i = new cc._EventListenerKeyboard())
                            : e === cc.EventListener.ACCELERATION &&
                              ((i = new cc._EventListenerAcceleration(t.callback)), delete t.callback);
                        for (var n in t) i[n] = t[n];
                        return i;
                    }),
                    (cc._EventListenerAcceleration = cc.EventListener.extend({
                        _onAccelerationEvent: null,
                        ctor: function (t) {
                            (this._onAccelerationEvent = t),
                                cc.EventListener.prototype.ctor.call(
                                    this,
                                    cc.EventListener.ACCELERATION,
                                    cc._EventListenerAcceleration.LISTENER_ID,
                                    this._callback,
                                );
                        },
                        _callback: function (t) {
                            this._onAccelerationEvent(t.acc, t);
                        },
                        checkAvailable: function () {
                            return cc.assertID(this._onAccelerationEvent, 1803), !0;
                        },
                        clone: function () {
                            return new cc._EventListenerAcceleration(this._onAccelerationEvent);
                        },
                    })),
                    (cc._EventListenerAcceleration.LISTENER_ID = '__cc_acceleration'),
                    (cc._EventListenerKeyboard = cc.EventListener.extend({
                        onKeyPressed: null,
                        onKeyReleased: null,
                        ctor: function () {
                            cc.EventListener.prototype.ctor.call(
                                this,
                                cc.EventListener.KEYBOARD,
                                cc._EventListenerKeyboard.LISTENER_ID,
                                this._callback,
                            );
                        },
                        _callback: function (t) {
                            t.isPressed
                                ? this.onKeyPressed && this.onKeyPressed(t.keyCode, t)
                                : this.onKeyReleased && this.onKeyReleased(t.keyCode, t);
                        },
                        clone: function () {
                            var t = new cc._EventListenerKeyboard();
                            return (t.onKeyPressed = this.onKeyPressed), (t.onKeyReleased = this.onKeyReleased), t;
                        },
                        checkAvailable: function () {
                            return null !== this.onKeyPressed || null !== this.onKeyReleased || (cc.logID(1800), !1);
                        },
                    })),
                    (cc._EventListenerKeyboard.LISTENER_ID = '__cc_keyboard');
            },
            {},
        ],
        93: [
            function (t, e, i) {
                var n = t('../platform/js'),
                    r = cc._Class.extend({
                        ctor: function () {
                            (this._fixedListeners = []), (this._sceneGraphListeners = []), (this.gt0Index = 0);
                        },
                        size: function () {
                            return this._fixedListeners.length + this._sceneGraphListeners.length;
                        },
                        empty: function () {
                            return 0 === this._fixedListeners.length && 0 === this._sceneGraphListeners.length;
                        },
                        push: function (t) {
                            0 === t._getFixedPriority()
                                ? this._sceneGraphListeners.push(t)
                                : this._fixedListeners.push(t);
                        },
                        clearSceneGraphListeners: function () {
                            this._sceneGraphListeners.length = 0;
                        },
                        clearFixedListeners: function () {
                            this._fixedListeners.length = 0;
                        },
                        clear: function () {
                            (this._sceneGraphListeners.length = 0), (this._fixedListeners.length = 0);
                        },
                        getFixedPriorityListeners: function () {
                            return this._fixedListeners;
                        },
                        getSceneGraphPriorityListeners: function () {
                            return this._sceneGraphListeners;
                        },
                    }),
                    s = {
                        DIRTY_NONE: 0,
                        DIRTY_FIXED_PRIORITY: 1,
                        DIRTY_SCENE_GRAPH_PRIORITY: 2,
                        DIRTY_ALL: 3,
                        _listenersMap: {},
                        _priorityDirtyFlagMap: {},
                        _nodeListenersMap: {},
                        _nodePriorityMap: {},
                        _globalZOrderNodeMap: {},
                        _toAddedListeners: [],
                        _toRemovedListeners: [],
                        _dirtyNodes: [],
                        _inDispatch: 0,
                        _isEnabled: !1,
                        _nodePriorityIndex: 0,
                        _internalCustomListenerIDs: [],
                        _setDirtyForNode: function (t) {
                            if (
                                (void 0 !== this._nodeListenersMap[t.__instanceId] && this._dirtyNodes.push(t),
                                t.getChildren)
                            )
                                for (var e = t.getChildren(), i = 0, n = e ? e.length : 0; i < n; i++)
                                    this._setDirtyForNode(e[i]);
                        },
                        pauseTarget: function (t, e) {
                            if (t instanceof cc._BaseNode || t instanceof _ccsg.Node) {
                                var i,
                                    n,
                                    r = this._nodeListenersMap[t.__instanceId];
                                if (r) for (i = 0, n = r.length; i < n; i++) r[i]._setPaused(!0);
                                if (!0 === e) {
                                    var s = t.getChildren();
                                    for (i = 0, n = s ? s.length : 0; i < n; i++) this.pauseTarget(s[i], !0);
                                }
                            } else cc.warnID(3506);
                        },
                        resumeTarget: function (t, e) {
                            if (t instanceof cc._BaseNode || t instanceof _ccsg.Node) {
                                var i,
                                    n,
                                    r = this._nodeListenersMap[t.__instanceId];
                                if (r) for (i = 0, n = r.length; i < n; i++) r[i]._setPaused(!1);
                                if ((this._setDirtyForNode(t), !0 === e && t.getChildren)) {
                                    var s = t.getChildren();
                                    for (i = 0, n = s ? s.length : 0; i < n; i++) this.resumeTarget(s[i], !0);
                                }
                            } else cc.warnID(3506);
                        },
                        _addListener: function (t) {
                            0 === this._inDispatch ? this._forceAddEventListener(t) : this._toAddedListeners.push(t);
                        },
                        _forceAddEventListener: function (t) {
                            var e = t._getListenerID(),
                                i = this._listenersMap[e];
                            if (
                                (i || ((i = new r()), (this._listenersMap[e] = i)),
                                i.push(t),
                                0 === t._getFixedPriority())
                            ) {
                                this._setDirty(e, this.DIRTY_SCENE_GRAPH_PRIORITY);
                                var n = t._getSceneGraphPriority();
                                null === n && cc.logID(3507),
                                    this._associateNodeAndEventListener(n, t),
                                    n.isRunning() && this.resumeTarget(n);
                            } else this._setDirty(e, this.DIRTY_FIXED_PRIORITY);
                        },
                        _getListeners: function (t) {
                            return this._listenersMap[t];
                        },
                        _updateDirtyFlagForSceneGraph: function () {
                            if (0 !== this._dirtyNodes.length) {
                                for (
                                    var t, e, i = this._dirtyNodes, n = this._nodeListenersMap, r = 0, s = i.length;
                                    r < s;
                                    r++
                                )
                                    if ((t = n[i[r].__instanceId]))
                                        for (var o = 0, a = t.length; o < a; o++)
                                            (e = t[o]) &&
                                                this._setDirty(e._getListenerID(), this.DIRTY_SCENE_GRAPH_PRIORITY);
                                this._dirtyNodes.length = 0;
                            }
                        },
                        _removeAllListenersInVector: function (t) {
                            if (t)
                                for (var e, i = 0; i < t.length; )
                                    (e = t[i])._setRegistered(!1),
                                        null != e._getSceneGraphPriority() &&
                                            (this._dissociateNodeAndEventListener(e._getSceneGraphPriority(), e),
                                            e._setSceneGraphPriority(null)),
                                        0 === this._inDispatch ? cc.js.array.remove(t, e) : ++i;
                        },
                        _removeListenersForListenerID: function (t) {
                            var e,
                                i = this._listenersMap[t];
                            if (i) {
                                var n = i.getFixedPriorityListeners(),
                                    r = i.getSceneGraphPriorityListeners();
                                this._removeAllListenersInVector(r),
                                    this._removeAllListenersInVector(n),
                                    delete this._priorityDirtyFlagMap[t],
                                    this._inDispatch || (i.clear(), delete this._listenersMap[t]);
                            }
                            var s,
                                o = this._toAddedListeners;
                            for (e = 0; e < o.length; )
                                (s = o[e]) && s._getListenerID() === t ? cc.js.array.remove(o, s) : ++e;
                        },
                        _sortEventListeners: function (t) {
                            var e = this.DIRTY_NONE,
                                i = this._priorityDirtyFlagMap;
                            if (
                                (i[t] && (e = i[t]),
                                e !== this.DIRTY_NONE &&
                                    ((i[t] = this.DIRTY_NONE),
                                    e & this.DIRTY_FIXED_PRIORITY && this._sortListenersOfFixedPriority(t),
                                    e & this.DIRTY_SCENE_GRAPH_PRIORITY))
                            ) {
                                var n = cc.director.getScene();
                                n && this._sortListenersOfSceneGraphPriority(t, n);
                            }
                        },
                        _sortListenersOfSceneGraphPriority: function (t, e) {
                            var i = this._getListeners(t);
                            if (i) {
                                var n = i.getSceneGraphPriorityListeners();
                                n &&
                                    0 !== n.length &&
                                    ((this._nodePriorityIndex = 0),
                                    (this._nodePriorityMap = {}),
                                    this._visitTarget(e, !0),
                                    i
                                        .getSceneGraphPriorityListeners()
                                        .sort(this._sortEventListenersOfSceneGraphPriorityDes));
                            }
                        },
                        _sortEventListenersOfSceneGraphPriorityDes: function (t, e) {
                            var i = s._nodePriorityMap,
                                n = t._getSceneGraphPriority(),
                                r = e._getSceneGraphPriority();
                            return e && r && i[r.__instanceId]
                                ? t && n && i[n.__instanceId]
                                    ? i[r.__instanceId] - i[n.__instanceId]
                                    : 1
                                : -1;
                        },
                        _sortListenersOfFixedPriority: function (t) {
                            var e = this._listenersMap[t];
                            if (e) {
                                var i = e.getFixedPriorityListeners();
                                if (i && 0 !== i.length) {
                                    i.sort(this._sortListenersOfFixedPriorityAsc);
                                    for (var n = 0, r = i.length; n < r && !(i[n]._getFixedPriority() >= 0); ) ++n;
                                    e.gt0Index = n;
                                }
                            }
                        },
                        _sortListenersOfFixedPriorityAsc: function (t, e) {
                            return t._getFixedPriority() - e._getFixedPriority();
                        },
                        _onUpdateListeners: function (t) {
                            var e,
                                i,
                                n,
                                r = t.getFixedPriorityListeners(),
                                s = t.getSceneGraphPriorityListeners(),
                                o = this._toRemovedListeners;
                            if (s)
                                for (e = 0; e < s.length; )
                                    (i = s[e])._isRegistered()
                                        ? ++e
                                        : (cc.js.array.remove(s, i), -1 !== (n = o.indexOf(i)) && o.splice(n, 1));
                            if (r)
                                for (e = 0; e < r.length; )
                                    (i = r[e])._isRegistered()
                                        ? ++e
                                        : (cc.js.array.remove(r, i), -1 !== (n = o.indexOf(i)) && o.splice(n, 1));
                            s && 0 === s.length && t.clearSceneGraphListeners(),
                                r && 0 === r.length && t.clearFixedListeners();
                        },
                        frameUpdateListeners: function () {
                            var t = this._listenersMap,
                                e = this._priorityDirtyFlagMap;
                            for (var i in t) t[i].empty() && (delete e[i], delete t[i]);
                            var n = this._toAddedListeners;
                            if (0 !== n.length) {
                                for (var r = 0, s = n.length; r < s; r++) this._forceAddEventListener(n[r]);
                                n.length = 0;
                            }
                            0 !== this._toRemovedListeners.length && this._cleanToRemovedListeners();
                        },
                        _updateTouchListeners: function (t) {
                            var e = this._inDispatch;
                            if ((cc.assertID(e > 0, 3508), !(e > 1))) {
                                var i;
                                (i = this._listenersMap[cc._EventListenerTouchOneByOne.LISTENER_ID]) &&
                                    this._onUpdateListeners(i),
                                    (i = this._listenersMap[cc._EventListenerTouchAllAtOnce.LISTENER_ID]) &&
                                        this._onUpdateListeners(i),
                                    cc.assertID(1 === e, 3509);
                                var n = this._toAddedListeners;
                                if (0 !== n.length) {
                                    for (var r = 0, s = n.length; r < s; r++) this._forceAddEventListener(n[r]);
                                    this._toAddedListeners.length = 0;
                                }
                                0 !== this._toRemovedListeners.length && this._cleanToRemovedListeners();
                            }
                        },
                        _cleanToRemovedListeners: function () {
                            for (var t = this._toRemovedListeners, e = 0; e < t.length; e++) {
                                var i = t[e],
                                    n = this._listenersMap[i._getListenerID()];
                                if (n) {
                                    var r,
                                        s = n.getFixedPriorityListeners(),
                                        o = n.getSceneGraphPriorityListeners();
                                    o && -1 !== (r = o.indexOf(i)) && o.splice(r, 1),
                                        s && -1 !== (r = s.indexOf(i)) && s.splice(r, 1);
                                }
                            }
                            t.length = 0;
                        },
                        _onTouchEventCallback: function (t, e) {
                            if (!t._isRegistered) return !1;
                            var i = e.event,
                                n = i.currentTouch;
                            i.currentTarget = t._node;
                            var r,
                                o = !1,
                                a = i.getEventCode(),
                                c = cc.Event.EventTouch;
                            return (
                                a === c.BEGAN
                                    ? t.onTouchBegan &&
                                      (o = t.onTouchBegan(n, i)) &&
                                      t._registered &&
                                      t._claimedTouches.push(n)
                                    : t._claimedTouches.length > 0 &&
                                      -1 !== (r = t._claimedTouches.indexOf(n)) &&
                                      ((o = !0),
                                      a === c.MOVED && t.onTouchMoved
                                          ? t.onTouchMoved(n, i)
                                          : a === c.ENDED
                                          ? (t.onTouchEnded && t.onTouchEnded(n, i),
                                            t._registered && t._claimedTouches.splice(r, 1))
                                          : a === c.CANCELLED &&
                                            (t.onTouchCancelled && t.onTouchCancelled(n, i),
                                            t._registered && t._claimedTouches.splice(r, 1))),
                                i.isStopped()
                                    ? (s._updateTouchListeners(i), !0)
                                    : !!(o && t._registered && t.swallowTouches) &&
                                      (e.needsMutableSet && e.touches.splice(n, 1), !0)
                            );
                        },
                        _dispatchTouchEvent: function (t) {
                            this._sortEventListeners(cc._EventListenerTouchOneByOne.LISTENER_ID),
                                this._sortEventListeners(cc._EventListenerTouchAllAtOnce.LISTENER_ID);
                            var e = this._getListeners(cc._EventListenerTouchOneByOne.LISTENER_ID),
                                i = this._getListeners(cc._EventListenerTouchAllAtOnce.LISTENER_ID);
                            if (null !== e || null !== i) {
                                var n = t.getTouches(),
                                    r = cc.js.array.copy(n),
                                    s = {
                                        event: t,
                                        needsMutableSet: e && i,
                                        touches: r,
                                        selTouch: null,
                                    };
                                if (e)
                                    for (var o = 0; o < n.length; o++)
                                        (t.currentTouch = n[o]),
                                            (t._propagationStopped = t._propagationImmediateStopped = !1),
                                            this._dispatchEventToListeners(e, this._onTouchEventCallback, s);
                                (i &&
                                    r.length > 0 &&
                                    (this._dispatchEventToListeners(i, this._onTouchesEventCallback, {
                                        event: t,
                                        touches: r,
                                    }),
                                    t.isStopped())) ||
                                    this._updateTouchListeners(t);
                            }
                        },
                        _onTouchesEventCallback: function (t, e) {
                            if (!t._registered) return !1;
                            var i = cc.Event.EventTouch,
                                n = e.event,
                                r = e.touches,
                                o = n.getEventCode();
                            return (
                                (n.currentTarget = t._node),
                                o === i.BEGAN && t.onTouchesBegan
                                    ? t.onTouchesBegan(r, n)
                                    : o === i.MOVED && t.onTouchesMoved
                                    ? t.onTouchesMoved(r, n)
                                    : o === i.ENDED && t.onTouchesEnded
                                    ? t.onTouchesEnded(r, n)
                                    : o === i.CANCELLED && t.onTouchesCancelled && t.onTouchesCancelled(r, n),
                                !!n.isStopped() && (s._updateTouchListeners(n), !0)
                            );
                        },
                        _associateNodeAndEventListener: function (t, e) {
                            var i = this._nodeListenersMap[t.__instanceId];
                            i || ((i = []), (this._nodeListenersMap[t.__instanceId] = i)), i.push(e);
                        },
                        _dissociateNodeAndEventListener: function (t, e) {
                            var i = this._nodeListenersMap[t.__instanceId];
                            i &&
                                (cc.js.array.remove(i, e),
                                0 === i.length && delete this._nodeListenersMap[t.__instanceId]);
                        },
                        _dispatchEventToListeners: function (t, e, i) {
                            var n,
                                r,
                                s = !1,
                                o = t.getFixedPriorityListeners(),
                                a = t.getSceneGraphPriorityListeners(),
                                c = 0;
                            if (o && 0 !== o.length)
                                for (; c < t.gt0Index; ++c)
                                    if ((r = o[c]).isEnabled() && !r._isPaused() && r._isRegistered() && e(r, i)) {
                                        s = !0;
                                        break;
                                    }
                            if (a && !s)
                                for (n = 0; n < a.length; n++)
                                    if ((r = a[n]).isEnabled() && !r._isPaused() && r._isRegistered() && e(r, i)) {
                                        s = !0;
                                        break;
                                    }
                            if (o && !s)
                                for (; c < o.length; ++c)
                                    if ((r = o[c]).isEnabled() && !r._isPaused() && r._isRegistered() && e(r, i)) {
                                        s = !0;
                                        break;
                                    }
                        },
                        _setDirty: function (t, e) {
                            var i = this._priorityDirtyFlagMap;
                            null == i[t] ? (i[t] = e) : (i[t] = e | i[t]);
                        },
                        _visitTarget: function (t, e) {
                            t._reorderChildDirty && t.sortAllChildren();
                            var i = t.getChildren(),
                                n = 0,
                                r = i.length,
                                s = this._globalZOrderNodeMap,
                                o = this._nodeListenersMap;
                            if (r > 0) {
                                for (var a; n < r && (a = i[n]) && a.getLocalZOrder() < 0; n++)
                                    this._visitTarget(a, !1);
                                for (
                                    void 0 !== o[t.__instanceId] &&
                                    (s[t.getGlobalZOrder()] || (s[t.getGlobalZOrder()] = []),
                                    s[t.getGlobalZOrder()].push(t.__instanceId));
                                    n < r;
                                    n++
                                )
                                    (a = i[n]) && this._visitTarget(a, !1);
                            } else
                                void 0 !== o[t.__instanceId] &&
                                    (s[t.getGlobalZOrder()] || (s[t.getGlobalZOrder()] = []),
                                    s[t.getGlobalZOrder()].push(t.__instanceId));
                            if (e) {
                                var c = [];
                                for (var h in s) c.push(h);
                                c.sort(this._sortNumberAsc);
                                var l,
                                    u,
                                    d = c.length,
                                    _ = this._nodePriorityMap;
                                for (n = 0; n < d; n++)
                                    for (l = s[c[n]], u = 0; u < l.length; u++) _[l[u]] = ++this._nodePriorityIndex;
                                this._globalZOrderNodeMap = {};
                            }
                        },
                        _sortNumberAsc: function (t, e) {
                            return t - e;
                        },
                        hasEventListener: function (t) {
                            return !!this._getListeners(t);
                        },
                        addListener: function (t, e) {
                            if (
                                (cc.assertID(t && e, 3503),
                                cc.js.isNumber(e) || e instanceof cc._BaseNode || e instanceof _ccsg.Node)
                            ) {
                                if (t instanceof cc.EventListener) {
                                    if (t._isRegistered()) return void cc.logID(3505);
                                } else cc.assertID(!cc.js.isNumber(e), 3504), (t = cc.EventListener.create(t));
                                if (t.checkAvailable()) {
                                    if (cc.js.isNumber(e)) {
                                        if (0 === e) return void cc.logID(3500);
                                        t._setSceneGraphPriority(null),
                                            t._setFixedPriority(e),
                                            t._setRegistered(!0),
                                            t._setPaused(!1),
                                            this._addListener(t);
                                    } else
                                        t._setSceneGraphPriority(e),
                                            t._setFixedPriority(0),
                                            t._setRegistered(!0),
                                            this._addListener(t);
                                    return t;
                                }
                            } else cc.warnID(3506);
                        },
                        addCustomListener: function (t, e) {
                            var i = new cc._EventListenerCustom(t, e);
                            return this.addListener(i, 1), i;
                        },
                        removeListener: function (t) {
                            if (null != t) {
                                var e,
                                    i = this._listenersMap;
                                for (var n in i) {
                                    var r = i[n],
                                        s = r.getFixedPriorityListeners(),
                                        o = r.getSceneGraphPriorityListeners();
                                    if (
                                        ((e = this._removeListenerInVector(o, t))
                                            ? this._setDirty(t._getListenerID(), this.DIRTY_SCENE_GRAPH_PRIORITY)
                                            : (e = this._removeListenerInVector(s, t)) &&
                                              this._setDirty(t._getListenerID(), this.DIRTY_FIXED_PRIORITY),
                                        r.empty() &&
                                            (delete this._priorityDirtyFlagMap[t._getListenerID()], delete i[n]),
                                        e)
                                    )
                                        break;
                                }
                                if (!e)
                                    for (var a = this._toAddedListeners, c = 0, h = a.length; c < h; c++) {
                                        var l = a[c];
                                        if (l === t) {
                                            cc.js.array.remove(a, l), l._setRegistered(!1);
                                            break;
                                        }
                                    }
                            }
                        },
                        _removeListenerInCallback: function (t, e) {
                            if (null == t) return !1;
                            for (var i = 0, n = t.length; i < n; i++) {
                                var r = t[i];
                                if (r._onCustomEvent === e || r._onEvent === e)
                                    return (
                                        r._setRegistered(!1),
                                        null != r._getSceneGraphPriority() &&
                                            (this._dissociateNodeAndEventListener(r._getSceneGraphPriority(), r),
                                            r._setSceneGraphPriority(null)),
                                        0 === this._inDispatch
                                            ? cc.js.array.remove(t, r)
                                            : this._toRemovedListeners.push(r),
                                        !0
                                    );
                            }
                            return !1;
                        },
                        _removeListenerInVector: function (t, e) {
                            if (null == t) return !1;
                            for (var i = 0, n = t.length; i < n; i++) {
                                var r = t[i];
                                if (r === e)
                                    return (
                                        r._setRegistered(!1),
                                        null != r._getSceneGraphPriority() &&
                                            (this._dissociateNodeAndEventListener(r._getSceneGraphPriority(), r),
                                            r._setSceneGraphPriority(null)),
                                        0 === this._inDispatch
                                            ? cc.js.array.remove(t, r)
                                            : this._toRemovedListeners.push(r),
                                        !0
                                    );
                            }
                            return !1;
                        },
                        removeListeners: function (t, e) {
                            if (cc.js.isNumber(t) || t instanceof cc._BaseNode || t instanceof _ccsg.Node)
                                if (void 0 !== t.__instanceId) {
                                    delete this._nodePriorityMap[t.__instanceId],
                                        cc.js.array.remove(this._dirtyNodes, t);
                                    var i,
                                        n = this._nodeListenersMap[t.__instanceId];
                                    if (n) {
                                        var r = cc.js.array.copy(n);
                                        for (i = 0; i < r.length; i++) this.removeListener(r[i]);
                                        delete this._nodeListenersMap[t.__instanceId];
                                    }
                                    var s = this._toAddedListeners;
                                    for (i = 0; i < s.length; ) {
                                        var o = s[i];
                                        o._getSceneGraphPriority() === t
                                            ? (o._setSceneGraphPriority(null), o._setRegistered(!1), s.splice(i, 1))
                                            : ++i;
                                    }
                                    if (!0 === e) {
                                        var a,
                                            c = t.getChildren();
                                        for (i = 0, a = c.length; i < a; i++) this.removeListeners(c[i], !0);
                                    }
                                } else
                                    t === cc.EventListener.TOUCH_ONE_BY_ONE
                                        ? this._removeListenersForListenerID(cc._EventListenerTouchOneByOne.LISTENER_ID)
                                        : t === cc.EventListener.TOUCH_ALL_AT_ONCE
                                        ? this._removeListenersForListenerID(
                                              cc._EventListenerTouchAllAtOnce.LISTENER_ID,
                                          )
                                        : t === cc.EventListener.MOUSE
                                        ? this._removeListenersForListenerID(cc._EventListenerMouse.LISTENER_ID)
                                        : t === cc.EventListener.ACCELERATION
                                        ? this._removeListenersForListenerID(cc._EventListenerAcceleration.LISTENER_ID)
                                        : t === cc.EventListener.KEYBOARD
                                        ? this._removeListenersForListenerID(cc._EventListenerKeyboard.LISTENER_ID)
                                        : cc.logID(3501);
                            else cc.warnID(3506);
                        },
                        removeCustomListeners: function (t) {
                            this._removeListenersForListenerID(t);
                        },
                        removeAllListeners: function () {
                            var t = this._listenersMap,
                                e = this._internalCustomListenerIDs;
                            for (var i in t) -1 === e.indexOf(i) && this._removeListenersForListenerID(i);
                        },
                        setPriority: function (t, e) {
                            if (null != t) {
                                var i = this._listenersMap;
                                for (var n in i) {
                                    var r = i[n].getFixedPriorityListeners();
                                    if (r) {
                                        if (-1 !== r.indexOf(t))
                                            return (
                                                null != t._getSceneGraphPriority() && cc.logID(3502),
                                                void (
                                                    t._getFixedPriority() !== e &&
                                                    (t._setFixedPriority(e),
                                                    this._setDirty(t._getListenerID(), this.DIRTY_FIXED_PRIORITY))
                                                )
                                            );
                                    }
                                }
                            }
                        },
                        setEnabled: function (t) {
                            this._isEnabled = t;
                        },
                        isEnabled: function () {
                            return this._isEnabled;
                        },
                        dispatchEvent: function (t) {
                            if (this._isEnabled) {
                                if ((this._updateDirtyFlagForSceneGraph(), this._inDispatch++, !t || !t.getType))
                                    throw new Error('event is undefined');
                                if (t.getType().startsWith(cc.Event.TOUCH))
                                    return this._dispatchTouchEvent(t), void this._inDispatch--;
                                var e = (function (t) {
                                    var e = cc.Event,
                                        i = t.type;
                                    return i === e.ACCELERATION
                                        ? cc._EventListenerAcceleration.LISTENER_ID
                                        : i === e.KEYBOARD
                                        ? cc._EventListenerKeyboard.LISTENER_ID
                                        : i.startsWith(e.MOUSE)
                                        ? cc._EventListenerMouse.LISTENER_ID
                                        : (i.startsWith(e.TOUCH) && cc.logID(2e3), '');
                                })(t);
                                this._sortEventListeners(e);
                                var i = this._listenersMap[e];
                                null != i &&
                                    (this._dispatchEventToListeners(i, this._onListenerCallback, t),
                                    this._onUpdateListeners(i)),
                                    this._inDispatch--;
                            }
                        },
                        _onListenerCallback: function (t, e) {
                            return (e.currentTarget = t._target), t._onEvent(e), e.isStopped();
                        },
                        dispatchCustomEvent: function (t, e) {
                            var i = new cc.Event.EventCustom(t);
                            i.setUserData(e), this.dispatchEvent(i);
                        },
                    };
                n.get(cc, 'eventManager', function () {
                    return cc.warnID(1405, 'cc.eventManager', 'cc.EventTarget or cc.systemEvent'), s;
                }),
                    (e.exports = s);
            },
            {
                '../platform/js': 156,
            },
        ],
        94: [
            function (t, e, i) {
                cc.Touch = cc._Class.extend({
                    ctor: function (t, e, i) {
                        (this._lastModified = 0), this.setTouchInfo(i, t, e);
                    },
                    getLocation: function () {
                        return {
                            x: this._point.x,
                            y: this._point.y,
                        };
                    },
                    getLocationX: function () {
                        return this._point.x;
                    },
                    getLocationY: function () {
                        return this._point.y;
                    },
                    getPreviousLocation: function () {
                        return {
                            x: this._prevPoint.x,
                            y: this._prevPoint.y,
                        };
                    },
                    getStartLocation: function () {
                        return {
                            x: this._startPoint.x,
                            y: this._startPoint.y,
                        };
                    },
                    getDelta: function () {
                        return cc.pSub(this._point, this._prevPoint);
                    },
                    getLocationInView: function () {
                        return {
                            x: this._point.x,
                            y: cc.view._designResolutionSize.height - this._point.y,
                        };
                    },
                    getPreviousLocationInView: function () {
                        return {
                            x: this._prevPoint.x,
                            y: cc.view._designResolutionSize.height - this._prevPoint.y,
                        };
                    },
                    getStartLocationInView: function () {
                        return {
                            x: this._startPoint.x,
                            y: cc.view._designResolutionSize.height - this._startPoint.y,
                        };
                    },
                    getID: function () {
                        return this._id;
                    },
                    setTouchInfo: function (t, e, i) {
                        (this._prevPoint = this._point),
                            (this._point = cc.p(e || 0, i || 0)),
                            (this._id = t),
                            this._startPointCaptured ||
                                ((this._startPoint = cc.p(this._point)),
                                cc.view._convertPointWithScale(this._startPoint),
                                (this._startPointCaptured = !0));
                    },
                    _setPoint: function (t, e) {
                        void 0 === e
                            ? ((this._point.x = t.x), (this._point.y = t.y))
                            : ((this._point.x = t), (this._point.y = e));
                    },
                    _setPrevPoint: function (t, e) {
                        this._prevPoint = void 0 === e ? cc.p(t.x, t.y) : cc.p(t || 0, e || 0);
                    },
                });
            },
            {},
        ],
        95: [
            function (t, e, i) {
                t('./CCEvent');
                var n;
                t('./CCTouch'), t('./CCEventListener'), (n = t('./CCEventManager')), (e.exports = n);
            },
            {
                './CCEvent': 91,
                './CCEventListener': 92,
                './CCEventManager': 93,
                './CCTouch': 94,
            },
        ],
        96: [
            function (t, e, i) {
                function n() {
                    s.call(this);
                }
                var r = cc.js,
                    s = t('../platform/callbacks-invoker').CallbacksHandler;
                r.extend(n, s),
                    (n.prototype.invoke = function (t, e) {
                        var i = t.type,
                            n = this._callbackTable[i];
                        if (n) {
                            var r = !n.isInvoking;
                            n.isInvoking = !0;
                            for (var s = n.callbacks, o = n.targets, a = 0, c = s.length; a < c; ++a) {
                                var h = s[a];
                                if (h) {
                                    var l = o[a] || t.currentTarget;
                                    if ((h.call(l, t, e), t._propagationImmediateStopped)) break;
                                }
                            }
                            r && ((n.isInvoking = !1), n.containCanceled && n.purgeCanceled());
                        }
                    }),
                    (e.exports = n);
            },
            {
                '../platform/callbacks-invoker': 149,
            },
        ],
        97: [
            function (t, e, i) {
                function n() {
                    (this._capturingListeners = null),
                        (this._bubblingListeners = null),
                        (this._hasListenerCache = null);
                }
                var r = t('./event-listeners');
                t('./event');
                var s = cc.js.array.fastRemove,
                    o = new Array(16);
                o.length = 0;
                var a = n.prototype;
                (a._addEventFlag = function (t, e, i) {
                    var n = this._hasListenerCache;
                    n || (n = this._hasListenerCache = cc.js.createMap()), void 0 === n[t] && (n[t] = 0);
                    var r = i ? 2 : 4;
                    n[t] |= r;
                }),
                    (a._purgeEventFlag = function (t, e, i) {
                        var n = this._hasListenerCache;
                        if (n && !e.has(t)) {
                            var r = i ? 2 : 4;
                            (n[t] &= ~r), 0 === n[t] && delete n[t];
                        }
                    }),
                    (a._resetFlagForTarget = function (t, e, i) {
                        var n = this._hasListenerCache;
                        if (n) {
                            var r = i ? 2 : 4;
                            for (var s in n) e.has(s) || ((n[s] &= ~r), 0 === n[s] && delete n[s]);
                        }
                    }),
                    (a.hasEventListener = function (t, e) {
                        var i = this._hasListenerCache;
                        if (!i) return !1;
                        var n = e ? 2 : 4;
                        return (i[t] & n) > 0;
                    }),
                    (a.on = function (t, e, i, n) {
                        'boolean' == typeof i ? ((n = i), (i = void 0)) : (n = !!n);
                        if (e) {
                            var s = null;
                            return (
                                (s = n
                                    ? (this._capturingListeners = this._capturingListeners || new r())
                                    : (this._bubblingListeners = this._bubblingListeners || new r())).has(t, e, i) ||
                                    (s.add(t, e, i),
                                    i && i.__eventTargets && i.__eventTargets.push(this),
                                    this._addEventFlag(t, s, n)),
                                e
                            );
                        }
                        cc.errorID(6800);
                    }),
                    (a.off = function (t, e, i, n) {
                        if (('boolean' == typeof i ? ((n = i), (i = void 0)) : (n = !!n), e)) {
                            var r = n ? this._capturingListeners : this._bubblingListeners;
                            r &&
                                (r.remove(t, e, i),
                                i && i.__eventTargets && s(i.__eventTargets, this),
                                this._purgeEventFlag(t, r, n));
                        } else
                            this._capturingListeners && this._capturingListeners.removeAll(t),
                                this._bubblingListeners && this._bubblingListeners.removeAll(t),
                                this._hasListenerCache && delete this._hasListenerCache[t];
                    }),
                    (a.targetOff = function (t) {
                        this._capturingListeners &&
                            (this._capturingListeners.removeAll(t),
                            this._resetFlagForTarget(t, this._capturingListeners, !0)),
                            this._bubblingListeners &&
                                (this._bubblingListeners.removeAll(t),
                                this._resetFlagForTarget(t, this._bubblingListeners, !1));
                    }),
                    (a.once = function (t, e, i, n) {
                        var r = '__ONCE_FLAG:' + t,
                            s = n ? this._capturingListeners : this._bubblingListeners;
                        if (!(s && s.has(r, e, i))) {
                            var o = this,
                                a = function (c) {
                                    o.off(t, a, i, n), s.remove(r, e, i), e.call(this, c);
                                };
                            this.on(t, a, i, n),
                                s || (s = n ? this._capturingListeners : this._bubblingListeners),
                                s.add(r, e, i);
                        }
                    }),
                    (a.dispatchEvent = function (t) {
                        (function (t, e) {
                            var i, n;
                            for (
                                e.target = t,
                                    o.length = 0,
                                    t._getCapturingTargets(e.type, o),
                                    e.eventPhase = 1,
                                    n = o.length - 1;
                                n >= 0;
                                --n
                            )
                                if (
                                    (i = o[n])._isTargetActive(e.type) &&
                                    i._capturingListeners &&
                                    ((e.currentTarget = i), i._capturingListeners.invoke(e, o), e._propagationStopped)
                                )
                                    return void (o.length = 0);
                            if (
                                ((o.length = 0),
                                t._isTargetActive(e.type) &&
                                    ((e.eventPhase = 2),
                                    (e.currentTarget = t),
                                    t._capturingListeners && t._capturingListeners.invoke(e),
                                    !e._propagationImmediateStopped &&
                                        t._bubblingListeners &&
                                        t._bubblingListeners.invoke(e)),
                                !e._propagationStopped && e.bubbles)
                            )
                                for (t._getBubblingTargets(e.type, o), e.eventPhase = 3, n = 0; n < o.length; ++n)
                                    if (
                                        (i = o[n])._isTargetActive(e.type) &&
                                        i._bubblingListeners &&
                                        ((e.currentTarget = i), i._bubblingListeners.invoke(e), e._propagationStopped)
                                    )
                                        return void (o.length = 0);
                            o.length = 0;
                        })(this, t),
                            (o.length = 0);
                    }),
                    (a.emit = function (t, e) {
                        var i = this._hasListenerCache;
                        if (i) {
                            var n = i[t];
                            if (n) {
                                var r = cc.Event.EventCustom.get(t);
                                (r.detail = e), (r.eventPhase = 2), (r.target = r.currentTarget = this);
                                var s = this._capturingListeners;
                                s && 2 & n && s.invoke(r);
                                var o = this._bubblingListeners;
                                o && 4 & n && !r._propagationImmediateStopped && o.invoke(r),
                                    (r.detail = null),
                                    cc.Event.EventCustom.put(r);
                            }
                        }
                    }),
                    (a._isTargetActive = function (t) {
                        return !0;
                    }),
                    (a._getCapturingTargets = function (t, e) {}),
                    (a._getBubblingTargets = function (t, e) {}),
                    (n.prototype._EventTargetOn = n.prototype.on),
                    (n.prototype._EventTargetOnce = n.prototype.once),
                    (n.prototype._EventTargetOff = n.prototype.off),
                    (n.prototype._EventTargetTargetOff = n.prototype.targetOff),
                    (cc.EventTarget = e.exports = n);
            },
            {
                './event': 98,
                './event-listeners': 96,
            },
        ],
        98: [
            function (t, e, i) {
                var n = t('../platform/js');
                (cc.Event = function (t, e) {
                    (this.type = t),
                        (this.bubbles = !!e),
                        (this.target = null),
                        (this.currentTarget = null),
                        (this.eventPhase = 0),
                        (this._propagationStopped = !1),
                        (this._propagationImmediateStopped = !1);
                }),
                    (cc.Event.prototype = {
                        constructor: cc.Event,
                        unuse: function () {
                            (this.type = cc.Event.NO_TYPE),
                                (this.target = null),
                                (this.currentTarget = null),
                                (this.eventPhase = cc.Event.NONE),
                                (this._propagationStopped = !1),
                                (this._propagationImmediateStopped = !1);
                        },
                        reuse: function (t, e) {
                            (this.type = t), (this.bubbles = e || !1);
                        },
                        stopPropagation: function () {
                            this._propagationStopped = !0;
                        },
                        stopPropagationImmediate: function () {
                            this._propagationImmediateStopped = !0;
                        },
                        isStopped: function () {
                            return this._propagationStopped || this._propagationImmediateStopped;
                        },
                        getCurrentTarget: function () {
                            return this.currentTarget;
                        },
                        getType: function () {
                            return this.type;
                        },
                    }),
                    (cc.Event.NO_TYPE = 'no_type'),
                    (cc.Event.TOUCH = 'touch'),
                    (cc.Event.MOUSE = 'mouse'),
                    (cc.Event.KEYBOARD = 'keyboard'),
                    (cc.Event.ACCELERATION = 'acceleration'),
                    (cc.Event.NONE = 0),
                    (cc.Event.CAPTURING_PHASE = 1),
                    (cc.Event.AT_TARGET = 2),
                    (cc.Event.BUBBLING_PHASE = 3);
                var r = function (t, e) {
                    cc.Event.call(this, t, e), (this.detail = null);
                };
                n.extend(r, cc.Event),
                    (r.prototype.reset = r),
                    (r.prototype.setUserData = function (t) {
                        this.detail = t;
                    }),
                    (r.prototype.getUserData = function () {
                        return this.detail;
                    }),
                    (r.prototype.getEventName = cc.Event.prototype.getType);
                var s = new n.Pool(10);
                (r.put = function (t) {
                    s.put(t);
                }),
                    (r.get = function (t, e) {
                        var i = s._get();
                        return i ? i.reset(t, e) : (i = new r(t, e)), i;
                    }),
                    (cc.Event.EventCustom = r),
                    (e.exports = cc.Event);
            },
            {
                '../platform/js': 156,
            },
        ],
        99: [
            function (t, e, i) {
                t('./event'), t('./event-listeners'), t('./event-target'), t('./system-event');
            },
            {
                './event': 98,
                './event-listeners': 96,
                './event-target': 97,
                './system-event': 100,
            },
        ],
        100: [
            function (t, e, i) {
                var n,
                    r = t('../event/event-target'),
                    s = t('../event-manager');
                n = t('../platform/CCInputManager');
                var o = cc.Enum({
                        KEY_DOWN: 'keydown',
                        KEY_UP: 'keyup',
                        DEVICEMOTION: 'devicemotion',
                    }),
                    a = null,
                    c = null,
                    h = 0,
                    l = cc.Class({
                        name: 'SystemEvent',
                        extends: r,
                        statics: {
                            EventType: o,
                        },
                        setAccelerometerEnabled: function (t) {
                            n.setAccelerometerEnabled(t);
                        },
                        setAccelerometerInterval: function (t) {
                            n.setAccelerometerInterval(t);
                        },
                        on: function (t, e, i, n) {
                            if (
                                (this._super(t, e, i, n),
                                (t === o.KEY_DOWN || t === o.KEY_UP) &&
                                    (a ||
                                        (a = cc.EventListener.create({
                                            event: cc.EventListener.KEYBOARD,
                                            onKeyPressed: function (t, e) {
                                                (e.type = o.KEY_DOWN), cc.systemEvent.dispatchEvent(e);
                                            },
                                            onKeyReleased: function (t, e) {
                                                (e.type = o.KEY_UP), cc.systemEvent.dispatchEvent(e);
                                            },
                                        })),
                                    !s.hasEventListener(cc._EventListenerKeyboard.LISTENER_ID)))
                            ) {
                                var r = cc.director.getTotalFrames();
                                r !== h && (s.addListener(a, 1), (h = r));
                            }
                            t === o.DEVICEMOTION &&
                                (c ||
                                    (c = cc.EventListener.create({
                                        event: cc.EventListener.ACCELERATION,
                                        callback: function (t, e) {
                                            (e.type = o.DEVICEMOTION), cc.systemEvent.dispatchEvent(e);
                                        },
                                    })),
                                s.hasEventListener(cc._EventListenerAcceleration.LISTENER_ID) || s.addListener(c, 1));
                        },
                        off: function (t, e, i, n) {
                            if ((this._super(t, e, i, n), a && (t === o.KEY_DOWN || t === o.KEY_UP))) {
                                var r = this.hasEventListener(o.KEY_DOWN),
                                    h = this.hasEventListener(o.KEY_UP);
                                r || h || s.removeListener(a);
                            }
                            c && t === o.DEVICEMOTION && s.removeListener(c);
                        },
                    });
                (cc.SystemEvent = e.exports = l), (cc.systemEvent = new cc.SystemEvent());
            },
            {
                '../event-manager': 95,
                '../event/event-target': 97,
                '../platform/CCInputManager': 139,
            },
        ],
        101: [
            function (t, e, i) {
                'use strict';

                function n(t, e, i) {
                    i = i || 2;
                    var n = e && e.length,
                        c = n ? e[0] * i : t.length,
                        l = r(t, 0, c, i, !0),
                        u = [];
                    if (!l) return u;
                    var d, p, g, m, v, y, C;
                    if (
                        (n &&
                            (l = (function (t, e, i, n) {
                                var o,
                                    c,
                                    l,
                                    u,
                                    d,
                                    p = [];
                                for (o = 0, c = e.length; o < c; o++)
                                    (l = e[o] * n),
                                        (u = o < c - 1 ? e[o + 1] * n : t.length),
                                        (d = r(t, l, u, n, !1)) === d.next && (d.steiner = !0),
                                        p.push(
                                            (function (t) {
                                                var e = t,
                                                    i = t;
                                                do {
                                                    e.x < i.x && (i = e), (e = e.next);
                                                } while (e !== t);
                                                return i;
                                            })(d),
                                        );
                                for (p.sort(a), o = 0; o < p.length; o++)
                                    (function (t, e) {
                                        if (
                                            (e = (function (t, e) {
                                                var i,
                                                    n = e,
                                                    r = t.x,
                                                    s = t.y,
                                                    o = -1 / 0;
                                                do {
                                                    if (s <= n.y && s >= n.next.y) {
                                                        var a = n.x + ((s - n.y) * (n.next.x - n.x)) / (n.next.y - n.y);
                                                        if (a <= r && a > o) {
                                                            if (((o = a), a === r)) {
                                                                if (s === n.y) return n;
                                                                if (s === n.next.y) return n.next;
                                                            }
                                                            i = n.x < n.next.x ? n : n.next;
                                                        }
                                                    }
                                                    n = n.next;
                                                } while (n !== e);
                                                if (!i) return null;
                                                if (r === o) return i.prev;
                                                var c,
                                                    l = i,
                                                    u = i.x,
                                                    d = i.y,
                                                    f = 1 / 0;
                                                for (n = i.next; n !== l; )
                                                    r >= n.x &&
                                                        n.x >= u &&
                                                        h(s < d ? r : o, s, u, d, s < d ? o : r, s, n.x, n.y) &&
                                                        ((c = Math.abs(s - n.y) / (r - n.x)) < f ||
                                                            (c === f && n.x > i.x)) &&
                                                        _(n, t) &&
                                                        ((i = n), (f = c)),
                                                        (n = n.next);
                                                return i;
                                            })(t, e))
                                        ) {
                                            var i = f(e, t);
                                            s(i, i.next);
                                        }
                                    })(p[o], i),
                                        (i = s(i, i.next));
                                return i;
                            })(t, e, l, i)),
                        t.length > 80 * i)
                    ) {
                        (d = g = t[0]), (p = m = t[1]);
                        for (var T = i; T < c; T += i)
                            (v = t[T]),
                                (y = t[T + 1]),
                                v < d && (d = v),
                                y < p && (p = y),
                                v > g && (g = v),
                                y > m && (m = y);
                        C = Math.max(g - d, m - p);
                    }
                    return o(l, u, i, d, p, C), u;
                }

                function r(t, e, i, n, r) {
                    var s, o;
                    if (r === v(t, e, i, n) > 0) for (s = e; s < i; s += n) o = p(s, t[s], t[s + 1], o);
                    else for (s = i - n; s >= e; s -= n) o = p(s, t[s], t[s + 1], o);
                    return o && u(o, o.next) && (g(o), (o = o.next)), o;
                }

                function s(t, e) {
                    if (!t) return t;
                    e || (e = t);
                    var i,
                        n = t;
                    do {
                        if (((i = !1), n.steiner || (!u(n, n.next) && 0 !== l(n.prev, n, n.next)))) n = n.next;
                        else {
                            if ((g(n), (n = e = n.prev) === n.next)) return null;
                            i = !0;
                        }
                    } while (i || n !== e);
                    return e;
                }

                function o(t, e, i, n, r, a, p) {
                    if (t) {
                        !p &&
                            a &&
                            (function (t, e, i, n) {
                                var r = t;
                                do {
                                    null === r.z && (r.z = c(r.x, r.y, e, i, n)),
                                        (r.prevZ = r.prev),
                                        (r.nextZ = r.next),
                                        (r = r.next);
                                } while (r !== t);
                                (r.prevZ.nextZ = null),
                                    (r.prevZ = null),
                                    (function (t) {
                                        var e,
                                            i,
                                            n,
                                            r,
                                            s,
                                            o,
                                            a,
                                            c,
                                            h = 1;
                                        do {
                                            for (i = t, t = null, s = null, o = 0; i; ) {
                                                for (o++, n = i, a = 0, e = 0; e < h && (a++, (n = n.nextZ)); e++);
                                                for (c = h; a > 0 || (c > 0 && n); )
                                                    0 === a
                                                        ? ((r = n), (n = n.nextZ), c--)
                                                        : 0 !== c && n
                                                        ? i.z <= n.z
                                                            ? ((r = i), (i = i.nextZ), a--)
                                                            : ((r = n), (n = n.nextZ), c--)
                                                        : ((r = i), (i = i.nextZ), a--),
                                                        s ? (s.nextZ = r) : (t = r),
                                                        (r.prevZ = s),
                                                        (s = r);
                                                i = n;
                                            }
                                            (s.nextZ = null), (h *= 2);
                                        } while (o > 1);
                                    })(r);
                            })(t, n, r, a);
                        for (var m, v, y = t; t.prev !== t.next; )
                            if (
                                ((m = t.prev),
                                (v = t.next),
                                a
                                    ? (function (t, e, i, n) {
                                          var r = t.prev,
                                              s = t,
                                              o = t.next;
                                          if (l(r, s, o) >= 0) return !1;
                                          var a = r.x < s.x ? (r.x < o.x ? r.x : o.x) : s.x < o.x ? s.x : o.x,
                                              u = r.y < s.y ? (r.y < o.y ? r.y : o.y) : s.y < o.y ? s.y : o.y,
                                              d = r.x > s.x ? (r.x > o.x ? r.x : o.x) : s.x > o.x ? s.x : o.x,
                                              _ = r.y > s.y ? (r.y > o.y ? r.y : o.y) : s.y > o.y ? s.y : o.y,
                                              f = c(a, u, e, i, n),
                                              p = c(d, _, e, i, n),
                                              g = t.nextZ;
                                          for (; g && g.z <= p; ) {
                                              if (
                                                  g !== t.prev &&
                                                  g !== t.next &&
                                                  h(r.x, r.y, s.x, s.y, o.x, o.y, g.x, g.y) &&
                                                  l(g.prev, g, g.next) >= 0
                                              )
                                                  return !1;
                                              g = g.nextZ;
                                          }
                                          g = t.prevZ;
                                          for (; g && g.z >= f; ) {
                                              if (
                                                  g !== t.prev &&
                                                  g !== t.next &&
                                                  h(r.x, r.y, s.x, s.y, o.x, o.y, g.x, g.y) &&
                                                  l(g.prev, g, g.next) >= 0
                                              )
                                                  return !1;
                                              g = g.prevZ;
                                          }
                                          return !0;
                                      })(t, n, r, a)
                                    : (function (t) {
                                          var e = t.prev,
                                              i = t,
                                              n = t.next;
                                          if (l(e, i, n) >= 0) return !1;
                                          var r = t.next.next;
                                          for (; r !== t.prev; ) {
                                              if (
                                                  h(e.x, e.y, i.x, i.y, n.x, n.y, r.x, r.y) &&
                                                  l(r.prev, r, r.next) >= 0
                                              )
                                                  return !1;
                                              r = r.next;
                                          }
                                          return !0;
                                      })(t))
                            )
                                e.push(m.i / i), e.push(t.i / i), e.push(v.i / i), g(t), (t = v.next), (y = v.next);
                            else if ((t = v) === y) {
                                p
                                    ? 1 === p
                                        ? o(
                                              (t = (function (t, e, i) {
                                                  var n = t;
                                                  do {
                                                      var r = n.prev,
                                                          s = n.next.next;
                                                      !u(r, s) &&
                                                          d(r, n, n.next, s) &&
                                                          _(r, s) &&
                                                          _(s, r) &&
                                                          (e.push(r.i / i),
                                                          e.push(n.i / i),
                                                          e.push(s.i / i),
                                                          g(n),
                                                          g(n.next),
                                                          (n = t = s)),
                                                          (n = n.next);
                                                  } while (n !== t);
                                                  return n;
                                              })(t, e, i)),
                                              e,
                                              i,
                                              n,
                                              r,
                                              a,
                                              2,
                                          )
                                        : 2 === p &&
                                          (function (t, e, i, n, r, a) {
                                              var c = t;
                                              do {
                                                  for (var h = c.next.next; h !== c.prev; ) {
                                                      if (
                                                          c.i !== h.i &&
                                                          (function (t, e) {
                                                              return (
                                                                  t.next.i !== e.i &&
                                                                  t.prev.i !== e.i &&
                                                                  !(function (t, e) {
                                                                      var i = t;
                                                                      do {
                                                                          if (
                                                                              i.i !== t.i &&
                                                                              i.next.i !== t.i &&
                                                                              i.i !== e.i &&
                                                                              i.next.i !== e.i &&
                                                                              d(i, i.next, t, e)
                                                                          )
                                                                              return !0;
                                                                          i = i.next;
                                                                      } while (i !== t);
                                                                      return !1;
                                                                  })(t, e) &&
                                                                  _(t, e) &&
                                                                  _(e, t) &&
                                                                  (function (t, e) {
                                                                      var i = t,
                                                                          n = !1,
                                                                          r = (t.x + e.x) / 2,
                                                                          s = (t.y + e.y) / 2;
                                                                      do {
                                                                          i.y > s != i.next.y > s &&
                                                                              r <
                                                                                  ((i.next.x - i.x) * (s - i.y)) /
                                                                                      (i.next.y - i.y) +
                                                                                      i.x &&
                                                                              (n = !n),
                                                                              (i = i.next);
                                                                      } while (i !== t);
                                                                      return n;
                                                                  })(t, e)
                                                              );
                                                          })(c, h)
                                                      ) {
                                                          var l = f(c, h);
                                                          return (
                                                              (c = s(c, c.next)),
                                                              (l = s(l, l.next)),
                                                              o(c, e, i, n, r, a),
                                                              void o(l, e, i, n, r, a)
                                                          );
                                                      }
                                                      h = h.next;
                                                  }
                                                  c = c.next;
                                              } while (c !== t);
                                          })(t, e, i, n, r, a)
                                    : o(s(t), e, i, n, r, a, 1);
                                break;
                            }
                    }
                }

                function a(t, e) {
                    return t.x - e.x;
                }

                function c(t, e, i, n, r) {
                    return (
                        (t = (32767 * (t - i)) / r),
                        (e = (32767 * (e - n)) / r),
                        (t = 16711935 & (t | (t << 8))),
                        (t = 252645135 & (t | (t << 4))),
                        (t = 858993459 & (t | (t << 2))),
                        (t = 1431655765 & (t | (t << 1))),
                        (e = 16711935 & (e | (e << 8))),
                        (e = 252645135 & (e | (e << 4))),
                        (e = 858993459 & (e | (e << 2))),
                        (e = 1431655765 & (e | (e << 1))),
                        t | (e << 1)
                    );
                }

                function h(t, e, i, n, r, s, o, a) {
                    return (
                        (r - o) * (e - a) - (t - o) * (s - a) >= 0 &&
                        (t - o) * (n - a) - (i - o) * (e - a) >= 0 &&
                        (i - o) * (s - a) - (r - o) * (n - a) >= 0
                    );
                }

                function l(t, e, i) {
                    return (e.y - t.y) * (i.x - e.x) - (e.x - t.x) * (i.y - e.y);
                }

                function u(t, e) {
                    return t.x === e.x && t.y === e.y;
                }

                function d(t, e, i, n) {
                    return (
                        !!((u(t, e) && u(i, n)) || (u(t, n) && u(i, e))) ||
                        (l(t, e, i) > 0 != l(t, e, n) > 0 && l(i, n, t) > 0 != l(i, n, e) > 0)
                    );
                }

                function _(t, e) {
                    return l(t.prev, t, t.next) < 0
                        ? l(t, e, t.next) >= 0 && l(t, t.prev, e) >= 0
                        : l(t, e, t.prev) < 0 || l(t, t.next, e) < 0;
                }

                function f(t, e) {
                    var i = new m(t.i, t.x, t.y),
                        n = new m(e.i, e.x, e.y),
                        r = t.next,
                        s = e.prev;
                    return (
                        (t.next = e),
                        (e.prev = t),
                        (i.next = r),
                        (r.prev = i),
                        (n.next = i),
                        (i.prev = n),
                        (s.next = n),
                        (n.prev = s),
                        n
                    );
                }

                function p(t, e, i, n) {
                    var r = new m(t, e, i);
                    return (
                        n
                            ? ((r.next = n.next), (r.prev = n), (n.next.prev = r), (n.next = r))
                            : ((r.prev = r), (r.next = r)),
                        r
                    );
                }

                function g(t) {
                    (t.next.prev = t.prev),
                        (t.prev.next = t.next),
                        t.prevZ && (t.prevZ.nextZ = t.nextZ),
                        t.nextZ && (t.nextZ.prevZ = t.prevZ);
                }

                function m(t, e, i) {
                    (this.i = t),
                        (this.x = e),
                        (this.y = i),
                        (this.prev = null),
                        (this.next = null),
                        (this.z = null),
                        (this.prevZ = null),
                        (this.nextZ = null),
                        (this.steiner = !1);
                }

                function v(t, e, i, n) {
                    for (var r = 0, s = e, o = i - n; s < i; s += n)
                        (r += (t[o] - t[s]) * (t[s + 1] + t[o + 1])), (o = s);
                    return r;
                }
                (e.exports = n),
                    (n.deviation = function (t, e, i, n) {
                        var r = e && e.length,
                            s = r ? e[0] * i : t.length,
                            o = Math.abs(v(t, 0, s, i));
                        if (r)
                            for (var a = 0, c = e.length; a < c; a++) {
                                var h = e[a] * i,
                                    l = a < c - 1 ? e[a + 1] * i : t.length;
                                o -= Math.abs(v(t, h, l, i));
                            }
                        var u = 0;
                        for (a = 0; a < n.length; a += 3) {
                            var d = n[a] * i,
                                _ = n[a + 1] * i,
                                f = n[a + 2] * i;
                            u += Math.abs(
                                (t[d] - t[f]) * (t[_ + 1] - t[d + 1]) - (t[d] - t[_]) * (t[f + 1] - t[d + 1]),
                            );
                        }
                        return 0 === o && 0 === u ? 0 : Math.abs((u - o) / o);
                    }),
                    (n.flatten = function (t) {
                        for (
                            var e = t[0][0].length,
                                i = {
                                    vertices: [],
                                    holes: [],
                                    dimensions: e,
                                },
                                n = 0,
                                r = 0;
                            r < t.length;
                            r++
                        ) {
                            for (var s = 0; s < t[r].length; s++)
                                for (var o = 0; o < e; o++) i.vertices.push(t[r][s][o]);
                            r > 0 && ((n += t[r - 1].length), i.holes.push(n));
                        }
                        return i;
                    });
            },
            {},
        ],
        102: [
            function (t, e, i) {
                cc.js;
                var n = t('./types').LineCap,
                    r = t('./types').LineJoin,
                    s = t('./helper'),
                    o = function (t) {
                        this._rootCtor(t),
                            (this._needDraw = !0),
                            (this.cmds = []),
                            (this.style = {
                                strokeStyle: 'black',
                                fillStyle: 'white',
                                lineCap: 'butt',
                                lineJoin: 'miter',
                                miterLimit: 10,
                            });
                    },
                    a = (o.prototype = Object.create(_ccsg.Node.CanvasRenderCmd.prototype));
                (a.constructor = o),
                    (a._updateCurrentRegions = function () {
                        var t = this._currentRegion;
                        (this._currentRegion = this._oldRegion),
                            (this._oldRegion = t),
                            this._currentRegion.setTo(0, 0, cc.visibleRect.width, cc.visibleRect.height);
                    }),
                    (a.rendering = function (t, e, i) {
                        var n = t || cc._renderContext,
                            r = n.getContext();
                        n.setTransform(this._worldTransform, e, i), r.save(), r.scale(1, -1);
                        var s = this.style;
                        (r.strokeStyle = s.strokeStyle),
                            (r.fillStyle = s.fillStyle),
                            (r.lineWidth = s.lineWidth),
                            (r.lineJoin = s.lineJoin),
                            (r.miterLimit = s.miterLimit);
                        for (var o = !0, a = this.cmds, c = 0, h = a.length; c < h; c++) {
                            var l = a[c],
                                u = l[0],
                                d = l[1];
                            'moveTo' === u && o
                                ? (r.beginPath(), (o = !1))
                                : ('fill' !== u && 'stroke' !== u && 'fillRect' !== u) || (o = !0),
                                'function' == typeof r[u] ? r[u].apply(r, d) : (r[u] = d);
                        }
                        r.restore();
                    }),
                    (a.setStrokeColor = function (t) {
                        var e = 'rgba(' + (0 | t.r) + ',' + (0 | t.g) + ',' + (0 | t.b) + ',' + t.a / 255 + ')';
                        this.cmds.push(['strokeStyle', e]), (this.style.strokeStyle = e);
                    }),
                    (a.setFillColor = function (t) {
                        var e = 'rgba(' + (0 | t.r) + ',' + (0 | t.g) + ',' + (0 | t.b) + ',' + t.a / 255 + ')';
                        this.cmds.push(['fillStyle', e]), (this.style.fillStyle = e);
                    }),
                    (a.setLineWidth = function (t) {
                        this.cmds.push(['lineWidth', t]), (this.style.lineWidth = t);
                    }),
                    (a.setLineCap = function (t) {
                        var e = 'butt';
                        t === n.BUTT ? (e = 'butt') : t === n.ROUND ? (e = 'round') : t === n.SQUARE && (e = 'square'),
                            this.cmds.push(['lineCap', e]),
                            (this.style.lineCap = e);
                    }),
                    (a.setLineJoin = function (t) {
                        var e = 'bevel';
                        t === r.BEVEL ? (e = 'bevel') : t === r.ROUND ? (e = 'round') : t === r.MITER && (e = 'miter'),
                            this.cmds.push(['lineJoin', e]),
                            (this.style.lineJoin = e);
                    }),
                    (a.setMiterLimit = function (t) {
                        this.cmds.push(['miterLimit', t]), (this.style.miterLimit = t);
                    }),
                    (a.beginPath = function () {}),
                    (a.moveTo = function (t, e) {
                        this.cmds.push(['moveTo', [t, e]]);
                    }),
                    (a.lineTo = function (t, e) {
                        this.cmds.push(['lineTo', [t, e]]);
                    }),
                    (a.bezierCurveTo = function (t, e, i, n, r, s) {
                        this.cmds.push(['bezierCurveTo', [t, e, i, n, r, s]]);
                    }),
                    (a.quadraticCurveTo = function (t, e, i, n) {
                        this.cmds.push(['quadraticCurveTo', [t, e, i, n]]);
                    }),
                    (a.arc = function (t, e, i, n, r, o) {
                        s.arc(this, t, e, i, n, r, o);
                    }),
                    (a.ellipse = function (t, e, i, n) {
                        s.ellipse(this, t, e, i, n);
                    }),
                    (a.circle = function (t, e, i) {
                        s.ellipse(this, t, e, i, i);
                    }),
                    (a.rect = function (t, e, i, n) {
                        this.moveTo(t, e),
                            this.lineTo(t + i, e),
                            this.lineTo(t + i, e + n),
                            this.lineTo(t, e + n),
                            this.close();
                    }),
                    (a.roundRect = function (t, e, i, n, r) {
                        s.roundRect(this, t, e, i, n, r);
                    }),
                    (a.fillRect = function (t, e, i, n) {
                        this.cmds.push(['fillRect', [t, e, i, n]]),
                            this.setDirtyFlag(_ccsg.Node._dirtyFlags.contentDirty);
                    }),
                    (a.close = function () {
                        this.cmds.push(['closePath', []]);
                    }),
                    (a.stroke = function () {
                        this.cmds.push(['stroke', []]), this.setDirtyFlag(_ccsg.Node._dirtyFlags.contentDirty);
                    }),
                    (a.fill = function () {
                        this.cmds.push(['fill', []]), this.setDirtyFlag(_ccsg.Node._dirtyFlags.contentDirty);
                    }),
                    (a.clear = function () {
                        (this.cmds.length = 0), this.setDirtyFlag(_ccsg.Node._dirtyFlags.contentDirty);
                    }),
                    (e.exports = o);
            },
            {
                './helper': 106,
                './types': 108,
            },
        ],
        103: [
            function (t, e, i) {
                var n = t('./graphics-canvas-cmd'),
                    r = t('./graphics-webgl-cmd'),
                    s = t('./types').LineCap,
                    o = t('./types').LineJoin,
                    a =
                        (cc.js,
                        _ccsg.Node.extend({
                            ctor: function () {
                                this._super(), (this.strokeColor = cc.Color.BLACK), (this.fillColor = cc.Color.WHITE);
                            },
                            clear: function (t) {
                                this._renderCmd.clear(t);
                            },
                            _createRenderCmd: function () {
                                return cc._renderType === cc.game.RENDER_TYPE_CANVAS ? new n(this) : new r(this);
                            },
                        })),
                    c = a.prototype;
                (c._strokeColor = null),
                    (c._fillColor = null),
                    (c._lineWidth = 1),
                    (c._lineCap = s.BUTT),
                    (c._lineJoin = o.MITER),
                    (c._miterLimit = 10),
                    (c.setStrokeColor = function (t) {
                        (this._strokeColor = t), this._renderCmd.setStrokeColor(t);
                    }),
                    (c.getStrokeColor = function () {
                        return this._strokeColor;
                    }),
                    (c.setFillColor = function (t) {
                        (this._fillColor = t), this._renderCmd.setFillColor(t);
                    }),
                    (c.getFillColor = function () {
                        return this._fillColor;
                    }),
                    (c.setLineWidth = function (t) {
                        (this._lineWidth = t), this._renderCmd.setLineWidth(t);
                    }),
                    (c.getLineWidth = function () {
                        return this._lineWidth;
                    }),
                    (c.setLineCap = function (t) {
                        (this._lineCap = t), this._renderCmd.setLineCap(t);
                    }),
                    (c.getLineCap = function () {
                        return this._lineCap;
                    }),
                    (c.setLineJoin = function (t) {
                        (this._lineJoin = t), this._renderCmd.setLineJoin(t);
                    }),
                    (c.getLineJoin = function () {
                        return this._lineJoin;
                    }),
                    (c.setMiterLimit = function (t) {
                        (this._miterLimit = t), this._renderCmd.setMiterLimit(t);
                    }),
                    (c.getMiterLimit = function () {
                        return this._miterLimit;
                    }),
                    (c.beginPath = function () {
                        this._renderCmd.beginPath();
                    }),
                    (c.moveTo = function (t, e) {
                        this._renderCmd.moveTo(t, e);
                    }),
                    (c.lineTo = function (t, e) {
                        this._renderCmd.lineTo(t, e);
                    }),
                    (c.bezierCurveTo = function (t, e, i, n, r, s) {
                        this._renderCmd.bezierCurveTo(t, e, i, n, r, s);
                    }),
                    (c.quadraticCurveTo = function (t, e, i, n) {
                        this._renderCmd.quadraticCurveTo(t, e, i, n);
                    }),
                    (c.arc = function (t, e, i, n, r, s) {
                        this._renderCmd.arc(t, e, i, n, r, s);
                    }),
                    (c.ellipse = function (t, e, i, n) {
                        this._renderCmd.ellipse(t, e, i, n);
                    }),
                    (c.circle = function (t, e, i) {
                        this._renderCmd.circle(t, e, i);
                    }),
                    (c.rect = function (t, e, i, n) {
                        this._renderCmd.rect(t, e, i, n);
                    }),
                    (c.roundRect = function (t, e, i, n, r) {
                        this._renderCmd.roundRect(t, e, i, n, r);
                    }),
                    (c.fillRect = function (t, e, i, n) {
                        this._renderCmd.fillRect(t, e, i, n);
                    }),
                    (c.close = function () {
                        this._renderCmd.close();
                    }),
                    (c.stroke = function () {
                        this._renderCmd.stroke();
                    }),
                    (c.fill = function () {
                        this._renderCmd.fill();
                    }),
                    (e.exports = a);
            },
            {
                './graphics-canvas-cmd': 102,
                './graphics-webgl-cmd': 104,
                './types': 108,
            },
        ],
        104: [
            function (t, e, i) {
                function n(t, e, i) {
                    return t < e ? e : t > i ? i : t;
                }

                function r(t, e) {
                    d.call(this, t, e), this.reset();
                }

                function s() {
                    this.reset();
                }

                function o() {
                    (this.vertsOffset = 0),
                        (this.vertsVBO = gl.createBuffer()),
                        (this.vertsBuffer = null),
                        (this.uint32VertsBuffer = null),
                        (this.vertsDirty = !1),
                        (this.indicesOffset = 0),
                        (this.indicesVBO = gl.createBuffer()),
                        (this.indicesBuffer = null),
                        (this.indicesDirty = !1);
                }

                function a(t) {
                    this._rootCtor(t), (this._needDraw = !0);
                    cc._renderContext;
                    (this._buffers = []),
                        (this._buffer = null),
                        this._allocBuffer(),
                        (this._matrix = new cc.math.Matrix4()),
                        this._matrix.identity(),
                        (this._paths = []),
                        (this._points = []),
                        (this._curColorValue = 0),
                        (this._blendFunc = new cc.BlendFunc(cc.macro.BLEND_SRC, cc.macro.BLEND_DST));
                    var e = new cc.GLProgram();
                    e.initWithVertexShaderByteArray(
                        cc.PresetShaders.POSITION_COLOR_VERT,
                        cc.PresetShaders.POSITION_COLOR_FRAG,
                    ),
                        e.retain(),
                        e.addAttribute(cc.macro.ATTRIBUTE_NAME_POSITION, cc.macro.VERTEX_ATTRIB_POSITION),
                        e.addAttribute(cc.macro.ATTRIBUTE_NAME_COLOR, cc.macro.VERTEX_ATTRIB_COLOR),
                        e.link(),
                        e.updateUniforms(),
                        (this._shaderProgram = e),
                        this._allocVerts(f);
                }
                var c = t('./types').LineCap,
                    h = t('./types').LineJoin,
                    l = t('./earcut'),
                    u = t('./helper'),
                    d = cc.Vec2,
                    _ = cc.js,
                    f = 32,
                    p = Math.PI,
                    g = Math.min,
                    m = Math.max,
                    v = Math.ceil,
                    y = Math.acos,
                    C = Math.cos,
                    T = Math.sin,
                    E = Math.atan2,
                    x = Math.abs,
                    S = cc.Enum({
                        PT_CORNER: 1,
                        PT_LEFT: 2,
                        PT_BEVEL: 4,
                        PT_INNERBEVEL: 8,
                    });
                _.extend(r, d),
                    (r.prototype.reset = function () {
                        (this.dx = 0), (this.dy = 0), (this.dmx = 0), (this.dmy = 0), (this.flags = 0), (this.len = 0);
                    }),
                    (s.prototype.reset = function () {
                        (this.closed = !1),
                            (this.nbevel = 0),
                            (this.complex = !0),
                            this.points ? (this.points.length = 0) : (this.points = []);
                    }),
                    (o.prototype.clear = function () {
                        (this.vertsOffset = 0), (this.indicesOffset = 0);
                    }),
                    (o.prototype.alloc = function (t, e) {
                        var i = this.vertsOffset + t;
                        if (i > 65535) return !1;
                        var n = this.vertsBuffer,
                            r = n ? n.length / 3 : 0;
                        if (i > r) {
                            for (0 === r && (r = f); i > r; ) r *= 2;
                            var s = new Float32Array(3 * r),
                                o = new Uint32Array(s.buffer);
                            if (n)
                                for (var a = this.uint32VertsBuffer, c = 0, h = n.length; c < h; c += 3)
                                    (s[c] = n[c]), (s[c + 1] = n[c + 1]), (o[c + 2] = a[c + 2]);
                            (this.vertsBuffer = s), (this.uint32VertsBuffer = o);
                        }
                        var l = this.indicesBuffer,
                            u = this.indicesOffset + e,
                            d = l ? l.length : 0;
                        if (u > d) {
                            for (0 === d && (d = 3 * f); u > d; ) d *= 2;
                            var _ = new Uint16Array(d);
                            if (l) for (c = 0, h = l.length; c < h; c++) _[c] = l[c];
                            this.indicesBuffer = _;
                        }
                        return !0;
                    }),
                    ((a.prototype = Object.create(_ccsg.Node.WebGLRenderCmd.prototype)).constructor = a);
                var b = a.prototype;
                (b._tessTol = 0.25),
                    (b._distTol = 0.01),
                    (b.lineWidth = 1),
                    (b.lineCap = c.BUTT),
                    (b.lineJoin = h.MITER),
                    (b.miterLimit = 10),
                    (b.beginPath = function () {
                        this._pathOffset = this._pathLength;
                    }),
                    (b.moveTo = function (t, e) {
                        this._updatePathOffset &&
                            ((this._pathOffset = this._pathLength), (this._updatePathOffset = !1)),
                            this._addPath(),
                            this._addPoint(t, e, S.PT_CORNER),
                            (this._commandx = t),
                            (this._commandy = e);
                    }),
                    (b.lineTo = function (t, e) {
                        this._addPoint(t, e, S.PT_CORNER), (this._commandx = t), (this._commandy = e);
                    }),
                    (b.bezierCurveTo = function (t, e, i, n, r, s) {
                        var o = this._curPath,
                            a = o.points[o.points.length - 1];
                        a.x !== t || a.y !== e || i !== r || n !== s
                            ? (this._tesselateBezier(a.x, a.y, t, e, i, n, r, s, 0, S.PT_CORNER),
                              (this._commandx = r),
                              (this._commandy = s))
                            : this.lineTo(r, s);
                    }),
                    (b.quadraticCurveTo = function (t, e, i, n) {
                        var r = this._commandx,
                            s = this._commandy;
                        this.bezierCurveTo(
                            r + (2 / 3) * (t - r),
                            s + (2 / 3) * (e - s),
                            i + (2 / 3) * (t - i),
                            n + (2 / 3) * (e - n),
                            i,
                            n,
                        );
                    }),
                    (b.arc = function (t, e, i, n, r, s) {
                        u.arc(this, t, e, i, n, r, s);
                    }),
                    (b.ellipse = function (t, e, i, n) {
                        u.ellipse(this, t, e, i, n), (this._curPath.complex = !1);
                    }),
                    (b.circle = function (t, e, i) {
                        u.ellipse(this, t, e, i, i), (this._curPath.complex = !1);
                    }),
                    (b.rect = function (t, e, i, n) {
                        this.moveTo(t, e),
                            this.lineTo(t, e + n),
                            this.lineTo(t + i, e + n),
                            this.lineTo(t + i, e),
                            this.close(),
                            (this._curPath.complex = !1);
                    }),
                    (b.roundRect = function (t, e, i, n, r) {
                        u.roundRect(this, t, e, i, n, r), (this._curPath.complex = !1);
                    }),
                    (b.fillRect = function (t, e, i, n) {
                        this.rect(t, e, i, n), this.fill();
                    }),
                    (b.close = function () {
                        this._curPath.closed = !0;
                    }),
                    (b.stroke = function () {
                        this._flattenPaths();
                        var t = this._strokeColor;
                        (this._curColorValue = ((t.a << 24) >>> 0) + (t.b << 16) + (t.g << 8) + t.r),
                            this._expandStroke(),
                            (this._updatePathOffset = !0);
                    }),
                    (b.fill = function () {
                        var t = this._fillColor;
                        (this._curColorValue = ((t.a << 24) >>> 0) + (t.b << 16) + (t.g << 8) + t.r),
                            this._expandFill(),
                            (this._updatePathOffset = !0),
                            (this._filling = !1);
                    }),
                    (b._strokeColor = null),
                    (b._fillColor = null),
                    (b.setStrokeColor = function (t) {
                        this._strokeColor = t;
                    }),
                    (b.getStrokeColor = function () {
                        return this._strokeColor;
                    }),
                    (b.setFillColor = function (t) {
                        this._fillColor = t;
                    }),
                    (b.getFillColor = function () {
                        return this._fillColor;
                    }),
                    (b.setLineWidth = function (t) {
                        this.lineWidth = t;
                    }),
                    (b.setLineJoin = function (t) {
                        this.lineJoin = t;
                    }),
                    (b.setLineCap = function (t) {
                        this.lineCap = t;
                    }),
                    (b.setMiterLimit = function (t) {
                        this.miterLimit = t;
                    }),
                    _.getset(b, 'strokeColor', b.getStrokeColor, b.setStrokeColor),
                    _.getset(b, 'fillColor', b.getFillColor, b.setFillColor),
                    (b._render = function () {
                        var t = this._buffers;
                        if (0 !== t.length) {
                            for (var e = cc._renderContext, i = 0, n = t.length; i < n; i++) {
                                var r = t[i];
                                e.bindBuffer(e.ARRAY_BUFFER, r.vertsVBO),
                                    e.bindBuffer(e.ELEMENT_ARRAY_BUFFER, r.indicesVBO),
                                    r.vertsDirty &&
                                        (e.bufferData(e.ARRAY_BUFFER, r.vertsBuffer, e.STREAM_DRAW),
                                        (r.vertsDirty = !1)),
                                    r.indicesDirty &&
                                        r.indicesBuffer &&
                                        (e.bufferData(e.ELEMENT_ARRAY_BUFFER, r.indicesBuffer, e.STREAM_DRAW),
                                        (r.indicesDirty = !1)),
                                    e.enableVertexAttribArray(cc.macro.VERTEX_ATTRIB_POSITION),
                                    e.enableVertexAttribArray(cc.macro.VERTEX_ATTRIB_COLOR),
                                    e.vertexAttribPointer(cc.macro.VERTEX_ATTRIB_POSITION, 2, e.FLOAT, !1, 12, 0),
                                    e.vertexAttribPointer(cc.macro.VERTEX_ATTRIB_COLOR, 4, e.UNSIGNED_BYTE, !0, 12, 8),
                                    e.drawElements(e.TRIANGLES, r.indicesOffset, e.UNSIGNED_SHORT, 0),
                                    cc.g_NumberOfDraws++;
                            }
                            0;
                        }
                    }),
                    (b.rendering = function () {
                        cc.gl.blendFunc(this._blendFunc.src, this._blendFunc.dst);
                        var t = this._worldTransform,
                            e = this._matrix.mat;
                        (e[0] = t.a), (e[4] = t.c), (e[12] = t.tx), (e[1] = t.b), (e[5] = t.d), (e[13] = t.ty);
                        var i = this._shaderProgram;
                        i.use(), i._setUniformForMVPMatrixWithMat4(this._matrix), this._render();
                    }),
                    (b.clear = function (t) {
                        if (
                            ((this._pathLength = 0),
                            (this._pathOffset = 0),
                            (this._pointsOffset = 0),
                            (this._curPath = null),
                            t)
                        )
                            (this._paths.length = 0),
                                (this._points.length = 0),
                                (this._buffer = null),
                                (this._buffers = []);
                        else {
                            for (var e = this._buffers, i = 0; i < e.length; i++) e[i].clear();
                            this._buffer = e[0];
                        }
                    }),
                    (b._updatePathOffset = !1),
                    (b._paths = null),
                    (b._pathLength = 0),
                    (b._pathOffset = 0),
                    (b._points = null),
                    (b._pointsOffset = 0),
                    (b._commandx = 0),
                    (b._commandy = 0),
                    (b._addPath = function () {
                        var t = this._pathLength,
                            e = this._paths[t];
                        return (
                            e ? e.reset() : ((e = new s()), this._paths.push(e)),
                            this._pathLength++,
                            (this._curPath = e),
                            e
                        );
                    }),
                    (b._addPoint = function (t, e, i) {
                        var n = this._curPath;
                        if (n) {
                            var s,
                                o = this._points,
                                a = n.points;
                            (s = o[this._pointsOffset++]) ? ((s.x = t), (s.y = e)) : ((s = new r(t, e)), o.push(s)),
                                (s.flags = i),
                                a.push(s);
                        }
                    }),
                    (b._flattenPaths = function () {
                        for (var t = this._paths, e = this._pathOffset, i = this._pathLength; e < i; e++) {
                            var n = t[e],
                                r = n.points,
                                s = r[r.length - 1],
                                o = r[0];
                            s.equals(o) && ((n.closed = !0), r.pop(), (s = r[r.length - 1]));
                            for (var a = 0, c = r.length; a < c; a++) {
                                var h = o.sub(s);
                                (s.len = h.mag()),
                                    (h.x || h.y) && h.normalizeSelf(),
                                    (s.dx = h.x),
                                    (s.dy = h.y),
                                    (s = o),
                                    (o = r[a + 1]);
                            }
                        }
                    }),
                    (b._allocBuffer = function () {
                        if (this._buffer) {
                            var t = this._buffers.indexOf(this._buffer);
                            if (t < this._buffers.length - 1) return void (this._buffer = this._buffers[t + 1]);
                        }
                        var e = new o();
                        this._buffers.push(e), (this._buffer = e);
                    }),
                    (b._allocVerts = function (t) {
                        this._buffer || this._allocBuffer();
                        var e = 3 * (t - 2 * (this._pathLength - this._pathOffset));
                        this._buffer.alloc(t, e) || (this._allocBuffer(), this._buffer.alloc(t, e)),
                            (this._buffer.vertsDirty = !0);
                    }),
                    (b._expandStroke = function () {
                        var t = 0.5 * this.lineWidth,
                            e = this.lineCap,
                            i = this.lineJoin,
                            n = this.miterLimit,
                            r = this._curveDivs(t, p, this._tessTol),
                            s = this._paths;
                        this._calculateJoins(t, i, n);
                        for (var o = 0, a = this._pathOffset, l = this._pathLength; a < l; a++) {
                            var u = (_ = s[a]).points.length;
                            i === h.ROUND ? (o += 2 * (u + _.nbevel * (r + 2) + 1)) : (o += 2 * (u + 5 * _.nbevel + 1)),
                                _.closed || (e === c.ROUND ? (o += 2 * (2 * r + 2)) : (o += 12));
                        }
                        this._allocVerts(o);
                        var d = this._buffer;
                        for (a = this._pathOffset, l = this._pathLength; a < l; a++) {
                            var _,
                                f,
                                g,
                                m,
                                v,
                                y,
                                C = (_ = s[a]).points;
                            u = _.points.length;
                            y = _.closed;
                            var T = d.vertsOffset;
                            if (
                                (y
                                    ? ((f = C[u - 1]), (g = C[0]), (m = 0), (v = u))
                                    : ((f = C[0]), (g = C[1]), (m = 1), (v = u - 1)),
                                !y)
                            ) {
                                (R = g.sub(f)).normalizeSelf();
                                var E = R.x,
                                    x = R.y;
                                e === c.BUTT
                                    ? this._buttCap(f, E, x, t, 0)
                                    : e === c.SQUARE
                                    ? this._buttCap(f, E, x, t, t)
                                    : e === c.ROUND && this._roundCapStart(f, E, x, t, r);
                            }
                            for (var b = m; b < v; ++b)
                                i === h.ROUND
                                    ? this._roundJoin(f, g, t, t, r)
                                    : 0 != (g.flags & (S.PT_BEVEL | S.PT_INNERBEVEL))
                                    ? this._bevelJoin(f, g, t, t)
                                    : (this._vset(g.x + g.dmx * t, g.y + g.dmy * t),
                                      this._vset(g.x - g.dmx * t, g.y - g.dmy * t)),
                                    (f = g),
                                    (g = C[b + 1]);
                            if (y) {
                                var A = d.vertsBuffer;
                                this._vset(A[3 * T], A[3 * T + 1]), this._vset(A[3 * (T + 1)], A[3 * (T + 1) + 1]);
                            } else {
                                var R;
                                (R = g.sub(f)).normalizeSelf();
                                (E = R.x), (x = R.y);
                                e === c.BUTT
                                    ? this._buttCap(g, E, x, t, 0)
                                    : e === c.BUTT || e === c.SQUARE
                                    ? this._buttCap(g, E, x, t, t)
                                    : e === c.ROUND && this._roundCapEnd(g, E, x, t, r);
                            }
                            for (var w = d.indicesOffset, I = d.indicesBuffer, O = T + 2, L = d.vertsOffset; O < L; O++)
                                (I[w++] = O - 2), (I[w++] = O - 1), (I[w++] = O);
                            (d.indicesOffset = w), (d.indicesDirty = !0);
                        }
                    }),
                    (b._expandFill = function () {
                        for (var t = this._paths, e = 0, i = this._pathOffset, n = this._pathLength; i < n; i++) {
                            e += o = (s = t[i]).points.length;
                        }
                        this._allocVerts(e);
                        var r = this._buffer;
                        for (i = this._pathOffset, n = this._pathLength; i < n; i++) {
                            var s,
                                o,
                                a = (s = t[i]).points;
                            if (0 !== (o = a.length)) {
                                for (var c = r.vertsOffset, h = 0; h < o; ++h) this._vset(a[h].x, a[h].y, 0.5, 1);
                                var u = (s.indicesOffset = r.indicesOffset),
                                    d = r.indicesBuffer,
                                    _ = 0;
                                if (s.complex) {
                                    var f = [],
                                        p = 3 * c,
                                        g = 3 * r.vertsOffset;
                                    for (h = p; h < g; h += 3) f.push(r.vertsBuffer[h]), f.push(r.vertsBuffer[h + 1]);
                                    var m = l(f, null, 2);
                                    if (!m || 0 === m.length) continue;
                                    h = 0;
                                    for (var v = (_ = m.length); h < v; h++) d[u + h] = m[h] + c;
                                } else {
                                    var y = c;
                                    for (p = c + 2, g = r.vertsOffset; p < g; p++)
                                        (d[u++] = y), (d[u++] = p - 1), (d[u++] = p);
                                    _ = u - r.indicesOffset;
                                }
                                (r.indicesOffset += _), (r.indicesDirty = !0);
                            }
                        }
                    }),
                    (b._curveDivs = function (t, e, i) {
                        var n = 2 * y(t / (t + i));
                        return m(2, v(e / n));
                    }),
                    (b._calculateJoins = function (t, e, i) {
                        var n = 0;
                        t > 0 && (n = 1 / t);
                        for (var r = this._paths, s = this._pathOffset, o = this._pathLength; s < o; s++) {
                            var a = r[s],
                                c = a.points,
                                l = c.length,
                                u = c[l - 1],
                                d = c[0];
                            a.nbevel = 0;
                            for (var _ = 0; _ < l; _++) {
                                var f,
                                    p,
                                    v = u.dy,
                                    y = -u.dx,
                                    C = d.dy,
                                    T = -d.dx;
                                if (
                                    ((d.dmx = 0.5 * (v + C)),
                                    (d.dmy = 0.5 * (y + T)),
                                    (f = d.dmx * d.dmx + d.dmy * d.dmy) > 1e-6)
                                ) {
                                    var E = 1 / f;
                                    E > 600 && (E = 600), (d.dmx *= E), (d.dmy *= E);
                                }
                                d.dx * u.dy - u.dx * d.dy > 0 && (0, (d.flags |= S.PT_LEFT)),
                                    f * (p = m(11, g(u.len, d.len) * n)) * p < 1 && (d.flags |= S.PT_INNERBEVEL),
                                    d.flags & S.PT_CORNER &&
                                        (f * i * i < 1 || e === h.BEVEL || e === h.ROUND) &&
                                        (d.flags |= S.PT_BEVEL),
                                    0 != (d.flags & (S.PT_BEVEL | S.PT_INNERBEVEL)) && a.nbevel++,
                                    (u = d),
                                    (d = c[_ + 1]);
                            }
                        }
                    }),
                    (b._vset = function (t, e) {
                        var i = this._buffer,
                            n = 3 * i.vertsOffset,
                            r = i.vertsBuffer;
                        (r[n] = t), (r[n + 1] = e), (i.uint32VertsBuffer[n + 2] = this._curColorValue), i.vertsOffset++;
                    }),
                    (b._chooseBevel = function (t, e, i, n) {
                        var r,
                            s,
                            o,
                            a,
                            c = i.x,
                            h = i.y;
                        return (
                            0 !== t
                                ? ((r = c + e.dy * n), (s = h - e.dx * n), (o = c + i.dy * n), (a = h - i.dx * n))
                                : ((r = o = c + i.dmx * n), (s = a = h + i.dmy * n)),
                            [r, s, o, a]
                        );
                    }),
                    (b._buttCap = function (t, e, i, n, r) {
                        var s = t.x - e * r,
                            o = t.y - i * r,
                            a = i,
                            c = -e;
                        this._vset(s + a * n, o + c * n), this._vset(s - a * n, o - c * n);
                    }),
                    (b._roundCapStart = function (t, e, i, n, r) {
                        for (var s = t.x, o = t.y, a = i, c = -e, h = 0; h < r; h++) {
                            var l = (h / (r - 1)) * p,
                                u = C(l) * n,
                                d = T(l) * n;
                            this._vset(s - a * u - e * d, o - c * u - i * d), this._vset(s, o);
                        }
                        this._vset(s + a * n, o + c * n), this._vset(s - a * n, o - c * n);
                    }),
                    (b._roundCapEnd = function (t, e, i, n, r) {
                        var s = t.x,
                            o = t.y,
                            a = i,
                            c = -e;
                        this._vset(s + a * n, o + c * n), this._vset(s - a * n, o - c * n);
                        for (var h = 0; h < r; h++) {
                            var l = (h / (r - 1)) * p,
                                u = C(l) * n,
                                d = T(l) * n;
                            this._vset(s, o), this._vset(s - a * u + e * d, o - c * u + i * d);
                        }
                    }),
                    (b._roundJoin = function (t, e, i, r, s) {
                        var o = t.dy,
                            a = -t.dx,
                            c = e.dy,
                            h = -e.dx,
                            l = e.x,
                            u = e.y;
                        if (0 != (e.flags & S.PT_LEFT)) {
                            var d = (R = this._chooseBevel(e.flags & S.PT_INNERBEVEL, t, e, i))[0],
                                _ = R[1],
                                f = R[2],
                                g = R[3],
                                m = E(-a, -o);
                            (w = E(-h, -c)) > m && (w -= 2 * p), this._vset(d, _), this._vset(l - o * r, e.y - a * r);
                            for (var y = n(v((m - w) / p) * s, 2, s), x = 0; x < y; x++) {
                                var b = l + C((D = m + (x / (y - 1)) * (w - m))) * r,
                                    A = u + T(D) * r;
                                this._vset(l, u), this._vset(b, A);
                            }
                            this._vset(f, g), this._vset(l - c * r, u - h * r);
                        } else {
                            var R,
                                w,
                                I = (R = this._chooseBevel(e.flags & S.PT_INNERBEVEL, t, e, -r))[0],
                                O = R[1],
                                L = R[2],
                                P = R[3];
                            m = E(a, o);
                            (w = E(h, c)) < m && (w += 2 * p), this._vset(l + o * r, u + a * r), this._vset(I, O);
                            for (y = n(v((w - m) / p) * s, 2, s), x = 0; x < y; x++) {
                                var D,
                                    N = l + C((D = m + (x / (y - 1)) * (w - m))) * i,
                                    F = u + T(D) * i;
                                this._vset(N, F), this._vset(l, u);
                            }
                            this._vset(l + c * r, u + h * r), this._vset(L, P);
                        }
                    }),
                    (b._bevelJoin = function (t, e, i, n) {
                        var r,
                            s,
                            o,
                            a,
                            c,
                            h,
                            l,
                            u,
                            d = t.dy,
                            _ = -t.dx,
                            f = e.dy,
                            p = -e.dx;
                        if (e.flags & S.PT_LEFT) {
                            (c = (g = this._chooseBevel(e.flags & S.PT_INNERBEVEL, t, e, i))[0]),
                                (h = g[1]),
                                (l = g[2]),
                                (u = g[3]),
                                this._vset(c, h),
                                this._vset(e.x - d * n, e.y - _ * n),
                                this._vset(l, u),
                                this._vset(e.x - f * n, e.y - p * n);
                        } else {
                            var g;
                            (r = (g = this._chooseBevel(e.flags & S.PT_INNERBEVEL, t, e, -n))[0]),
                                (s = g[1]),
                                (o = g[2]),
                                (a = g[3]),
                                this._vset(e.x + d * i, e.y + _ * i),
                                this._vset(r, s),
                                this._vset(e.x + f * i, e.y + p * i),
                                this._vset(o, a);
                        }
                    }),
                    (b._tesselateBezier = function (t, e, i, n, r, s, o, a, c, h) {
                        var l, u, d, _, f, p, g, m, v, y, C, T, E, b, A, R;
                        c > 10 ||
                            ((f = 0.5 * (r + o)),
                            (p = 0.5 * (s + a)),
                            (g = 0.5 * ((l = 0.5 * (t + i)) + (d = 0.5 * (i + r)))),
                            (m = 0.5 * ((u = 0.5 * (e + n)) + (_ = 0.5 * (n + s)))),
                            ((A = x((i - o) * (b = a - e) - (n - a) * (E = o - t))) +
                                (R = x((r - o) * b - (s - a) * E))) *
                                (A + R) <
                            this._tessTol * (E * E + b * b)
                                ? this._addPoint(o, a, 0 === h ? h | S.PT_BEVEL : h)
                                : ((C = 0.5 * (g + (v = 0.5 * (d + f)))),
                                  (T = 0.5 * (m + (y = 0.5 * (_ + p)))),
                                  this._tesselateBezier(t, e, l, u, g, m, C, T, c + 1, 0),
                                  this._tesselateBezier(C, T, v, y, f, p, o, a, c + 1, h)));
                    }),
                    (e.exports = a);
            },
            {
                './earcut': 101,
                './helper': 106,
                './types': 108,
            },
        ],
        105: [
            function (t, e, i) {
                var n = t('./types').LineCap,
                    r = t('./types').LineJoin,
                    s = cc.Class({
                        name: 'cc.Graphics',
                        extends: cc._RendererUnderSG,
                        editor: !1,
                        properties: {
                            _lineWidth: 1,
                            _strokeColor: cc.Color.BLACK,
                            _lineJoin: r.MITER,
                            _lineCap: n.BUTT,
                            _fillColor: cc.Color.WHITE,
                            _miterLimit: 10,
                            lineWidth: {
                                get: function () {
                                    return this._lineWidth;
                                },
                                set: function (t) {
                                    this._sgNode.lineWidth = this._lineWidth = t;
                                },
                            },
                            lineJoin: {
                                get: function () {
                                    return this._lineJoin;
                                },
                                set: function (t) {
                                    this._sgNode.lineJoin = this._lineJoin = t;
                                },
                                type: r,
                            },
                            lineCap: {
                                get: function () {
                                    return this._lineCap;
                                },
                                set: function (t) {
                                    this._sgNode.lineCap = this._lineCap = t;
                                },
                                type: n,
                            },
                            strokeColor: {
                                get: function () {
                                    return this._strokeColor;
                                },
                                set: function (t) {
                                    this._sgNode.strokeColor = this._strokeColor = t;
                                },
                            },
                            fillColor: {
                                get: function () {
                                    return this._fillColor;
                                },
                                set: function (t) {
                                    this._sgNode.fillColor = this._fillColor = t;
                                },
                            },
                            miterLimit: {
                                get: function () {
                                    return this._miterLimit;
                                },
                                set: function (t) {
                                    this._sgNode.miterLimit = this._miterLimit = t;
                                },
                            },
                        },
                        statics: {
                            LineJoin: r,
                            LineCap: n,
                        },
                        _createSgNode: function () {
                            return new _ccsg.GraphicsNode();
                        },
                        _initSgNode: function () {
                            var t = this._sgNode;
                            (t.lineWidth = this._lineWidth),
                                (t.lineJoin = this._lineJoin),
                                (t.lineCap = this._lineCap),
                                (t.strokeColor = this._strokeColor),
                                (t.fillColor = this._fillColor),
                                (t.miterLimit = this._miterLimit),
                                t.setContentSize(this.node.getContentSize(!0));
                        },
                        moveTo: function (t, e) {
                            this._sgNode.moveTo(t, e);
                        },
                        lineTo: function (t, e) {
                            this._sgNode.lineTo(t, e);
                        },
                        bezierCurveTo: function (t, e, i, n, r, s) {
                            this._sgNode.bezierCurveTo(t, e, i, n, r, s);
                        },
                        quadraticCurveTo: function (t, e, i, n) {
                            this._sgNode.quadraticCurveTo(t, e, i, n);
                        },
                        arc: function (t, e, i, n, r, s) {
                            (s = s || !1), this._sgNode.arc(t, e, i, n, r, s);
                        },
                        ellipse: function (t, e, i, n) {
                            this._sgNode.ellipse(t, e, i, n);
                        },
                        circle: function (t, e, i) {
                            this._sgNode.circle(t, e, i);
                        },
                        rect: function (t, e, i, n) {
                            this._sgNode.rect(t, e, i, n);
                        },
                        roundRect: function (t, e, i, n, r) {
                            this._sgNode.roundRect(t, e, i, n, r);
                        },
                        fillRect: function (t, e, i, n) {
                            this._sgNode.fillRect(t, e, i, n);
                        },
                        clear: function (t) {
                            this._sgNode.clear(!!t);
                        },
                        close: function () {
                            this._sgNode.close();
                        },
                        stroke: function () {
                            this._sgNode.stroke();
                        },
                        fill: function () {
                            this._sgNode.fill();
                        },
                    });
                cc.Graphics = e.exports = s;
            },
            {
                './types': 108,
            },
        ],
        106: [
            function (t, e, i) {
                var n = Math.PI,
                    r = Math.min,
                    s = Math.max,
                    o = Math.cos,
                    a = Math.sin,
                    c = Math.abs,
                    h = Math.sign,
                    l = 0.5522847493;
                e.exports = {
                    arc: function (t, e, i, h, l, u, d) {
                        var _,
                            f,
                            p = 0,
                            g = 0,
                            m = 0,
                            v = 0,
                            y = 0,
                            C = 0,
                            T = 0,
                            E = 0,
                            x = 0,
                            S = 0,
                            b = 0,
                            A = 0,
                            R = 0,
                            w = 0;
                        if (((g = u - l), (d = d || !1)))
                            if (c(g) >= 2 * n) g = 2 * n;
                            else for (; g < 0; ) g += 2 * n;
                        else if (c(g) >= 2 * n) g = 2 * -n;
                        else for (; g > 0; ) g -= 2 * n;
                        for (
                            f = 0 | s(1, r(c(g) / (0.5 * n) + 0.5, 5)),
                                v = c(((4 / 3) * (1 - o((m = g / f / 2)))) / a(m)),
                                d || (v = -v),
                                _ = 0;
                            _ <= f;
                            _++
                        )
                            (T = e + (y = o((p = l + g * (_ / f)))) * h),
                                (E = i + (C = a(p)) * h),
                                (x = -C * h * v),
                                (S = y * h * v),
                                0 === _ ? t.moveTo(T, E) : t.bezierCurveTo(b + R, A + w, T - x, E - S, T, E),
                                (b = T),
                                (A = E),
                                (R = x),
                                (w = S);
                    },
                    ellipse: function (t, e, i, n, r) {
                        t.moveTo(e - n, i),
                            t.bezierCurveTo(e - n, i + r * l, e - n * l, i + r, e, i + r),
                            t.bezierCurveTo(e + n * l, i + r, e + n, i + r * l, e + n, i),
                            t.bezierCurveTo(e + n, i - r * l, e + n * l, i - r, e, i - r),
                            t.bezierCurveTo(e - n * l, i - r, e - n, i - r * l, e - n, i),
                            t.close();
                    },
                    roundRect: function (t, e, i, n, s, o) {
                        if (o < 0.1) t.rect(e, i, n, s);
                        else {
                            var a = r(o, 0.5 * c(n)) * h(n),
                                u = r(o, 0.5 * c(s)) * h(s);
                            t.moveTo(e, i + u),
                                t.lineTo(e, i + s - u),
                                t.bezierCurveTo(e, i + s - u * (1 - l), e + a * (1 - l), i + s, e + a, i + s),
                                t.lineTo(e + n - a, i + s),
                                t.bezierCurveTo(
                                    e + n - a * (1 - l),
                                    i + s,
                                    e + n,
                                    i + s - u * (1 - l),
                                    e + n,
                                    i + s - u,
                                ),
                                t.lineTo(e + n, i + u),
                                t.bezierCurveTo(e + n, i + u * (1 - l), e + n - a * (1 - l), i, e + n - a, i),
                                t.lineTo(e + a, i),
                                t.bezierCurveTo(e + a * (1 - l), i, e, i + u * (1 - l), e, i + u),
                                t.close();
                        }
                    },
                };
            },
            {},
        ],
        107: [
            function (t, e, i) {
                'use strict';
                var n;
                if ((n = _ccsg.GraphicsNode = t('./graphics-node'))) {
                    t('../utils/misc').propertyDefine(
                        n,
                        ['lineWidth', 'lineCap', 'lineJoin', 'miterLimit', 'strokeColor', 'fillColor'],
                        {},
                    );
                }
                t('./graphics');
            },
            {
                '../utils/misc': 185,
                './graphics': 105,
                './graphics-node': 103,
            },
        ],
        108: [
            function (t, e, i) {
                'use strict';
                var n = cc.Enum({
                        BUTT: 0,
                        ROUND: 1,
                        SQUARE: 2,
                    }),
                    r = cc.Enum({
                        BEVEL: 0,
                        ROUND: 1,
                        MITER: 2,
                    });
                e.exports = {
                    LineCap: n,
                    LineJoin: r,
                };
            },
            {},
        ],
        109: [
            function (t, e, i) {
                t('./platform'),
                    t('./assets'),
                    t('./CCNode'),
                    t('./CCScene'),
                    t('./components'),
                    t('./graphics'),
                    t('./collider'),
                    t('./collider/CCIntersection'),
                    t('./physics'),
                    t('./camera/CCCamera'),
                    t('./base-ui/CCWidgetManager');
            },
            {
                './CCNode': 40,
                './CCScene': 41,
                './assets': 54,
                './base-ui/CCWidgetManager': 59,
                './camera/CCCamera': 237,
                './collider': 237,
                './collider/CCIntersection': 237,
                './components': 88,
                './graphics': 107,
                './physics': 237,
                './platform': 153,
            },
        ],
        110: [
            function (t, e, i) {
                var n = /^(click)(\s)*=/,
                    r = /(\s)*src(\s)*=|(\s)*height(\s)*=|(\s)*width(\s)*=|(\s)*click(\s)*=/;
                (cc.HtmlTextParser = function () {
                    (this._parsedObject = {}),
                        (this._specialSymbolArray = []),
                        this._specialSymbolArray.push([/&lt;/g, '<']),
                        this._specialSymbolArray.push([/&gt;/g, '>']),
                        this._specialSymbolArray.push([/&amp;/g, '&']),
                        this._specialSymbolArray.push([/&quot;/g, '"']),
                        this._specialSymbolArray.push([/&apos;/g, "'"]);
                }),
                    (cc.HtmlTextParser.prototype = {
                        constructor: cc.HtmlTextParser,
                        parse: function (t) {
                            (this._resultObjectArray = []), (this._stack = []);
                            for (var e = 0, i = t.length; e < i; ) {
                                var n = t.indexOf('<', e);
                                if (n < 0) this._stack.pop(), this._processResult(t.substring(e)), (e = i);
                                else {
                                    this._processResult(t.substring(e, n));
                                    var r = t.indexOf('>', e);
                                    -1 === r
                                        ? (r = n)
                                        : '/' === t.charAt(n + 1)
                                        ? this._stack.pop()
                                        : this._addToStack(t.substring(n + 1, r)),
                                        (e = r + 1);
                                }
                            }
                            return this._resultObjectArray;
                        },
                        _attributeToObject: function (t) {
                            var e,
                                i,
                                n,
                                s,
                                o = {},
                                a = (t = t.trim()).match(/^(color|size)(\s)*=/);
                            if (a) {
                                if (((e = a[0]), '' === (t = t.substring(e.length).trim()))) return o;
                                switch (((i = t.indexOf(' ')), e[0])) {
                                    case 'c':
                                        o.color = i > -1 ? t.substring(0, i).trim() : t;
                                        break;
                                    case 's':
                                        o.size = parseInt(t);
                                }
                                return (
                                    i > -1 &&
                                        ((s = t.substring(i + 1).trim()),
                                        (n = this._processEventHandler(s)),
                                        (o.event = n)),
                                    o
                                );
                            }
                            if (
                                (a = t.match(/^(br(\s)*\/)/)) &&
                                a[0].length > 0 &&
                                (e = a[0].trim()).startsWith('br') &&
                                '/' === e[e.length - 1]
                            )
                                return (
                                    (o.isNewLine = !0),
                                    this._resultObjectArray.push({
                                        text: '',
                                        style: {
                                            newline: !0,
                                        },
                                    }),
                                    o
                                );
                            if (
                                (a = t.match(/^(img(\s)*src(\s)*=[^>]+\/)/)) &&
                                a[0].length > 0 &&
                                (e = a[0].trim()).startsWith('img') &&
                                '/' === e[e.length - 1]
                            ) {
                                a = t.match(r);
                                for (var c, h = !1; a; )
                                    (e = (t = t.substring(t.indexOf(a[0]))).substr(0, a[0].length)),
                                        (d =
                                            (i = (c = t.substring(e.length).trim()).indexOf(' ')) > -1
                                                ? c.substr(0, i)
                                                : c),
                                        (e = (e = e.replace(/[^a-zA-Z]/g, '').trim()).toLocaleLowerCase()),
                                        (t = c.substring(i).trim()),
                                        'src' === e
                                            ? ((o.isImage = !0),
                                              d.endsWith('/') && (d = d.substring(0, d.length - 1)),
                                              0 === d.indexOf("'")
                                                  ? ((h = !0), (d = d.substring(1, d.length - 1)))
                                                  : 0 === d.indexOf('"') &&
                                                    ((h = !0), (d = d.substring(1, d.length - 1))),
                                              (o.src = d))
                                            : 'height' === e
                                            ? (o.imageHeight = parseInt(d))
                                            : 'width' === e
                                            ? (o.imageWidth = parseInt(d))
                                            : 'click' === e && (o.event = this._processEventHandler(e + '=' + d)),
                                        (a = t.match(r));
                                return (
                                    h &&
                                        o.isImage &&
                                        this._resultObjectArray.push({
                                            text: '',
                                            style: o,
                                        }),
                                    {}
                                );
                            }
                            if ((a = t.match(/^(outline(\s)*[^>]*)/))) {
                                var l = {
                                    color: '#ffffff',
                                    width: 1,
                                };
                                if ((t = a[0].substring('outline'.length).trim())) {
                                    var u = /(\s)*color(\s)*=|(\s)*width(\s)*=|(\s)*click(\s)*=/;
                                    a = t.match(u);
                                    for (var d; a; )
                                        (e = (t = t.substring(t.indexOf(a[0]))).substr(0, a[0].length)),
                                            (d =
                                                (i = (c = t.substring(e.length).trim()).indexOf(' ')) > -1
                                                    ? c.substr(0, i)
                                                    : c),
                                            (e = (e = e.replace(/[^a-zA-Z]/g, '').trim()).toLocaleLowerCase()),
                                            (t = c.substring(i).trim()),
                                            'click' === e
                                                ? (o.event = this._processEventHandler(e + '=' + d))
                                                : 'color' === e
                                                ? (l.color = d)
                                                : 'width' === e && (l.width = parseInt(d)),
                                            (a = t.match(u));
                                }
                                o.outline = l;
                            }
                            if ((a = t.match(/^(on|u|b|i)(\s)*/)) && a[0].length > 0) {
                                switch (((e = a[0]), (t = t.substring(e.length).trim()), e[0])) {
                                    case 'u':
                                        o.underline = !0;
                                        break;
                                    case 'i':
                                        o.italic = !0;
                                        break;
                                    case 'b':
                                        o.bold = !0;
                                }
                                if ('' === t) return o;
                                (n = this._processEventHandler(t)), (o.event = n);
                            }
                            return o;
                        },
                        _processEventHandler: function (t) {
                            for (var e = 0, i = {}, r = t.match(n), s = !1; r; ) {
                                var o = r[0],
                                    a = '';
                                if (((s = !1), '"' === (t = t.substring(o.length).trim()).charAt(0)))
                                    (e = t.indexOf('"', 1)) > -1 && ((a = t.substring(1, e).trim()), (s = !0)), e++;
                                else if ("'" === t.charAt(0))
                                    (e = t.indexOf("'", 1)) > -1 && ((a = t.substring(1, e).trim()), (s = !0)), e++;
                                else {
                                    var c = t.match(/(\S)+/);
                                    e = (a = c ? c[0] : '').length;
                                }
                                s && (i[(o = o.substring(0, o.length - 1).trim())] = a),
                                    (r = (t = t.substring(e).trim()).match(n));
                            }
                            return i;
                        },
                        _addToStack: function (t) {
                            var e = this._attributeToObject(t);
                            if (0 === this._stack.length) this._stack.push(e);
                            else {
                                if (e.isNewLine || e.isImage) return;
                                var i = this._stack[this._stack.length - 1];
                                for (var n in i) e[n] || (e[n] = i[n]);
                                this._stack.push(e);
                            }
                        },
                        _processResult: function (t) {
                            '' !== t &&
                                ((t = this._escapeSpecialSymbol(t)),
                                this._stack.length > 0
                                    ? this._resultObjectArray.push({
                                          text: t,
                                          style: this._stack[this._stack.length - 1],
                                      })
                                    : this._resultObjectArray.push({
                                          text: t,
                                      }));
                        },
                        _escapeSpecialSymbol: function (t) {
                            for (var e = 0; e < this._specialSymbolArray.length; ++e) {
                                var i = this._specialSymbolArray[e][0],
                                    n = this._specialSymbolArray[e][1];
                                t = t.replace(i, n);
                            }
                            return t;
                        },
                    }),
                    (cc.htmlTextParser = new cc.HtmlTextParser());
            },
            {},
        ],
        111: [
            function (t, e, i) {
                t('./CCTextUtils');
                var n = t('../event/event-target'),
                    r = t('../platform/js'),
                    s = function () {
                        (this._u = 0),
                            (this._v = 0),
                            (this._width = 0),
                            (this._height = 0),
                            (this._offsetX = 0),
                            (this._offsetY = 0),
                            (this._textureID = 0),
                            (this._validDefinition = !1),
                            (this._xAdvance = 0);
                    };
                (cc.FontAtlas = function (t) {
                    (this._lineHeight = t.commonHeight),
                        (this._fontSize = t.fontSize),
                        (this._letterDefinitions = {}),
                        (this._fntConfig = t);
                }),
                    (cc.FontAtlas.prototype = {
                        constructor: cc.FontAtlas,
                        setFontSize: function (t) {
                            this._fontSize = t;
                        },
                        getOriginalFontSize: function () {
                            return this._fntConfig.fontSize;
                        },
                        addLetterDefinitions: function (t, e) {
                            this._letterDefinitions[t] = e;
                        },
                        cloneLetterDefinition: function () {
                            var t = {};
                            for (var e in this._letterDefinitions) {
                                var i = new s();
                                cc.js.mixin(i, this._letterDefinitions[e]), (t[e] = i);
                            }
                            return t;
                        },
                        assignLetterDefinitions: function (t) {
                            for (var e in this._letterDefinitions) {
                                var i = t[e],
                                    n = this._letterDefinitions[e];
                                cc.js.mixin(n, i);
                            }
                        },
                        scaleFontLetterDefinition: function (t) {
                            for (var e in this._letterDefinitions) {
                                var i = this._letterDefinitions[e];
                                (i._width *= t),
                                    (i._height *= t),
                                    (i._offsetX *= t),
                                    (i._offsetY *= t),
                                    (i._xAdvance *= t);
                            }
                        },
                        getLetterDefinitionForChar: function (t) {
                            return this._letterDefinitions.hasOwnProperty(t.charCodeAt(0))
                                ? this._letterDefinitions[t.charCodeAt(0)]
                                : null;
                        },
                    });
                var o = function () {
                    (this._char = ''),
                        (this._valid = !0),
                        (this._positionX = 0),
                        (this._positionY = 0),
                        (this._lineIndex = 0);
                };
                (_ccsg.Label = _ccsg.Node.extend({
                    _hAlign: cc.TextAlignment.LEFT,
                    _vAlign: cc.VerticalTextAlignment.TOP,
                    _string: '',
                    _fontSize: 40,
                    _drawFontsize: 40,
                    _overFlow: 0,
                    _isWrapText: !0,
                    _spacingX: 0,
                    _blendFunc: null,
                    _labelType: 0,
                    _fontHandle: '',
                    _lineSpacing: 0,
                    _maxLineWidth: 0,
                    _labelDimensions: cc.size(0, 0),
                    _labelWidth: 0,
                    _labelHeight: 0,
                    _lineHeight: 40,
                    _outlined: !1,
                    _outlineColor: null,
                    _outlineWidth: 1,
                    _gradientEnabled: !1,
                    _gradientStartColor: cc.color(255, 255, 255, 255),
                    _gradientEndColor: cc.color(255, 255, 255, 255),
                    _gradientDirection: 0,
                    _className: 'Label',
                    _margin: 0,
                    _isBold: !1,
                    _isItalic: !1,
                    _isUnderline: !1,
                    _fontAsset: null,
                    onExit: function () {
                        this._super(), this._renderCmd._texture.releaseTexture(), this._notifyLabelSkinDirty();
                    },
                    ctor: function (t, e) {
                        n.call(this);
                        var i = e instanceof cc.Font,
                            r = i ? e.rawUrl : '';
                        (this._fontHandle = r),
                            'string' != typeof t && (t = '' + t),
                            (this._string = t),
                            _ccsg.Node.prototype.ctor.call(this),
                            this.setAnchorPoint(0.5, 0.5),
                            _ccsg.Node.prototype.setContentSize.call(this, 10, 10),
                            (this._blendFunc = cc.BlendFunc._alphaNonPremultiplied()),
                            (this._imageOffset = cc.p(0, 0)),
                            (this._numberOfLines = 0),
                            (this._lettersInfo = []),
                            (this._linesWidth = []),
                            (this._linesOffsetX = []),
                            (this._horizontalKernings = []),
                            (this._reusedRect = cc.rect(0, 0, 0, 0)),
                            i ? this.setFontAsset(e) : this.setFontFamily(r),
                            this.setString(this._string);
                    },
                    _resetBMFont: function () {
                        (this._imageOffset.x = this._imageOffset.y = 0),
                            (this._cascadeColorEnabled = !0),
                            (this._cascadeOpacityEnabled = !0),
                            (this._fontAtlas = null),
                            (this._config = null),
                            (this._numberOfLines = 0),
                            (this._lettersInfo.length = 0),
                            (this._linesWidth.length = 0),
                            (this._linesOffsetX.length = 0),
                            (this._textDesiredHeight = 0),
                            (this._letterOffsetY = 0),
                            (this._tailoredTopY = 0),
                            (this._tailoredBottomY = 0),
                            (this._bmfontScale = 1),
                            (this._horizontalKernings.length = 0),
                            (this._lineBreakWithoutSpaces = !1),
                            (this._reusedRect.x =
                                this._reusedRect.y =
                                this._reusedRect.width =
                                this._reusedRect.height =
                                    0),
                            (this._textureLoaded = !1),
                            this._spriteBatchNode &&
                                (this.removeChild(this._spriteBatchNode), (this._spriteBatchNode = null));
                    },
                    setHorizontalAlign: function (t) {
                        this._hAlign !== t && ((this._hAlign = t), this._notifyLabelSkinDirty());
                    },
                    getHorizontalAlign: function () {
                        return this._hAlign;
                    },
                    setVerticalAlign: function (t) {
                        this._vAlign !== t && ((this._vAlign = t), this._notifyLabelSkinDirty());
                    },
                    getVerticalAlign: function () {
                        return this._vAlign;
                    },
                    setString: function (t) {
                        'string' != typeof t && (t = '' + t),
                            this._string !== t && ((this._string = t), this._notifyLabelSkinDirty());
                    },
                    setMargin: function (t) {
                        this._margin !== t && ((this._margin = t), this._notifyLabelSkinDirty());
                    },
                    getString: function () {
                        return this._string;
                    },
                    getStringLength: function () {
                        return this._string.length;
                    },
                    enableWrapText: function (t) {
                        this._isWrapText !== t &&
                            this._overFlow !== _ccsg.Label.Overflow.RESIZE_HEIGHT &&
                            this._overFlow !== _ccsg.Label.Overflow.NONE &&
                            ((this._isWrapText = t), this._rescaleWithOriginalFontSize(), this._notifyLabelSkinDirty());
                    },
                    enableItalics: function (t) {
                        (this._isItalic = t), t ? this.setSkewX(12) : this.setSkewX(0);
                    },
                    enableBold: function (t) {
                        this._isBold !== t && ((this._isBold = t), this._notifyLabelSkinDirty());
                    },
                    enableUnderline: function (t) {
                        this._isUnderline !== t && ((this._isUnderline = t), this._notifyLabelSkinDirty());
                    },
                    isWrapTextEnabled: function () {
                        return this._isWrapText;
                    },
                    getFontName: function () {
                        return this._fontHandle;
                    },
                    setFontSize: function (t) {
                        this._fontSize !== t &&
                            ((this._fontSize = t), (this._drawFontsize = t), this._notifyLabelSkinDirty());
                    },
                    getFontSize: function () {
                        return this._fontSize;
                    },
                    isOutlined: function () {
                        return this._outlined;
                    },
                    setOutlined: function (t) {
                        this._outlined !== t && ((this._outlined = !!t), this._notifyLabelSkinDirty());
                    },
                    setFillColorGradientEnabled: function (t) {
                        this._gradientEnabled !== t && ((this._gradientEnabled = !!t), this._notifyLabelSkinDirty());
                    },
                    getFillColorGradientEnabled: function () {
                        return this._gradientEnabled;
                    },
                    setGradientStartColor: function (t) {
                        this._gradientStartColor !== t &&
                            ((this._gradientStartColor = t), this._notifyLabelSkinDirty());
                    },
                    getGradientStartColor: function () {
                        return this._gradientStartColor;
                    },
                    setGradientEndColor: function (t) {
                        this._gradientEndColor !== t && ((this._gradientEndColor = t), this._notifyLabelSkinDirty());
                    },
                    getGradientEndColor: function () {
                        return this._gradientEndColor;
                    },
                    setFillColorGradientDirection: function (t) {
                        (this._gradientDirection = t), this._notifyLabelSkinDirty();
                    },
                    getFillColorGradientDirection: function () {
                        return this._gradientDirection;
                    },
                    getOutlineColor: function () {
                        return this._outlineColor;
                    },
                    setOutlineColor: function (t) {
                        this._outlineColor !== t && ((this._outlineColor = cc.color(t)), this._notifyLabelSkinDirty());
                    },
                    setOutlineWidth: function (t) {
                        this._outlineWidth !== t && ((this._outlineWidth = t), this._notifyLabelSkinDirty());
                    },
                    getOutlineWidth: function () {
                        return this._outlineWidth;
                    },
                    _updateWrapText: function (t) {
                        t === _ccsg.Label.Overflow.RESIZE_HEIGHT && (this._isWrapText = !0),
                            t === _ccsg.Label.Overflow.NONE && (this._isWrapText = !1);
                    },
                    _setOverflowBMFont: function () {
                        this._labelType === _ccsg.Label.Type.BMFont &&
                            (this._overFlow === _ccsg.Label.Overflow.RESIZE_HEIGHT &&
                                this._setDimensions(this._labelDimensions.width, 0),
                            this._overFlow === _ccsg.Label.Overflow.NONE && this._setDimensions(0, 0),
                            this._rescaleWithOriginalFontSize());
                    },
                    setOverflow: function (t) {
                        this._overFlow !== t &&
                            ((this._overFlow = t),
                            this._updateWrapText(this._overFlow),
                            this._setOverflowBMFont(),
                            this._notifyLabelSkinDirty());
                    },
                    getOverflow: function () {
                        return this._overFlow;
                    },
                    setSpacingX: function (t) {
                        this._spacingX !== t && ((this._spacingX = t), this._notifyLabelSkinDirty());
                    },
                    setLineHeight: function (t) {
                        this._lineHeight !== t && ((this._lineHeight = t), this._notifyLabelSkinDirty());
                    },
                    setLineBreakWithoutSpace: function (t) {
                        this._lineBreakWithoutSpaces !== t &&
                            ((this._lineBreakWithoutSpaces = t), this._notifyLabelSkinDirty());
                    },
                    getSpacingX: function () {
                        return this._spacingX;
                    },
                    getLineHeight: function () {
                        return this._lineHeight;
                    },
                    getBMFontLineHeight: function () {
                        if (this._fontAtlas) return this._fontAtlas._lineHeight;
                    },
                    setFontFamily: function (t) {
                        this._resetBMFont(),
                            (this._fontHandle = t || 'Arial'),
                            (this._labelType = _ccsg.Label.Type.SystemFont),
                            (this._blendFunc = cc.BlendFunc._alphaPremultiplied()),
                            (this._renderCmd._needDraw = !0),
                            this._notifyLabelSkinDirty(),
                            this.emit('load');
                    },
                    setFontAsset: function (t) {
                        this._fontAsset = t;
                        var e = t instanceof cc.Font;
                        if (e) {
                            var i = e ? t.rawUrl : '',
                                n = cc.path.extname(i);
                            this._resetBMFont(),
                                '.ttf' === n
                                    ? ((this._labelType = _ccsg.Label.Type.TTF),
                                      (this._blendFunc = cc.BlendFunc._alphaPremultiplied()),
                                      (this._renderCmd._needDraw = !0),
                                      (this._fontHandle = this._loadTTFFont(i)))
                                    : t.spriteFrame &&
                                      ((this._labelType = _ccsg.Label.Type.BMFont),
                                      (this._blendFunc = cc.BlendFunc._alphaNonPremultiplied()),
                                      (this._renderCmd._needDraw = !1),
                                      this._initBMFontWithString(this._string, t)),
                                this._notifyLabelSkinDirty();
                        } else this.setFontFamily('');
                    },
                    _loadTTFFont: function (t) {
                        var e = this,
                            i = function () {
                                e._notifyLabelSkinDirty(), e.emit('load');
                            },
                            n = '';
                        return (n = cc.CustomFontLoader._getFontFamily(t)), cc.CustomFontLoader.loadTTF(t, i), n;
                    },
                    setContentSize: function (t, e) {
                        this._overFlow !== _ccsg.Label.Overflow.NONE && this._setDimensions(t, e);
                    },
                    setBlendFunc: function (t, e) {
                        var i = this._blendFunc;
                        void 0 === e ? ((i.src = t.src), (i.dst = t.dst)) : ((i.src = t), (i.dst = e));
                    },
                    getBlendFunc: function () {
                        return new cc.BlendFunc(this._blendFunc.src, this._blendFunc.dst);
                    },
                    _setupBMFontOverflowMetrics: function (t, e) {
                        this._overFlow === _ccsg.Label.Overflow.RESIZE_HEIGHT && (e = 0),
                            this._overFlow === _ccsg.Label.Overflow.NONE && ((t = 0), (e = 0)),
                            (this._labelWidth = t),
                            (this._labelHeight = e),
                            (this._labelDimensions.width = t),
                            (this._labelDimensions.height = e),
                            (this._maxLineWidth = t);
                    },
                    _updateLabel: function () {
                        if (this._labelType === _ccsg.Label.Type.BMFont) {
                            var t = this._contentSize,
                                e = t.width,
                                i = t.height;
                            this._setupBMFontOverflowMetrics(e, i), this._updateContent(), this.setColor(this.color);
                        } else
                            (this._labelType !== _ccsg.Label.Type.TTF &&
                                this._labelType !== _ccsg.Label.Type.SystemFont) ||
                                this._renderCmd._bakeLabel();
                    },
                    _notifyLabelSkinDirty: function () {
                        this._renderCmd.setDirtyFlag(
                            _ccsg.Node._dirtyFlags.textDirty | _ccsg.Node._dirtyFlags.contentDirty,
                        );
                    },
                    _createRenderCmd: function () {
                        return cc._renderType === cc.game.RENDER_TYPE_WEBGL
                            ? new _ccsg.Label.WebGLRenderCmd(this)
                            : new _ccsg.Label.CanvasRenderCmd(this);
                    },
                    getContentSize: function () {
                        return (
                            this._renderCmd._dirtyFlag & _ccsg.Node._dirtyFlags.textDirty &&
                                (this._updateLabel(),
                                (this._renderCmd._dirtyFlag &= ~_ccsg.Node._dirtyFlags.textDirty)),
                            _ccsg.Node.prototype.getContentSize.call(this)
                        );
                    },
                    _getWidth: function () {
                        return (
                            this._renderCmd._dirtyFlag & _ccsg.Node._dirtyFlags.textDirty &&
                                (this._updateLabel(),
                                (this._renderCmd._dirtyFlag &= ~_ccsg.Node._dirtyFlags.textDirty)),
                            _ccsg.Node.prototype._getWidth.call(this)
                        );
                    },
                    _getHeight: function () {
                        return (
                            this._renderCmd._dirtyFlag & _ccsg.Node._dirtyFlags.textDirty &&
                                (this._updateLabel(),
                                (this._renderCmd._dirtyFlag &= ~_ccsg.Node._dirtyFlags.textDirty)),
                            _ccsg.Node.prototype._getHeight.call(this)
                        );
                    },
                    _alignText: function () {
                        var t = !0;
                        do {
                            if (!this._spriteBatchNode) return !0;
                            if (
                                ((this._textDesiredHeight = 0),
                                (this._linesWidth = []),
                                this._lineBreakWithoutSpaces
                                    ? this._multilineTextWrapByChar()
                                    : this._multilineTextWrapByWord(),
                                this._computeAlignmentOffset(),
                                this._overFlow === _ccsg.Label.Overflow.SHRINK)
                            ) {
                                this.getFontSize() > 0 &&
                                    this._isVerticalClamp() &&
                                    this._shrinkLabelToContentSize(this._isVerticalClamp.bind(this));
                            }
                            if (!this._updateQuads()) {
                                (t = !1),
                                    this._overFlow === _ccsg.Label.Overflow.SHRINK &&
                                        this._shrinkLabelToContentSize(this._isHorizontalClamp.bind(this));
                                break;
                            }
                        } while (0);
                        return t;
                    },
                    _isHorizontalClamped: function (t, e) {
                        var i = this._linesWidth[e],
                            n = t > this._contentSize.width || t < 0;
                        return this._isWrapText ? i > this._contentSize.width && n : n;
                    },
                    _updateQuads: function () {
                        var t = !0;
                        this._spriteBatchNode.removeAllChildren();
                        for (var e = 0; e < this._string.length; ++e)
                            if (this._lettersInfo[e]._valid) {
                                var i = this._fontAtlas._letterDefinitions[this._lettersInfo[e]._char];
                                (this._reusedRect.height = i._height),
                                    (this._reusedRect.width = i._width),
                                    (this._reusedRect.x = i._u),
                                    (this._reusedRect.y = i._v);
                                var n = this._lettersInfo[e]._positionY + this._letterOffsetY;
                                if (this._labelHeight > 0) {
                                    if (n > this._tailoredTopY) {
                                        var r = n - this._tailoredTopY;
                                        (this._reusedRect.y += r), (this._reusedRect.height -= r), (n -= r);
                                    }
                                    n - i._height * this._bmfontScale < this._tailoredBottomY &&
                                        (this._reusedRect.height =
                                            n < this._tailoredBottomY ? 0 : n - this._tailoredBottomY);
                                }
                                var s = this._lettersInfo[e]._lineIndex,
                                    o =
                                        this._lettersInfo[e]._positionX +
                                        (i._width / 2) * this._bmfontScale +
                                        this._linesOffsetX[s];
                                if (this._labelWidth > 0 && this._isHorizontalClamped(o, s))
                                    if (this._overFlow === _ccsg.Label.Overflow.CLAMP) this._reusedRect.width = 0;
                                    else if (this._overFlow === _ccsg.Label.Overflow.SHRINK) {
                                        if (this._contentSize.width > i._width) {
                                            t = !1;
                                            break;
                                        }
                                        this._reusedRect.width = 0;
                                    }
                                if (this._reusedRect.height > 0 && this._reusedRect.width > 0) {
                                    var a = this.getChildByTag(e),
                                        c = this._spriteBatchNode._texture,
                                        h = this._spriteFrame,
                                        l = this._spriteFrame.isRotated(),
                                        u = h._originalSize,
                                        d = h._rect,
                                        _ = h._offset,
                                        f = _.x + (u.width - d.width) / 2,
                                        p = _.y - (u.height - d.height) / 2;
                                    if (l) {
                                        var g = this._reusedRect.x;
                                        (this._reusedRect.x =
                                            d.x + d.height - this._reusedRect.y - this._reusedRect.height - p),
                                            (this._reusedRect.y = g + d.y - f),
                                            this._reusedRect.y < 0 &&
                                                (this._reusedRect.height = this._reusedRect.height + p);
                                    } else (this._reusedRect.x += d.x - f), (this._reusedRect.y += d.y + p);
                                    a
                                        ? a.setTextureRect(this._reusedRect, l)
                                        : ((a = new _ccsg.Sprite()).initWithTexture(c, this._reusedRect, l),
                                          a.setAnchorPoint(cc.p(0, 1)));
                                    var m =
                                        this._lettersInfo[e]._positionX +
                                        this._linesOffsetX[this._lettersInfo[e]._lineIndex];
                                    a.setPosition(m, n),
                                        this._updateLetterSpriteScale(a),
                                        this._spriteBatchNode.addChild(a);
                                }
                            }
                        return t;
                    },
                    _updateLetterSpriteScale: function (t) {
                        this._labelType === _ccsg.Label.Type.BMFont &&
                            this._fontSize > 0 &&
                            t.setScale(this._bmfontScale);
                    },
                    _recordPlaceholderInfo: function (t, e) {
                        if (t >= this._lettersInfo.length) {
                            var i = new o();
                            this._lettersInfo.push(i);
                        }
                        (this._lettersInfo[t]._char = e), (this._lettersInfo[t]._valid = !1);
                    },
                    _recordLetterInfo: function (t, e, i, n) {
                        if (i >= this._lettersInfo.length) {
                            var r = new o();
                            this._lettersInfo.push(r);
                        }
                        (e = e.charCodeAt(0)),
                            (this._lettersInfo[i]._lineIndex = n),
                            (this._lettersInfo[i]._char = e),
                            (this._lettersInfo[i]._valid = this._fontAtlas._letterDefinitions[e]._validDefinition),
                            (this._lettersInfo[i]._positionX = t.x),
                            (this._lettersInfo[i]._positionY = t.y);
                    },
                    _setDimensions: function (t, e) {
                        var i = 'number' == typeof t.width ? t.width : t,
                            n = 'number' == typeof t.height ? t.height : e,
                            r = this.getContentSize();
                        _ccsg.Node.prototype.setContentSize.call(this, t, e),
                            (n === r.height && i === r.width) ||
                                (this._setupBMFontOverflowMetrics(i, n),
                                this._drawFontsize > 0 && this._restoreFontSize(),
                                this._notifyLabelSkinDirty());
                    },
                    _restoreFontSize: function () {
                        this._fontSize = this._drawFontsize;
                    },
                    _multilineTextWrap: function (t) {
                        var e = this.getStringLength(),
                            i = 0,
                            n = 0,
                            r = 0,
                            s = 0,
                            o = 0,
                            a = this._lineSpacing,
                            c = 0,
                            h = 0,
                            l = null,
                            u = cc.p(0, 0);
                        this._updateBMFontScale();
                        for (var d = 0; d < e; ) {
                            var _ = this._string.charAt(d);
                            if ('\n' !== _) {
                                for (
                                    var f = t(this._string, d, e), p = c, g = h, m = o, v = n, y = !1, C = 0;
                                    C < f;
                                    ++C
                                ) {
                                    var T = d + C;
                                    if ('\r' !== (_ = this._string.charAt(T)))
                                        if ((l = this._fontAtlas.getLetterDefinitionForChar(_))) {
                                            var E = v + l._offsetX * this._bmfontScale;
                                            if (
                                                this._isWrapText &&
                                                this._maxLineWidth > 0 &&
                                                n > 0 &&
                                                E + l._width * this._bmfontScale > this._maxLineWidth &&
                                                !cc.TextUtils.isUnicodeSpace(_)
                                            ) {
                                                this._linesWidth.push(o),
                                                    (o = 0),
                                                    i++,
                                                    (n = 0),
                                                    (r -= this._lineHeight * this._bmfontScale + a),
                                                    (y = !0);
                                                break;
                                            }
                                            (u.x = E),
                                                (u.y = r - l._offsetY * this._bmfontScale),
                                                this._recordLetterInfo(u, _, T, i),
                                                T + 1 < this._horizontalKernings.length &&
                                                    T < e - 1 &&
                                                    (v += this._horizontalKernings[T + 1]),
                                                (v += l._xAdvance * this._bmfontScale + this._spacingX),
                                                (m = u.x + l._width * this._bmfontScale),
                                                p < u.y && (p = u.y),
                                                g > u.y - l._height * this._bmfontScale &&
                                                    (g = u.y - l._height * this._bmfontScale);
                                        } else
                                            this._recordPlaceholderInfo(T, _),
                                                console.log(
                                                    "Can't find letter definition in texture atlas " +
                                                        this._config.atlasName +
                                                        ' for letter:' +
                                                        _,
                                                );
                                    else this._recordPlaceholderInfo(T, _);
                                }
                                y || ((n = v), (o = m), c < p && (c = p), h > g && (h = g), s < o && (s = o), (d += f));
                            } else
                                this._linesWidth.push(o),
                                    (o = 0),
                                    i++,
                                    (n = 0),
                                    (r -= this._lineHeight * this._bmfontScale + a),
                                    this._recordPlaceholderInfo(d, _),
                                    d++;
                        }
                        this._linesWidth.push(o),
                            (this._numberOfLines = i + 1),
                            (this._textDesiredHeight = this._numberOfLines * this._lineHeight * this._bmfontScale),
                            this._numberOfLines > 1 &&
                                (this._textDesiredHeight += (this._numberOfLines - 1) * this._lineSpacing);
                        var x = cc.size(this._labelWidth, this._labelHeight);
                        return (
                            this._labelWidth <= 0 && (x.width = parseFloat(s.toFixed(2))),
                            this._labelHeight <= 0 && (x.height = parseFloat(this._textDesiredHeight.toFixed(2))),
                            _ccsg.Node.prototype.setContentSize.call(this, x),
                            (this._tailoredTopY = x.height),
                            (this._tailoredBottomY = 0),
                            c > 0 && (this._tailoredTopY = x.height + c),
                            h < -this._textDesiredHeight && (this._tailoredBottomY = this._textDesiredHeight + h),
                            !0
                        );
                    },
                    _multilineTextWrapByWord: function () {
                        return this._multilineTextWrap(this._getFirstWordLen.bind(this));
                    },
                    _multilineTextWrapByChar: function () {
                        return this._multilineTextWrap(this._getFirstCharLen.bind(this));
                    },
                    _isVerticalClamp: function () {
                        return this._textDesiredHeight > this._contentSize.height;
                    },
                    _isHorizontalClamp: function () {
                        for (var t = !1, e = 0; e < this.getStringLength(); ++e)
                            if (this._lettersInfo[e]._valid) {
                                var i = this._fontAtlas._letterDefinitions[this._lettersInfo[e]._char],
                                    n = this._lettersInfo[e]._positionX + (i._width / 2) * this._bmfontScale,
                                    r = this._lettersInfo[e]._lineIndex;
                                if (this._labelWidth > 0)
                                    if (this._isWrapText) {
                                        if (
                                            this._linesWidth[r] > this._contentSize.width &&
                                            (n > this._contentSize.width || n < 0)
                                        ) {
                                            t = !0;
                                            break;
                                        }
                                    } else if (n > this._contentSize.width) {
                                        t = !0;
                                        break;
                                    }
                            }
                        return t;
                    },
                    _shrinkLabelToContentSize: function (t) {
                        for (
                            var e = this.getFontSize(),
                                i = 0,
                                n = this._fontAtlas.cloneLetterDefinition(),
                                r = this._lineHeight,
                                s = !0;
                            t();

                        ) {
                            var o = e - ++i;
                            if (((s = !1), o <= 0)) break;
                            var a = o / e;
                            this._fontAtlas.assignLetterDefinitions(n),
                                this._fontAtlas.scaleFontLetterDefinition(a),
                                (this._lineHeight = r * a),
                                this._lineBreakWithoutSpaces
                                    ? this._multilineTextWrapByChar()
                                    : this._multilineTextWrapByWord(),
                                this._computeAlignmentOffset();
                        }
                        (this._lineHeight = r),
                            this._fontAtlas.assignLetterDefinitions(n),
                            s || (e - i >= 0 && this._scaleFontSizeDown(e - i));
                    },
                    _scaleFontSizeDown: function (t) {
                        var e = !0;
                        this._labelType === _ccsg.Label.Type.BMFont &&
                            (t || ((t = 0.1), (e = !1)), (this._fontSize = t), e && this._updateContent());
                    },
                    _updateContent: function () {
                        this._fontAtlas && (this._computeHorizontalKerningForText(this._string), this._alignText());
                    },
                    _computeAlignmentOffset: function () {
                        switch (((this._linesOffsetX = []), this._hAlign)) {
                            case cc.TextAlignment.LEFT:
                                for (var t = 0; t < this._numberOfLines; ++t) this._linesOffsetX.push(0);
                                break;
                            case cc.TextAlignment.CENTER:
                                this._linesWidth.forEach(
                                    function (t) {
                                        this._linesOffsetX.push((this._contentSize.width - t) / 2);
                                    }.bind(this),
                                );
                                break;
                            case cc.TextAlignment.RIGHT:
                                this._linesWidth.forEach(
                                    function (t) {
                                        this._linesOffsetX.push(this._contentSize.width - t);
                                    }.bind(this),
                                );
                        }
                        switch (this._vAlign) {
                            case cc.VerticalTextAlignment.TOP:
                                this._letterOffsetY = this._contentSize.height;
                                break;
                            case cc.VerticalTextAlignment.CENTER:
                                this._letterOffsetY = (this._contentSize.height + this._textDesiredHeight) / 2;
                                break;
                            case cc.VerticalTextAlignment.BOTTOM:
                                this._letterOffsetY = this._textDesiredHeight;
                        }
                    },
                    _getFirstCharLen: function () {
                        return 1;
                    },
                    _getFirstWordLen: function (t, e, i) {
                        var n = t.charAt(e);
                        if (cc.TextUtils.isUnicodeCJK(n) || '\n' === n || cc.TextUtils.isUnicodeSpace(n)) return 1;
                        var r = 1;
                        if (!(s = this._fontAtlas.getLetterDefinitionForChar(n))) return r;
                        for (
                            var s, o = s._xAdvance * this._bmfontScale + this._spacingX, a = e + 1;
                            a < i && ((n = t.charAt(a)), (s = this._fontAtlas.getLetterDefinitionForChar(n)));
                            ++a
                        ) {
                            if (
                                o + s._offsetX * this._bmfontScale + s._width * this._bmfontScale >
                                    this._maxLineWidth &&
                                !cc.TextUtils.isUnicodeSpace(n) &&
                                this._maxLineWidth > 0
                            )
                                return r;
                            if (
                                ((o += s._xAdvance * this._bmfontScale + this._spacingX),
                                '\n' === n || cc.TextUtils.isUnicodeSpace(n) || cc.TextUtils.isUnicodeCJK(n))
                            )
                                break;
                            r++;
                        }
                        return r;
                    },
                    _updateBMFontScale: function () {
                        if (this._labelType === _ccsg.Label.Type.BMFont) {
                            var t = this._fontAtlas._fontSize;
                            this._bmfontScale = this._fontSize / t;
                        } else this._bmfontScale = 1;
                    },
                    _initBMFontWithString: function (t, e) {
                        if (this._config) return cc.logID(4002), !1;
                        (this._string = t), this._setBMFontFile(e);
                    },
                    _createSpriteBatchNode: function (t) {
                        (this._spriteBatchNode = new cc.SpriteBatchNode(t, this._string.length)),
                            this._spriteBatchNode.setCascadeColorEnabled(!0),
                            this._spriteBatchNode.setCascadeOpacityEnabled(!0),
                            this.addChild(this._spriteBatchNode),
                            this._updateContent(),
                            this.setColor(this.color);
                    },
                    _createFontChars: function () {
                        if (this._config) {
                            (this._fontAtlas = new cc.FontAtlas(this._config)),
                                this._lineHeight || (this._lineHeight = this._fontAtlas._lineHeight);
                            var t = this._config.fontDefDictionary;
                            for (var e in t) {
                                var i = new s(),
                                    n = t[e].rect;
                                (i._offsetX = parseInt(t[e].xOffset)),
                                    (i._offsetY = parseInt(t[e].yOffset)),
                                    (i._width = parseInt(n.width)),
                                    (i._height = parseInt(n.height)),
                                    (i._u = parseInt(n.x) + this._imageOffset.x),
                                    (i._v = parseInt(n.y) + this._imageOffset.y),
                                    (i._textureID = 0),
                                    (i._validDefinition = !0),
                                    (i._xAdvance = parseInt(t[e].xAdvance)),
                                    this._fontAtlas.addLetterDefinitions(e, i);
                            }
                        }
                    },
                    _rescaleWithOriginalFontSize: function () {
                        var t = this.getFontSize();
                        this._drawFontsize - t >= 1 &&
                            this._overFlow === _ccsg.Label.Overflow.SHRINK &&
                            (this._labelType === _ccsg.Label.Type.BMFont
                                ? this._scaleFontSizeDown(this._drawFontsize)
                                : (this._fontSize = this._drawFontsize));
                    },
                    _computeHorizontalKerningForText: function () {
                        for (var t = this.getStringLength(), e = this._config.kerningDict, i = -1, n = 0; n < t; ++n) {
                            var r = this._string.charCodeAt(n),
                                s = e[(i << 16) | (65535 & r)] || 0;
                            (this._horizontalKernings[n] = n < t - 1 ? s : 0), (i = r);
                        }
                    },
                    _setBMFontFile: function (t) {
                        if (t && this._labelType === _ccsg.Label.Type.BMFont) {
                            var e = this;
                            this._resetBMFont();
                            var i = this._fontAsset._fntConfig;
                            i ? (e._config = i) : cc.warn('Invalid BMFont Assets!');
                            var n = t.spriteFrame;
                            e._createFontChars(), (e._spriteFrame = n);
                            var r = function () {
                                var t = n.getTexture();
                                (e._textureLoaded = t.loaded), e._createSpriteBatchNode(t), e.emit('load');
                            };
                            n.textureLoaded() ? r() : (n.once('load', r), n.ensureLoadTexture());
                        }
                    },
                })),
                    (_ccsg.Label.pool = new r.Pool(function (t) {
                        return (
                            t instanceof _ccsg.Label &&
                            ((t._string = ''),
                            (t._fontAsset = null),
                            (t._fontHandle = ''),
                            (t._labelType = 0),
                            t._resetBMFont(),
                            !0)
                        );
                    }, 10)),
                    (_ccsg.Label.pool.get = function (t, e) {
                        var i = this._get();
                        if (i) {
                            var n = e instanceof cc.Font,
                                r = n ? e.rawUrl : '';
                            return (
                                (i._fontHandle = r),
                                'string' != typeof t && (t = '' + t),
                                (i._string = t),
                                (i._position.x = 0),
                                (i._position.y = 0),
                                i.setAnchorPoint(0.5, 0.5),
                                _ccsg.Node.prototype.setContentSize.call(i, 10, 10),
                                n ? i.setFontAsset(e) : i.setFontFamily('Arial'),
                                i.setString(t),
                                i.setHorizontalAlign(cc.TextAlignment.LEFT),
                                i.setVerticalAlign(cc.VerticalTextAlignment.TOP),
                                i.setFontSize(40),
                                i.setOverflow(0),
                                i.enableWrapText(!0),
                                i.setVisible(!0),
                                i.setLineHeight(40),
                                i.setOutlined(!1),
                                i.enableBold(!1),
                                i.enableItalics(!1),
                                i.enableUnderline(!1),
                                i
                            );
                        }
                        return new _ccsg.Label(t || '', e);
                    });
                var a = _ccsg.Label.prototype;
                cc.js.addon(a, n.prototype),
                    (_ccsg.Label.Type = cc.Enum({
                        TTF: 0,
                        BMFont: 1,
                        SystemFont: 2,
                    })),
                    (_ccsg.Label.Overflow = cc.Enum({
                        NONE: 0,
                        CLAMP: 1,
                        SHRINK: 2,
                        RESIZE_HEIGHT: 3,
                    }));
                var c = _ccsg.Label.prototype;
                Object.defineProperty(c, 'width', {
                    get: c._getWidth,
                    set: _ccsg.Node.prototype._setWidth,
                }),
                    Object.defineProperty(c, 'height', {
                        get: c._getHeight,
                        set: _ccsg.Node.prototype._setHeight,
                    });
            },
            {
                '../event/event-target': 97,
                '../platform/js': 156,
                './CCTextUtils': 114,
            },
        ],
        112: [
            function (t, e, i) {
                (function () {
                    _ccsg.Label.TTFLabelBaker = function () {};
                    var t = (_ccsg.Label.TTFLabelBaker.prototype = Object.create(Object.prototype));
                    (t.updateStatus = function () {
                        var t = _ccsg.Node._dirtyFlags,
                            e = this._dirtyFlag,
                            i = e & t.colorDirty,
                            n = e & t.opacityDirty;
                        i && this._updateDisplayColor(),
                            n &&
                                (this._updateDisplayOpacity(),
                                this._notifyRegionStatus &&
                                    this._notifyRegionStatus(_ccsg.Node.CanvasRenderCmd.RegionStatus.Dirty)),
                            e & t.contentDirty &&
                                (this._notifyRegionStatus &&
                                    this._notifyRegionStatus(_ccsg.Node.CanvasRenderCmd.RegionStatus.Dirty),
                                (this._dirtyFlag &= ~t.contentDirty)),
                            (i || e & t.textDirty) &&
                                (this._notifyRegionStatus &&
                                    this._notifyRegionStatus(_ccsg.Node.CanvasRenderCmd.RegionStatus.Dirty),
                                this._rebuildLabelSkin()),
                            this._dirtyFlag & t.transformDirty &&
                                (this.transform(this.getParentRenderCmd(), !0), (this._dirtyFlag &= ~t.transformDirty));
                    }),
                        (t._syncStatus = function (t) {
                            var e = _ccsg.Node._dirtyFlags,
                                i = this._dirtyFlag,
                                n = t ? t._node : null;
                            n && n._cascadeColorEnabled && t._dirtyFlag & e.colorDirty && (i |= e.colorDirty),
                                n && n._cascadeOpacityEnabled && t._dirtyFlag & e.opacityDirty && (i |= e.opacityDirty),
                                t && t._dirtyFlag & e.transformDirty && (i |= e.transformDirty);
                            var r = i & e.colorDirty,
                                s = i & e.opacityDirty;
                            (this._dirtyFlag = i),
                                r && this._syncDisplayColor(),
                                s && this._syncDisplayOpacity(),
                                (r || s || this._dirtyFlag & e.textDirty) && this._rebuildLabelSkin(),
                                this._dirtyFlag & e.transformDirty && this.transform(t);
                        }),
                        (t._getLineHeight = function () {
                            var t = this._node.getLineHeight(),
                                e = this._node;
                            return 0 | (t = 0 === t ? e._fontSize : (t * e._fontSize) / this._drawFontsize);
                        }),
                        (t._constructFontDesc = function () {
                            var t = this._node,
                                e = t._fontSize.toString() + 'px ';
                            return (
                                (e += 0 === t._fontHandle.length ? 'serif' : t._fontHandle),
                                t._isBold && (e = 'bold ' + e),
                                e
                            );
                        }),
                        (t._measureText = function (t) {
                            return function (e) {
                                return t.measureText(e).width;
                            };
                        }),
                        (t._calculateLabelFont = function () {
                            var t = this._node,
                                e = t._string.split('\n');
                            t._fontSize = t._drawFontsize;
                            var i = this._constructFontDesc();
                            this._labelContext.font = i;
                            var n = this._calculateParagraphLength(e, this._labelContext);
                            if (_ccsg.Label.Overflow.SHRINK === t._overFlow) {
                                this._splitedStrings = e;
                                var r = 0,
                                    s = 0,
                                    o = 0;
                                if (t._isWrapText) {
                                    var a = this._canvasSize.width - 2 * this._getMargin(),
                                        c = this._canvasSize.height - 2 * this._getMargin();
                                    if (a < 0 || c < 0)
                                        return (i = this._constructFontDesc()), (this._labelContext.font = i), i;
                                    (s = c + 1), (o = a + 1);
                                    for (var h = this._drawFontsize + 1, l = '', u = !0, d = 0 | h; s > c || o > a; ) {
                                        if ((u ? (h = (d / 2) | 0) : (d = h = d - 1), h <= 0)) {
                                            cc.logID(4003);
                                            break;
                                        }
                                        for (
                                            t._fontSize = h,
                                                i = this._constructFontDesc(),
                                                this._labelContext.font = i,
                                                this._splitedStrings = [],
                                                s = 0,
                                                r = 0;
                                            r < e.length;
                                            ++r
                                        ) {
                                            var _ = 0,
                                                f = this._labelContext.measureText(e[r]).width;
                                            for (
                                                l = cc.TextUtils.fragmentText(
                                                    e[r],
                                                    f,
                                                    a,
                                                    this._measureText(this._labelContext),
                                                );
                                                _ < l.length;

                                            ) {
                                                (o = this._labelContext.measureText(l[_]).width),
                                                    (s += this._getLineHeight()),
                                                    ++_;
                                            }
                                            this._splitedStrings = this._splitedStrings.concat(l);
                                        }
                                        u && (s > c ? (d = 0 | h) : ((u = !1), (s = c + 1)));
                                    }
                                } else {
                                    for (s = e.length * this._getLineHeight(), r = 0; r < e.length; ++r)
                                        o < n[r] && (o = n[r]);
                                    var p = (this._canvasSize.width - 2 * this._getMargin()) / o,
                                        g = this._canvasSize.height / s;
                                    (t._fontSize = (this._drawFontsize * Math.min(1, p, g)) | 0),
                                        (i = this._constructFontDesc()),
                                        (this._labelContext.font = i);
                                }
                            }
                            return i;
                        }),
                        (t._getMargin = function () {
                            return (this._node && this._node._margin) || 0;
                        }),
                        (t._calculateParagraphLength = function (t, e) {
                            for (var i = [], n = 0; n < t.length; ++n) {
                                var r = e.measureText(t[n]);
                                i.push(r.width);
                            }
                            return i;
                        }),
                        (t._calculateCanvasSize = function () {
                            var t = this._node,
                                e = t._contentSize.width,
                                i = t._contentSize.height;
                            return e <= 0 && (e = 1), i <= 0 && (i = 1), cc.size(e, i);
                        }),
                        (t._calculateSplitedStrings = function () {
                            var t,
                                e = this._node,
                                i = e._string.split('\n');
                            if (e._isWrapText) {
                                this._splitedStrings = [];
                                var n = this._canvasSize.width - 2 * this._getMargin();
                                for (t = 0; t < i.length; ++t) {
                                    var r = this._labelContext.measureText(i[t]).width,
                                        s = cc.TextUtils.fragmentText(
                                            i[t],
                                            r,
                                            n,
                                            this._measureText(this._labelContext),
                                        );
                                    this._splitedStrings = this._splitedStrings.concat(s);
                                }
                            } else this._splitedStrings = i;
                        }),
                        (t._updateLabelDimensions = function () {
                            var t,
                                e = this._node,
                                i = e._string.split('\n'),
                                n = this._labelContext;
                            if (_ccsg.Label.Overflow.RESIZE_HEIGHT === e._overFlow)
                                (this._canvasSize.height = this._splitedStrings.length * this._getLineHeight()),
                                    _ccsg.Node.prototype.setContentSize.call(e, this._canvasSize);
                            else if (_ccsg.Label.Overflow.NONE === e._overFlow) {
                                this._splitedStrings = i;
                                var r = 0,
                                    s = 0;
                                for (t = 0; t < i.length; ++t) {
                                    var o = n.measureText(i[t]).width;
                                    r = r > o ? r : o;
                                }
                                (s = this._splitedStrings.length * this._getLineHeight()),
                                    (this._canvasSize.width = Math.round(r.toFixed(2)) + 2 * this._getMargin()),
                                    (this._canvasSize.height = Math.round(s.toFixed(2))),
                                    e._isItalic && (this._canvasSize.width += e._drawFontsize * Math.tan(0.20943951)),
                                    _ccsg.Node.prototype.setContentSize.call(e, this._canvasSize);
                            }
                            (this._labelCanvas.width = this._canvasSize.width),
                                (this._labelCanvas.height = this._canvasSize.height);
                        }),
                        (t._calculateFillTextStartPosition = function () {
                            var t,
                                e,
                                i = this._node,
                                n = this._getLineHeight(),
                                r = this._splitedStrings.length;
                            return (
                                (t =
                                    cc.TextAlignment.RIGHT === i._hAlign
                                        ? this._canvasSize.width - this._getMargin()
                                        : cc.TextAlignment.CENTER === i._hAlign
                                        ? this._canvasSize.width / 2
                                        : 0 + this._getMargin()),
                                (e =
                                    cc.VerticalTextAlignment.TOP === i._vAlign
                                        ? 0
                                        : cc.VerticalTextAlignment.CENTER === i._vAlign
                                        ? this._canvasSize.height / 2 - (n * (r - 1)) / 2
                                        : this._canvasSize.height - n * (r - 1)),
                                cc.p(t, e)
                            );
                        }),
                        (t._calculateTextBaseline = function () {
                            var t,
                                e,
                                i = this._node;
                            (t =
                                cc.TextAlignment.RIGHT === i._hAlign
                                    ? 'right'
                                    : cc.TextAlignment.CENTER === i._hAlign
                                    ? 'center'
                                    : 'left'),
                                (this._labelContext.textAlign = t),
                                (e =
                                    cc.VerticalTextAlignment.TOP === i._vAlign
                                        ? 'top'
                                        : cc.VerticalTextAlignment.CENTER === i._vAlign
                                        ? 'middle'
                                        : 'bottom'),
                                (this._labelContext.textBaseline = e);
                        }),
                        (t._bakeLabel = function () {
                            var t = this._node;
                            (this._drawFontsize = t._drawFontsize),
                                (this._canvasSize = this._calculateCanvasSize()),
                                (this._fontDesc = this._calculateLabelFont()),
                                this._calculateSplitedStrings(),
                                this._updateLabelDimensions(),
                                this._calculateTextBaseline(),
                                this._updateTexture();
                        }),
                        (t._calculateUnderlineStartPosition = function () {
                            var t,
                                e,
                                i = this._node,
                                n = this._getLineHeight(),
                                r = this._splitedStrings.length;
                            return (
                                (t = 0 + this._getMargin()),
                                (e =
                                    cc.VerticalTextAlignment.TOP === i._vAlign
                                        ? i._fontSize
                                        : cc.VerticalTextAlignment.CENTER === i._vAlign
                                        ? this._canvasSize.height / 2 - (n * (r - 1)) / 2 + i._fontSize / 2
                                        : this._canvasSize.height - n * (r - 1)),
                                cc.p(t, e)
                            );
                        }),
                        (t._updateTexture = function () {
                            this._labelContext.clearRect(0, 0, this._canvasSize.width, this._canvasSize.height),
                                (this._labelContext.font = this._fontDesc);
                            var t = this._calculateFillTextStartPosition(),
                                e = this._getLineHeight();
                            this._labelContext.lineJoin = 'round';
                            var i = this._displayedColor;
                            this._labelContext.fillStyle = 'rgb(' + i.r + ',' + i.g + ',' + i.b + ')';
                            for (var n, r = 0; r < this._splitedStrings.length; ++r) {
                                if (this._node.isOutlined()) {
                                    var s = this._node.getOutlineColor() || cc.color(255, 255, 255, 255);
                                    (this._labelContext.globalCompositeOperation = 'source-over'),
                                        (this._labelContext.strokeStyle = 'rgb(' + s.r + ',' + s.g + ',' + s.b + ')'),
                                        (this._labelContext.lineWidth = 2 * this._node.getOutlineWidth()),
                                        this._labelContext.strokeText(this._splitedStrings[r], t.x, t.y + r * e);
                                }
                                if (this._node.getFillColorGradientEnabled()) {
                                    var o = this._node.getGradientStartColor() || cc.color(255, 255, 255, 255),
                                        a = this._node.getGradientEndColor() || cc.color(255, 255, 255, 255),
                                        c = this._getGradientArgs(),
                                        h = this._labelContext.createLinearGradient(c.left, c.top, c.right, c.bottom);
                                    h.addColorStop(0, cc.colorToHex(o)),
                                        h.addColorStop(1, cc.colorToHex(a)),
                                        (this._labelContext.fillStyle = h);
                                }
                                this._labelContext.fillText(this._splitedStrings[r], t.x, t.y + r * e),
                                    this._node._isUnderline &&
                                        ((n = this._calculateUnderlineStartPosition()),
                                        this._labelContext.save(),
                                        this._labelContext.beginPath(),
                                        (this._labelContext.lineWidth = this._node._fontSize / 8),
                                        (this._labelContext.strokeStyle = 'rgb(' + i.r + ',' + i.g + ',' + i.b + ')'),
                                        this._labelContext.moveTo(n.x, n.y + r * e - 1),
                                        this._labelContext.lineTo(n.x + this._labelCanvas.width, n.y + r * e - 1),
                                        this._labelContext.stroke(),
                                        this._labelContext.restore());
                            }
                            (this._texture.loaded = !1),
                                (this._texture._image = this._labelCanvas),
                                this._texture.handleLoadedTexture(!0);
                        }),
                        (t._getGradientArgs = function () {
                            (this._gradientArgument = {}),
                                (this._gradientArgument.left = 0),
                                (this._gradientArgument.top = 0);
                            var t = this._node._contentSize;
                            switch (this._node.getFillColorGradientDirection()) {
                                case 0:
                                    (this._gradientArgument.right = t.width), (this._gradientArgument.bottom = 0);
                                    break;
                                case 1:
                                    (this._gradientArgument.right = 0), (this._gradientArgument.bottom = t.height);
                                    break;
                                case 2:
                                    (this._gradientArgument.right = t.width),
                                        (this._gradientArgument.bottom = t.height);
                            }
                            return this._gradientArgument;
                        }),
                        (t._rebuildLabelSkin = function () {
                            this._dirtyFlag &= ~_ccsg.Node._dirtyFlags.textDirty;
                            this._node._updateLabel();
                        });
                })(),
                    (function () {
                        _ccsg.Label.CanvasRenderCmd = function (t) {
                            this._rootCtor(t),
                                (this._needDraw = !0),
                                (this._texture = new cc.Texture2D()),
                                (this._labelCanvas = document.createElement('canvas')),
                                (this._labelCanvas.width = 1),
                                (this._labelCanvas.height = 1),
                                (this._labelContext = this._labelCanvas.getContext('2d')),
                                this._texture.initWithElement(this._labelCanvas),
                                (this._splitedStrings = null);
                        };
                        var t = (_ccsg.Label.CanvasRenderCmd.prototype = Object.create(
                            _ccsg.Node.CanvasRenderCmd.prototype,
                        ));
                        cc.js.mixin(t, _ccsg.Label.TTFLabelBaker.prototype),
                            (t.constructor = _ccsg.Label.CanvasRenderCmd),
                            (t._doCulling = function () {
                                var t = cc.visibleRect,
                                    e = this._currentRegion,
                                    i = e._minX,
                                    n = e._maxX,
                                    r = e._minY,
                                    s = e._maxY,
                                    o = t.left.x,
                                    a = t.right.x,
                                    c = t.top.y,
                                    h = t.bottom.y;
                                this._needDraw = !(n < o || i > a || s < h || r > c);
                            }),
                            (t.rendering = function (t, e, i) {
                                var n = this._node;
                                if (
                                    n._labelType === _ccsg.Label.Type.TTF ||
                                    n._labelType === _ccsg.Label.Type.SystemFont
                                ) {
                                    var r = this._displayedOpacity,
                                        s = r / 255;
                                    if (0 === r) return;
                                    var o = t || cc._renderContext,
                                        a = o.getContext();
                                    if (
                                        (o.setTransform(this._worldTransform, e, i),
                                        o.setCompositeOperation(
                                            _ccsg.Node.CanvasRenderCmd._getCompositeOperationByBlendFunc(n._blendFunc),
                                        ),
                                        o.setGlobalAlpha(s),
                                        this._texture)
                                    ) {
                                        var c, h, l, u, d;
                                        0,
                                            (l = -this._node._contentSize.height),
                                            (u = this._node._contentSize.width),
                                            (d = this._node._contentSize.height);
                                        0, 0, (c = this._texture.getPixelWidth()), (h = this._texture.getPixelHeight());
                                        var _ = this._texture._image;
                                        '' !== this._texture._pattern
                                            ? (o.setFillStyle(a.createPattern(_, this._texture._pattern)),
                                              a.fillRect(0, l, u, d))
                                            : 0 !== c &&
                                              0 !== h &&
                                              0 !== u &&
                                              0 !== d &&
                                              a.drawImage(_, 0, 0, c, h, 0, l, u, d);
                                    }
                                    cc.g_NumberOfDraws = cc.g_NumberOfDraws + 1;
                                }
                            });
                    })();
            },
            {},
        ],
        113: [
            function (t, e, i) {
                var n;
                _ccsg.Label.WebGLRenderCmd = function (t) {
                    this._rootCtor(t),
                        (this._needDraw = !0),
                        (this._texture = new cc.Texture2D()),
                        (n = n || document.createElement('canvas')),
                        (this._labelCanvas = n),
                        this._texture.initWithElement(this._labelCanvas),
                        (this._labelContext = this._labelCanvas.getContext('2d')),
                        (this._labelCanvas.width = 1),
                        (this._labelCanvas.height = 1),
                        (this._splitedStrings = null),
                        (this._drawFontsize = 0),
                        (this._vertices = [
                            {
                                x: 0,
                                y: 0,
                                u: 0,
                                v: 0,
                            },
                            {
                                x: 0,
                                y: 0,
                                u: 0,
                                v: 1,
                            },
                            {
                                x: 0,
                                y: 0,
                                u: 1,
                                v: 0,
                            },
                            {
                                x: 0,
                                y: 0,
                                u: 1,
                                v: 1,
                            },
                        ]),
                        (this._color = new Uint32Array(1)),
                        (this._dirty = !1),
                        (this._shaderProgram = cc.shaderCache.programForKey(
                            cc.macro.SHADER_SPRITE_POSITION_TEXTURECOLOR,
                        ));
                };
                var r = (_ccsg.Label.WebGLRenderCmd.prototype = Object.create(_ccsg.Node.WebGLRenderCmd.prototype));
                cc.js.mixin(r, _ccsg.Label.TTFLabelBaker.prototype),
                    (r.constructor = _ccsg.Label.WebGLRenderCmd),
                    (r.updateTransform = function (t) {
                        this.originUpdateTransform(t);
                        this._node;
                        var e = this._node.width,
                            i = this._node.height,
                            n = this._worldTransform,
                            r = this._vertices;
                        (r[0].x = 0 * n.a + i * n.c + n.tx),
                            (r[0].y = 0 * n.b + i * n.d + n.ty),
                            (r[1].x = 0 * n.a + 0 * n.c + n.tx),
                            (r[1].y = 0 * n.b + 0 * n.d + n.ty),
                            (r[2].x = e * n.a + i * n.c + n.tx),
                            (r[2].y = e * n.b + i * n.d + n.ty),
                            (r[3].x = e * n.a + 0 * n.c + n.tx),
                            (r[3].y = e * n.b + 0 * n.d + n.ty);
                    }),
                    (r._doCulling = function () {
                        var t = this._node;
                        if (
                            t._string &&
                            (t._labelType === _ccsg.Label.Type.TTF || t._labelType === _ccsg.Label.Type.SystemFont)
                        ) {
                            var e = cc.visibleRect;
                            this._cameraFlag > 0 && (e = cc.Camera.main.visibleRect);
                            var i = e.left.x,
                                n = e.right.x,
                                r = e.top.y,
                                s = e.bottom.y,
                                o = this._vertices;
                            ((o[0].x - i) & (o[1].x - i) & (o[2].x - i) & (o[3].x - i)) >> 31 ||
                            ((n - o[0].x) & (n - o[1].x) & (n - o[2].x) & (n - o[3].x)) >> 31 ||
                            ((o[0].y - s) & (o[1].y - s) & (o[2].y - s) & (o[3].y - s)) >> 31 ||
                            ((r - o[0].y) & (r - o[1].y) & (r - o[2].y) & (r - o[3].y)) >> 31
                                ? (this._needDraw = !1)
                                : (this._needDraw = !0);
                        }
                    }),
                    (r.uploadData = function (t, e, i) {
                        var n = this._node;
                        if (
                            !n._string ||
                            (n._labelType !== _ccsg.Label.Type.TTF && n._labelType !== _ccsg.Label.Type.SystemFont)
                        )
                            return 0;
                        var r = this._displayedOpacity;
                        this._color[0] = ((~~r << 24) >>> 0) | (~~r << 16) | (~~r << 8) | ~~r;
                        var s,
                            o,
                            a = n._vertexZ,
                            c = this._vertices,
                            h = c.length,
                            l = i;
                        for (s = 0; s < h; ++s)
                            (o = c[s]),
                                (t[l] = o.x),
                                (t[l + 1] = o.y),
                                (t[l + 2] = a),
                                (e[l + 3] = this._color[0]),
                                (t[l + 4] = o.u),
                                (t[l + 5] = o.v),
                                (l += 6);
                        return h;
                    });
            },
            {},
        ],
        114: [
            function (t, e, i) {
                var n = function () {
                    (this._status = 'unloaded'), (this._observers = []), (this._isLoadWithCSS = !1);
                };
                (n.prototype.onLoaded = function () {
                    (this._status = 'loaded'),
                        this._observers.forEach(function (t) {
                            t();
                        });
                }),
                    (n.prototype.isLoaded = function () {
                        return 'loaded' === this._status;
                    }),
                    (n.prototype.addHandler = function (t) {
                        -1 === this._observers.indexOf(t) && this._observers.push(t);
                    });
                var r = {
                    _fontCache: {},
                    _fontWidthCache: {},
                    _canvasContext: null,
                    _testString: 'BESbswy',
                    _allFontsLoaded: !1,
                    _intervalId: 0,
                    loadTTF: function (t, e) {
                        var i = this._getFontFamily(t),
                            n = cc.loader.md5Pipe;
                        n && (t = n.transformURL(t));
                        var r =
                            cc.sys.browserType !== cc.sys.BROWSER_TYPE_BAIDU &&
                            cc.sys.browserType !== cc.sys.BROWSER_TYPE_BAIDU_APP &&
                            cc.sys.browserType !== cc.sys.BROWSER_TYPE_MOBILE_QQ;
                        window.FontFace && r ? this._loadWithFontFace(i, t, e) : this._loadWithCSS(i, t, e),
                            0 === this._intervalId &&
                                (this._intervalId = setInterval(this._checkFontLoaded.bind(this), 100));
                    },
                    _checkFontLoaded: function () {
                        this._allFontsLoaded = !0;
                        for (var t in this._fontCache) {
                            var e = this._fontCache[t];
                            if (!e.isLoaded() && e._isLoadWithCSS) {
                                var i = this._fontWidthCache[t];
                                this._canvasContext.font = '40px ' + t;
                                i !== this._canvasContext.measureText(this._testString).width
                                    ? e.onLoaded()
                                    : (this._allFontsLoaded = !1);
                            }
                        }
                        this._allFontsLoaded && (clearInterval(this._intervalId), (this._intervalId = 0));
                    },
                    _loadWithFontFace: function (t, e, i) {
                        var r = this._fontCache[t];
                        if (r) r.isLoaded() || r.addHandler(i);
                        else {
                            var s = new FontFace(t, "url('" + e + "')");
                            document.fonts.add(s),
                                (r = new n()).addHandler(i),
                                (this._fontCache[t] = r),
                                s.loaded.then(function () {
                                    r.onLoaded();
                                });
                        }
                    },
                    _loadWithCSS: function (t, e, i) {
                        var r = this._fontCache[t];
                        if (r) r.isLoaded() || r.addHandler(i);
                        else {
                            var s = document,
                                o = document.createElement('style');
                            (o.type = 'text/css'), s.body.appendChild(o);
                            var a = '';
                            isNaN(t - 0)
                                ? (a += '@font-face { font-family:' + t + '; src:')
                                : (a += "@font-face { font-family:'" + t + "'; src:"),
                                (a += "url('" + e + "');"),
                                (o.textContent = a + '}');
                            var c = document.createElement('div'),
                                h = c.style;
                            if (
                                ((h.fontFamily = t),
                                (c.innerHTML = '.'),
                                (h.position = 'absolute'),
                                (h.left = '-100px'),
                                (h.top = '-100px'),
                                s.body.appendChild(c),
                                (r = new n()).addHandler(i),
                                (this._fontCache[t] = r),
                                (r._isLoadWithCSS = !0),
                                !this._canvasContext)
                            ) {
                                var l = document.createElement('canvas');
                                (l.width = 100), (l.height = 100), (this._canvasContext = l.getContext('2d'));
                            }
                            var u = '40px ' + t;
                            this._canvasContext.font = u;
                            var d = this._canvasContext.measureText(this._testString).width;
                            this._fontWidthCache[t] = d;
                            var _ = this;
                            o.onload = function () {
                                setTimeout(function () {
                                    _._allFontsLoaded ||
                                        (cc.logID(4004),
                                        r.onLoaded(),
                                        cc.director.getScheduler().unschedule(this._checkFontLoaded, this));
                                }, 2e4);
                            };
                        }
                    },
                    _getFontFamily: function (t) {
                        var e = t.lastIndexOf('.ttf');
                        if (-1 === e) return t;
                        var i = t.lastIndexOf('/');
                        return -1 === i ? t.substring(0, e) + '_LABEL' : t.substring(i + 1, e) + '_LABEL';
                    },
                };
                (cc.TextUtils = e.exports =
                    {
                        label_wordRex: /([a-zA-Z0-9ÄÖÜäöüßéèçàùêâîôûа-яА-ЯЁё]+|\S)/,
                        label_symbolRex: /^[!,.:;'}\]%\?>、‘“》？。，！]/,
                        label_lastWordRex:
                            /([a-zA-Z0-9ÄÖÜäöüßéèçàùêâîôûаíìÍÌïÁÀáàÉÈÒÓòóŐőÙÚŰúűñÑæÆœŒÃÂãÔõěščřžýáíéóúůťďňĚŠČŘŽÁÍÉÓÚŤżźśóńłęćąŻŹŚÓŃŁĘĆĄ-яА-ЯЁё]+|\S)$/,
                        label_lastEnglish:
                            /[a-zA-Z0-9ÄÖÜäöüßéèçàùêâîôûаíìÍÌïÁÀáàÉÈÒÓòóŐőÙÚŰúűñÑæÆœŒÃÂãÔõěščřžýáíéóúůťďňĚŠČŘŽÁÍÉÓÚŤżźśóńłęćąŻŹŚÓŃŁĘĆĄ-яА-ЯЁё]+$/,
                        label_firstEnglish:
                            /^[a-zA-Z0-9ÄÖÜäöüßéèçàùêâîôûаíìÍÌïÁÀáàÉÈÒÓòóŐőÙÚŰúűñÑæÆœŒÃÂãÔõěščřžýáíéóúůťďňĚŠČŘŽÁÍÉÓÚŤżźśóńłęćąŻŹŚÓŃŁĘĆĄ-яА-ЯЁё]/,
                        label_wrapinspection: !0,
                        isUnicodeCJK: function (t) {
                            return (
                                /^[\u4E00-\u9FFF\u3400-\u4DFF]+$/.test(t) ||
                                /[\u3000-\u303F]|[\u3040-\u309F]|[\u30A0-\u30FF]|[\uFF00-\uFFEF]|[\u4E00-\u9FAF]|[\u2605-\u2606]|[\u2190-\u2195]|\u203B/g.test(
                                    t,
                                ) ||
                                /^[\u1100-\u11FF]|[\u3130-\u318F]|[\uA960-\uA97F]|[\uAC00-\uD7AF]|[\uD7B0-\uD7FF]+$/.test(
                                    t,
                                )
                            );
                        },
                        isUnicodeSpace: function (t) {
                            return (
                                ((t = t.charCodeAt(0)) >= 9 && t <= 13) ||
                                32 === t ||
                                133 === t ||
                                160 === t ||
                                5760 === t ||
                                (t >= 8192 && t <= 8202) ||
                                8232 === t ||
                                8233 === t ||
                                8239 === t ||
                                8287 === t ||
                                12288 === t
                            );
                        },
                        fragmentText: function (t, e, i, n) {
                            var r = [];
                            if (0 === t.length || i < 0) return r.push(''), r;
                            for (var s = t; e > i && s.length > 1; ) {
                                for (
                                    var o = (s.length * (i / e)) | 0,
                                        a = s.substr(o),
                                        c = e - n(a),
                                        h = a,
                                        l = 0,
                                        u = 0;
                                    c > i && u++ < 10;

                                )
                                    (o *= i / c), (o |= 0), (c = e - n((a = s.substr(o))));
                                for (u = 0; c <= i && u++ < 10; ) {
                                    if (a) {
                                        var d = this.label_wordRex.exec(a);
                                        (l = d ? d[0].length : 1), (h = a);
                                    }
                                    (o += l), (c = e - n((a = s.substr(o))));
                                }
                                0 == (o -= l) && ((o = 1), (h = h.substr(1)));
                                var _,
                                    f = s.substr(0, o);
                                this.label_wrapinspection &&
                                    this.label_symbolRex.test(h || a) &&
                                    (0 == (o -= (_ = this.label_lastWordRex.exec(f)) ? _[0].length : 0) && (o = 1),
                                    (h = s.substr(o)),
                                    (f = s.substr(0, o))),
                                    this.label_firstEnglish.test(h) &&
                                        (_ = this.label_lastEnglish.exec(f)) &&
                                        f !== _[0] &&
                                        ((o -= _[0].length), (h = s.substr(o)), (f = s.substr(0, o))),
                                    0 === r.length ? r.push(f) : (f = f.trim()).length > 0 && r.push(f),
                                    (e = n((s = h || a)));
                            }
                            return 0 === r.length ? r.push(s) : (s = s.trim()).length > 0 && r.push(s), r;
                        },
                    }),
                    (cc.CustomFontLoader = e.exports = r);
            },
            {},
        ],
        115: [
            function (t, e, i) {
                function n(t) {
                    var e, i, n;
                    if ('object' == typeof t) {
                        if (((i = t), t.url)) return i;
                        e = t.uuid;
                    } else (i = {}), (e = t);
                    return (
                        (n = i.type ? 'uuid' === i.type : cc.AssetLibrary._getAssetUrl(e)),
                        cc.AssetLibrary._getAssetInfoInRuntime(e, g),
                        (i.url = n ? g.url : e),
                        g.url && 'uuid' === i.type && g.raw
                            ? ((i.type = null), (i.isRawAsset = !0))
                            : n || (i.isRawAsset = !0),
                        i
                    );
                }

                function r() {
                    var t = new c(),
                        e = new h(),
                        i = new l();
                    o.call(this, [t, e, i]),
                        (this.assetLoader = t),
                        (this.downloader = e),
                        (this.loader = i),
                        (this.onProgress = null),
                        (this._autoReleaseSetting = {});
                }
                var s = t('../platform/js'),
                    o = t('./pipeline'),
                    a = t('./loading-items'),
                    c = t('./asset-loader'),
                    h = t('./downloader'),
                    l = t('./loader'),
                    u = t('./asset-table'),
                    d = t('../platform/utils').callInNextTick,
                    _ = t('./auto-release-utils'),
                    f = new u(),
                    p = ['mp3', 'ogg', 'wav', 'm4a'],
                    g = {
                        url: null,
                        raw: !1,
                    },
                    m = [],
                    v = [];
                s.extend(r, o);
                var y = r.prototype;
                (y.init = function (t) {}),
                    (y.getXMLHttpRequest = function () {
                        return window.XMLHttpRequest
                            ? new window.XMLHttpRequest()
                            : new ActiveXObject('MSXML2.XMLHTTP');
                    }),
                    (y.addDownloadHandlers = function (t) {
                        this.downloader.addHandlers(t);
                    }),
                    (y.addLoadHandlers = function (t) {
                        this.loader.addHandlers(t);
                    }),
                    (y.load = function (t, e, i) {
                        void 0 === i && ((i = e), (e = this.onProgress || null));
                        var r = this,
                            s = !1;
                        t instanceof Array || ((s = !0), (t = t ? [t] : [])), (m.length = 0);
                        for (var o = 0; o < t.length; ++o) {
                            var c = t[o];
                            c && c.id && (cc.warnID(4920, c.id), c.uuid || c.url || (c.url = c.id));
                            var h = n(c);
                            if (h.url || h.uuid) {
                                var l = this._cache[h.url];
                                m.push(l || h);
                            }
                        }
                        var u = a.create(this, e, function (t, e) {
                            d(function () {
                                if (i) {
                                    if (s) {
                                        var n = h.url;
                                        i.call(r, e.getError(n), e.getContent(n));
                                    } else i.call(r, t, e);
                                    i = null;
                                }
                                e.destroy();
                            });
                        });
                        a.initQueueDeps(u), u.append(m), (m.length = 0);
                    }),
                    (y.flowInDeps = function (t, e, i) {
                        v.length = 0;
                        for (var r = 0; r < e.length; ++r) {
                            var s = n(e[r]);
                            if (s.url || s.uuid) {
                                var o = this._cache[s.url];
                                o ? v.push(o) : v.push(s);
                            }
                        }
                        var c = a.create(
                            this,
                            t
                                ? function (t, e, i) {
                                      this._ownerQueue &&
                                          this._ownerQueue.onProgress &&
                                          this._ownerQueue._childOnProgress(i);
                                  }
                                : null,
                            function (e, n) {
                                i(e, n), t && t.deps && (t.deps.length = 0), n.destroy();
                            },
                        );
                        if (t) {
                            var h = a.getQueue(t);
                            c._ownerQueue = h._ownerQueue || h;
                        }
                        var l = c.append(v, t);
                        return (v.length = 0), l;
                    }),
                    (y._resources = f),
                    (y._getResUuid = function (t, e, i) {
                        if (!t) return null;
                        var n = t.indexOf('?');
                        -1 !== n && (t = t.substr(0, n));
                        var r = f.getUuid(t, e);
                        if (!r) {
                            var s = cc.path.extname(t);
                            s && ((t = t.slice(0, -s.length)), (r = f.getUuid(t, e)) && !i && cc.warnID(4901, t, s));
                        }
                        return r;
                    }),
                    (y._getReferenceKey = function (t) {
                        var e;
                        return (
                            'object' == typeof t
                                ? (e = t._uuid || null)
                                : 'string' == typeof t && (e = this._getResUuid(t, null, !0) || t),
                            e
                                ? (cc.AssetLibrary._getAssetInfoInRuntime(e, g), this._cache[g.url] ? g.url : e)
                                : (cc.warnID(4800, t), e)
                        );
                    }),
                    (y._urlNotFound = function (t, e, i) {
                        d(function () {
                            t = cc.url.normalize(t);
                            var n = (e ? s.getClassName(e) : 'Asset') + ' in "resources/' + t + '" does not exist.';
                            i && i(new Error(n), []);
                        });
                    }),
                    (y._parseLoadResArgs = function (t, e, i) {
                        if (void 0 === i) {
                            var n = cc.isChildClassOf(t, cc.RawAsset);
                            e
                                ? ((i = e), n && (e = this.onProgress || null))
                                : void 0 !== e || n || ((i = t), (e = this.onProgress || null), (t = null)),
                                void 0 === e || n || ((e = t), (t = null));
                        }
                        return {
                            type: t,
                            onProgress: e,
                            onComplete: i,
                        };
                    }),
                    (y.loadRes = function (t, e, i, n) {
                        var r = this._parseLoadResArgs(e, i, n);
                        (e = r.type), (i = r.onProgress), (n = r.onComplete);
                        var s = this,
                            o = s._getResUuid(t, e);
                        o
                            ? this.load(
                                  {
                                      type: 'uuid',
                                      uuid: o,
                                  },
                                  i,
                                  function (t, e) {
                                      e && s.setAutoReleaseRecursively(o, !1), n && n(t, e);
                                  },
                              )
                            : s._urlNotFound(t, e, n);
                    }),
                    (y._loadResUuids = function (t, e, i, n) {
                        if (t.length > 0) {
                            var r = this,
                                s = t.map(function (t) {
                                    return {
                                        type: 'uuid',
                                        uuid: t,
                                    };
                                });
                            this.load(s, e, function (t, e) {
                                if (i) {
                                    for (var o = [], a = n && [], c = 0; c < s.length; ++c) {
                                        var h = s[c].uuid,
                                            l = this._getReferenceKey(h),
                                            u = e.getContent(l);
                                        u && (r.setAutoReleaseRecursively(h, !1), o.push(u), a && a.push(n[c]));
                                    }
                                    n ? i(t, o, a) : i(t, o);
                                }
                            });
                        } else
                            i &&
                                d(function () {
                                    n ? i(null, [], []) : i(null, []);
                                });
                    }),
                    (y.loadResArray = function (t, e, i, n) {
                        var r = this._parseLoadResArgs(e, i, n);
                        (e = r.type), (i = r.onProgress), (n = r.onComplete);
                        for (var s = [], o = 0; o < t.length; o++) {
                            var a = t[o],
                                c = this._getResUuid(a, e);
                            if (!c) return void this._urlNotFound(a, e, n);
                            s.push(c);
                        }
                        this._loadResUuids(s, i, n);
                    }),
                    (y.loadResDir = function (t, e, i, n) {
                        var r = this._parseLoadResArgs(e, i, n);
                        (e = r.type), (i = r.onProgress), (n = r.onComplete);
                        var s = [],
                            o = f.getUuidArray(t, e, s);
                        this._loadResUuids(o, i, n, s);
                    }),
                    (y.getRes = function (t, e) {
                        var i = this._cache[t];
                        if (!i) {
                            var n = this._getResUuid(t, e, !0);
                            if (!n) return null;
                            var r = this._getReferenceKey(n);
                            i = this._cache[r];
                        }
                        return i && i.alias && (i = i.alias), i && i.complete ? i.content : null;
                    }),
                    (y.getResCount = function () {
                        return Object.keys(this._cache).length;
                    }),
                    (y.getDependsRecursively = function (t) {
                        if (t) {
                            var e = this._getReferenceKey(t),
                                i = _.getDependsRecursively(e);
                            return i.push(e), i;
                        }
                        return [];
                    }),
                    (y.release = function (t) {
                        if (Array.isArray(t))
                            for (var e = 0; e < t.length; e++) {
                                var i = t[e];
                                this.release(i);
                            }
                        else if (t) {
                            var n = this._getReferenceKey(t),
                                r = this.getItem(n);
                            if (r) {
                                this.removeItem(n);
                                if ((t = r.content) instanceof cc.Asset) {
                                    0;
                                    for (var s = t.rawUrls, o = 0; o < s.length; o++) this.release(s[o]);
                                } else
                                    t instanceof cc.Texture2D
                                        ? cc.textureCache.removeTextureForKey(r.rawUrl || r.url)
                                        : -1 !== p.indexOf(r.type) && cc.audioEngine.uncache(r.rawUrl || r.url);
                                0;
                            }
                        }
                    }),
                    (y.releaseAsset = function (t) {
                        var e = t._uuid;
                        e && this.release(e);
                    }),
                    (y.releaseRes = function (t, e) {
                        var i = this._getResUuid(t, e);
                        i ? this.release(i) : cc.errorID(4914, t);
                    }),
                    (y.releaseResDir = function (t, e) {
                        for (var i = f.getUuidArray(t, e), n = 0; n < i.length; n++) {
                            var r = i[n];
                            this.release(r);
                        }
                    }),
                    (y.releaseAll = function () {
                        for (var t in this._cache) this.release(t);
                    }),
                    (y.removeItem = function (t) {
                        var e = o.prototype.removeItem.call(this, t);
                        return delete this._autoReleaseSetting[t], e;
                    }),
                    (y.setAutoRelease = function (t, e) {
                        var i = this._getReferenceKey(t);
                        i && (this._autoReleaseSetting[i] = !!e);
                    }),
                    (y.setAutoReleaseRecursively = function (t, e) {
                        e = !!e;
                        var i = this._getReferenceKey(t);
                        if (i) {
                            this._autoReleaseSetting[i] = e;
                            for (var n = _.getDependsRecursively(i), r = 0; r < n.length; r++) {
                                var s = n[r];
                                this._autoReleaseSetting[s] = e;
                            }
                        } else 0;
                    }),
                    (y.isAutoRelease = function (t) {
                        var e = this._getReferenceKey(t);
                        return !!e && !!this._autoReleaseSetting[e];
                    }),
                    (cc.loader = new r()),
                    (e.exports = cc.loader);
            },
            {
                '../platform/js': 156,
                '../platform/utils': 160,
                './asset-loader': 116,
                './asset-table': 117,
                './auto-release-utils': 119,
                './downloader': 120,
                './loader': 123,
                './loading-items': 124,
                './pipeline': 127,
                './released-asset-checker': 128,
            },
        ],
        116: [
            function (t, e, i) {
                var n = t('../utils/CCPath'),
                    r = t('./pipeline'),
                    s = t('./loading-items'),
                    o = function (t) {
                        (this.id = 'AssetLoader'), (this.async = !0), (this.pipeline = null);
                    };
                o.ID = 'AssetLoader';
                var a = [];
                (o.prototype.handle = function (t, e) {
                    var i = t.uuid;
                    if (!i) return t.content ? t.content : null;
                    cc.AssetLibrary.queryAssetInfo(i, function (r, o, c) {
                        if (r) e(r);
                        else if (((t.url = t.rawUrl = o), (t.isRawAsset = c), c)) {
                            var h = n.extname(o).toLowerCase();
                            if (!h)
                                return void e(
                                    new Error('Download Uuid: can not find type of raw asset[' + i + ']: ' + o),
                                );
                            h = h.substr(1);
                            var l = s.getQueue(t);
                            (a[0] = {
                                queueId: t.queueId,
                                id: o,
                                url: o,
                                type: h,
                                error: null,
                                alias: t,
                                complete: !0,
                            }),
                                l.append(a),
                                (t.type = h),
                                e(null, t.content);
                        } else (t.type = 'uuid'), e(null, t.content);
                    });
                }),
                    (r.AssetLoader = e.exports = o);
            },
            {
                '../utils/CCPath': 178,
                './loading-items': 124,
                './pipeline': 127,
            },
        ],
        117: [
            function (t, e, i) {
                function n() {
                    this._pathToUuid = {};
                }

                function r(t, e) {
                    if (t.length > e.length) {
                        var i = t.charCodeAt(e.length);
                        return 46 === i || 47 === i;
                    }
                    return !0;
                }
                var s = t('../utils/misc').pushToMap,
                    o = n.prototype;
                (o.getUuid = function (t, e) {
                    t = cc.url.normalize(t);
                    var i = this._pathToUuid[t];
                    if (i)
                        if (Array.isArray(i)) {
                            if (!e) return i[0].uuid;
                            for (var n = 0; n < i.length; n++) {
                                var r = i[n];
                                if (cc.isChildClassOf(r.type, e)) return r.uuid;
                            }
                        } else if (!e || cc.isChildClassOf(i.type, e)) return i.uuid;
                    return '';
                }),
                    (o.getUuidArray = function (t, e, i) {
                        '/' === (t = cc.url.normalize(t))[t.length - 1] && (t = t.slice(0, -1));
                        var n = this._pathToUuid,
                            s = [],
                            o = cc.isChildClassOf;
                        for (var a in n)
                            if ((a.startsWith(t) && r(a, t)) || !t) {
                                var c = n[a];
                                if (Array.isArray(c))
                                    for (var h = 0; h < c.length; h++) {
                                        var l = c[h];
                                        (e && !o(l.type, e)) || (s.push(l.uuid), i && i.push(a));
                                    }
                                else (e && !o(c.type, e)) || (s.push(c.uuid), i && i.push(a));
                            }
                        return s;
                    }),
                    (o.add = function (t, e, i, n) {
                        t = t.substring(0, t.length - cc.path.extname(t).length);
                        var r = new (function (t, e) {
                            (this.uuid = t), (this.type = e);
                        })(e, i);
                        s(this._pathToUuid, t, r, n);
                    }),
                    (o._getInfo_DEBUG = !1),
                    (o.reset = function () {
                        this._pathToUuid = {};
                    }),
                    (e.exports = n);
            },
            {
                '../utils/misc': 185,
            },
        ],
        118: [
            function (t, e, i) {
                t('../utils/CCPath');
                var n = t('../platform/CCSys'),
                    r = (t('./pipeline'), t('../../audio/CCAudioEngine'), n.__audioSupport),
                    s = r.format,
                    o = r.context;
                e.exports = function (t, e) {
                    if (0 === s.length) return new Error('Audio Downloader: audio not supported on this browser!');
                    (t.content = t.url),
                        !r.WEB_AUDIO || (t.urlParam && t.urlParam.useDom)
                            ? (function (t, e) {
                                  var i = document.createElement('audio');
                                  if (((i.src = t.url), n.platform === n.WECHAT_GAME))
                                      return (t.element = i), void e(null, t.id);
                                  var s = function () {
                                          clearTimeout(o),
                                              i.removeEventListener('canplaythrough', a, !1),
                                              i.removeEventListener('error', c, !1),
                                              r.USE_LOADER_EVENT && i.removeEventListener(r.USE_LOADER_EVENT, a, !1);
                                      },
                                      o = setTimeout(function () {
                                          0 === i.readyState ? c() : a();
                                      }, 8e3),
                                      a = function () {
                                          s(), (t.element = i), e(null, t.url);
                                      },
                                      c = function () {
                                          s();
                                          var i = 'load audio failure - ' + t.url;
                                          cc.log(i), e(i, t.url);
                                      };
                                  i.addEventListener('canplaythrough', a, !1),
                                      i.addEventListener('error', c, !1),
                                      r.USE_LOADER_EVENT && i.addEventListener(r.USE_LOADER_EVENT, a, !1);
                              })(t, e)
                            : (function (t, e) {
                                  o || e(new Error('Audio Downloader: no web audio context.'));
                                  var i = cc.loader.getXMLHttpRequest();
                                  i.open('GET', t.url, !0),
                                      (i.responseType = 'arraybuffer'),
                                      (i.onload = function () {
                                          o.decodeAudioData(
                                              i.response,
                                              function (i) {
                                                  (t.buffer = i), e(null, t.id);
                                              },
                                              function () {
                                                  e('decode error - ' + t.id, null);
                                              },
                                          );
                                      }),
                                      (i.onerror = function () {
                                          e('request error - ' + t.id, null);
                                      }),
                                      i.send();
                              })(t, e);
                };
            },
            {
                '../../audio/CCAudioEngine': 23,
                '../platform/CCSys': 144,
                '../utils/CCPath': 178,
                './pipeline': 127,
            },
        ],
        119: [
            function (t, e, i) {
                function n(t, e) {
                    var i = cc.loader.getItem(t);
                    if (i) {
                        var r = i.dependKeys;
                        if (r)
                            for (var s = 0; s < r.length; s++) {
                                var o = r[s];
                                e[o] || ((e[o] = !0), n(o, e));
                            }
                    }
                }

                function r(t, e) {
                    var i = cc.loader._getReferenceKey(t);
                    e[i] || ((e[i] = !0), n(i, e));
                }

                function s(t, e) {
                    for (var i = Object.getOwnPropertyNames(t), n = 0; n < i.length; n++) {
                        var s = t[i[n]];
                        if ('object' == typeof s && s)
                            if (Array.isArray(s))
                                for (var o = 0; o < s.length; o++) {
                                    var a = s[o];
                                    a instanceof cc.RawAsset && r(a, e);
                                }
                            else if (s.constructor && s.constructor !== Object) s instanceof cc.RawAsset && r(s, e);
                            else
                                for (var c = Object.getOwnPropertyNames(s), h = 0; h < c.length; h++) {
                                    var l = s[c[h]];
                                    l instanceof cc.RawAsset && r(l, e);
                                }
                    }
                }

                function o(t, e) {
                    for (var i = 0; i < t._components.length; i++) s(t._components[i], e);
                    for (var n = 0; n < t._children.length; n++) o(t._children[n], e);
                }
                var a = t('../platform/js');
                e.exports = {
                    autoRelease: function (t, e, i) {
                        var n = cc.loader._autoReleaseSetting,
                            r = a.createMap();
                        if (e) for (var s = 0; s < e.length; s++) r[e[s]] = !0;
                        for (var c = 0; c < i.length; c++) o(i[c], r);
                        if (t)
                            for (var h = 0; h < t.length; h++) {
                                var l = t[h];
                                !1 === n[l] || r[l] || cc.loader.release(l);
                            }
                        for (var u = Object.keys(n), d = 0; d < u.length; d++) {
                            var _ = u[d];
                            !0 !== n[_] || r[_] || cc.loader.release(_);
                        }
                    },
                    getDependsRecursively: function (t) {
                        var e = {};
                        return n(t, e), Object.keys(e);
                    },
                };
            },
            {
                '../platform/js': 156,
            },
        ],
        120: [
            function (t, e, i) {
                function n(t, e, i, r) {
                    void 0 === i && (i = !0);
                    var s = f(t.url);
                    if (
                        ((r = r || l.imagePool.get()),
                        i && 'file:' !== window.location.protocol
                            ? (r.crossOrigin = 'anonymous')
                            : (r.crossOrigin = null),
                        r.complete && r.naturalWidth > 0 && r.src === s)
                    )
                        return r;
                    (function () {
                        function i() {
                            r.removeEventListener('load', i), r.removeEventListener('error', o), e(null, r);
                        }

                        function o() {
                            r.removeEventListener('load', i),
                                r.removeEventListener('error', o),
                                'https:' !== window.location.protocol &&
                                r.crossOrigin &&
                                'anonymous' === r.crossOrigin.toLowerCase()
                                    ? n(t, e, !1, r)
                                    : e(new Error('Load image (' + s + ') failed'));
                        }
                        r.addEventListener('load', i), r.addEventListener('error', o), (r.src = s);
                    })();
                }

                function r(t, e, i) {
                    var n = document,
                        r = document.createElement('style');
                    (r.type = 'text/css'), n.body.appendChild(r);
                    var s = '';
                    if (
                        (isNaN(t - 0)
                            ? (s += '@font-face { font-family:' + t + '; src:')
                            : (s += "@font-face { font-family:'" + t + "'; src:"),
                        e instanceof Array)
                    )
                        for (var o = 0, a = e.length; o < a; o++) {
                            var c = e[o];
                            (i = h.extname(c).toLowerCase()),
                                (s += "url('" + e[o] + "') format('" + p[i] + "')"),
                                (s += o === a - 1 ? ';' : ',');
                        }
                    else (i = i.toLowerCase()), (s += "url('" + e + "') format('" + p[i] + "');");
                    r.textContent += s + '}';
                    var l = document.createElement('div'),
                        u = l.style;
                    (u.fontFamily = t),
                        (l.innerHTML = '.'),
                        (u.position = 'absolute'),
                        (u.left = '-100px'),
                        (u.top = '-100px'),
                        n.body.appendChild(l);
                }

                function s(t, e) {
                    var i = t.url,
                        n = t.type,
                        s = t.name,
                        o = t.srcs;
                    if (
                        (s && o
                            ? (-1 === o.indexOf(i) && o.push(i), r(s, o))
                            : ((n = h.extname(i)), r((s = h.basename(i, n)), i, n)),
                        !document.fonts)
                    )
                        return null;
                    document.fonts.load('1em ' + s).then(
                        function () {
                            e(null, null);
                        },
                        function (t) {
                            e(t);
                        },
                    );
                }
                var o,
                    a = t('../platform/js'),
                    c = t('../platform/CCSys'),
                    h = t('../utils/CCPath'),
                    l = t('../utils/misc'),
                    u = t('./pipeline'),
                    d = t('./pack-downloader'),
                    _ = t('./text-downloader'),
                    f = t('./utils').urlAppendTimestamp,
                    p = {
                        '.eot': 'embedded-opentype',
                        '.ttf': 'truetype',
                        '.ttc': 'truetype',
                        '.woff': 'woff',
                        '.svg': 'svg',
                    },
                    g = {
                        js: function (e, i, n) {
                            function r() {
                                h.parentNode.removeChild(h),
                                    h.removeEventListener('load', r, !1),
                                    h.removeEventListener('error', s, !1),
                                    i(null, o);
                            }

                            function s() {
                                h.parentNode.removeChild(h),
                                    h.removeEventListener('load', r, !1),
                                    h.removeEventListener('error', s, !1),
                                    i(new Error('Load ' + o + ' failed!'), o);
                            }
                            if (c.platform === c.WECHAT_GAME) return t(e.url), void i(null, e.url);
                            var o = e.url,
                                a = document,
                                h = document.createElement('script');
                            (h.async = n),
                                (h.src = f(o)),
                                h.addEventListener('load', r, !1),
                                h.addEventListener('error', s, !1),
                                a.body.appendChild(h);
                        },
                        png: n,
                        jpg: n,
                        bmp: n,
                        jpeg: n,
                        gif: n,
                        ico: n,
                        tiff: n,
                        webp: function (t, e, i, r) {
                            return cc.sys.capabilities.webp
                                ? n(t, e, i, r)
                                : new Error('Load Webp ( ' + t.url + ' ) failed');
                        },
                        image: n,
                        mp3: (o = t('./audio-downloader')),
                        ogg: o,
                        wav: o,
                        m4a: o,
                        txt: _,
                        xml: _,
                        vsh: _,
                        fsh: _,
                        atlas: _,
                        tmx: _,
                        tsx: _,
                        json: _,
                        ExportJson: _,
                        plist: _,
                        fnt: _,
                        font: s,
                        eot: s,
                        ttf: s,
                        woff: s,
                        svg: s,
                        ttc: s,
                        uuid: function (t, e) {
                            var i = d.load(t, e);
                            return void 0 === i ? this.extMap.json(t, e) : i || void 0;
                        },
                        default: _,
                    },
                    m = function (t) {
                        (this.id = 'Downloader'),
                            (this.async = !0),
                            (this.pipeline = null),
                            (this._curConcurrent = 0),
                            (this._loadQueue = []),
                            (this.extMap = a.mixin(t, g));
                    };
                (m.ID = 'Downloader'),
                    (m.PackDownloader = d),
                    (m.prototype.addHandlers = function (t) {
                        a.mixin(this.extMap, t);
                    }),
                    (m.prototype._handleLoadQueue = function () {
                        for (; this._curConcurrent < cc.macro.DOWNLOAD_MAX_CONCURRENT; ) {
                            var t = this._loadQueue.shift();
                            if (!t) break;
                            var e = this.handle(t.item, t.callback);
                            void 0 !== e && (e instanceof Error ? t.callback(e) : t.callback(null, e));
                        }
                    }),
                    (m.prototype.handle = function (t, e) {
                        var i = this,
                            n = this.extMap[t.type] || this.extMap.default,
                            r = void 0;
                        if (this._curConcurrent < cc.macro.DOWNLOAD_MAX_CONCURRENT) {
                            if (
                                (this._curConcurrent++,
                                void 0 !==
                                    (r = n.call(this, t, function (t, n) {
                                        (i._curConcurrent = Math.max(0, i._curConcurrent - 1)),
                                            i._handleLoadQueue(),
                                            e && e(t, n);
                                    })))
                            )
                                return (
                                    (this._curConcurrent = Math.max(0, this._curConcurrent - 1)),
                                    this._handleLoadQueue(),
                                    r
                                );
                        } else if (t.ignoreMaxConcurrency) {
                            if (void 0 !== (r = n.call(this, t, e))) return r;
                        } else
                            this._loadQueue.push({
                                item: t,
                                callback: e,
                            });
                    }),
                    (u.Downloader = e.exports = m);
            },
            {
                '../platform/CCSys': 144,
                '../platform/js': 156,
                '../utils/CCPath': 178,
                '../utils/misc': 185,
                './audio-downloader': 118,
                './pack-downloader': 126,
                './pipeline': 127,
                './text-downloader': 129,
                './utils': 130,
            },
        ],
        121: [
            function (t, e, i) {
                t('./downloader'),
                    t('./loader'),
                    t('./json-unpacker'),
                    t('./loading-items'),
                    t('./pipeline'),
                    t('./CCLoader');
            },
            {
                './CCLoader': 115,
                './downloader': 120,
                './json-unpacker': 122,
                './loader': 123,
                './loading-items': 124,
                './pipeline': 127,
            },
        ],
        122: [
            function (t, e, i) {
                function n() {
                    (this.jsons = {}), (this.state = -1);
                }
                (n.prototype.read = function (t, e) {
                    var i = 'string' == typeof e ? JSON.parse(e) : e;
                    i.length !== t.length && cc.errorID(4915);
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n],
                            s = i[n];
                        this.jsons[r] = s;
                    }
                }),
                    (n.prototype.retrieve = function (t) {
                        return this.jsons[t] || null;
                    }),
                    (e.exports = n);
            },
            {},
        ],
        123: [
            function (t, e, i) {
                function n(t, e) {
                    if ('string' != typeof t.content)
                        return new Error("JSON Loader: Input item doesn't contain string content");
                    try {
                        return JSON.parse(t.content);
                    } catch (e) {
                        return new Error('JSON Loader: Parse json [' + t.id + '] failed : ' + e);
                    }
                }

                function r(t, e) {
                    if (o.platform !== o.WECHAT_GAME && o.platform !== o.QQ_PLAY && !(t.content instanceof Image))
                        return new Error("Image Loader: Input item doesn't contain Image content");
                    var i = t.rawUrl,
                        n = cc.textureCache.getTextureForKey(i) || new c();
                    return (
                        (n.url = i),
                        n.initWithElement(t.content),
                        n.handleLoadedTexture(),
                        cc.textureCache.cacheImage(i, n),
                        n
                    );
                }
                var s = t('../platform/js'),
                    o = t('../platform/CCSys'),
                    a = t('./pipeline'),
                    c = t('../textures/CCTexture2D'),
                    h = t('./uuid-loader'),
                    l =
                        (t('../utils/misc'),
                        {
                            png: r,
                            jpg: r,
                            bmp: r,
                            jpeg: r,
                            gif: r,
                            ico: r,
                            tiff: r,
                            webp: r,
                            image: r,
                            json: n,
                            ExportJson: n,
                            plist: function (t, e) {
                                if ('string' != typeof t.content)
                                    return new Error("Plist Loader: Input item doesn't contain string content");
                                var i = cc.plistParser.parse(t.content);
                                return i || new Error('Plist Loader: Parse [' + t.id + '] failed');
                            },
                            uuid: h,
                            prefab: h,
                            fire: h,
                            scene: h,
                            default: function (t, e) {
                                return null;
                            },
                        }),
                    u = function (t) {
                        (this.id = 'Loader'), (this.async = !0), (this.pipeline = null), (this.extMap = s.mixin(t, l));
                    };
                (u.ID = 'Loader'),
                    (u.prototype.addHandlers = function (t) {
                        this.extMap = s.mixin(this.extMap, t);
                    }),
                    (u.prototype.handle = function (t, e) {
                        return (this.extMap[t.type] || this.extMap.default).call(this, t, e);
                    }),
                    (a.Loader = e.exports = u);
            },
            {
                '../platform/CCSys': 144,
                '../platform/js': 156,
                '../textures/CCTexture2D': 175,
                '../utils/misc': 185,
                './pipeline': 127,
                './uuid-loader': 131,
            },
        ],
        124: [
            function (t, e, i) {
                function n(t) {
                    return 'string' == typeof (t.url || t);
                }

                function r(t, e) {
                    var i = 'object' == typeof t ? t.url : t,
                        n = {
                            queueId: e,
                            id: i,
                            url: i,
                            rawUrl: void 0,
                            urlParam: (function (t) {
                                if (t) {
                                    var e = t.split('?');
                                    if (e && e[0] && e[1]) {
                                        var i = {};
                                        return (
                                            e[1].split('&').forEach(function (t) {
                                                var e = t.split('=');
                                                i[e[0]] = e[1];
                                            }),
                                            i
                                        );
                                    }
                                }
                            })(i),
                            type: '',
                            error: null,
                            content: null,
                            complete: !1,
                            states: {},
                            deps: null,
                        };
                    if ('object' == typeof t && (c.mixin(n, t), t.skips))
                        for (var r = 0; r < t.skips.length; r++) {
                            var s = t.skips[r];
                            n.states[s] = d.COMPLETE;
                        }
                    return (n.rawUrl = n.url), i && !n.type && (n.type = a.extname(i).toLowerCase().substr(1)), n;
                }

                function s(t, e, i) {
                    if (!t || !e) return !1;
                    var n = !1;
                    if ((f.push(e.id), e.deps)) {
                        var r,
                            o,
                            a = e.deps;
                        for (r = 0; r < a.length; r++) {
                            if ((o = a[r]).id === t.id) {
                                n = !0;
                                break;
                            }
                            if (!(f.indexOf(o.id) >= 0) && o.deps && s(t, o, !0)) {
                                n = !0;
                                break;
                            }
                        }
                    }
                    return i || (f.length = 0), n;
                }
                var o = t('../platform/callbacks-invoker'),
                    a = t('../utils/CCPath'),
                    c = t('../platform/js'),
                    h = 0 | (998 * Math.random()),
                    l = {},
                    u = [],
                    d = {
                        WORKING: 1,
                        COMPLETE: 2,
                        ERROR: 3,
                    },
                    _ = {},
                    f = [],
                    p = function (t, e, i, n) {
                        o.call(this),
                            (this._id = ++h),
                            (l[this._id] = this),
                            (this._pipeline = t),
                            (this._errorUrls = []),
                            (this._appending = !1),
                            (this._ownerQueue = null),
                            (this.onProgress = i),
                            (this.onComplete = n),
                            (this.map = {}),
                            (this.completed = {}),
                            (this.totalCount = 0),
                            (this.completedCount = 0),
                            this._pipeline ? (this.active = !0) : (this.active = !1),
                            e && (e.length > 0 ? this.append(e) : this.allComplete());
                    };
                (p.ItemState = new cc.Enum(d)),
                    (p.create = function (t, e, i, n) {
                        void 0 === i
                            ? 'function' == typeof e && ((n = e), (e = i = null))
                            : void 0 === n &&
                              ('function' == typeof e ? ((n = i), (i = e), (e = null)) : ((n = i), (i = null)));
                        var r = u.pop();
                        return (
                            r
                                ? ((r._pipeline = t),
                                  (r.onProgress = i),
                                  (r.onComplete = n),
                                  (l[r._id] = r),
                                  r._pipeline && (r.active = !0),
                                  e && r.append(e))
                                : (r = new p(t, e, i, n)),
                            r
                        );
                    }),
                    (p.getQueue = function (t) {
                        return t.queueId ? l[t.queueId] : null;
                    }),
                    (p.itemComplete = function (t) {
                        var e = l[t.queueId];
                        e && e.itemComplete(t.id);
                    }),
                    (p.initQueueDeps = function (t) {
                        var e = _[t._id];
                        e
                            ? ((e.completed.length = 0), (e.deps.length = 0))
                            : (e = _[t._id] =
                                  {
                                      completed: [],
                                      deps: [],
                                  });
                    }),
                    (p.registerQueueDep = function (t, e) {
                        var i = t.queueId || t;
                        if (!i) return !1;
                        var n = _[i];
                        if (n) -1 === n.deps.indexOf(e) && n.deps.push(e);
                        else if (t.id)
                            for (var r in _) {
                                var s = _[r];
                                -1 !== s.deps.indexOf(t.id) && -1 === s.deps.indexOf(e) && s.deps.push(e);
                            }
                    }),
                    (p.finishDep = function (t) {
                        for (var e in _) {
                            var i = _[e];
                            -1 !== i.deps.indexOf(t) && -1 === i.completed.indexOf(t) && i.completed.push(t);
                        }
                    });
                var g = p.prototype;
                c.mixin(g, o.prototype),
                    (g.append = function (t, e) {
                        if (!this.active) return [];
                        e && !e.deps && (e.deps = []), (this._appending = !0);
                        var i,
                            o,
                            a,
                            c = [];
                        for (i = 0; i < t.length; ++i)
                            if (!(o = t[i]).queueId || this.map[o.id]) {
                                if (n(o)) {
                                    var h = (a = r(o, this._id)).id;
                                    this.map[h] ||
                                        ((this.map[h] = a),
                                        this.totalCount++,
                                        e && e.deps.push(a),
                                        p.registerQueueDep(e || this._id, h),
                                        c.push(a));
                                }
                            } else {
                                if (((this.map[o.id] = o), e && e.deps.push(o), o.complete || s(e, o))) {
                                    this.totalCount++, this.itemComplete(o.id);
                                    continue;
                                }
                                var u = this,
                                    d = l[o.queueId];
                                d &&
                                    (this.totalCount++,
                                    p.registerQueueDep(e || this._id, o.id),
                                    d.addListener(o.id, function (t) {
                                        u.itemComplete(t.id);
                                    }));
                            }
                        return (
                            (this._appending = !1),
                            this.completedCount === this.totalCount ? this.allComplete() : this._pipeline.flowIn(c),
                            c
                        );
                    }),
                    (g._childOnProgress = function (t) {
                        if (this.onProgress) {
                            var e = _[this._id];
                            this.onProgress(
                                e ? e.completed.length : this.completedCount,
                                e ? e.deps.length : this.totalCount,
                                t,
                            );
                        }
                    }),
                    (g.allComplete = function () {
                        var t = 0 === this._errorUrls.length ? null : this._errorUrls;
                        this.onComplete && this.onComplete(t, this);
                    }),
                    (g.isCompleted = function () {
                        return this.completedCount >= this.totalCount;
                    }),
                    (g.isItemCompleted = function (t) {
                        return !!this.completed[t];
                    }),
                    (g.exists = function (t) {
                        return !!this.map[t];
                    }),
                    (g.getContent = function (t) {
                        var e = this.map[t],
                            i = null;
                        return e && (e.content ? (i = e.content) : e.alias && (i = e.alias.content)), i;
                    }),
                    (g.getError = function (t) {
                        var e = this.map[t],
                            i = null;
                        return e && (e.error ? (i = e.error) : e.alias && (i = e.alias.error)), i;
                    }),
                    (g.addListener = o.prototype.add),
                    (g.hasListener = o.prototype.has),
                    (g.removeListener = o.prototype.remove),
                    (g.removeAllListeners = o.prototype.removeAll),
                    (g.removeItem = function (t) {
                        var e = this.map[t];
                        e &&
                            this.completed[e.alias || t] &&
                            (delete this.completed[t],
                            delete this.map[t],
                            e.alias && (delete this.completed[e.alias.id], delete this.map[e.alias.id]),
                            this.completedCount--,
                            this.totalCount--);
                    }),
                    (g.itemComplete = function (t) {
                        var e = this.map[t];
                        if (e) {
                            var i = this._errorUrls.indexOf(t);
                            if (
                                (e.error && -1 === i
                                    ? this._errorUrls.push(t)
                                    : e.error || -1 === i || this._errorUrls.splice(i, 1),
                                (this.completed[t] = e),
                                this.completedCount++,
                                p.finishDep(e.id),
                                this.onProgress)
                            ) {
                                var n = _[this._id];
                                this.onProgress(
                                    n ? n.completed.length : this.completedCount,
                                    n ? n.deps.length : this.totalCount,
                                    e,
                                );
                            }
                            this.invoke(t, e),
                                this.removeAll(t),
                                !this._appending && this.completedCount >= this.totalCount && this.allComplete();
                        }
                    }),
                    (g.destroy = function () {
                        (this.active = !1),
                            (this._appending = !1),
                            (this._pipeline = null),
                            (this._ownerQueue = null),
                            (this._errorUrls.length = 0),
                            (this.onProgress = null),
                            (this.onComplete = null),
                            (this.map = {}),
                            (this.completed = {}),
                            (this.totalCount = 0),
                            (this.completedCount = 0),
                            o.call(this),
                            (l[this._id] = null),
                            _[this._id] && ((_[this._id].completed.length = 0), (_[this._id].deps.length = 0)),
                            -1 === u.indexOf(this) && u.length < 10 && u.push(this);
                    }),
                    (cc.LoadingItems = e.exports = p);
            },
            {
                '../platform/callbacks-invoker': 149,
                '../platform/js': 156,
                '../utils/CCPath': 178,
            },
        ],
        125: [
            function (t, e, i) {
                var n = t('./pipeline'),
                    r = /(\.[^.\n\\/]*)$/,
                    s = function (t, e, i) {
                        (this.id = 'MD5Pipe'),
                            (this.async = !1),
                            (this.pipeline = null),
                            (this.md5AssetsMap = t),
                            (this.libraryBase = e),
                            (this.rawAssetsBase = i);
                    };
                (s.ID = 'MD5Pipe'),
                    (s.prototype.handle = function (t) {
                        return (t.url = this.transformURL(t.url)), t;
                    }),
                    (s.prototype.transformURL = function (t) {
                        var e = t.indexOf('?'),
                            i = t;
                        if ((-1 !== e && (i = t.substr(0, e)), i.startsWith(this.libraryBase)))
                            i = i.slice(this.libraryBase.length);
                        else {
                            if (!i.startsWith(this.rawAssetsBase)) return t;
                            i = i.slice(this.rawAssetsBase.length);
                        }
                        var n = this.md5AssetsMap[i];
                        if (n) {
                            var s = !1;
                            (t = t.replace(r, function (t, e) {
                                return (s = !0), '.' + n + e;
                            })),
                                s || (t = t + '.' + n);
                        }
                        return t;
                    }),
                    (n.MD5Pipe = e.exports = s);
            },
            {
                './pipeline': 127,
            },
        ],
        126: [
            function (t, e, i) {
                function n(t, e) {
                    return new Error('Can not retrieve ' + t + ' from packer ' + e);
                }
                var r = t('./json-unpacker'),
                    s = t('../utils/misc').pushToMap,
                    o = {},
                    a = {},
                    c = {},
                    h = 0,
                    l = 2,
                    u = 3;
                e.exports = {
                    initPacks: function (t) {
                        a = t;
                        for (var e in t)
                            for (var i = t[e], n = 0; n < i.length; n++) {
                                var r = i[n],
                                    c = 1 === i.length;
                                s(o, r, e, c);
                            }
                    },
                    _loadNewPack: function (t, e, i) {
                        var r = this,
                            s = cc.AssetLibrary.getLibUrlNoExt(e) + '.json';
                        cc.loader.load(
                            {
                                url: s,
                                ignoreMaxConcurrency: !0,
                            },
                            function (s, o) {
                                if (s) return cc.errorID(4916, t), i(s);
                                var a = r._doLoadNewPack(t, e, o);
                                a ? i(null, a) : i(n(t, e));
                            },
                        );
                    },
                    _doPreload: function (t, e) {
                        var i = c[t];
                        i || (i = c[t] = new r()), i.state !== u && (i.read(a[t], e), (i.state = u));
                    },
                    _doLoadNewPack: function (t, e, i) {
                        var n = c[e];
                        return n.state !== u && (n.read(a[e], i), (n.state = u)), n.retrieve(t);
                    },
                    _selectLoadedPack: function (t) {
                        for (var e = h, i = '', n = 0; n < t.length; n++) {
                            var r = t[n],
                                s = c[r];
                            if (s) {
                                var o = s.state;
                                if (o === u) return r;
                                o > e && ((e = o), (i = r));
                            }
                        }
                        return e !== h ? i : t[0];
                    },
                    load: function (t, e) {
                        var i = t.uuid,
                            s = o[i];
                        if (s) {
                            Array.isArray(s) && (s = this._selectLoadedPack(s));
                            var a = c[s];
                            if (a && a.state === u) {
                                var h = a.retrieve(i);
                                return h || n(i, s);
                            }
                            return (
                                a || (console.log('Create unpacker %s for %s', s, i), ((a = c[s] = new r()).state = l)),
                                this._loadNewPack(i, s, e),
                                null
                            );
                        }
                    },
                };
            },
            {
                '../utils/misc': 185,
                './json-unpacker': 122,
            },
        ],
        127: [
            function (t, e, i) {
                function n(t, e) {
                    var i = t.id,
                        r = e.states[i],
                        o = t.next,
                        a = t.pipeline;
                    if (!e.error && r !== s.WORKING && r !== s.ERROR)
                        if (r === s.COMPLETE) o ? n(o, e) : a.flowOut(e);
                        else {
                            e.states[i] = s.WORKING;
                            var c = t.handle(e, function (t, r) {
                                t
                                    ? ((e.error = t), (e.states[i] = s.ERROR), a.flowOut(e))
                                    : (r && (e.content = r), (e.states[i] = s.COMPLETE), o ? n(o, e) : a.flowOut(e));
                            });
                            c instanceof Error
                                ? ((e.error = c), (e.states[i] = s.ERROR), a.flowOut(e))
                                : void 0 !== c &&
                                  (null !== c && (e.content = c),
                                  (e.states[i] = s.COMPLETE),
                                  o ? n(o, e) : a.flowOut(e));
                        }
                }
                t('../platform/js');
                var r = t('./loading-items'),
                    s = r.ItemState,
                    o = function (t) {
                        (this._pipes = t), (this._cache = {});
                        for (var e = 0; e < t.length; ++e) {
                            var i = t[e];
                            i.handle && i.id && ((i.pipeline = this), (i.next = e < t.length - 1 ? t[e + 1] : null));
                        }
                    };
                o.ItemState = s;
                var a = o.prototype;
                (a.insertPipe = function (t, e) {
                    if (!t.handle || !t.id || e > this._pipes.length) cc.warnID(4921);
                    else if (this._pipes.indexOf(t) > 0) cc.warnID(4922);
                    else {
                        t.pipeline = this;
                        var i = null;
                        e < this._pipes.length && (i = this._pipes[e]);
                        var n = null;
                        e > 0 && (n = this._pipes[e - 1]), n && (n.next = t), (t.next = i), this._pipes.splice(e, 0, t);
                    }
                }),
                    (a.insertPipeAfter = function (t, e) {
                        var i = this._pipes.indexOf(t);
                        i < 0 || this.insertPipe(e, i + 1);
                    }),
                    (a.appendPipe = function (t) {
                        t.handle &&
                            t.id &&
                            ((t.pipeline = this),
                            (t.next = null),
                            this._pipes.length > 0 && (this._pipes[this._pipes.length - 1].next = t),
                            this._pipes.push(t));
                    }),
                    (a.flowIn = function (t) {
                        var e,
                            i,
                            r = this._pipes[0];
                        if (r) {
                            for (e = 0; e < t.length; e++) (i = t[e]), (this._cache[i.id] = i);
                            for (e = 0; e < t.length; e++) n(r, (i = t[e]));
                        } else for (e = 0; e < t.length; e++) this.flowOut(t[e]);
                    }),
                    (a.flowInDeps = function (t, e, i) {
                        return r
                            .create(this, function (t, e) {
                                i(t, e), e.destroy();
                            })
                            .append(e, t);
                    }),
                    (a.flowOut = function (t) {
                        t.error ? delete this._cache[t.id] : this._cache[t.id] || (this._cache[t.id] = t),
                            (t.complete = !0),
                            r.itemComplete(t);
                    }),
                    (a.copyItemStates = function (t, e) {
                        if (e instanceof Array) for (var i = 0; i < e.length; ++i) e[i].states = t.states;
                        else e.states = t.states;
                    }),
                    (a.isFlowing = function () {
                        return !0;
                    }),
                    (a.getItems = function () {
                        return null;
                    }),
                    (a.getItem = function (t) {
                        var e = this._cache[t];
                        return e ? (e.alias && (e = e.alias), e) : e;
                    }),
                    (a.removeItem = function (t) {
                        var e = this._cache[t];
                        return e && e.complete && delete this._cache[t], e;
                    }),
                    (a.clear = function () {
                        for (var t in this._cache) {
                            var e = this._cache[t];
                            delete this._cache[t],
                                e.complete || ((e.error = new Error('Canceled manually')), this.flowOut(e));
                        }
                    }),
                    (cc.Pipeline = e.exports = o);
            },
            {
                '../platform/js': 156,
                './loading-items': 124,
            },
        ],
        128: [
            function (t, e, i) {},
            {
                '../platform/js': 156,
            },
        ],
        129: [
            function (t, e, i) {
                t('../platform/CCSys');
                var n = t('./utils').urlAppendTimestamp;
                e.exports = function (t, e) {
                    var i = t.url;
                    i = n(i);
                    var r = cc.loader.getXMLHttpRequest(),
                        s = 'Load ' + i + ' failed!',
                        o = window.navigator;
                    r.open('GET', i, !0),
                        /msie/i.test(o.userAgent) && !/opera/i.test(o.userAgent)
                            ? (r.setRequestHeader('Accept-Charset', 'utf-8'),
                              (r.onreadystatechange = function () {
                                  4 === r.readyState &&
                                      (200 === r.status || 0 === r.status
                                          ? e(null, r.responseText)
                                          : e({
                                                status: r.status,
                                                errorMessage: s,
                                            }));
                              }))
                            : (r.overrideMimeType && r.overrideMimeType('text/plain; charset=utf-8'),
                              (r.onload = function () {
                                  4 === r.readyState &&
                                      (200 === r.status || 0 === r.status
                                          ? e(null, r.responseText)
                                          : e({
                                                status: r.status,
                                                errorMessage: s,
                                            }));
                              }),
                              (r.onerror = function () {
                                  e({
                                      status: r.status,
                                      errorMessage: s,
                                  });
                              })),
                        r.send(null);
                };
            },
            {
                '../platform/CCSys': 144,
                './utils': 130,
            },
        ],
        130: [
            function (t, e, i) {
                var n = /\?/;
                e.exports = {
                    urlAppendTimestamp: function (t) {
                        return (
                            cc.game.config.noCache &&
                                'string' == typeof t &&
                                (n.test(t) ? (t += '&_t=' + (new Date() - 0)) : (t += '?_t=' + (new Date() - 0))),
                            t
                        );
                    },
                };
            },
            {},
        ],
        131: [
            function (t, e, i) {
                function n(t) {
                    return (
                        t &&
                        ((t[0] && 'cc.Scene' === t[0].__type__) ||
                            (t[1] && 'cc.Scene' === t[1].__type__) ||
                            (t[0] && 'cc.Prefab' === t[0].__type__))
                    );
                }

                function r(t, e) {
                    var i;
                    if ('string' == typeof t.content)
                        try {
                            i = JSON.parse(t.content);
                        } catch (e) {
                            return new Error('Uuid Loader: Parse asset [' + t.id + '] failed : ' + e.stack);
                        }
                    else {
                        if ('object' != typeof t.content)
                            return new Error("JSON Loader: Input item doesn't contain string content");
                        i = t.content;
                    }
                    var r,
                        a = n(i);
                    r = a
                        ? cc._MissingScript.safeFindClass
                        : function (t) {
                              var e = s._getClassById(t);
                              return e || (cc.warnID(4903, t), Object);
                          };
                    var c,
                        h = cc.deserialize.Details.pool.get();
                    try {
                        c = cc.deserialize(i, h, {
                            classFinder: r,
                            target: t.existingAsset,
                            customEnv: t,
                        });
                    } catch (e) {
                        cc.deserialize.Details.pool.put(h);
                        var l = e.stack;
                        return new Error('Uuid Loader: Deserialize asset [' + t.id + '] failed : ' + l);
                    }
                    c._uuid = t.uuid;
                    var u = (function (t, e, i) {
                        var n = e.deferredLoadRaw;
                        return (
                            n
                                ? t instanceof cc.Asset && t.constructor.preventDeferredLoadDependents && (n = !1)
                                : i &&
                                  (t instanceof cc.SceneAsset || t instanceof cc.Prefab) &&
                                  (n = t.asyncLoadAssets),
                            n
                        );
                    })(c, t, a);
                    (function (t, e, i, n, r, s) {
                        var a,
                            c,
                            h,
                            l,
                            u,
                            d = n.uuidList,
                            _ = (e.dependKeys = []);
                        if (r)
                            for (a = [], c = [], h = [], l = 0; l < d.length; l++) {
                                u = d[l];
                                var f = n.uuidObjList[l],
                                    p = n.uuidPropList[l],
                                    g = cc.AssetLibrary._getAssetInfoInRuntime(u);
                                if (g.raw) {
                                    var m = g.url;
                                    (f[p] = m), _.push(m);
                                } else
                                    a.push(f),
                                        c.push(p),
                                        h.push({
                                            type: 'uuid',
                                            uuid: u,
                                            deferredLoadRaw: !0,
                                        });
                            }
                        else
                            for (
                                a = n.uuidObjList, c = n.uuidPropList, h = new Array(d.length), l = 0;
                                l < d.length;
                                l++
                            )
                                (u = d[l]),
                                    (h[l] = {
                                        type: 'uuid',
                                        uuid: u,
                                    });
                        if ((n.rawProp && (a.push(i), c.push(n.rawProp), h.push(e.url)), i._preloadRawFiles)) {
                            var v = s;
                            s = function () {
                                i._preloadRawFiles(function (t) {
                                    v(t || null, i);
                                });
                            };
                        }
                        if (0 === h.length) return cc.deserialize.Details.pool.put(n), s(null, i);
                        (e.content = i),
                            t.flowInDeps(e, h, function (t, e) {
                                var r;
                                for (var l in e.map) (r = e.map[l]).uuid && r.content && (r.content._uuid = r.uuid);
                                for (var u = 0; u < h.length; u++) {
                                    var d = h[u].uuid,
                                        f = h[u].url,
                                        p = a[u],
                                        g = c[u];
                                    if ((r = e.map[f])) {
                                        var m = {
                                            obj: p,
                                            prop: g,
                                        };

                                        function v(t) {
                                            var e = t.isRawAsset ? t.rawUrl : t.content;
                                            (this.obj[this.prop] = e),
                                                t.uuid !== i._uuid && _.indexOf(t.id) < 0 && _.push(t.id);
                                        }
                                        if (r.complete || r.content) r.error ? cc._throw(r.error) : v.call(m, r);
                                        else {
                                            var y = o.getQueue(r),
                                                C = y._callbackTable[d];
                                            C ? C.unshift(v, m) : y.addListener(d, v, m);
                                        }
                                    }
                                }
                                cc.deserialize.Details.pool.put(n), s(null, i);
                            });
                    })(this.pipeline, t, c, h, u, e);
                }
                var s = t('../platform/js');
                t('../platform/deserialize');
                var o = t('./loading-items');
                (e.exports = r), (r.isSceneObj = n);
            },
            {
                '../platform/deserialize': 151,
                '../platform/js': 156,
                './loading-items': 124,
            },
        ],
        132: [
            function (t, e, i) {
                function n(t, e, i) {
                    e ? t._removeComponent(e) : a.array.removeAt(t._components, i);
                }

                function r() {
                    this._activatingStack = [];
                }
                var s = t('./component-scheduler'),
                    o = t('./platform/CCObject').Flags,
                    a = t('./platform/js'),
                    c = o.IsPreloadStarted,
                    h = o.IsOnLoadStarted,
                    l = o.IsOnLoadCalled,
                    u = o.Deactivating,
                    d = 'c.onLoad();c._objFlags|=' + l,
                    _ = cc.Class({
                        extends: s.LifeCycleInvoker,
                        add: function (t) {
                            this._zero.array.push(t);
                        },
                        remove: function (t) {
                            this._zero.fastRemove(t);
                        },
                        cancelInactive: function (t) {
                            s.LifeCycleInvoker.stableRemoveInactive(this._zero, t);
                        },
                        invoke: function () {
                            this._invoke(this._zero), (this._zero.array.length = 0);
                        },
                    }),
                    f = s.createInvokeImpl('c.__preload();'),
                    p = s.createInvokeImpl(d),
                    g = new a.Pool(4);
                g.get = function () {
                    var t = this._get() || {
                        preload: new _(f),
                        onLoad: new s.OneOffInvoker(p),
                        onEnable: new s.OneOffInvoker(s.invokeOnEnable),
                    };
                    t.preload._zero.i = -1;
                    var e = t.onLoad;
                    return (
                        (e._zero.i = -1),
                        (e._neg.i = -1),
                        (e._pos.i = -1),
                        (e = t.onEnable),
                        (e._zero.i = -1),
                        (e._neg.i = -1),
                        (e._pos.i = -1),
                        t
                    );
                };
                var m = cc.Class({
                    ctor: r,
                    reset: r,
                    _activateNodeRecursively: function (t, e, i, r) {
                        if (t._objFlags & u) cc.errorID(3816, t.name);
                        else {
                            t._activeInHierarchy = !0;
                            for (var s = t._components.length, o = 0; o < s; ++o) {
                                var a = t._components[o];
                                a instanceof cc.Component ? this.activateComp(a, e, i, r) : (n(t, a, o), --o, --s);
                            }
                            for (var c = 0, h = t._children.length; c < h; ++c) {
                                var l = t._children[c];
                                l._active && this._activateNodeRecursively(l, e, i, r);
                            }
                            t._onPostActivated(!0);
                        }
                    },
                    _deactivateNodeRecursively: function (t) {
                        (t._objFlags |= u), (t._activeInHierarchy = !1);
                        for (var e = t._components.length, i = 0; i < e; ++i) {
                            var n = t._components[i];
                            if (n._enabled && (cc.director._compScheduler.disableComp(n), t._activeInHierarchy))
                                return void (t._objFlags &= ~u);
                        }
                        for (var r = 0, s = t._children.length; r < s; ++r) {
                            var o = t._children[r];
                            if (o._activeInHierarchy && (this._deactivateNodeRecursively(o), t._activeInHierarchy))
                                return void (t._objFlags &= ~u);
                        }
                        t._onPostActivated(!1), (t._objFlags &= ~u);
                    },
                    activateNode: function (t, e) {
                        if (e) {
                            var i = g.get();
                            this._activatingStack.push(i),
                                this._activateNodeRecursively(t, i.preload, i.onLoad, i.onEnable),
                                i.preload.invoke(),
                                i.onLoad.invoke(),
                                i.onEnable.invoke(),
                                this._activatingStack.pop(),
                                g.put(i);
                        } else {
                            this._deactivateNodeRecursively(t);
                            for (var n = this._activatingStack, r = 0; r < n.length; r++) {
                                var s = n[r];
                                s.preload.cancelInactive(c), s.onLoad.cancelInactive(h), s.onEnable.cancelInactive();
                            }
                        }
                        t.emit('active-in-hierarchy-changed', t);
                    },
                    activateComp: function (t, e, i, n) {
                        if (
                            (t._objFlags & c ||
                                ((t._objFlags |= c),
                                'function' == typeof t.__preload && (e ? e.add(t) : t.__preload())),
                            t._objFlags & h ||
                                ((t._objFlags |= h),
                                t.onLoad ? (i ? i.add(t) : (t.onLoad(), (t._objFlags |= l))) : (t._objFlags |= l)),
                            t._enabled)
                        ) {
                            if (!t.node._activeInHierarchy) return;
                            cc.director._compScheduler.enableComp(t, n);
                        }
                    },
                    destroyComp: function (t) {
                        cc.director._compScheduler.disableComp(t), t.onDestroy && t._objFlags & l && t.onDestroy();
                    },
                    resetComp: !1,
                });
                e.exports = m;
            },
            {
                './component-scheduler': 60,
                './platform/CCObject': 141,
                './platform/js': 156,
                './utils/misc': 185,
            },
        ],
        133: [
            function (t, e, i) {},
            {
                '../event-manager': 95,
                '../platform/js': 156,
                './CCMacro': 140,
                './CCSys': 144,
            },
        ],
        134: [
            function (t, e, i) {
                function n(t) {
                    return t && (t.constructor === cc.SceneAsset || t instanceof cc.Scene);
                }

                function r(t, e) {
                    (this.url = t), (this.type = e);
                }
                var s = t('../assets/CCAsset'),
                    o = t('./utils').callInNextTick,
                    a = t('../load-pipeline/CCLoader'),
                    c = t('../load-pipeline/pack-downloader'),
                    h = t('../load-pipeline/auto-release-utils'),
                    l = t('../utils/decode-uuid'),
                    u = t('../load-pipeline/md5-pipe'),
                    d = '',
                    _ = '',
                    f = {},
                    p = {
                        loadAsset: function (t, e, i) {
                            if ('string' != typeof t)
                                return o(e, new Error('[AssetLibrary] uuid must be string'), null);
                            var r = {
                                uuid: t,
                                type: 'uuid',
                            };
                            i && i.existingAsset && (r.existingAsset = i.existingAsset),
                                a.load(r, function (i, r) {
                                    if (i || !r)
                                        i = new Error(
                                            '[AssetLibrary] loading JSON or dependencies failed: ' +
                                                (i ? i.message : 'Unknown error'),
                                        );
                                    else {
                                        if (r.constructor === cc.SceneAsset) {
                                            var s = cc.loader._getReferenceKey(t);
                                            r.scene.dependAssets = h.getDependsRecursively(s);
                                        }
                                        if (n(r)) {
                                            var o = cc.loader._getReferenceKey(t);
                                            a.removeItem(o);
                                        }
                                    }
                                    e && e(i, r);
                                });
                        },
                        getLibUrlNoExt: function (t) {
                            return (t = l(t)), d + t.slice(0, 2) + '/' + t;
                        },
                        _queryAssetInfoInEditor: function (t, e) {
                            0;
                        },
                        _getAssetInfoInRuntime: function (t, e) {
                            e = e || {
                                url: null,
                                raw: !1,
                            };
                            var i = f[t];
                            return (
                                i && !cc.isChildClassOf(i.type, cc.Asset)
                                    ? ((e.url = _ + i.url), (e.raw = !0))
                                    : ((e.url = this.getLibUrlNoExt(t) + '.json'), (e.raw = !1)),
                                e
                            );
                        },
                        _getAssetUrl: function (t) {
                            var e = f[t];
                            return e ? _ + e.url : null;
                        },
                        queryAssetInfo: function (t, e) {
                            var i = this._getAssetInfoInRuntime(t);
                            e(null, i.url, i.raw);
                        },
                        parseUuidInEditor: function (t) {},
                        loadJson: function (t, e) {
                            var i = '' + (new Date().getTime() + Math.random()),
                                r = {
                                    uuid: i,
                                    type: 'uuid',
                                    content: t,
                                    skips: [a.assetLoader.id, a.downloader.id],
                                };
                            a.load(r, function (t, r) {
                                if (t)
                                    t = new Error('[AssetLibrary] loading JSON or dependencies failed: ' + t.message);
                                else {
                                    if (r.constructor === cc.SceneAsset) {
                                        var s = cc.loader._getReferenceKey(i);
                                        r.scene.dependAssets = h.getDependsRecursively(s);
                                    }
                                    if (n(r)) {
                                        var o = cc.loader._getReferenceKey(i);
                                        a.removeItem(o);
                                    }
                                }
                                (r._uuid = ''), e && e(t, r);
                            });
                        },
                        getAssetByUuid: function (t) {
                            return p._uuidToAsset[t] || null;
                        },
                        init: function (t) {
                            var e = t.libraryPath;
                            (e = e.replace(/\\/g, '/')), (d = cc.path.stripSep(e) + '/'), (_ = t.rawAssetsBase);
                            var i = t.md5AssetsMap;
                            if (i) {
                                var n = new u(i, d, _);
                                cc.loader.insertPipeAfter(cc.loader.assetLoader, n), (cc.loader.md5Pipe = n);
                            }
                            var o = a._resources;
                            o.reset();
                            var h = t.rawAssets;
                            if (h) {
                                for (var l in h) {
                                    var p = h[l];
                                    for (var g in p) {
                                        var m = p[g],
                                            v = m[0],
                                            y = m[1],
                                            C = cc.js._getClassById(y);
                                        if (C) {
                                            if (
                                                ((f[g] = new r(l + '/' + v, C)),
                                                'assets' === l && v.startsWith('resources/'))
                                            ) {
                                                if (cc.isChildClassOf(C, s)) {
                                                    var T = cc.path.extname(v);
                                                    v = T
                                                        ? v.slice('resources/'.length, -T.length)
                                                        : v.slice('resources/'.length);
                                                } else v = v.slice('resources/'.length);
                                                var E = 1 === m[2];
                                                o.add(v, g, C, !E);
                                            }
                                        } else cc.error('Cannot get', y);
                                    }
                                }
                            }
                            t.packedAssets && c.initPacks(t.packedAssets);
                            var x = t.mountPaths;
                            x ||
                                (x = {
                                    assets: _ + 'assets',
                                    internal: _ + 'internal',
                                }),
                                cc.url._init(x);
                        },
                    };
                (p._uuidToAsset = {}), (e.exports = cc.AssetLibrary = p);
            },
            {
                '../assets/CCAsset': 43,
                '../load-pipeline/CCLoader': 115,
                '../load-pipeline/auto-release-utils': 119,
                '../load-pipeline/md5-pipe': 125,
                '../load-pipeline/pack-downloader': 126,
                '../utils/decode-uuid': 182,
                './utils': 160,
            },
        ],
        135: [
            function (t, e, i) {
                function n(t, e) {
                    t.indexOf(e) < 0 && t.push(e);
                }

                function r(t, e) {
                    n(t.__props__, e);
                }

                function s(t, e, i, n, s) {
                    var o = n.default;
                    C.setClassAttr(t, i, 'default', o), r(t, i);
                    var a = g(t, n, e, i, !1);
                    if (a) {
                        for (var c = A, h = 0; h < a.length; h++) {
                            var l = a[h];
                            C.attr(t, i, l), l._onAfterProp && c.push(l._onAfterProp);
                        }
                        for (var u = 0; u < c.length; u++) c[u](t, i);
                        (A.length = 0), (a.length = 0);
                    }
                }

                function o(t, e, i, n, r) {
                    var s = n.get,
                        o = n.set,
                        a = t.prototype,
                        c = Object.getOwnPropertyDescriptor(a, i),
                        h = !c;
                    if (s) {
                        0;
                        for (var l = g(t, n, e, i, !0), u = 0; u < l.length; u++) C.attr(t, i, l[u]);
                        l.length = 0;
                        C.setClassAttr(t, i, 'serializable', !1), r || m.get(a, i, s, h, h);
                    }
                    o && (r || m.set(a, i, o, h, h));
                }

                function a(t) {
                    return 'function' == typeof t ? t() : t;
                }

                function c(t, e, i) {
                    for (var n in e)
                        t.hasOwnProperty(n) ||
                            (i && !i(n)) ||
                            Object.defineProperty(t, n, m.getPropertyDescriptor(e, n));
                }

                function h(t, e, i, r) {
                    var s,
                        o,
                        a = r.__ctor__,
                        h = r.ctor,
                        l = r.__ES6__;
                    l
                        ? ((s = [h]), (o = h))
                        : ((s = a
                              ? [a]
                              : (function (t, e, i) {
                                    function r(t) {
                                        return p._isCCClass(t) ? t.__ctors__ || [] : [t];
                                    }
                                    for (var s = [], o = [t].concat(e), a = 0; a < o.length; a++) {
                                        var c = o[a];
                                        if (c) for (var h = r(c), l = 0; l < h.length; l++) n(s, h[l]);
                                    }
                                    var u = i.ctor;
                                    u && s.push(u);
                                    return s;
                                })(e, i, r)),
                          (o = w(s, e, t, r)),
                          m.value(
                              o,
                              'extend',
                              function (t) {
                                  return (t.extends = this), p(t);
                              },
                              !0,
                          )),
                        m.value(o, '__ctors__', s.length > 0 ? s : null, !0);
                    var u = o.prototype;
                    if ((e && (l || (m.extend(o, e), (u = o.prototype)), m.value(o, '$super', e)), i)) {
                        for (var _ = i.length - 1; _ >= 0; _--) {
                            var f = i[_];
                            c(u, f.prototype),
                                c(o, f, function (t) {
                                    return f.hasOwnProperty(t) && !0;
                                }),
                                p._isCCClass(f) &&
                                    c(
                                        C.getClassAttrs(o).constructor.prototype,
                                        C.getClassAttrs(f).constructor.prototype,
                                    );
                        }
                        u.constructor = o;
                    }
                    return l || (u.__initProps__ = d), m.setClassName(t, o), o;
                }

                function l(t) {
                    for (
                        var e = m.getClassName(t), i = t.constructor, n = 'new ' + e + '(', r = 0;
                        r < i.__props__.length;
                        r++
                    ) {
                        var s = t[i.__props__[r]];
                        if ('object' == typeof s) return cc.errorID(3641, e), 'new ' + e + '()';
                        (n += s), r < i.__props__.length - 1 && (n += ',');
                    }
                    return n + ')';
                }

                function u(t) {
                    return JSON.stringify(t)
                        .replace(/\u2028/g, '\\u2028')
                        .replace(/\u2029/g, '\\u2029');
                }

                function d(t) {
                    var e = C.getClassAttrs(t),
                        i = t.__props__;
                    null === i && (b.init(), (i = t.__props__));
                    var n = (function (t, e) {
                        for (var i = [], n = '', r = 0; r < e.length; r++) {
                            var s = e[r],
                                o = s + T + 'default';
                            if (o in t) {
                                var a;
                                a = R.test(s) ? 'this.' + s + '=' : 'this[' + u(s) + ']=';
                                var c,
                                    h = t[o];
                                if ('object' == typeof h && h)
                                    c = h instanceof cc.ValueType ? l(h) : Array.isArray(h) ? '[]' : '{}';
                                else if ('function' == typeof h) {
                                    var d = i.length;
                                    i.push(h), (c = 'F[' + d + ']()');
                                } else c = 'string' == typeof h ? u(h) : h;
                                n += a = a + c + ';\n';
                            }
                        }
                        return 0 === i.length ? Function(n) : Function('F', 'return (function(){\n' + n + '})')(i);
                    })(e, i);
                    (t.prototype.__initProps__ = n), n.call(this);
                }

                function _(t, e, i) {
                    var n = !1;
                    for (var r in e)
                        if (!(S.indexOf(r) >= 0)) {
                            var s = e[r];
                            if ('function' == typeof s) {
                                var o = m.getPropertyDescriptor(t.prototype, r);
                                if (o) {
                                    var a = o.value;
                                    if ('function' == typeof a) {
                                        I.test(s) &&
                                            ((n = !0),
                                            (e[r] = (function (t, e) {
                                                return function () {
                                                    var i = this._super;
                                                    this._super = t;
                                                    var n = e.apply(this, arguments);
                                                    return (this._super = i), n;
                                                };
                                            })(a, s)));
                                        continue;
                                    }
                                }
                                0;
                            }
                        }
                    return n;
                }

                function f(t, e, i, n, r, a) {
                    if (((t.__props__ = []), n && n.__props__ && (t.__props__ = n.__props__.slice()), r))
                        for (var c = 0; c < r.length; ++c) {
                            var h = r[c];
                            h.__props__ &&
                                (t.__props__ = t.__props__.concat(
                                    h.__props__.filter(function (e) {
                                        return t.__props__.indexOf(e) < 0;
                                    }),
                                ));
                        }
                    if (i) {
                        x.preprocessAttrs(i, e, t, a);
                        for (var l in i) {
                            var u = i[l];
                            'default' in u ? s(t, e, l, u) : o(t, e, l, u, a);
                        }
                    }
                }

                function p(t) {
                    var e = (t = t || {}).name,
                        i = t.extends,
                        n = t.mixins,
                        r = (function (t, e, i, n) {
                            var r = cc.Component,
                                s = cc._RF.peek();
                            if (s && cc.isChildClassOf(e, r)) {
                                if (cc.isChildClassOf(s.cls, r)) return cc.errorID(3615), null;
                                t = t || s.script;
                            }
                            var o = h(t, e, i, n);
                            if (s)
                                if (cc.isChildClassOf(e, r)) {
                                    var a = s.uuid;
                                    a && m._setClassId(a, o), (s.cls = o);
                                } else cc.isChildClassOf(s.cls, r) || (s.cls = o);
                            return o;
                        })(e, i, n, t);
                    e || (e = cc.js.getClassName(r)), (r._sealed = !0), i && (i._sealed = !1);
                    var s = t.properties;
                    'function' == typeof s ||
                    (i && null === i.__props__) ||
                    (n &&
                        n.some(function (t) {
                            return null === t.__props__;
                        }))
                        ? (b.push({
                              cls: r,
                              props: s,
                              mixins: n,
                          }),
                          (r.__props__ = null))
                        : f(r, e, s, i, t.mixins, t.__ES6__);
                    var o = t.statics;
                    if (o) {
                        var a;
                        0;
                        for (a in o) r[a] = o[a];
                    }
                    for (var c in t)
                        if (!(S.indexOf(c) >= 0)) {
                            var l = t[c];
                            x.validateMethodWithProps(l, c, e, r, i) && m.value(r.prototype, c, l, !0, !0);
                        }
                    var u = t.editor;
                    return u && cc.isChildClassOf(i, cc.Component) && cc.Component._registerEditorProps(r, u), r;
                }

                function g(t, e, i, n, r) {
                    function s() {
                        return (c = n + T), (a = C.getClassAttrsProto(t));
                    }

                    function o(t, i) {
                        if (t in e) {
                            var n = e[t];
                            typeof n === i && ((a || s())[c + t] = n);
                        }
                    }
                    var a = null,
                        c = '';
                    L.length = 0;
                    var h = L,
                        l = e.type;
                    if (l) {
                        var u = O[l];
                        if (u)
                            h.push({
                                type: l,
                                _onAfterProp: E(u, 'cc.' + l),
                            });
                        else if ('Object' === l) 0;
                        else if (l === C.ScriptUuid) {
                            var d = C.ObjectType(cc.ScriptAsset);
                            (d.type = 'Script'), h.push(d);
                        } else
                            'object' == typeof l
                                ? v.isEnum(l) &&
                                  h.push({
                                      type: 'Enum',
                                      enumList: v.getList(l),
                                  })
                                : 'function' == typeof l &&
                                  (e.url
                                      ? h.push({
                                            type: 'Object',
                                            ctor: l,
                                            _onAfterProp: E('String', 'cc.String'),
                                        })
                                      : h.push(
                                            e._short
                                                ? {
                                                      type: 'Object',
                                                      ctor: l,
                                                  }
                                                : C.ObjectType(l),
                                        ));
                    }
                    e.editorOnly && ((a || s())[c + 'editorOnly'] = !0),
                        e.url && ((a || s())[c + 'saveUrlAsAsset'] = !0),
                        !1 === e.serializable && ((a || s())[c + 'serializable'] = !1),
                        o('formerlySerializedAs', 'string');
                    var _ = e.range;
                    return (
                        _ &&
                            Array.isArray(_) &&
                            _.length >= 2 &&
                            (((a || s())[c + 'min'] = _[0]),
                            (a[c + 'max'] = _[1]),
                            _.length > 2 && (a[c + 'step'] = _[2])),
                        o('min', 'number'),
                        o('max', 'number'),
                        o('step', 'number'),
                        h
                    );
                }
                var m = t('./js'),
                    v = t('./CCEnum'),
                    y = t('./utils'),
                    C = (y.isPlainEmptyObj_DEV, y.cloneable_DEV, t('./attribute')),
                    T = C.DELIMETER,
                    E = C.getTypeChecker,
                    x = t('./preprocess-class');
                t('./requiring-frame');
                var S = ['name', 'extends', 'mixins', 'ctor', '__ctor__', 'properties', 'statics', 'editor', '__ES6__'],
                    b = {
                        datas: null,
                        push: function (t) {
                            if (this.datas) this.datas.push(t);
                            else {
                                this.datas = [t];
                                var e = this;
                                setTimeout(function () {
                                    e.init();
                                }, 0);
                            }
                        },
                        init: function () {
                            var t = this.datas;
                            if (t) {
                                for (var e = 0; e < t.length; ++e) {
                                    var i = t[e],
                                        n = i.cls,
                                        r = i.props;
                                    'function' == typeof r && (r = r());
                                    var s = m.getClassName(n);
                                    r ? f(n, s, r, n.$super, i.mixins) : cc.errorID(3633, s);
                                }
                                this.datas = null;
                            }
                        },
                    },
                    A = [],
                    R = /^[$A-Za-z_][0-9A-Za-z_$]*$/,
                    w = function (t, e, i, n) {
                        var r = 'return function CCClass(){\n';
                        e && _(e, n) && (r += 'this._super=null;\n'), (r += 'this.__initProps__(CCClass);\n');
                        var s = t.length;
                        if (s > 0) {
                            var o = !(i && i.startsWith('cc.'));
                            o && (r += 'try{\n');
                            var a = '].apply(this,arguments);\n';
                            if (1 === s) r += 'CCClass.__ctors__[0' + a;
                            else {
                                r += 'var cs=CCClass.__ctors__;\n';
                                for (var c = 0; c < s; c++) r += 'cs[' + c + a;
                            }
                            o && (r += '}catch(e){\ncc._throw(e);\n}\n');
                        }
                        return (r += '}'), Function(r)();
                    },
                    I = /xyz/.test(function () {
                        xyz;
                    })
                        ? /\b\._super\b/
                        : /.*/;
                /xyz/.test(function () {
                    xyz;
                });
                (p._isCCClass = function (t) {
                    return t && t.hasOwnProperty('__ctors__');
                }),
                    (p._fastDefine = function (t, e, i) {
                        m.setClassName(t, e);
                        for (
                            var n = (e.__props__ = Object.keys(i)), r = C.getClassAttrsProto(e), s = 0;
                            s < n.length;
                            s++
                        ) {
                            var o = n[s];
                            (r[o + T + 'visible'] = !1), (r[o + T + 'default'] = i[o]);
                        }
                    }),
                    (p.Attr = C),
                    (p.attr = C.attr),
                    (cc.isChildClassOf = function (t, e) {
                        if (t && e) {
                            if ('function' != typeof t) return !1;
                            if ('function' != typeof e) return !1;
                            if (t === e) return !0;
                            for (;;) {
                                if (!(t = m.getSuper(t))) return !1;
                                if (t === e) return !0;
                            }
                        }
                        return !1;
                    }),
                    (p.getInheritanceChain = function (t) {
                        for (var e = []; (t = m.getSuper(t)); ) t !== Object && e.push(t);
                        return e;
                    });
                var O = {
                        Integer: 'Number',
                        Float: 'Number',
                        Boolean: 'Boolean',
                        String: 'String',
                    },
                    L = [];
                (cc.Class = p),
                    (e.exports = {
                        isArray: function (t) {
                            return (t = a(t)), Array.isArray(t);
                        },
                        fastDefine: p._fastDefine,
                        getNewValueTypeCode: l,
                        IDENTIFIER_RE: R,
                        escapeForJS: u,
                        getDefault: a,
                    });
            },
            {
                './CCEnum': 137,
                './attribute': 148,
                './js': 156,
                './preprocess-class': 157,
                './requiring-frame': 158,
                './utils': 160,
            },
        ],
        136: [
            function (t, e, i) {
                function n(t) {
                    return t;
                }

                function r(t, e) {
                    return t[e] || (t[e] = {});
                }

                function s(t) {
                    return function (e) {
                        return 'function' == typeof e
                            ? t(e)
                            : function (i) {
                                  return t(i, e);
                              };
                    };
                }

                function o(t, e, i) {
                    return function (t) {
                        return function (i) {
                            return e(i, t);
                        };
                    };
                }

                function a(t) {
                    return o.bind(null, !1);
                }

                function c(t, e) {
                    return r(t, _);
                }

                function h(t, e, i) {
                    return t(function (t, n) {
                        var s = c(t);
                        if (s) {
                            var o = void 0 !== i ? i : n;
                            r(r(s, 'proto'), 'editor')[e] = o;
                        }
                    }, e);
                }

                function l(t) {
                    return t(n);
                }
                t('./CCClass');
                var u = t('./preprocess-class'),
                    d = t('./js'),
                    _ = '__ccclassCache__',
                    f = o.bind(null, !1),
                    p = a(),
                    g = a(),
                    m = s(function (t, e) {
                        var i = d.getSuper(t);
                        i === Object && (i = null);
                        var n = {
                                name: e,
                                extends: i,
                                ctor: t,
                                __ES6__: !0,
                            },
                            r = t[_];
                        if (r) {
                            var s = r.proto;
                            s && d.mixin(n, s), (t[_] = void 0);
                        }
                        return cc.Class(n);
                    }),
                    v = l(s),
                    y = h(f, 'requireComponent'),
                    C = l(p),
                    T = h(g, 'executionOrder'),
                    E = l(s),
                    x = l(s),
                    S = l(p),
                    b = l(p),
                    A = l(p);
                cc._decorator = e.exports = {
                    ccclass: m,
                    property: function (t, e, i) {
                        function n(t, e, i) {
                            var n = c(t.constructor);
                            if (n) {
                                var o = r(r(n, 'proto'), 'properties');
                                (function (t, e, i, n, r, s) {
                                    var o = n && (u.getFullFormOfProperty(n) || n),
                                        a = e[i],
                                        c = d.mixin(a || {}, o || {});
                                    if (r && (r.get || r.set)) r.get && (c.get = r.get), r.set && (c.set = r.set);
                                    else {
                                        var h = void 0;
                                        if (r)
                                            r.initializer &&
                                                (h = (function (t) {
                                                    var e;
                                                    try {
                                                        e = t();
                                                    } catch (e) {
                                                        return t;
                                                    }
                                                    return 'object' != typeof e || null === e ? e : t;
                                                })(r.initializer));
                                        else {
                                            var l =
                                                s.default ||
                                                (s.default = (function (t) {
                                                    var e;
                                                    try {
                                                        e = new t();
                                                    } catch (t) {
                                                        return {};
                                                    }
                                                    return e;
                                                })(t));
                                            l.hasOwnProperty(i) && (h = l[i]);
                                        }
                                        c.default = h;
                                    }
                                    e[i] = c;
                                })(t.constructor, o, e, s, i, n);
                            }
                        }
                        var s = null;
                        if (void 0 === e) return (s = t), n;
                        n(t, e, i);
                    },
                    executeInEditMode: v,
                    requireComponent: y,
                    menu: C,
                    executionOrder: T,
                    disallowMultiple: E,
                    playOnFocus: x,
                    inspector: S,
                    icon: b,
                    help: A,
                    mixins: function () {
                        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                        return function (e) {
                            var i = c(e);
                            i && (r(i, 'proto').mixins = t);
                        };
                    },
                };
            },
            {
                './CCClass': 135,
                './js': 156,
                './preprocess-class': 157,
                './utils': 160,
            },
        ],
        137: [
            function (t, e, i) {
                function n(t) {
                    if ('__enums__' in t) return t;
                    r.value(t, '__enums__', null, !0);
                    for (var e = -1, i = Object.keys(t), n = 0; n < i.length; n++) {
                        var s = i[n],
                            o = t[s];
                        if (-1 === o) (o = ++e), (t[s] = o);
                        else if ('number' == typeof o) e = o;
                        else if ('string' == typeof o && Number.isInteger(parseFloat(s))) continue;
                        var a = '' + o;
                        s !== a && r.value(t, a, s);
                    }
                    return t;
                }
                var r = t('./js');
                (n.isEnum = function (t) {
                    return t && t.hasOwnProperty('__enums__');
                }),
                    (n.getList = function (t) {
                        if (t.__enums__) return t.__enums__;
                        var e = (t.__enums__ = []);
                        for (var i in t) {
                            var n = t[i];
                            Number.isInteger(n) &&
                                e.push({
                                    name: i,
                                    value: n,
                                });
                        }
                        return (
                            e.sort(function (t, e) {
                                return t.value - e.value;
                            }),
                            e
                        );
                    });
                e.exports = cc.Enum = n;
            },
            {
                './js': 156,
            },
        ],
        138: [
            function (t, e, i) {
                cc.ClassManager || t('./_CCClass');
                var n = t('../event-manager'),
                    r = t('./CCInputManager');
                r.__instanceId = cc.ClassManager.getNewInstanceId();
                var s;
                (r.setAccelerometerEnabled = function (t) {
                    if (this._accelEnabled !== t) {
                        this._accelEnabled = t;
                        var e = cc.director.getScheduler();
                        this._accelEnabled, (this._accelCurTime = 0), e.scheduleUpdate(this);
                    }
                }),
                    (r.setAccelerometerInterval = function (t) {
                        this._accelInterval !== t && (this._accelInterval = t);
                    }),
                    (r._registerKeyboardEvent = function () {
                        cc.game.canvas.addEventListener(
                            'keydown',
                            function (t) {
                                n.dispatchEvent(new cc.Event.EventKeyboard(t.keyCode, !0)),
                                    t.stopPropagation(),
                                    t.preventDefault();
                            },
                            !1,
                        ),
                            cc.game.canvas.addEventListener(
                                'keyup',
                                function (t) {
                                    n.dispatchEvent(new cc.Event.EventKeyboard(t.keyCode, !1)),
                                        t.stopPropagation(),
                                        t.preventDefault();
                                },
                                !1,
                            );
                    }),
                    (r._registerAccelerometerEvent = function () {
                        var t = window;
                        (this._acceleration = new cc.Acceleration()),
                            (this._accelDeviceEvent = t.DeviceMotionEvent || t.DeviceOrientationEvent),
                            cc.sys.browserType === cc.sys.BROWSER_TYPE_MOBILE_QQ &&
                                (this._accelDeviceEvent = window.DeviceOrientationEvent);
                        var e = this._accelDeviceEvent === t.DeviceMotionEvent ? 'devicemotion' : 'deviceorientation',
                            i = navigator.userAgent;
                        (/Android/.test(i) || (/Adr/.test(i) && cc.sys.browserType === cc.BROWSER_TYPE_UC)) &&
                            (this._minus = -1),
                            (s = this.didAccelerate.bind(this)),
                            t.addEventListener(e, s, !1);
                    }),
                    (r._unregisterAccelerometerEvent = function () {
                        var t = window,
                            e = this._accelDeviceEvent === t.DeviceMotionEvent ? 'devicemotion' : 'deviceorientation';
                        s && t.removeEventListener(e, s, !1);
                    }),
                    (r.didAccelerate = function (t) {
                        var e = window;
                        if (this._accelEnabled) {
                            var i,
                                n,
                                r,
                                s = this._acceleration;
                            if (this._accelDeviceEvent === window.DeviceMotionEvent) {
                                var o = t.accelerationIncludingGravity;
                                (i = this._accelMinus * o.x * 0.1), (n = this._accelMinus * o.y * 0.1), (r = 0.1 * o.z);
                            } else
                                (i = (t.gamma / 90) * 0.981),
                                    (n = (-t.beta / 90) * 0.981),
                                    (r = (t.alpha / 90) * 0.981);
                            (s.x = i), (s.y = n), (s.z = r), (s.timestamp = t.timeStamp || Date.now());
                            var a = s.x;
                            e.orientation === cc.macro.WEB_ORIENTATION_LANDSCAPE_RIGHT
                                ? ((s.x = -s.y), (s.y = a))
                                : e.orientation === cc.macro.WEB_ORIENTATION_LANDSCAPE_LEFT
                                ? ((s.x = s.y), (s.y = -a))
                                : e.orientation === cc.macro.WEB_ORIENTATION_PORTRAIT_UPSIDE_DOWN &&
                                  ((s.x = -s.x), (s.y = -s.y)),
                                cc.sys.os === cc.sys.OS_ANDROID &&
                                    cc.sys.browserType !== cc.sys.BROWSER_TYPE_MOBILE_QQ &&
                                    ((s.x = -s.x), (s.y = -s.y));
                        }
                    });
            },
            {
                '../event-manager': 95,
                './CCInputManager': 139,
                './_CCClass': 147,
            },
        ],
        139: [
            function (t, e, i) {
                var n = t('../platform/js'),
                    r = t('./CCMacro'),
                    s = t('./CCSys'),
                    o = t('../event-manager'),
                    a = r.TOUCH_TIMEOUT,
                    c = {
                        _mousePressed: !1,
                        _isRegisterEvent: !1,
                        _preTouchPoint: cc.p(0, 0),
                        _prevMousePoint: cc.p(0, 0),
                        _preTouchPool: [],
                        _preTouchPoolPointer: 0,
                        _touches: [],
                        _touchesIntegerDict: {},
                        _indexBitsUsed: 0,
                        _maxTouches: 5,
                        _accelEnabled: !1,
                        _accelInterval: 1 / 30,
                        _accelMinus: 1,
                        _accelCurTime: 0,
                        _acceleration: null,
                        _accelDeviceEvent: null,
                        _getUnUsedIndex: function () {
                            for (var t = this._indexBitsUsed, e = cc.sys.now(), i = 0; i < this._maxTouches; i++) {
                                if (!(1 & t)) return (this._indexBitsUsed |= 1 << i), i;
                                var n = this._touches[i];
                                if (e - n._lastModified > a)
                                    return this._removeUsedIndexBit(i), delete this._touchesIntegerDict[n.getID()], i;
                                t >>= 1;
                            }
                            return -1;
                        },
                        _removeUsedIndexBit: function (t) {
                            if (!(t < 0 || t >= this._maxTouches)) {
                                var e = 1 << t;
                                (e = ~e), (this._indexBitsUsed &= e);
                            }
                        },
                        _glView: null,
                        handleTouchesBegin: function (t) {
                            for (
                                var e, i, n, r = [], a = this._touchesIntegerDict, c = s.now(), h = 0, l = t.length;
                                h < l;
                                h++
                            )
                                if (((e = t[h]), (n = e.getID()), null == a[n])) {
                                    var u = this._getUnUsedIndex();
                                    if (-1 === u) {
                                        cc.logID(2300, u);
                                        continue;
                                    }
                                    ((i = this._touches[u] =
                                        new cc.Touch(e._point.x, e._point.y, e.getID()))._lastModified = c),
                                        i._setPrevPoint(e._prevPoint),
                                        (a[n] = u),
                                        r.push(i);
                                }
                            if (r.length > 0) {
                                this._glView._convertTouchesWithScale(r);
                                var d = new cc.Event.EventTouch(r);
                                (d._eventCode = cc.Event.EventTouch.BEGAN), o.dispatchEvent(d);
                            }
                        },
                        handleTouchesMove: function (t) {
                            for (var e, i, n, r = [], a = this._touches, c = s.now(), h = 0, l = t.length; h < l; h++)
                                (n = (e = t[h]).getID()),
                                    null != (i = this._touchesIntegerDict[n]) &&
                                        a[i] &&
                                        (a[i]._setPoint(e._point),
                                        a[i]._setPrevPoint(e._prevPoint),
                                        (a[i]._lastModified = c),
                                        r.push(a[i]));
                            if (r.length > 0) {
                                this._glView._convertTouchesWithScale(r);
                                var u = new cc.Event.EventTouch(r);
                                (u._eventCode = cc.Event.EventTouch.MOVED), o.dispatchEvent(u);
                            }
                        },
                        handleTouchesEnd: function (t) {
                            var e = this.getSetOfTouchesEndOrCancel(t);
                            if (e.length > 0) {
                                this._glView._convertTouchesWithScale(e);
                                var i = new cc.Event.EventTouch(e);
                                (i._eventCode = cc.Event.EventTouch.ENDED), o.dispatchEvent(i);
                            }
                        },
                        handleTouchesCancel: function (t) {
                            var e = this.getSetOfTouchesEndOrCancel(t);
                            if (e.length > 0) {
                                this._glView._convertTouchesWithScale(e);
                                var i = new cc.Event.EventTouch(e);
                                (i._eventCode = cc.Event.EventTouch.CANCELLED), o.dispatchEvent(i);
                            }
                        },
                        getSetOfTouchesEndOrCancel: function (t) {
                            for (
                                var e,
                                    i,
                                    n,
                                    r = [],
                                    s = this._touches,
                                    o = this._touchesIntegerDict,
                                    a = 0,
                                    c = t.length;
                                a < c;
                                a++
                            )
                                null != (i = o[(n = (e = t[a]).getID())]) &&
                                    s[i] &&
                                    (s[i]._setPoint(e._point),
                                    s[i]._setPrevPoint(e._prevPoint),
                                    r.push(s[i]),
                                    this._removeUsedIndexBit(i),
                                    delete o[n]);
                            return r;
                        },
                        getHTMLElementPosition: function (t) {
                            if (s.platform === s.WECHAT_GAME)
                                return {
                                    left: 0,
                                    top: 0,
                                    width: window.innerWidth,
                                    height: window.innerHeight,
                                };
                            var e = document.documentElement,
                                i = window.pageXOffset - e.clientLeft,
                                n = window.pageYOffset - e.clientTop;
                            if ('function' == typeof t.getBoundingClientRect) {
                                var r = t.getBoundingClientRect();
                                return {
                                    left: r.left + i,
                                    top: r.top + n,
                                    width: r.width,
                                    height: r.height,
                                };
                            }
                            return t instanceof HTMLCanvasElement
                                ? {
                                      left: i,
                                      top: n,
                                      width: t.width,
                                      height: t.height,
                                  }
                                : {
                                      left: i,
                                      top: n,
                                      width: parseInt(t.style.width),
                                      height: parseInt(t.style.height),
                                  };
                        },
                        getPreTouch: function (t) {
                            for (var e = null, i = this._preTouchPool, n = t.getID(), r = i.length - 1; r >= 0; r--)
                                if (i[r].getID() === n) {
                                    e = i[r];
                                    break;
                                }
                            return e || (e = t), e;
                        },
                        setPreTouch: function (t) {
                            for (var e = !1, i = this._preTouchPool, n = t.getID(), r = i.length - 1; r >= 0; r--)
                                if (i[r].getID() === n) {
                                    (i[r] = t), (e = !0);
                                    break;
                                }
                            e ||
                                (i.length <= 50
                                    ? i.push(t)
                                    : ((i[this._preTouchPoolPointer] = t),
                                      (this._preTouchPoolPointer = (this._preTouchPoolPointer + 1) % 50)));
                        },
                        getTouchByXY: function (t, e, i) {
                            var n = this._preTouchPoint,
                                r = this._glView.convertToLocationInView(t, e, i),
                                s = new cc.Touch(r.x, r.y);
                            return s._setPrevPoint(n.x, n.y), (n.x = r.x), (n.y = r.y), s;
                        },
                        getMouseEvent: function (t, e, i) {
                            var n = this._prevMousePoint,
                                r = new cc.Event.EventMouse(i);
                            return (
                                r._setPrevCursor(n.x, n.y),
                                (n.x = t.x),
                                (n.y = t.y),
                                this._glView._convertMouseToLocationInView(n, e),
                                r.setLocation(n.x, n.y),
                                r
                            );
                        },
                        getPointByEvent: function (t, e) {
                            return null != t.pageX
                                ? {
                                      x: t.pageX,
                                      y: t.pageY,
                                  }
                                : (s.platform === s.WECHAT_GAME
                                      ? ((e.left = 0), (e.top = 0))
                                      : ((e.left -= document.body.scrollLeft), (e.top -= document.body.scrollTop)),
                                  {
                                      x: t.clientX,
                                      y: t.clientY,
                                  });
                        },
                        getTouchesByEvent: function (t, e) {
                            for (
                                var i,
                                    n,
                                    r,
                                    o = [],
                                    a = this._glView,
                                    c = this._preTouchPoint,
                                    h = t.changedTouches.length,
                                    l = 0;
                                l < h;
                                l++
                            )
                                if ((i = t.changedTouches[l])) {
                                    var u;
                                    (u =
                                        s.BROWSER_TYPE_FIREFOX === s.browserType
                                            ? a.convertToLocationInView(i.pageX, i.pageY, e)
                                            : a.convertToLocationInView(i.clientX, i.clientY, e)),
                                        null != i.identifier
                                            ? ((n = new cc.Touch(u.x, u.y, i.identifier)),
                                              (r = this.getPreTouch(n).getLocation()),
                                              n._setPrevPoint(r.x, r.y),
                                              this.setPreTouch(n))
                                            : (n = new cc.Touch(u.x, u.y))._setPrevPoint(c.x, c.y),
                                        (c.x = u.x),
                                        (c.y = u.y),
                                        o.push(n);
                                }
                            return o;
                        },
                        registerSystemEvent: function (t) {
                            if (!this._isRegisterEvent) {
                                this._glView = cc.view;
                                var e = this,
                                    i = s.isMobile,
                                    n = 'mouse' in s.capabilities,
                                    r = 'touches' in s.capabilities;
                                if ((s.platform === s.WECHAT_GAME && ((i = !1), (r = !0), (n = !1)), n)) {
                                    i ||
                                        (window.addEventListener(
                                            'mousedown',
                                            function () {
                                                e._mousePressed = !0;
                                            },
                                            !1,
                                        ),
                                        window.addEventListener(
                                            'mouseup',
                                            function (i) {
                                                if (e._mousePressed) {
                                                    e._mousePressed = !1;
                                                    var n = e.getHTMLElementPosition(t),
                                                        r = e.getPointByEvent(i, n);
                                                    if (
                                                        !cc.rectContainsPoint(
                                                            new cc.Rect(n.left, n.top, n.width, n.height),
                                                            r,
                                                        )
                                                    ) {
                                                        e.handleTouchesEnd([e.getTouchByXY(r.x, r.y, n)]);
                                                        var s = e.getMouseEvent(r, n, cc.Event.EventMouse.UP);
                                                        s.setButton(i.button), o.dispatchEvent(s);
                                                    }
                                                }
                                            },
                                            !1,
                                        ));
                                    for (
                                        var a = cc.Event.EventMouse,
                                            c = [
                                                !i && [
                                                    'mousedown',
                                                    a.DOWN,
                                                    function (i, n, r, s) {
                                                        (e._mousePressed = !0),
                                                            e.handleTouchesBegin([e.getTouchByXY(r.x, r.y, s)]),
                                                            t.focus();
                                                    },
                                                ],
                                                !i && [
                                                    'mouseup',
                                                    a.UP,
                                                    function (t, i, n, r) {
                                                        (e._mousePressed = !1),
                                                            e.handleTouchesEnd([e.getTouchByXY(n.x, n.y, r)]);
                                                    },
                                                ],
                                                !i && [
                                                    'mousemove',
                                                    a.MOVE,
                                                    function (t, i, n, r) {
                                                        e.handleTouchesMove([e.getTouchByXY(n.x, n.y, r)]),
                                                            e._mousePressed || i.setButton(null);
                                                    },
                                                ],
                                                [
                                                    'mousewheel',
                                                    a.SCROLL,
                                                    function (t, e) {
                                                        e.setScrollData(0, t.wheelDelta);
                                                    },
                                                ],
                                                [
                                                    'DOMMouseScroll',
                                                    a.SCROLL,
                                                    function (t, e) {
                                                        e.setScrollData(0, -120 * t.detail);
                                                    },
                                                ],
                                            ],
                                            h = 0;
                                        h < c.length;
                                        ++h
                                    ) {
                                        var l = c[h];
                                        l &&
                                            (function () {
                                                var i = l[0],
                                                    n = l[1],
                                                    r = l[2];
                                                t.addEventListener(
                                                    i,
                                                    function (i) {
                                                        var s = e.getHTMLElementPosition(t),
                                                            a = e.getPointByEvent(i, s),
                                                            c = e.getMouseEvent(a, s, n);
                                                        c.setButton(i.button),
                                                            r(i, c, a, s),
                                                            o.dispatchEvent(c),
                                                            i.stopPropagation(),
                                                            i.preventDefault();
                                                    },
                                                    !1,
                                                );
                                            })();
                                    }
                                }
                                if (window.navigator.msPointerEnabled) {
                                    var u = {
                                            MSPointerDown: e.handleTouchesBegin,
                                            MSPointerMove: e.handleTouchesMove,
                                            MSPointerUp: e.handleTouchesEnd,
                                            MSPointerCancel: e.handleTouchesCancel,
                                        },
                                        d = function (i) {
                                            var n = u[i];
                                            t.addEventListener(
                                                i,
                                                function (i) {
                                                    var r = e.getHTMLElementPosition(t);
                                                    (r.left -= document.documentElement.scrollLeft),
                                                        (r.top -= document.documentElement.scrollTop),
                                                        n.call(e, [e.getTouchByXY(i.clientX, i.clientY, r)]),
                                                        i.stopPropagation();
                                                },
                                                !1,
                                            );
                                        };
                                    for (var _ in u) d(_);
                                }
                                if (r) {
                                    var f,
                                        p = {
                                            touchstart: function (i) {
                                                e.handleTouchesBegin(i), s.platform !== s.WECHAT_GAME && t.focus();
                                            },
                                            touchmove: function (t) {
                                                e.handleTouchesMove(t);
                                            },
                                            touchend: function (t) {
                                                e.handleTouchesEnd(t);
                                            },
                                            touchcancel: function (t) {
                                                e.handleTouchesCancel(t);
                                            },
                                        };
                                    cc.sys.browserType === cc.sys.BROWSER_TYPE_WECHAT_GAME_SUB
                                        ? ((p = {
                                              onTouchStart: p.touchstart,
                                              onTouchMove: p.touchmove,
                                              onTouchEnd: p.touchend,
                                              onTouchCancel: p.touchcancel,
                                          }),
                                          (f = function (i) {
                                              var n = p[i];
                                              wx[i](function (i) {
                                                  if (i.changedTouches) {
                                                      var r = e.getHTMLElementPosition(t),
                                                          s = document.body;
                                                      (r.left -= s.scrollLeft || 0),
                                                          (r.top -= s.scrollTop || 0),
                                                          n(e.getTouchesByEvent(i, r));
                                                  }
                                              });
                                          }))
                                        : (f = function (i) {
                                              var n = p[i];
                                              t.addEventListener(
                                                  i,
                                                  function (i) {
                                                      if (!cc.sys.skipTouch && i.changedTouches) {
                                                          var r = e.getHTMLElementPosition(t),
                                                              s = document.body;
                                                          (r.left -= s.scrollLeft || 0),
                                                              (r.top -= s.scrollTop || 0),
                                                              n(e.getTouchesByEvent(i, r)),
                                                              i.stopPropagation(),
                                                              i.preventDefault();
                                                      }
                                                  },
                                                  !1,
                                              );
                                          });
                                    for (var g in p) f(g);
                                }
                                cc.sys.browserType !== cc.sys.BROWSER_TYPE_WECHAT_GAME_SUB &&
                                    (this._registerKeyboardEvent(), this._registerAccelerometerEvent()),
                                    (this._isRegisterEvent = !0);
                            }
                        },
                        _registerKeyboardEvent: function () {},
                        _registerAccelerometerEvent: function () {},
                        update: function (t) {
                            this._accelCurTime > this._accelInterval &&
                                ((this._accelCurTime -= this._accelInterval),
                                o.dispatchEvent(new cc.Event.EventAcceleration(this._acceleration))),
                                (this._accelCurTime += t);
                        },
                    };
                n.get(cc, 'inputManager', function () {
                    return cc.warnID(1405, 'cc.inputManager', 'cc.systemEvent'), c;
                }),
                    (e.exports = _cc.inputManager = c);
            },
            {
                '../event-manager': 95,
                '../platform/js': 156,
                './CCMacro': 140,
                './CCSys': 144,
            },
        ],
        140: [
            function (t, e, i) {
                t('./_CCClass'),
                    (cc.KEY = {
                        none: 0,
                        back: 6,
                        menu: 18,
                        backspace: 8,
                        tab: 9,
                        enter: 13,
                        shift: 16,
                        ctrl: 17,
                        alt: 18,
                        pause: 19,
                        capslock: 20,
                        escape: 27,
                        space: 32,
                        pageup: 33,
                        pagedown: 34,
                        end: 35,
                        home: 36,
                        left: 37,
                        up: 38,
                        right: 39,
                        down: 40,
                        select: 41,
                        insert: 45,
                        Delete: 46,
                        0: 48,
                        1: 49,
                        2: 50,
                        3: 51,
                        4: 52,
                        5: 53,
                        6: 54,
                        7: 55,
                        8: 56,
                        9: 57,
                        a: 65,
                        b: 66,
                        c: 67,
                        d: 68,
                        e: 69,
                        f: 70,
                        g: 71,
                        h: 72,
                        i: 73,
                        j: 74,
                        k: 75,
                        l: 76,
                        m: 77,
                        n: 78,
                        o: 79,
                        p: 80,
                        q: 81,
                        r: 82,
                        s: 83,
                        t: 84,
                        u: 85,
                        v: 86,
                        w: 87,
                        x: 88,
                        y: 89,
                        z: 90,
                        num0: 96,
                        num1: 97,
                        num2: 98,
                        num3: 99,
                        num4: 100,
                        num5: 101,
                        num6: 102,
                        num7: 103,
                        num8: 104,
                        num9: 105,
                        '*': 106,
                        '+': 107,
                        '-': 109,
                        numdel: 110,
                        '/': 111,
                        f1: 112,
                        f2: 113,
                        f3: 114,
                        f4: 115,
                        f5: 116,
                        f6: 117,
                        f7: 118,
                        f8: 119,
                        f9: 120,
                        f10: 121,
                        f11: 122,
                        f12: 123,
                        numlock: 144,
                        scrolllock: 145,
                        ';': 186,
                        semicolon: 186,
                        equal: 187,
                        '=': 187,
                        ',': 188,
                        comma: 188,
                        dash: 189,
                        '.': 190,
                        period: 190,
                        forwardslash: 191,
                        grave: 192,
                        '[': 219,
                        openbracket: 219,
                        backslash: 220,
                        ']': 221,
                        closebracket: 221,
                        quote: 222,
                        dpadLeft: 1e3,
                        dpadRight: 1001,
                        dpadUp: 1003,
                        dpadDown: 1004,
                        dpadCenter: 1005,
                    }),
                    (cc.ImageFormat = cc.Enum({
                        JPG: 0,
                        PNG: 1,
                        TIFF: 2,
                        WEBP: 3,
                        PVR: 4,
                        ETC: 5,
                        S3TC: 6,
                        ATITC: 7,
                        TGA: 8,
                        RAWDATA: 9,
                        UNKNOWN: 10,
                    })),
                    (cc.getImageFormatByData = function (t) {
                        return t.length > 8 &&
                            137 === t[0] &&
                            80 === t[1] &&
                            78 === t[2] &&
                            71 === t[3] &&
                            13 === t[4] &&
                            10 === t[5] &&
                            26 === t[6] &&
                            10 === t[7]
                            ? cc.ImageFormat.PNG
                            : t.length > 2 &&
                              ((73 === t[0] && 73 === t[1]) ||
                                  (77 === t[0] && 77 === t[1]) ||
                                  (255 === t[0] && 216 === t[1]))
                            ? cc.ImageFormat.TIFF
                            : cc.ImageFormat.UNKNOWN;
                    }),
                    (cc.macro = {
                        INVALID_INDEX: -1,
                        NODE_TAG_INVALID: -1,
                        PI: Math.PI,
                        PI2: 2 * Math.PI,
                        FLT_MAX: parseFloat('3.402823466e+38F'),
                        FLT_MIN: parseFloat('1.175494351e-38F'),
                        RAD: Math.PI / 180,
                        DEG: 180 / Math.PI,
                        UINT_MAX: 4294967295,
                        REPEAT_FOREVER: Number.MAX_VALUE - 1,
                        FLT_EPSILON: 1.192092896e-7,
                        ONE: 1,
                        ZERO: 0,
                        SRC_ALPHA: 770,
                        SRC_ALPHA_SATURATE: 776,
                        SRC_COLOR: 768,
                        DST_ALPHA: 772,
                        DST_COLOR: 774,
                        ONE_MINUS_SRC_ALPHA: 771,
                        ONE_MINUS_SRC_COLOR: 769,
                        ONE_MINUS_DST_ALPHA: 773,
                        ONE_MINUS_DST_COLOR: 775,
                        ONE_MINUS_CONSTANT_ALPHA: 32772,
                        ONE_MINUS_CONSTANT_COLOR: 32770,
                        LINEAR: 9729,
                        BLEND_DST: 771,
                        WEB_ORIENTATION_PORTRAIT: 0,
                        WEB_ORIENTATION_LANDSCAPE_LEFT: -90,
                        WEB_ORIENTATION_PORTRAIT_UPSIDE_DOWN: 180,
                        WEB_ORIENTATION_LANDSCAPE_RIGHT: 90,
                        ORIENTATION_PORTRAIT: 1,
                        ORIENTATION_LANDSCAPE: 2,
                        ORIENTATION_AUTO: 3,
                        DENSITYDPI_DEVICE: 'device-dpi',
                        DENSITYDPI_HIGH: 'high-dpi',
                        DENSITYDPI_MEDIUM: 'medium-dpi',
                        DENSITYDPI_LOW: 'low-dpi',
                        VERTEX_ATTRIB_FLAG_NONE: 0,
                        VERTEX_ATTRIB_FLAG_POSITION: 1,
                        VERTEX_ATTRIB_FLAG_COLOR: 2,
                        VERTEX_ATTRIB_FLAG_TEX_COORDS: 4,
                        VERTEX_ATTRIB_FLAG_POS_COLOR_TEX: 7,
                        GL_ALL: 0,
                        VERTEX_ATTRIB_POSITION: 0,
                        VERTEX_ATTRIB_COLOR: 1,
                        VERTEX_ATTRIB_TEX_COORDS: 2,
                        VERTEX_ATTRIB_MAX: 3,
                        UNIFORM_PMATRIX: 0,
                        UNIFORM_MVMATRIX: 1,
                        UNIFORM_MVPMATRIX: 2,
                        UNIFORM_TIME: 3,
                        UNIFORM_SINTIME: 4,
                        UNIFORM_COSTIME: 5,
                        UNIFORM_RANDOM01: 6,
                        UNIFORM_SAMPLER: 7,
                        UNIFORM_MAX: 8,
                        SHADER_POSITION_TEXTURECOLOR: 'ShaderPositionTextureColor',
                        SHADER_SPRITE_POSITION_TEXTURECOLOR: 'ShaderSpritePositionTextureColor',
                        SHADER_POSITION_TEXTURECOLORALPHATEST: 'ShaderPositionTextureColorAlphaTest',
                        SHADER_SPRITE_POSITION_TEXTURECOLORALPHATEST: 'ShaderSpritePositionTextureColorAlphaTest',
                        SHADER_POSITION_COLOR: 'ShaderPositionColor',
                        SHADER_SPRITE_POSITION_COLOR: 'ShaderSpritePositionColor',
                        SHADER_POSITION_TEXTURE: 'ShaderPositionTexture',
                        SHADER_POSITION_TEXTURE_UCOLOR: 'ShaderPositionTexture_uColor',
                        SHADER_POSITION_TEXTUREA8COLOR: 'ShaderPositionTextureA8Color',
                        SHADER_POSITION_UCOLOR: 'ShaderPosition_uColor',
                        SHADER_POSITION_LENGTHTEXTURECOLOR: 'ShaderPositionLengthTextureColor',
                        UNIFORM_PMATRIX_S: 'CC_PMatrix',
                        UNIFORM_MVMATRIX_S: 'CC_MVMatrix',
                        UNIFORM_MVPMATRIX_S: 'CC_MVPMatrix',
                        UNIFORM_TIME_S: 'CC_Time',
                        UNIFORM_SINTIME_S: 'CC_SinTime',
                        UNIFORM_COSTIME_S: 'CC_CosTime',
                        UNIFORM_RANDOM01_S: 'CC_Random01',
                        UNIFORM_SAMPLER_S: 'CC_Texture0',
                        UNIFORM_ALPHA_TEST_VALUE_S: 'CC_alpha_value',
                        ATTRIBUTE_NAME_COLOR: 'a_color',
                        ATTRIBUTE_NAME_POSITION: 'a_position',
                        ATTRIBUTE_NAME_TEX_COORD: 'a_texCoord',
                        ITEM_SIZE: 32,
                        CURRENT_ITEM: 3233828865,
                        ZOOM_ACTION_TAG: 3233828866,
                        NORMAL_TAG: 8801,
                        SELECTED_TAG: 8802,
                        DISABLE_TAG: 8803,
                        FIX_ARTIFACTS_BY_STRECHING_TEXEL: 0,
                        FIX_ARTIFACTS_BY_STRECHING_TEXEL_TMX: 1,
                        DIRECTOR_STATS_POSITION: cc.p(0, 0),
                        DIRECTOR_FPS_INTERVAL: 0.5,
                        COCOSNODE_RENDER_SUBPIXEL: 1,
                        SPRITEBATCHNODE_RENDER_SUBPIXEL: 1,
                        AUTO_PREMULTIPLIED_ALPHA_FOR_PNG: 0,
                        OPTIMIZE_BLEND_FUNC_FOR_PREMULTIPLIED_ALPHA: 0,
                        TEXTURE_NPOT_SUPPORT: 0,
                        USE_LA88_LABELS: 1,
                        SPRITE_DEBUG_DRAW: 0,
                        LABELBMFONT_DEBUG_DRAW: 0,
                        LABELATLAS_DEBUG_DRAW: 0,
                        ENABLE_STACKABLE_ACTIONS: 1,
                        ENABLE_GL_STATE_CACHE: 1,
                        TOUCH_TIMEOUT: 5e3,
                        BATCH_VERTEX_COUNT: 2e4,
                        ENABLE_GC_FOR_NATIVE_OBJECTS: !0,
                        ENABLE_TILEDMAP_CULLING: !0,
                        DOWNLOAD_MAX_CONCURRENT: 64,
                        ENABLE_TRANSPARENT_CANVAS: !1,
                        ENABLE_WEBGL_ANTIALIAS: !1,
                    });
                var n = !0;
                cc.defineGetterSetter(
                    cc.macro,
                    'ENABLE_CULLING',
                    function () {
                        return n;
                    },
                    function (t) {
                        n = t;
                        var e = cc.director.getScene();
                        e &&
                            (e._sgNode._renderCmd.setDirtyFlag(_ccsg.Node._dirtyFlags.cullingDirty),
                            (cc.renderer.childrenOrderDirty = !0));
                    },
                ),
                    cc.defineGetterSetter(cc.macro, 'BLEND_SRC', function () {
                        return cc._renderType === cc.game.RENDER_TYPE_WEBGL &&
                            cc.macro.OPTIMIZE_BLEND_FUNC_FOR_PREMULTIPLIED_ALPHA
                            ? cc.macro.ONE
                            : cc.macro.SRC_ALPHA;
                    }),
                    (cc.lerp = function (t, e, i) {
                        return t + (e - t) * i;
                    }),
                    (cc.rand = function () {
                        return 16777215 * Math.random();
                    }),
                    (cc.randomMinus1To1 = function () {
                        return 2 * (Math.random() - 0.5);
                    }),
                    (cc.random0To1 = Math.random),
                    (cc.degreesToRadians = function (t) {
                        return t * cc.macro.RAD;
                    }),
                    (cc.radiansToDegrees = function (t) {
                        return t * cc.macro.DEG;
                    }),
                    (cc.nodeDrawSetup = function (t) {
                        t._shaderProgram &&
                            (t._shaderProgram.use(),
                            t._shaderProgram.setUniformForModelViewAndProjectionMatrixWithMat4());
                    }),
                    (cc.incrementGLDraws = function (t) {
                        cc.g_NumberOfDraws += t;
                    }),
                    (cc.checkGLErrorDebug = function () {
                        if (cc._renderType === cc.game.RENDER_TYPE_WEBGL) {
                            var t = cc._renderContext.getError();
                            t && cc.logID(2400, t);
                        }
                    }),
                    (e.exports = cc.macro);
            },
            {
                './_CCClass': 147,
            },
        ],
        141: [
            function (t, e, i) {
                function n() {
                    (this._name = ''), (this._objFlags = 0);
                }

                function r() {
                    for (var t = c.length, e = 0; e < t; ++e) {
                        var i = c[e];
                        i._objFlags & a || i._destroyImmediate();
                    }
                    t === c.length ? (c.length = 0) : c.splice(0, t);
                }
                var s = t('./js'),
                    o = t('./CCClass'),
                    a = 1;
                o.fastDefine('cc.Object', n, {
                    _name: '',
                    _objFlags: 0,
                }),
                    s.value(n, 'Flags', {
                        Destroyed: a,
                        DontSave: 8,
                        EditorOnly: 16,
                        Dirty: 32,
                        DontDestroy: 64,
                        PersistentMask: -4192741,
                        Destroying: 128,
                        Deactivating: 256,
                        IsPreloadStarted: 8192,
                        IsOnLoadStarted: 32768,
                        IsOnLoadCalled: 16384,
                        IsOnEnableCalled: 2048,
                        IsStartCalled: 65536,
                        IsEditorOnEnableCalled: 4096,
                        IsPositionLocked: 1 << 21,
                        IsRotationLocked: 1 << 17,
                        IsScaleLocked: 1 << 18,
                        IsAnchorLocked: 1 << 19,
                        IsSizeLocked: 1 << 20,
                    });
                var c = [];
                s.value(n, '_deferredDestroy', r);
                var h = n.prototype;
                s.getset(
                    h,
                    'name',
                    function () {
                        return this._name;
                    },
                    function (t) {
                        this._name = t;
                    },
                ),
                    s.get(h, 'isValid', function () {
                        return !(this._objFlags & a);
                    });
                (h.destroy = function () {
                    return this._objFlags & a
                        ? (cc.warnID(5e3), !1)
                        : !(4 & this._objFlags) && ((this._objFlags |= 4), c.push(this), !0);
                }),
                    (h._destruct = function () {
                        var t = this.constructor,
                            e = t.__destruct__;
                        e ||
                            ((e = (function (t, e) {
                                var i,
                                    n = {};
                                for (i in t)
                                    if (t.hasOwnProperty(i))
                                        switch (typeof t[i]) {
                                            case 'string':
                                                n[i] = '';
                                                break;
                                            case 'object':
                                            case 'function':
                                                n[i] = null;
                                        }
                                if (cc.Class._isCCClass(e))
                                    for (
                                        var r = cc.Class.Attr.getClassAttrs(e), s = e.__props__, a = 0;
                                        a < s.length;
                                        a++
                                    ) {
                                        var c = (i = s[a]) + cc.Class.Attr.DELIMETER + 'default';
                                        if (c in r)
                                            switch (typeof r[c]) {
                                                case 'string':
                                                    n[i] = '';
                                                    break;
                                                case 'object':
                                                case 'function':
                                                    n[i] = null;
                                                    break;
                                                case 'undefined':
                                                    n[i] = void 0;
                                            }
                                    }
                                var h = t instanceof cc._BaseNode || t instanceof cc.Component,
                                    l = '';
                                for (i in n)
                                    if (!h || '_id' !== i) {
                                        var u;
                                        u = o.IDENTIFIER_RE.test(i) ? 'o.' + i + '=' : 'o[' + o.escapeForJS(i) + ']=';
                                        var d = n[i];
                                        '' === d && (d = '""'), (l += u + d + ';\n');
                                    }
                                return Function('o', l);
                            })(this, t)),
                            s.value(t, '__destruct__', e, !0)),
                            e(this);
                    }),
                    (h._onPreDestroy = null),
                    (h._destroyImmediate = function () {
                        this._objFlags & a
                            ? cc.errorID(5e3)
                            : (this._onPreDestroy && this._onPreDestroy(), this._destruct(), (this._objFlags |= a));
                    }),
                    (h._deserialize = null),
                    (cc.isValid = function (t, e) {
                        return 'object' == typeof t ? !(!t || t._objFlags & (e ? 4 | a : a)) : void 0 !== t;
                    }),
                    (cc.Object = e.exports = n);
            },
            {
                './CCClass': 135,
                './js': 156,
            },
        ],
        142: [
            function (t, e, i) {
                (cc.SAXParser = cc._Class.extend({
                    ctor: function () {
                        window.DOMParser
                            ? ((this._isSupportDOMParser = !0), (this._parser = new DOMParser()))
                            : ((this._isSupportDOMParser = !1), (this._parser = null));
                    },
                    parse: function (t) {
                        return this._parseXML(t);
                    },
                    _parseXML: function (t) {
                        var e;
                        return (
                            this._isSupportDOMParser
                                ? (e = this._parser.parseFromString(t, 'text/xml'))
                                : (((e = new ActiveXObject('Microsoft.XMLDOM')).async = 'false'), e.loadXML(t)),
                            e
                        );
                    },
                })),
                    (cc.PlistParser = cc.SAXParser.extend({
                        parse: function (t) {
                            var e = this._parseXML(t),
                                i = e.documentElement;
                            if ('plist' !== i.tagName) return cc.warnID(5100), {};
                            for (
                                var n = null, r = 0, s = i.childNodes.length;
                                r < s && 1 !== (n = i.childNodes[r]).nodeType;
                                r++
                            );
                            return (e = null), this._parseNode(n);
                        },
                        _parseNode: function (t) {
                            var e = null,
                                i = t.tagName;
                            if ('dict' === i) e = this._parseDict(t);
                            else if ('array' === i) e = this._parseArray(t);
                            else if ('string' === i)
                                if (1 === t.childNodes.length) e = t.firstChild.nodeValue;
                                else {
                                    e = '';
                                    for (var n = 0; n < t.childNodes.length; n++) e += t.childNodes[n].nodeValue;
                                }
                            else
                                'false' === i
                                    ? (e = !1)
                                    : 'true' === i
                                    ? (e = !0)
                                    : 'real' === i
                                    ? (e = parseFloat(t.firstChild.nodeValue))
                                    : 'integer' === i && (e = parseInt(t.firstChild.nodeValue, 10));
                            return e;
                        },
                        _parseArray: function (t) {
                            for (var e = [], i = 0, n = t.childNodes.length; i < n; i++) {
                                var r = t.childNodes[i];
                                1 === r.nodeType && e.push(this._parseNode(r));
                            }
                            return e;
                        },
                        _parseDict: function (t) {
                            for (var e = {}, i = null, n = 0, r = t.childNodes.length; n < r; n++) {
                                var s = t.childNodes[n];
                                1 === s.nodeType &&
                                    ('key' === s.tagName ? (i = s.firstChild.nodeValue) : (e[i] = this._parseNode(s)));
                            }
                            return e;
                        },
                    })),
                    (cc.saxParser = new cc.SAXParser()),
                    (cc.plistParser = new cc.PlistParser());
            },
            {},
        ],
        143: [
            function (t, e, i) {
                (cc.screen = {
                    _supportsFullScreen: !1,
                    _preOnFullScreenChange: null,
                    _touchEvent: '',
                    _fn: null,
                    _fnMap: [
                        [
                            'requestFullscreen',
                            'exitFullscreen',
                            'fullscreenchange',
                            'fullscreenEnabled',
                            'fullscreenElement',
                        ],
                        [
                            'requestFullScreen',
                            'exitFullScreen',
                            'fullScreenchange',
                            'fullScreenEnabled',
                            'fullScreenElement',
                        ],
                        [
                            'webkitRequestFullScreen',
                            'webkitCancelFullScreen',
                            'webkitfullscreenchange',
                            'webkitIsFullScreen',
                            'webkitCurrentFullScreenElement',
                        ],
                        [
                            'mozRequestFullScreen',
                            'mozCancelFullScreen',
                            'mozfullscreenchange',
                            'mozFullScreen',
                            'mozFullScreenElement',
                        ],
                        [
                            'msRequestFullscreen',
                            'msExitFullscreen',
                            'MSFullscreenChange',
                            'msFullscreenEnabled',
                            'msFullscreenElement',
                        ],
                    ],
                    init: function () {
                        this._fn = {};
                        var t,
                            e,
                            i,
                            n,
                            r = this._fnMap;
                        for (t = 0, e = r.length; t < e; t++)
                            if ((i = r[t]) && void 0 !== document[i[1]]) {
                                for (t = 0, n = i.length; t < n; t++) this._fn[r[0][t]] = i[t];
                                break;
                            }
                        (this._supportsFullScreen = void 0 !== this._fn.requestFullscreen),
                            (this._touchEvent = 'ontouchstart' in window ? 'touchstart' : 'mousedown');
                    },
                    fullScreen: function () {
                        return (
                            !!this._supportsFullScreen &&
                            void 0 !== document[this._fn.fullscreenElement] &&
                            null !== document[this._fn.fullscreenElement]
                        );
                    },
                    requestFullScreen: function (t, e) {
                        if (this._supportsFullScreen) {
                            if (((t = t || document.documentElement), e)) {
                                var i = this._fn.fullscreenchange;
                                this._preOnFullScreenChange &&
                                    document.removeEventListener(i, this._preOnFullScreenChange),
                                    (this._preOnFullScreenChange = e),
                                    document.addEventListener(i, e, !1);
                            }
                            return t[this._fn.requestFullscreen]();
                        }
                    },
                    exitFullScreen: function () {
                        return !this._supportsFullScreen || document[this._fn.exitFullscreen]();
                    },
                    autoFullScreen: function (t, e) {
                        function i() {
                            n.removeEventListener(r._touchEvent, i), r.requestFullScreen(t, e);
                        }
                        t = t || document.body;
                        var n = cc.game.canvas || t,
                            r = this;
                        this.requestFullScreen(t, e), n.addEventListener(this._touchEvent, i);
                    },
                }),
                    cc.screen.init();
            },
            {},
        ],
        144: [
            function (t, e, i) {
                if (!cc.sys) {
                    cc.sys = {};
                    var n = cc.sys;
                    (n.skipTouch = !1),
                        (n.skipRender = !1),
                        (n.LANGUAGE_ENGLISH = 'en'),
                        (n.LANGUAGE_CHINESE = 'zh'),
                        (n.LANGUAGE_FRENCH = 'fr'),
                        (n.LANGUAGE_ITALIAN = 'it'),
                        (n.LANGUAGE_GERMAN = 'de'),
                        (n.LANGUAGE_SPANISH = 'es'),
                        (n.LANGUAGE_DUTCH = 'du'),
                        (n.LANGUAGE_RUSSIAN = 'ru'),
                        (n.LANGUAGE_KOREAN = 'ko'),
                        (n.LANGUAGE_JAPANESE = 'ja'),
                        (n.LANGUAGE_HUNGARIAN = 'hu'),
                        (n.LANGUAGE_PORTUGUESE = 'pt'),
                        (n.LANGUAGE_ARABIC = 'ar'),
                        (n.LANGUAGE_NORWEGIAN = 'no'),
                        (n.LANGUAGE_POLISH = 'pl'),
                        (n.LANGUAGE_TURKISH = 'tr'),
                        (n.LANGUAGE_UKRAINIAN = 'uk'),
                        (n.LANGUAGE_ROMANIAN = 'ro'),
                        (n.LANGUAGE_BULGARIAN = 'bg'),
                        (n.LANGUAGE_UNKNOWN = 'unknown'),
                        (n.OS_IOS = 'iOS'),
                        (n.OS_ANDROID = 'Android'),
                        (n.OS_WINDOWS = 'Windows'),
                        (n.OS_MARMALADE = 'Marmalade'),
                        (n.OS_LINUX = 'Linux'),
                        (n.OS_BADA = 'Bada'),
                        (n.OS_BLACKBERRY = 'Blackberry'),
                        (n.OS_OSX = 'OS X'),
                        (n.OS_WP8 = 'WP8'),
                        (n.OS_WINRT = 'WINRT'),
                        (n.OS_UNKNOWN = 'Unknown'),
                        (n.UNKNOWN = -1),
                        (n.WIN32 = 0),
                        (n.LINUX = 1),
                        (n.MACOS = 2),
                        (n.ANDROID = 3),
                        (n.IPHONE = 4),
                        (n.IPAD = 5),
                        (n.BLACKBERRY = 6),
                        (n.NACL = 7),
                        (n.EMSCRIPTEN = 8),
                        (n.TIZEN = 9),
                        (n.WINRT = 10),
                        (n.WP8 = 11),
                        (n.MOBILE_BROWSER = 100),
                        (n.DESKTOP_BROWSER = 101),
                        (n.EDITOR_PAGE = 102),
                        (n.EDITOR_CORE = 103),
                        (n.WECHAT_GAME = 104),
                        (n.QQ_PLAY = 105),
                        (n.BROWSER_TYPE_WECHAT = 'wechat'),
                        (n.BROWSER_TYPE_WECHAT_GAME = 'wechatgame'),
                        (n.BROWSER_TYPE_WECHAT_GAME_SUB = 'wechatgamesub'),
                        (n.BROWSER_TYPE_QQ_PLAY = 'qqplay'),
                        (n.BROWSER_TYPE_ANDROID = 'androidbrowser'),
                        (n.BROWSER_TYPE_IE = 'ie'),
                        (n.BROWSER_TYPE_QQ = 'qqbrowser'),
                        (n.BROWSER_TYPE_MOBILE_QQ = 'mqqbrowser'),
                        (n.BROWSER_TYPE_UC = 'ucbrowser'),
                        (n.BROWSER_TYPE_360 = '360browser'),
                        (n.BROWSER_TYPE_BAIDU_APP = 'baiduboxapp'),
                        (n.BROWSER_TYPE_BAIDU = 'baidubrowser'),
                        (n.BROWSER_TYPE_MAXTHON = 'maxthon'),
                        (n.BROWSER_TYPE_OPERA = 'opera'),
                        (n.BROWSER_TYPE_OUPENG = 'oupeng'),
                        (n.BROWSER_TYPE_MIUI = 'miuibrowser'),
                        (n.BROWSER_TYPE_FIREFOX = 'firefox'),
                        (n.BROWSER_TYPE_SAFARI = 'safari'),
                        (n.BROWSER_TYPE_CHROME = 'chrome'),
                        (n.BROWSER_TYPE_LIEBAO = 'liebao'),
                        (n.BROWSER_TYPE_QZONE = 'qzone'),
                        (n.BROWSER_TYPE_SOUGOU = 'sogou'),
                        (n.BROWSER_TYPE_UNKNOWN = 'unknown'),
                        (n.isNative = !1),
                        (n.isBrowser = 'object' == typeof window && 'object' == typeof document && !0),
                        (cc.create3DContext = function (t, e, i) {
                            if (!i)
                                return (
                                    cc.create3DContext(t, e, 'webgl') ||
                                    cc.create3DContext(t, e, 'experimental-webgl') ||
                                    cc.create3DContext(t, e, 'webkit-3d') ||
                                    cc.create3DContext(t, e, 'moz-webgl') ||
                                    null
                                );
                            try {
                                return t.getContext(i, e);
                            } catch (t) {
                                return null;
                            }
                        });
                    var r = window,
                        s = r.navigator,
                        o = document,
                        a = o.documentElement,
                        c = s.userAgent.toLowerCase();
                    (n.isMobile = /mobile|android|iphone|ipad/.test(c)),
                        (n.platform = n.isMobile ? n.MOBILE_BROWSER : n.DESKTOP_BROWSER);
                    var h = s.language;
                    (h = (h = h || s.browserLanguage) ? h.split('-')[0] : n.LANGUAGE_ENGLISH), (n.language = h);
                    var l = !1,
                        u = !1,
                        d = '',
                        _ = 0,
                        f = /android (\d+(?:\.\d+)+)/i.exec(c) || /android (\d+(?:\.\d+)+)/i.exec(s.platform);
                    f && ((l = !0), (d = f[1] || ''), (_ = parseInt(d) || 0)),
                        (f = /(iPad|iPhone|iPod).*OS ((\d+_?){2,3})/i.exec(c))
                            ? ((u = !0), (d = f[2] || ''), (_ = parseInt(d) || 0))
                            : /(iPhone|iPad|iPod)/.exec(s.platform) && ((u = !0), (d = ''), (_ = 0));
                    var p = n.OS_UNKNOWN;
                    -1 !== s.appVersion.indexOf('Win')
                        ? (p = n.OS_WINDOWS)
                        : u
                        ? (p = n.OS_IOS)
                        : -1 !== s.appVersion.indexOf('Mac')
                        ? (p = n.OS_OSX)
                        : -1 !== s.appVersion.indexOf('X11') && -1 === s.appVersion.indexOf('Linux')
                        ? (p = n.OS_UNIX)
                        : l
                        ? (p = n.OS_ANDROID)
                        : (-1 === s.appVersion.indexOf('Linux') && -1 === c.indexOf('ubuntu')) || (p = n.OS_LINUX),
                        (n.os = p),
                        (n.osVersion = d),
                        (n.osMainVersion = _),
                        (n.browserType = n.BROWSER_TYPE_UNKNOWN),
                        (function () {
                            var t =
                                /mqqbrowser|micromessenger|qq|sogou|qzone|liebao|maxthon|ucbrowser|360 aphone|360browser|baiduboxapp|baidubrowser|maxthon|mxbrowser|miuibrowser/i.exec(
                                    c,
                                );
                            t || (t = /qqbrowser|chrome|safari|firefox|trident|opera|opr\/|oupeng/i.exec(c));
                            var e = t ? t[0].toLowerCase() : n.BROWSER_TYPE_UNKNOWN;
                            'micromessenger' === e
                                ? (e = n.BROWSER_TYPE_WECHAT)
                                : 'safari' === e && l
                                ? (e = n.BROWSER_TYPE_ANDROID)
                                : 'qq' === e && c.match(/android.*applewebkit/i)
                                ? (e = n.BROWSER_TYPE_ANDROID)
                                : 'trident' === e
                                ? (e = n.BROWSER_TYPE_IE)
                                : '360 aphone' === e
                                ? (e = n.BROWSER_TYPE_360)
                                : 'mxbrowser' === e
                                ? (e = n.BROWSER_TYPE_MAXTHON)
                                : 'opr/' === e && (e = n.BROWSER_TYPE_OPERA),
                                (n.browserType = e);
                        })(),
                        (n.browserVersion = ''),
                        (function () {
                            var t = c.match(
                                /(mqqbrowser|micromessenger|qq|sogou|qzone|liebao|maxthon|uc|360 aphone|360|baiduboxapp|baidu|maxthon|mxbrowser|miui)(mobile)?(browser)?\/?([\d.]+)/i,
                            );
                            t ||
                                (t = c.match(
                                    /(qqbrowser|chrome|safari|firefox|trident|opera|opr\/|oupeng)(mobile)?(browser)?\/?([\d.]+)/i,
                                )),
                                (n.browserVersion = t ? t[4] : '');
                        })();
                    var g = window.innerWidth || document.documentElement.clientWidth,
                        m = window.innerHeight || document.documentElement.clientHeight,
                        v = window.devicePixelRatio || 1;
                    (n.windowPixelResolution = {
                        width: v * g,
                        height: v * m,
                    }),
                        (n._checkWebGLRenderMode = function () {
                            if (cc._renderType !== cc.game.RENDER_TYPE_WEBGL)
                                throw new Error('This feature supports WebGL render mode only.');
                        });
                    var y = document.createElement('canvas'),
                        C = document.createElement('canvas');
                    if (
                        ((n._supportCanvasNewBlendModes = (function () {
                            var t = y;
                            (t.width = 1), (t.height = 1);
                            var e = t.getContext('2d');
                            (e.fillStyle = '#000'), e.fillRect(0, 0, 1, 1), (e.globalCompositeOperation = 'multiply');
                            var i = C;
                            (i.width = 1), (i.height = 1);
                            var n = i.getContext('2d');
                            return (
                                (n.fillStyle = '#fff'),
                                n.fillRect(0, 0, 1, 1),
                                e.drawImage(i, 0, 0, 1, 1),
                                0 === e.getImageData(0, 0, 1, 1).data[0]
                            );
                        })()),
                        cc.sys.isMobile)
                    ) {
                        var T = document.createElement('style');
                        (T.type = 'text/css'),
                            document.body.appendChild(T),
                            (T.textContent =
                                'body,canvas,div{ -moz-user-select: none;-webkit-user-select: none;-ms-user-select: none;-khtml-user-select: none;-webkit-tap-highlight-color:rgba(0,0,0,0);}');
                    }
                    try {
                        var E = (n.localStorage = r.localStorage);
                        E.setItem('storage', ''), E.removeItem('storage'), (E = null);
                    } catch (t) {
                        var x = function () {
                            cc.warnID(5200);
                        };
                        n.localStorage = {
                            getItem: x,
                            setItem: x,
                            removeItem: x,
                            clear: x,
                        };
                    }
                    var S = y.toDataURL('image/webp').startsWith('data:image/webp'),
                        b = !!y.getContext('2d'),
                        A = !1;
                    if (
                        r.WebGLRenderingContext &&
                        (cc.create3DContext(document.createElement('CANVAS')) && (A = !0), A && n.os === n.OS_ANDROID)
                    ) {
                        var R = parseFloat(n.browserVersion);
                        switch (n.browserType) {
                            case n.BROWSER_TYPE_MOBILE_QQ:
                            case n.BROWSER_TYPE_BAIDU:
                            case n.BROWSER_TYPE_BAIDU_APP:
                                A = R >= 6.2;
                                break;
                            case n.BROWSER_TYPE_ANDROID:
                                n.osMainVersion && n.osMainVersion >= 5 && (A = !0);
                                break;
                            case n.BROWSER_TYPE_CHROME:
                                A = R >= 30;
                                break;
                            case n.BROWSER_TYPE_UC:
                                A = R > 11;
                            case n.BROWSER_TYPE_360:
                                A = !1;
                        }
                    }
                    var w = (n.capabilities = {
                        canvas: b,
                        opengl: A,
                        webp: S,
                    });
                    (void 0 !== a.ontouchstart || void 0 !== o.ontouchstart || s.msPointerEnabled) && (w.touches = !0),
                        void 0 !== a.onmouseup && (w.mouse = !0),
                        void 0 !== a.onkeyup && (w.keyboard = !0),
                        (r.DeviceMotionEvent || r.DeviceOrientationEvent) && (w.accelerometer = !0);
                    var I;
                    (function () {
                        n.browserVersion;
                        var t = !!(window.AudioContext || window.webkitAudioContext || window.mozAudioContext);
                        (I = {
                            ONLY_ONE: !1,
                            WEB_AUDIO: t,
                            DELAY_CREATE_CTX: !1,
                        }),
                            n.os === n.OS_IOS && (I.USE_LOADER_EVENT = 'loadedmetadata'),
                            n.browserType === n.BROWSER_TYPE_FIREFOX &&
                                ((I.DELAY_CREATE_CTX = !0), (I.USE_LOADER_EVENT = 'canplay')),
                            n.os === n.OS_ANDROID && n.browserType === n.BROWSER_TYPE_UC && (I.ONE_SOURCE = !0);
                    })();
                    try {
                        I.WEB_AUDIO &&
                            ((I.context = new (window.AudioContext ||
                                window.webkitAudioContext ||
                                window.mozAudioContext)()),
                            I.DELAY_CREATE_CTX &&
                                setTimeout(function () {
                                    I.context = new (window.AudioContext ||
                                        window.webkitAudioContext ||
                                        window.mozAudioContext)();
                                }, 0));
                    } catch (t) {
                        (I.WEB_AUDIO = !1), cc.logID(5201);
                    }
                    (I.format = (function () {
                        var t = [],
                            e = document.createElement('audio');
                        e.canPlayType &&
                            (e.canPlayType('audio/ogg; codecs="vorbis"') && t.push('.ogg'),
                            e.canPlayType('audio/mpeg') && t.push('.mp3'),
                            e.canPlayType('audio/wav; codecs="1"') && t.push('.wav'),
                            e.canPlayType('audio/mp4') && t.push('.mp4'),
                            e.canPlayType('audio/x-m4a') && t.push('.m4a'));
                        return t;
                    })()),
                        (n.__audioSupport = I);
                    (n.garbageCollect = function () {}),
                        (n.dumpRoot = function () {}),
                        (n.restartVM = function () {}),
                        (n.cleanScript = function (t) {}),
                        (n.isObjectValid = function (t) {
                            return !!t;
                        }),
                        (n.dump = function () {
                            var t = '';
                            (t += 'isMobile : ' + this.isMobile + '\r\n'),
                                (t += 'language : ' + this.language + '\r\n'),
                                (t += 'browserType : ' + this.browserType + '\r\n'),
                                (t += 'browserVersion : ' + this.browserVersion + '\r\n'),
                                (t += 'capabilities : ' + JSON.stringify(this.capabilities) + '\r\n'),
                                (t += 'os : ' + this.os + '\r\n'),
                                (t += 'osVersion : ' + this.osVersion + '\r\n'),
                                (t += 'platform : ' + this.platform + '\r\n'),
                                (t +=
                                    'Using ' +
                                    (cc._renderType === cc.game.RENDER_TYPE_WEBGL ? 'WEBGL' : 'CANVAS') +
                                    ' renderer.\r\n'),
                                cc.log(t);
                        }),
                        (n.openURL = function (t) {
                            window.open(t);
                        }),
                        (n.now = function () {
                            return Date.now ? Date.now() : +new Date();
                        }),
                        (e.exports = n);
                }
            },
            {},
        ],
        145: [
            function (t, e, i) {
                var n = t('../event-manager'),
                    r = {
                        init: function () {
                            this.html = document.getElementsByTagName('html')[0];
                        },
                        availWidth: function (t) {
                            return t && t !== this.html ? t.clientWidth : window.innerWidth;
                        },
                        availHeight: function (t) {
                            return t && t !== this.html ? t.clientHeight : window.innerHeight;
                        },
                        meta: {
                            width: 'device-width',
                        },
                        adaptationType: cc.sys.browserType,
                    };
                switch (
                    (cc.sys.os === cc.sys.OS_IOS && (r.adaptationType = cc.sys.BROWSER_TYPE_SAFARI), r.adaptationType)
                ) {
                    case cc.sys.BROWSER_TYPE_SAFARI:
                        (r.meta['minimal-ui'] = 'true'),
                            (r.availWidth = function (t) {
                                return t.clientWidth;
                            }),
                            (r.availHeight = function (t) {
                                return t.clientHeight;
                            });
                        break;
                    case cc.sys.BROWSER_TYPE_CHROME:
                        r.__defineGetter__('target-densitydpi', function () {
                            return cc.view._targetDensityDPI;
                        });
                        break;
                    case cc.sys.BROWSER_TYPE_SOUGOU:
                    case cc.sys.BROWSER_TYPE_UC:
                        (r.availWidth = function (t) {
                            return t.clientWidth;
                        }),
                            (r.availHeight = function (t) {
                                return t.clientHeight;
                            });
                        break;
                    case cc.sys.BROWSER_TYPE_MIUI:
                        r.init = function (t) {
                            if (!t.__resizeWithBrowserSize) {
                                var e = function () {
                                    t.setDesignResolutionSize(
                                        t._designResolutionSize.width,
                                        t._designResolutionSize.height,
                                        t._resolutionPolicy,
                                    ),
                                        window.removeEventListener('resize', e, !1);
                                };
                                window.addEventListener('resize', e, !1);
                            }
                        };
                        break;
                    case cc.sys.BROWSER_TYPE_WECHAT_GAME:
                        (r.availWidth = function () {
                            return window.innerWidth;
                        }),
                            (r.availHeight = function () {
                                return window.innerHeight;
                            });
                        break;
                    case cc.sys.BROWSER_TYPE_WECHAT_GAME_SUB:
                        var s = wx.getSharedCanvas();
                        (r.availWidth = function () {
                            return s.width;
                        }),
                            (r.availHeight = function () {
                                return s.height;
                            });
                }
                var o = null,
                    a = cc._Class.extend({
                        ctor: function () {
                            var t = cc.ContainerStrategy,
                                e = cc.ContentStrategy;
                            r.init(this), (this._frameSize = cc.size(0, 0)), this._initFrameSize();
                            var i = cc.game.canvas.width,
                                n = cc.game.canvas.height;
                            (this._designResolutionSize = cc.size(i, n)),
                                (this._originalDesignResolutionSize = cc.size(i, n)),
                                (this._viewPortRect = cc.rect(0, 0, i, n)),
                                (this._visibleRect = cc.rect(0, 0, i, n)),
                                (this._contentTranslateLeftTop = {
                                    left: 0,
                                    top: 0,
                                }),
                                (this._autoFullScreen = !1),
                                (this._devicePixelRatio = 1),
                                (this._viewName = 'Cocos2dHTML5'),
                                (this._resizeCallback = null),
                                (this._orientationChanging = !0),
                                (this._resizing = !1),
                                (this._scaleX = 1),
                                (this._originalScaleX = 1),
                                (this._scaleY = 1),
                                (this._originalScaleY = 1),
                                (this._isRotated = !1),
                                (this._orientation = 3);
                            var s = cc.sys;
                            this.enableRetina(s.os === s.OS_IOS || s.os === s.OS_OSX),
                                cc.visibleRect && cc.visibleRect.init(this._visibleRect),
                                (this._resolutionPolicy = null),
                                (this._rpExactFit = new cc.ResolutionPolicy(t.EQUAL_TO_FRAME, e.EXACT_FIT)),
                                (this._rpShowAll = new cc.ResolutionPolicy(t.PROPORTION_TO_FRAME, e.SHOW_ALL)),
                                (this._rpNoBorder = new cc.ResolutionPolicy(t.EQUAL_TO_FRAME, e.NO_BORDER)),
                                (this._rpFixedHeight = new cc.ResolutionPolicy(t.EQUAL_TO_FRAME, e.FIXED_HEIGHT)),
                                (this._rpFixedWidth = new cc.ResolutionPolicy(t.EQUAL_TO_FRAME, e.FIXED_WIDTH)),
                                (this._initialized = !1),
                                (this._contentTranslateLeftTop = null),
                                (this._frameZoomFactor = 1),
                                (this.__resizeWithBrowserSize = !1),
                                (this._isAdjustViewPort = !0),
                                (this._targetDensityDPI = cc.macro.DENSITYDPI_HIGH),
                                this.enableAntiAlias(!0);
                        },
                        _resizeEvent: function () {
                            var t,
                                e = (t = this.setDesignResolutionSize ? this : cc.view)._frameSize.width,
                                i = t._frameSize.height,
                                r = t._isRotated;
                            if (cc.sys.isMobile) {
                                var s = cc.game.container.style,
                                    o = s.margin;
                                (s.margin = '0'),
                                    (s.display = 'none'),
                                    t._initFrameSize(),
                                    (s.margin = o),
                                    (s.display = 'block'),
                                    window.CMPlayScreen && (s.display = '');
                            } else t._initFrameSize();
                            if (t._isRotated !== r || t._frameSize.width !== e || t._frameSize.height !== i) {
                                var a = t._originalDesignResolutionSize.width,
                                    c = t._originalDesignResolutionSize.height;
                                (t._resizing = !0),
                                    a > 0 && t.setDesignResolutionSize(a, c, t._resolutionPolicy),
                                    (t._resizing = !1),
                                    n.dispatchCustomEvent('canvas-resize'),
                                    t._resizeCallback && t._resizeCallback.call();
                            }
                        },
                        _orientationChange: function () {
                            (cc.view._orientationChanging = !0), cc.view._resizeEvent();
                        },
                        setTargetDensityDPI: function (t) {
                            (this._targetDensityDPI = t), this._adjustViewportMeta();
                        },
                        getTargetDensityDPI: function () {
                            return this._targetDensityDPI;
                        },
                        resizeWithBrowserSize: function (t) {
                            t
                                ? this.__resizeWithBrowserSize ||
                                  ((this.__resizeWithBrowserSize = !0),
                                  window.addEventListener('resize', this._resizeEvent),
                                  window.addEventListener('orientationchange', this._orientationChange))
                                : this.__resizeWithBrowserSize &&
                                  ((this.__resizeWithBrowserSize = !1),
                                  window.removeEventListener('resize', this._resizeEvent),
                                  window.removeEventListener('orientationchange', this._orientationChange));
                        },
                        setResizeCallback: function (t) {
                            ('function' != typeof t && null != t) || (this._resizeCallback = t);
                        },
                        setOrientation: function (t) {
                            if ((t &= cc.macro.ORIENTATION_AUTO) && this._orientation !== t) {
                                this._orientation = t;
                                var e = this._originalDesignResolutionSize.width,
                                    i = this._originalDesignResolutionSize.height;
                                this.setDesignResolutionSize(e, i, this._resolutionPolicy);
                            }
                        },
                        _initFrameSize: function () {
                            var t = this._frameSize,
                                e = r.availWidth(cc.game.frame),
                                i = r.availHeight(cc.game.frame),
                                n = e >= i;
                            !cc.sys.isMobile ||
                            (n && this._orientation & cc.macro.ORIENTATION_LANDSCAPE) ||
                            (!n && this._orientation & cc.macro.ORIENTATION_PORTRAIT)
                                ? ((t.width = e),
                                  (t.height = i),
                                  window.CMPlayScreen &&
                                      (window.CMPlayScreen.resize(e, i),
                                      (t.width = window.CMPlayScreen.canvasWidth),
                                      (t.height = window.CMPlayScreen.canvasHeight)),
                                  (cc.container.style['-webkit-transform'] = 'rotate(0deg)'),
                                  (cc.container.style.transform = 'rotate(0deg)'),
                                  (this._isRotated = !1))
                                : ((t.width = i),
                                  (t.height = e),
                                  (cc.container.style['-webkit-transform'] = 'rotate(90deg)'),
                                  (cc.container.style.transform = 'rotate(90deg)'),
                                  (cc.container.style['-webkit-transform-origin'] = '0px 0px 0px'),
                                  (cc.container.style.transformOrigin = '0px 0px 0px'),
                                  (this._isRotated = !0)),
                                this._orientationChanging &&
                                    setTimeout(function () {
                                        cc.view._orientationChanging = !1;
                                    }, 1e3);
                        },
                        _adjustSizeKeepCanvasSize: function () {
                            var t = this._originalDesignResolutionSize.width,
                                e = this._originalDesignResolutionSize.height;
                            t > 0 && this.setDesignResolutionSize(t, e, this._resolutionPolicy);
                        },
                        _setViewportMeta: function (t, e) {
                            var i = document.getElementById('cocosMetaElement');
                            i && e && document.head.removeChild(i);
                            var n,
                                r,
                                s,
                                o = document.getElementsByName('viewport'),
                                a = o ? o[0] : null;
                            (n = a ? a.content : ''),
                                ((i = i || document.createElement('meta')).id = 'cocosMetaElement'),
                                (i.name = 'viewport'),
                                (i.content = '');
                            for (r in t)
                                -1 == n.indexOf(r)
                                    ? (n += ',' + r + '=' + t[r])
                                    : e && ((s = new RegExp(r + 's*=s*[^,]+')), n.replace(s, r + '=' + t[r]));
                            /^,/.test(n) && (n = n.substr(1)),
                                (i.content = n),
                                a && (a.content = n),
                                document.head.appendChild(i);
                        },
                        _adjustViewportMeta: function () {
                            this._isAdjustViewPort &&
                                (this._setViewportMeta(r.meta, !1), (this._isAdjustViewPort = !1));
                        },
                        _resetScale: function () {
                            (this._scaleX = this._originalScaleX), (this._scaleY = this._originalScaleY);
                        },
                        _adjustSizeToBrowser: function () {},
                        initialize: function () {
                            this._initialized = !0;
                        },
                        adjustViewPort: function (t) {
                            this._isAdjustViewPort = t;
                        },
                        enableRetina: function (t) {
                            this._retinaEnabled = !!t;
                        },
                        isRetinaEnabled: function () {
                            return this._retinaEnabled;
                        },
                        enableAntiAlias: function (t) {
                            if (this._antiAliasEnabled !== t)
                                if (((this._antiAliasEnabled = t), cc._renderType === cc.game.RENDER_TYPE_WEBGL)) {
                                    var e = cc.loader._cache;
                                    for (var i in e) {
                                        var n = e[i],
                                            r = n && n.content instanceof cc.Texture2D ? n.content : null;
                                        r && (t ? r.setAntiAliasTexParameters() : r.setAliasTexParameters());
                                    }
                                } else if (cc._renderType === cc.game.RENDER_TYPE_CANVAS) {
                                    var s = cc._canvas.getContext('2d');
                                    (s.imageSmoothingEnabled = t), (s.mozImageSmoothingEnabled = t);
                                    var o = cc.rendererCanvas._dirtyRegion;
                                    if (o) {
                                        var a = new cc.Region();
                                        a.setTo(0, 0, cc.visibleRect.width, cc.visibleRect.height), o.addRegion(a);
                                    }
                                }
                        },
                        isAntiAliasEnabled: function () {
                            return this._antiAliasEnabled;
                        },
                        enableAutoFullScreen: function (t) {
                            t &&
                            t !== this._autoFullScreen &&
                            cc.sys.isMobile &&
                            cc.sys.browserType !== cc.sys.BROWSER_TYPE_WECHAT
                                ? ((this._autoFullScreen = !0), cc.screen.autoFullScreen(cc.game.frame))
                                : (this._autoFullScreen = !1);
                        },
                        isAutoFullScreenEnabled: function () {
                            return this._autoFullScreen;
                        },
                        isViewReady: function () {
                            return cc.game.canvas && cc._renderContext;
                        },
                        setFrameZoomFactor: function (t) {
                            (this._frameZoomFactor = t), cc.director.setProjection(cc.director.getProjection());
                        },
                        setContentTranslateLeftTop: function (t, e) {
                            this._contentTranslateLeftTop = {
                                left: t,
                                top: e,
                            };
                        },
                        getContentTranslateLeftTop: function () {
                            return this._contentTranslateLeftTop;
                        },
                        setCanvasSize: function (t, e) {
                            var i = cc.game.canvas,
                                n = cc.game.container;
                            if (window.CMPlayScreen)
                                return (
                                    (t = window.CMPlayScreen.canvasWidth),
                                    (e = window.CMPlayScreen.canvasHeight),
                                    (i.width = t * this._devicePixelRatio),
                                    (i.height = e * this._devicePixelRatio),
                                    (i.style.width = t + 'px'),
                                    (i.style.height = e + 'px'),
                                    (n.style.width = window.CMPlayScreen.containerWidth + 'px'),
                                    (n.style.height = window.CMPlayScreen.containerHeight + 'px'),
                                    void this._resizeEvent()
                                );
                            (i.width = t * this._devicePixelRatio),
                                (i.height = e * this._devicePixelRatio),
                                (i.style.width = t + 'px'),
                                (i.style.height = e + 'px'),
                                (n.style.width = t + 'px'),
                                (n.style.height = e + 'px'),
                                this._resizeEvent();
                        },
                        getCanvasSize: function () {
                            return cc.size(cc.game.canvas.width, cc.game.canvas.height);
                        },
                        getFrameSize: function () {
                            return cc.size(this._frameSize.width, this._frameSize.height);
                        },
                        setFrameSize: function (t, e) {
                            (this._frameSize.width = t),
                                (this._frameSize.height = e),
                                (cc.game.frame.style.width = t + 'px'),
                                (cc.game.frame.style.height = e + 'px'),
                                this._resizeEvent(),
                                cc.director.setProjection(cc.director.getProjection());
                        },
                        getVisibleSize: function () {
                            return cc.size(this._visibleRect.width, this._visibleRect.height);
                        },
                        getVisibleSizeInPixel: function () {
                            return cc.size(
                                this._visibleRect.width * this._scaleX,
                                this._visibleRect.height * this._scaleY,
                            );
                        },
                        getVisibleOrigin: function () {
                            return cc.p(this._visibleRect.x, this._visibleRect.y);
                        },
                        getVisibleOriginInPixel: function () {
                            return cc.p(this._visibleRect.x * this._scaleX, this._visibleRect.y * this._scaleY);
                        },
                        canSetContentScaleFactor: function () {
                            return !0;
                        },
                        getResolutionPolicy: function () {
                            return this._resolutionPolicy;
                        },
                        setResolutionPolicy: function (t) {
                            if (t instanceof cc.ResolutionPolicy) this._resolutionPolicy = t;
                            else {
                                var e = cc.ResolutionPolicy;
                                t === e.EXACT_FIT && (this._resolutionPolicy = this._rpExactFit),
                                    t === e.SHOW_ALL && (this._resolutionPolicy = this._rpShowAll),
                                    t === e.NO_BORDER && (this._resolutionPolicy = this._rpNoBorder),
                                    t === e.FIXED_HEIGHT && (this._resolutionPolicy = this._rpFixedHeight),
                                    t === e.FIXED_WIDTH && (this._resolutionPolicy = this._rpFixedWidth);
                            }
                        },
                        setDesignResolutionSize: function (t, e, i) {
                            if (t > 0 || e > 0) {
                                this.setResolutionPolicy(i);
                                var n = this._resolutionPolicy;
                                if (
                                    (n && n.preApply(this),
                                    cc.sys.isMobile && this._adjustViewportMeta(),
                                    (this._orientationChanging = !0),
                                    this._resizing || this._initFrameSize(),
                                    n)
                                ) {
                                    (this._originalDesignResolutionSize.width = this._designResolutionSize.width = t),
                                        (this._originalDesignResolutionSize.height = this._designResolutionSize.height =
                                            e);
                                    var r = n.apply(this, this._designResolutionSize);
                                    if (
                                        (r.scale &&
                                            2 === r.scale.length &&
                                            ((this._scaleX = r.scale[0]), (this._scaleY = r.scale[1])),
                                        r.viewport)
                                    ) {
                                        var s = this._viewPortRect,
                                            o = this._visibleRect,
                                            a = r.viewport;
                                        (s.x = a.x),
                                            (s.y = a.y),
                                            (s.width = a.width),
                                            (s.height = a.height),
                                            (o.x = -s.x / this._scaleX),
                                            (o.y = -s.y / this._scaleY),
                                            (o.width = cc.game.canvas.width / this._scaleX),
                                            (o.height = cc.game.canvas.height / this._scaleY),
                                            cc._renderContext.setOffset && cc._renderContext.setOffset(s.x, -s.y);
                                    }
                                    var c = cc.director;
                                    (c._winSizeInPoints.width = this._designResolutionSize.width),
                                        (c._winSizeInPoints.height = this._designResolutionSize.height),
                                        n.postApply(this),
                                        (cc.winSize.width = c._winSizeInPoints.width),
                                        (cc.winSize.height = c._winSizeInPoints.height),
                                        cc._renderType === cc.game.RENDER_TYPE_WEBGL
                                            ? c.setGLDefaultValues()
                                            : cc._renderType === cc.game.RENDER_TYPE_CANVAS &&
                                              (cc.renderer._allNeedDraw = !0),
                                        (this._originalScaleX = this._scaleX),
                                        (this._originalScaleY = this._scaleY),
                                        cc.visibleRect && cc.visibleRect.init(this._visibleRect);
                                } else cc.logID(2201);
                            } else cc.logID(2200);
                        },
                        getDesignResolutionSize: function () {
                            return cc.size(this._designResolutionSize.width, this._designResolutionSize.height);
                        },
                        setRealPixelResolution: function (t, e, i) {
                            this._setViewportMeta(
                                {
                                    width: t,
                                },
                                !0,
                            ),
                                (document.documentElement.style.width = t + 'px'),
                                (document.body.style.width = t + 'px'),
                                (document.body.style.left = '0px'),
                                (document.body.style.top = '0px'),
                                this.setDesignResolutionSize(t, e, i);
                        },
                        setViewPortInPoints: function (t, e, i, n) {
                            var r = this._frameZoomFactor,
                                s = this._scaleX,
                                o = this._scaleY;
                            cc._renderContext.viewport(
                                t * s * r + this._viewPortRect.x * r,
                                e * o * r + this._viewPortRect.y * r,
                                i * s * r,
                                n * o * r,
                            );
                        },
                        setScissorInPoints: function (t, e, i, n) {
                            var r = this._frameZoomFactor,
                                s = this._scaleX,
                                a = this._scaleY,
                                c = Math.ceil(t * s * r + this._viewPortRect.x * r),
                                h = Math.ceil(e * a * r + this._viewPortRect.y * r),
                                l = Math.ceil(i * s * r),
                                u = Math.ceil(n * a * r);
                            if (!o) {
                                var d = gl.getParameter(gl.SCISSOR_BOX);
                                o = cc.rect(d[0], d[1], d[2], d[3]);
                            }
                            (o.x === c && o.y === h && o.width === l && o.height === u) ||
                                ((o.x = c),
                                (o.y = h),
                                (o.width = l),
                                (o.height = u),
                                cc._renderContext.scissor(c, h, l, u));
                        },
                        isScissorEnabled: function () {
                            return cc._renderContext.isEnabled(gl.SCISSOR_TEST);
                        },
                        getScissorRect: function () {
                            if (!o) {
                                var t = gl.getParameter(gl.SCISSOR_BOX);
                                o = cc.rect(t[0], t[1], t[2], t[3]);
                            }
                            var e = 1 / this._scaleX,
                                i = 1 / this._scaleY;
                            return cc.rect(
                                (o.x - this._viewPortRect.x) * e,
                                (o.y - this._viewPortRect.y) * i,
                                o.width * e,
                                o.height * i,
                            );
                        },
                        setViewName: function (t) {
                            null != t && t.length > 0 && (this._viewName = t);
                        },
                        getViewName: function () {
                            return this._viewName;
                        },
                        getViewPortRect: function () {
                            return this._viewPortRect;
                        },
                        getScaleX: function () {
                            return this._scaleX;
                        },
                        getScaleY: function () {
                            return this._scaleY;
                        },
                        getDevicePixelRatio: function () {
                            return this._devicePixelRatio;
                        },
                        convertToLocationInView: function (t, e, i) {
                            var n = this._devicePixelRatio * (t - i.left),
                                r = this._devicePixelRatio * (i.top + i.height - e);
                            return this._isRotated
                                ? {
                                      x: this._viewPortRect.width - r,
                                      y: n,
                                  }
                                : {
                                      x: n,
                                      y: r,
                                  };
                        },
                        _convertMouseToLocationInView: function (t, e) {
                            var i = this._viewPortRect;
                            (t.x = (this._devicePixelRatio * (t.x - e.left) - i.x) / this._scaleX),
                                (t.y = (this._devicePixelRatio * (e.top + e.height - t.y) - i.y) / this._scaleY);
                        },
                        _convertPointWithScale: function (t) {
                            var e = this._viewPortRect;
                            (t.x = (t.x - e.x) / this._scaleX), (t.y = (t.y - e.y) / this._scaleY);
                        },
                        _convertTouchesWithScale: function (t) {
                            for (
                                var e, i, n, r = this._viewPortRect, s = this._scaleX, o = this._scaleY, a = 0;
                                a < t.length;
                                a++
                            )
                                (i = (e = t[a])._point),
                                    (n = e._prevPoint),
                                    (i.x = (i.x - r.x) / s),
                                    (i.y = (i.y - r.y) / o),
                                    (n.x = (n.x - r.x) / s),
                                    (n.y = (n.y - r.y) / o);
                        },
                    });
                (a._getInstance = function () {
                    return (
                        this._instance || ((this._instance = this._instance || new a()), this._instance.initialize()),
                        this._instance
                    );
                }),
                    (cc.ContainerStrategy = cc._Class.extend({
                        preApply: function (t) {},
                        apply: function (t, e) {},
                        postApply: function (t) {},
                        _setupContainer: function (t, e, i) {
                            var n = cc.game.canvas,
                                r = cc.game.container;
                            cc.sys.platform !== cc.sys.WECHAT_GAME &&
                                (cc.sys.os === cc.sys.OS_ANDROID &&
                                    ((document.body.style.width = (t._isRotated ? i : e) + 'px'),
                                    (document.body.style.height = (t._isRotated ? e : i) + 'px')),
                                window.CMPlayScreen
                                    ? ((r.style.width = window.CMPlayScreen.containerWidth + 'px'),
                                      (r.style.height = window.CMPlayScreen.containerHeight + 'px'),
                                      (n.style.width = window.CMPlayScreen.canvasWidth + 'px'),
                                      (n.style.height = window.CMPlayScreen.canvasHeight + 'px'))
                                    : ((r.style.width = n.style.width = e + 'px'),
                                      (r.style.height = n.style.height = i + 'px')));
                            var s = (t._devicePixelRatio = 1);
                            if (
                                (t.isRetinaEnabled() &&
                                    (s = t._devicePixelRatio = Math.min(2, window.devicePixelRatio || 1)),
                                (n.width = e * s),
                                (n.height = i * s),
                                window.CMPlayScreen &&
                                    ((n.width = window.CMPlayScreen.canvasWidth),
                                    (n.height = window.CMPlayScreen.canvasHeight)),
                                cc.sys.browserType === cc.sys.BROWSER_TYPE_WECHAT_GAME && wx && wx.getOpenDataContext)
                            ) {
                                var o = wx.getOpenDataContext().canvas;
                                o && ((o.width = n.width), (o.height = n.height));
                            }
                            cc._renderContext.resetCache && cc._renderContext.resetCache();
                        },
                        _fixContainer: function () {
                            document.body.insertBefore(cc.container, document.body.firstChild);
                            var t = document.body.style;
                            (t.width = window.innerWidth + 'px'),
                                (t.height = window.innerHeight + 'px'),
                                (t.overflow = 'hidden');
                            var e = cc.container.style;
                            (e.position = 'fixed'), (e.left = e.top = '0px'), (document.body.scrollTop = 0);
                        },
                    })),
                    (cc.ContentStrategy = cc._Class.extend({
                        _result: {
                            scale: [1, 1],
                            viewport: null,
                        },
                        _buildResult: function (t, e, i, n, r, s) {
                            Math.abs(t - i) < 2 && (i = t), Math.abs(e - n) < 2 && (n = e);
                            var o = cc.rect(Math.round((t - i) / 2), Math.round((e - n) / 2), i, n);
                            return (
                                cc._renderType,
                                cc.game.RENDER_TYPE_CANVAS,
                                (this._result.scale = [r, s]),
                                (this._result.viewport = o),
                                this._result
                            );
                        },
                        preApply: function (t) {},
                        apply: function (t, e) {
                            return {
                                scale: [1, 1],
                            };
                        },
                        postApply: function (t) {},
                    })),
                    (function () {
                        var t = cc.ContainerStrategy.extend({
                                apply: function (t) {
                                    var e = t._frameSize.height,
                                        i = cc.container.style;
                                    window.CMPlayScreen && (e = 0),
                                        this._setupContainer(t, t._frameSize.width, t._frameSize.height),
                                        t._isRotated ? (i.margin = '0 0 0 ' + e + 'px') : (i.margin = '0px'),
                                        (i.padding = '0px');
                                },
                            }),
                            e = cc.ContainerStrategy.extend({
                                apply: function (t, e) {
                                    var i,
                                        n,
                                        r = t._frameSize.width,
                                        s = t._frameSize.height,
                                        o = cc.container.style,
                                        a = e.width,
                                        c = e.height,
                                        h = r / a,
                                        l = s / c;
                                    h < l ? ((i = r), (n = c * h)) : ((i = a * l), (n = s));
                                    var u = Math.round((r - i) / 2),
                                        d = Math.round((s - n) / 2);
                                    (i = r - 2 * u),
                                        (n = s - 2 * d),
                                        this._setupContainer(t, i, n),
                                        t._isRotated ? (o.margin = '0 0 0 ' + s + 'px') : (o.margin = '0px'),
                                        (o.paddingLeft = u + 'px'),
                                        (o.paddingRight = u + 'px'),
                                        (o.paddingTop = d + 'px'),
                                        (o.paddingBottom = d + 'px');
                                },
                            }),
                            i =
                                (t.extend({
                                    preApply: function (t) {
                                        this._super(t), (cc.game.frame = document.documentElement);
                                    },
                                    apply: function (t) {
                                        this._super(t), this._fixContainer();
                                    },
                                }),
                                e.extend({
                                    preApply: function (t) {
                                        this._super(t), (cc.game.frame = document.documentElement);
                                    },
                                    apply: function (t, e) {
                                        this._super(t, e), this._fixContainer();
                                    },
                                }),
                                cc.ContainerStrategy.extend({
                                    apply: function (t) {
                                        this._setupContainer(t, cc.game.canvas.width, cc.game.canvas.height);
                                    },
                                }));
                        (cc.ContainerStrategy.EQUAL_TO_FRAME = new t()),
                            (cc.ContainerStrategy.PROPORTION_TO_FRAME = new e()),
                            (cc.ContainerStrategy.ORIGINAL_CONTAINER = new i());
                        var n = cc.ContentStrategy.extend({
                                apply: function (t, e) {
                                    var i = cc.game.canvas.width,
                                        n = cc.game.canvas.height,
                                        r = i / e.width,
                                        s = n / e.height;
                                    return this._buildResult(i, n, i, n, r, s);
                                },
                            }),
                            r = cc.ContentStrategy.extend({
                                apply: function (t, e) {
                                    var i,
                                        n,
                                        r = cc.game.canvas.width,
                                        s = cc.game.canvas.height,
                                        o = e.width,
                                        a = e.height,
                                        c = r / o,
                                        h = s / a,
                                        l = 0;
                                    return (
                                        c < h ? ((l = c), (i = r), (n = a * l)) : ((l = h), (i = o * l), (n = s)),
                                        this._buildResult(r, s, i, n, l, l)
                                    );
                                },
                            }),
                            s = cc.ContentStrategy.extend({
                                apply: function (t, e) {
                                    var i,
                                        n,
                                        r,
                                        s = cc.game.canvas.width,
                                        o = cc.game.canvas.height,
                                        a = e.width,
                                        c = e.height,
                                        h = s / a,
                                        l = o / c;
                                    return (
                                        h < l ? ((i = l), (n = a * i), (r = o)) : ((i = h), (n = s), (r = c * i)),
                                        this._buildResult(s, o, n, r, i, i)
                                    );
                                },
                            }),
                            o = cc.ContentStrategy.extend({
                                apply: function (t, e) {
                                    var i = cc.game.canvas.width,
                                        n = cc.game.canvas.height,
                                        r = n / e.height,
                                        s = i,
                                        o = n;
                                    return this._buildResult(i, n, s, o, r, r);
                                },
                                postApply: function (t) {
                                    cc.director._winSizeInPoints = t.getVisibleSize();
                                },
                            }),
                            a = cc.ContentStrategy.extend({
                                apply: function (t, e) {
                                    var i = cc.game.canvas.width,
                                        n = cc.game.canvas.height,
                                        r = i / e.width,
                                        s = i,
                                        o = n;
                                    return this._buildResult(i, n, s, o, r, r);
                                },
                                postApply: function (t) {
                                    cc.director._winSizeInPoints = t.getVisibleSize();
                                },
                            });
                        (cc.ContentStrategy.EXACT_FIT = new n()),
                            (cc.ContentStrategy.SHOW_ALL = new r()),
                            (cc.ContentStrategy.NO_BORDER = new s()),
                            (cc.ContentStrategy.FIXED_HEIGHT = new o()),
                            (cc.ContentStrategy.FIXED_WIDTH = new a());
                    })(),
                    (cc.ResolutionPolicy = cc._Class.extend({
                        _containerStrategy: null,
                        _contentStrategy: null,
                        ctor: function (t, e) {
                            this.setContainerStrategy(t), this.setContentStrategy(e);
                        },
                        preApply: function (t) {
                            this._containerStrategy.preApply(t), this._contentStrategy.preApply(t);
                        },
                        apply: function (t, e) {
                            return this._containerStrategy.apply(t, e), this._contentStrategy.apply(t, e);
                        },
                        postApply: function (t) {
                            this._containerStrategy.postApply(t), this._contentStrategy.postApply(t);
                        },
                        setContainerStrategy: function (t) {
                            t instanceof cc.ContainerStrategy && (this._containerStrategy = t);
                        },
                        setContentStrategy: function (t) {
                            t instanceof cc.ContentStrategy && (this._contentStrategy = t);
                        },
                    })),
                    cc.js.get(cc.ResolutionPolicy.prototype, 'canvasSize', function () {
                        return cc.v2(cc.game.canvas.width, cc.game.canvas.height);
                    }),
                    (cc.ResolutionPolicy.EXACT_FIT = 0),
                    (cc.ResolutionPolicy.NO_BORDER = 1),
                    (cc.ResolutionPolicy.SHOW_ALL = 2),
                    (cc.ResolutionPolicy.FIXED_HEIGHT = 3),
                    (cc.ResolutionPolicy.FIXED_WIDTH = 4),
                    (cc.ResolutionPolicy.UNKNOWN = 5),
                    (e.exports = a);
            },
            {
                '../event-manager': 95,
            },
        ],
        146: [
            function (t, e, i) {
                cc.visibleRect = {
                    topLeft: cc.p(0, 0),
                    topRight: cc.p(0, 0),
                    top: cc.p(0, 0),
                    bottomLeft: cc.p(0, 0),
                    bottomRight: cc.p(0, 0),
                    bottom: cc.p(0, 0),
                    center: cc.p(0, 0),
                    left: cc.p(0, 0),
                    right: cc.p(0, 0),
                    width: 0,
                    height: 0,
                    init: function (t) {
                        var e = (this.width = t.width),
                            i = (this.height = t.height),
                            n = t.x,
                            r = t.y,
                            s = r + i,
                            o = n + e;
                        (this.topLeft.x = n),
                            (this.topLeft.y = s),
                            (this.topRight.x = o),
                            (this.topRight.y = s),
                            (this.top.x = n + e / 2),
                            (this.top.y = s),
                            (this.bottomLeft.x = n),
                            (this.bottomLeft.y = r),
                            (this.bottomRight.x = o),
                            (this.bottomRight.y = r),
                            (this.bottom.x = n + e / 2),
                            (this.bottom.y = r),
                            (this.center.x = n + e / 2),
                            (this.center.y = r + i / 2),
                            (this.left.x = n),
                            (this.left.y = r + i / 2),
                            (this.right.x = o),
                            (this.right.y = r + i / 2);
                    },
                };
            },
            {},
        ],
        147: [
            function (t, e, i) {
                var n = (cc.ClassManager = {
                        instanceId: 0 | (998 * Math.random()),
                        getNewInstanceId: function () {
                            return this.instanceId++;
                        },
                    }),
                    r = /\b_super\b/,
                    s = function () {};
                (s.extend = function (t) {
                    var e,
                        i = this.prototype,
                        o = Object.create(i),
                        a = {
                            writable: !0,
                            enumerable: !1,
                            configurable: !0,
                        };
                    if (cc.game && cc.game.config && cc.game.config[cc.game.CONFIG_KEY.exposeClassName]) {
                        var c =
                            'return (function ' +
                            (t._className || 'Class') +
                            '(arg0,arg1,arg2,arg3,arg4) {\nthis.__instanceId = cc.ClassManager.getNewInstanceId();\nif (this.ctor) {\nswitch (arguments.length) {\ncase 0: this.ctor(); break;\ncase 1: this.ctor(arg0); break;\ncase 2: this.ctor(arg0,arg1); break;\ncase 3: this.ctor(arg0,arg1,arg2); break;\ncase 4: this.ctor(arg0,arg1,arg2,arg3); break;\ncase 5: this.ctor(arg0,arg1,arg2,arg3,arg4); break;\ndefault: this.ctor.apply(this, arguments);\n}\n}\n});';
                        e = Function(c)();
                    } else
                        e = function (t, e, i, r, s) {
                            if (((this.__instanceId = n.getNewInstanceId()), this.ctor))
                                switch (arguments.length) {
                                    case 0:
                                        this.ctor();
                                        break;
                                    case 1:
                                        this.ctor(t);
                                        break;
                                    case 2:
                                        this.ctor(t, e);
                                        break;
                                    case 3:
                                        this.ctor(t, e, i);
                                        break;
                                    case 4:
                                        this.ctor(t, e, i, r);
                                        break;
                                    case 5:
                                        this.ctor(t, e, i, r, s);
                                        break;
                                    default:
                                        this.ctor.apply(this, arguments);
                                }
                        };
                    (e.prototype = o), (a.value = e), Object.defineProperty(o, 'constructor', a);
                    for (var h in t) {
                        var l = 'function' == typeof t[h];
                        l && 'function' == typeof i[h] && r.test(t[h])
                            ? ((a.value = (function (t, e) {
                                  return function () {
                                      var n = this._super;
                                      this._super = i[t];
                                      var r = e.apply(this, arguments);
                                      return (this._super = n), r;
                                  };
                              })(h, t[h])),
                              Object.defineProperty(o, h, a))
                            : l
                            ? ((a.value = t[h]), Object.defineProperty(o, h, a))
                            : (o[h] = t[h]);
                    }
                    return (
                        (e.extend = s.extend),
                        (e.implement = function (t) {
                            for (var e in t) o[e] = t[e];
                        }),
                        e
                    );
                }),
                    (cc.defineGetterSetter = function (t, e, i, n, r, s) {
                        if (t.__defineGetter__) i && t.__defineGetter__(e, i), n && t.__defineSetter__(e, n);
                        else {
                            if (!Object.defineProperty) throw new Error('browser does not support getters');
                            var o = {
                                configurable: !0,
                            };
                            i && (o.get = i), n && (o.set = n), Object.defineProperty(t, e, o);
                        }
                    }),
                    (cc.clone = function (t) {
                        var e = t.constructor ? new t.constructor() : {};
                        for (var i in t) {
                            var n = t[i];
                            'object' != typeof n || !n || n instanceof _ccsg.Node || n instanceof HTMLElement
                                ? (e[i] = n)
                                : (e[i] = cc.clone(n));
                        }
                        return e;
                    }),
                    (cc._Class = e.exports = s);
            },
            {},
        ],
        148: [
            function (t, e, i) {
                function n(t, e, i) {
                    var n;
                    (n = function () {}), i && c.extend(n, i.constructor);
                    var r = new n();
                    return c.value(t, '__attrs__', r), r;
                }

                function r(t, e, i) {
                    var r, o, a;
                    if ('function' == typeof t) o = (r = s(t)).constructor.prototype;
                    else {
                        var c = t;
                        if (!(r = c.__attrs__)) {
                            r = n(c, 0, s((t = c.constructor)));
                        }
                        o = r;
                    }
                    if (void 0 === i) {
                        var l = e + h,
                            u = {};
                        for (a in r) a.startsWith(l) && (u[a.slice(l.length)] = r[a]);
                        return u;
                    }
                    if ('object' == typeof i) for (a in i) 95 !== a.charCodeAt(0) && (o[e + h + a] = i[a]);
                    else 0;
                }

                function s(t) {
                    return (
                        (t.hasOwnProperty('__attrs__') && t.__attrs__) ||
                        (function (t) {
                            for (var e, i = cc.Class.getInheritanceChain(t), r = i.length - 1; r >= 0; r--) {
                                var s = i[r];
                                (s.hasOwnProperty('__attrs__') && s.__attrs__) ||
                                    n(s, 0, (e = i[r + 1]) && e.__attrs__);
                            }
                            return (e = i[0]), n(t, 0, e && e.__attrs__), t.__attrs__;
                        })(t)
                    );
                }

                function o(t) {
                    return s(t).constructor.prototype;
                }

                function a(t, e) {
                    0;
                }
                var c = t('./js'),
                    h = (t('./utils').isPlainEmptyObj_DEV, '$_$');
                (cc.Integer = 'Integer'),
                    (cc.Float = 'Float'),
                    (cc.Boolean = 'Boolean'),
                    (cc.String = 'String'),
                    (e.exports = {
                        attr: r,
                        getClassAttrs: s,
                        getClassAttrsProto: o,
                        setClassAttr: function (t, e, i, n) {
                            o(t)[e + h + i] = n;
                        },
                        DELIMETER: h,
                        getTypeChecker: a,
                        ObjectType: function (t) {
                            return {
                                type: 'Object',
                                ctor: t,
                                _onAfterProp: !1,
                            };
                        },
                        ScriptUuid: {},
                    });
            },
            {
                './CCClass': 135,
                './js': 156,
                './utils': 160,
            },
        ],
        149: [
            function (t, e, i) {
                function n() {
                    (this.callbacks = []), (this.targets = []), (this.isInvoking = !1), (this.containCanceled = !1);
                }

                function r() {
                    this._callbackTable = s.createMap(!0);
                }
                var s = t('./js'),
                    o = s.array.fastRemoveAt,
                    a = n.prototype;
                (a.removeBy = function (t, e) {
                    for (var i = this.callbacks, n = this.targets, r = 0; r < t.length; ++r)
                        t[r] === e && (o(i, r), o(n, r), --r);
                }),
                    (a.cancel = function (t) {
                        (this.callbacks[t] = this.targets[t] = null), (this.containCanceled = !0);
                    }),
                    (a.cancelAll = function () {
                        for (var t = this.callbacks, e = this.targets, i = 0; i < t.length; i++) t[i] = e[i] = null;
                        this.containCanceled = !0;
                    }),
                    (a.purgeCanceled = function () {
                        this.removeBy(this.callbacks, null), (this.containCanceled = !1);
                    });
                var c = new s.Pool(function (t) {
                    (t.callbacks.length = 0), (t.targets.length = 0), (t.isInvoking = !1), (t.containCanceled = !1);
                }, 16);
                (c.get = function () {
                    return this._get() || new n();
                }),
                    ((a = r.prototype).add = function (t, e, i) {
                        var n = this._callbackTable[t];
                        n || (n = this._callbackTable[t] = c.get()), n.callbacks.push(e), n.targets.push(i || null);
                    }),
                    (a.has = function (t, e, i) {
                        var n = this._callbackTable[t];
                        if (!n) return !1;
                        var r = n.callbacks;
                        if (!e) {
                            for (var s = 0; s < r.length; s++) if (r[s]) return !0;
                            return !1;
                        }
                        i = i || null;
                        for (var o = n.targets, a = 0; a < r.length; ++a) if (r[a] === e && o[a] === i) return !0;
                        return !1;
                    }),
                    (a.removeAll = function (t) {
                        if ('string' == typeof t) {
                            var e = this._callbackTable[t];
                            e && (e.isInvoking ? e.cancelAll() : (c.put(e), delete this._callbackTable[t]));
                        } else if (t)
                            for (var i in this._callbackTable) {
                                var n = this._callbackTable[i];
                                if (n.isInvoking)
                                    for (var r = n.targets, s = 0; s < r.length; ++s) r[s] === t && n.cancel(s);
                                else n.removeBy(n.targets, t);
                            }
                    }),
                    (a.remove = function (t, e, i) {
                        var n = this._callbackTable[t];
                        if (n) {
                            i = i || null;
                            for (var r = n.callbacks, s = n.targets, a = 0; a < r.length; ++a)
                                if (r[a] === e && s[a] === i) {
                                    n.isInvoking ? n.cancel(a) : (o(r, a), o(s, a));
                                    break;
                                }
                        }
                    });
                var h = function () {
                    r.call(this);
                };
                s.extend(h, r),
                    (h.prototype.invoke = function (t, e, i, n, r, s) {
                        var o = this._callbackTable[t];
                        if (o) {
                            var a = !o.isInvoking;
                            o.isInvoking = !0;
                            for (var c = o.callbacks, h = o.targets, l = 0, u = c.length; l < u; ++l) {
                                var d = c[l];
                                if (d) {
                                    var _ = h[l];
                                    _ ? d.call(_, e, i, n, r, s) : d(e, i, n, r, s);
                                }
                            }
                            a && ((o.isInvoking = !1), o.containCanceled && o.purgeCanceled());
                        }
                    }),
                    (h.CallbacksHandler = r),
                    (e.exports = h);
            },
            {
                './js': 156,
            },
        ],
        150: [
            function (t, e, i) {
                function n(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var r = e[i];
                        Array.isArray(r) ? n(t, r) : t.push(r);
                    }
                }
                e.exports = {
                    flattenCodeArray: function (t) {
                        var e = [];
                        return n(e, t), e.join('');
                    },
                };
            },
            {},
        ],
        151: [
            function (t, e, i) {
                var n = t('./js'),
                    r = (t('./CCObject'), t('./attribute')),
                    s = t('./CCClass'),
                    o = t('../utils/misc'),
                    a = function () {
                        (this.uuidList = []), (this.uuidObjList = []), (this.uuidPropList = []), (this.rawProp = '');
                    };
                (a.prototype.reset = function () {
                    (this.uuidList.length = 0),
                        (this.uuidObjList.length = 0),
                        (this.uuidPropList.length = 0),
                        (this.rawProp = '');
                }),
                    (a.prototype.getUuidOf = function (t, e) {
                        for (var i = 0; i < this.uuidObjList.length; i++)
                            if (this.uuidObjList[i] === t && this.uuidPropList[i] === e) return this.uuidList[i];
                        return '';
                    }),
                    (a.prototype.push = function (t, e, i) {
                        this.uuidList.push(i), this.uuidObjList.push(t), this.uuidPropList.push(e);
                    }),
                    ((a.pool = new n.Pool(function (t) {
                        t.reset();
                    }, 10)).get = function () {
                        return this._get() || new a();
                    });
                var c = (function () {
                    function t(t, e, i, n, r) {
                        (this.result = t),
                            (this.customEnv = n),
                            (this.deserializedList = []),
                            (this.deserializedData = null),
                            (this._classFinder = i),
                            (this._idList = []),
                            (this._idObjList = []),
                            (this._idPropList = []);
                    }

                    function e(t, e, i, r, s) {
                        var o;
                        r.hasOwnProperty('__deserialize__')
                            ? (o = r.__deserialize__)
                            : ((o = c(t, r)), n.value(r, '__deserialize__', o, !0)),
                            o(t, e, i, r, s);
                    }
                    var i = t.prototype;
                    (i.deserialize = function (t) {
                        if (Array.isArray(t)) {
                            var e = t,
                                i = e.length;
                            this.deserializedList.length = i;
                            for (var n = 0; n < i; n++)
                                if (e[n]) {
                                    this.deserializedList[n] = this._deserializeObject(e[n]);
                                }
                            this.deserializedData = i > 0 ? this.deserializedList[0] : [];
                        } else
                            (this.deserializedList.length = 1),
                                (this.deserializedData = t ? this._deserializeObject(t) : null),
                                (this.deserializedList[0] = this.deserializedData);
                        return (
                            (function (t) {
                                var e,
                                    i,
                                    n,
                                    r = t.deserializedList,
                                    s = t._idPropList,
                                    o = t._idList,
                                    a = t._idObjList;
                                for (t._classFinder && t._classFinder.onDereferenced, e = 0; e < o.length; e++)
                                    (i = s[e]), (n = o[e]), (a[e][i] = r[n]);
                            })(this),
                            this.deserializedData
                        );
                    }),
                        (i._deserializeObject = function (t, i, r, s) {
                            var o,
                                a = null,
                                c = null,
                                h = t.__type__;
                            if (h) {
                                if (!(c = this._classFinder(h, t, r, s))) {
                                    return (
                                        this._classFinder === n._getClassById && cc.deserialize.reportMissingClass(h),
                                        null
                                    );
                                }
                                if ((a = new c())._deserialize) return a._deserialize(t.content, this), a;
                                cc.Class._isCCClass(c) ? e(this, a, t, c, i) : this._deserializeTypedObject(a, t, c);
                            } else if (Array.isArray(t)) {
                                a = new Array(t.length);
                                for (var l = 0; l < t.length; l++)
                                    'object' == typeof (o = t[l]) && o
                                        ? this._deserializeObjField(a, o, '' + l)
                                        : (a[l] = o);
                            } else (a = {}), this._deserializePrimitiveObject(a, t);
                            return a;
                        }),
                        (i._deserializeObjField = function (t, e, i, n) {
                            var r = e.__id__;
                            if (void 0 === r) {
                                var s = e.__uuid__;
                                s
                                    ? (this.result.uuidList.push(s),
                                      this.result.uuidObjList.push(t),
                                      this.result.uuidPropList.push(i))
                                    : (t[i] = this._deserializeObject(e));
                            } else {
                                var o = this.deserializedList[r];
                                o
                                    ? (t[i] = o)
                                    : (this._idList.push(r), this._idObjList.push(t), this._idPropList.push(i));
                            }
                        }),
                        (i._deserializePrimitiveObject = function (t, e) {
                            for (var i in e)
                                if (e.hasOwnProperty(i)) {
                                    var n = e[i];
                                    'object' != typeof n
                                        ? '__type__' !== i && (t[i] = n)
                                        : n
                                        ? this._deserializeObjField(t, n, i)
                                        : (t[i] = null);
                                }
                        }),
                        (i._deserializeTypedObject = function (t, e, i) {
                            if (i === cc.Vec2) return (t.x = e.x || 0), void (t.y = e.y || 0);
                            if (i !== cc.Color) {
                                if (i === cc.Size) return (t.width = e.width || 0), void (t.height = e.height || 0);
                                var n = i.__props__;
                                n || (n = Object.keys(t));
                                for (var r = 0; r < n.length; r++) {
                                    var s = n[r],
                                        o = e[s];
                                    void 0 !== o &&
                                        e.hasOwnProperty(s) &&
                                        ('object' != typeof o
                                            ? (t[s] = o)
                                            : o
                                            ? this._deserializeObjField(t, o, s)
                                            : (t[s] = null));
                                }
                            } else {
                                (t.r = e.r || 0), (t.g = e.g || 0), (t.b = e.b || 0);
                                var a = e.a;
                                t.a = void 0 === a ? 255 : a;
                            }
                        });
                    var a = function (t, e, i, r, s) {
                            if (e instanceof cc.ValueType) {
                                s || t.push('if(prop){');
                                var o = n.getClassName(e);
                                t.push('s._deserializeTypedObject(o' + i + ',prop,' + o + ');'),
                                    s || t.push('}else o' + i + '=null;');
                            } else
                                t.push('if(prop){'),
                                    t.push('s._deserializeObjField(o,prop,' + r + ');'),
                                    t.push('}else o' + i + '=null;');
                        },
                        c = function (t, e) {
                            for (
                                var i = r.DELIMETER + 'type',
                                    c = r.DELIMETER + 'rawType',
                                    h = (r.DELIMETER, r.DELIMETER + 'serializable'),
                                    l = r.DELIMETER + 'default',
                                    u = r.DELIMETER + 'saveUrlAsAsset',
                                    d = r.DELIMETER + 'formerlySerializedAs',
                                    _ = r.getClassAttrs(e),
                                    f = e.__props__,
                                    p = ['var prop;'],
                                    g = o.BUILTIN_CLASSID_RE.test(n._getClassId(e)),
                                    m = 0;
                                m < f.length;
                                m++
                            ) {
                                var v,
                                    y = f[m];
                                if (_[y + c])
                                    (v = s.IDENTIFIER_RE.test(y) ? '"' + y + '"' : s.escapeForJS(y)),
                                        p.push(
                                            'if(s.result.rawProp)\ncc.error("not support multi raw object in a file");',
                                        ),
                                        p.push('s.result.rawProp=' + v + ';');
                                else {
                                    if (!1 === _[y + h]) continue;
                                    var C;
                                    s.IDENTIFIER_RE.test(y)
                                        ? ((v = '"' + y + '"'), (C = '.' + y))
                                        : (C = '[' + (v = s.escapeForJS(y)) + ']');
                                    var T = C;
                                    if (_[y + d]) {
                                        var E = _[y + d];
                                        T = s.IDENTIFIER_RE.test(E) ? '.' + E : '[' + s.escapeForJS(E) + ']';
                                    }
                                    p.push('prop=d' + T + ';'), p.push('if(typeof prop!=="undefined"){');
                                    var x = s.getDefault(_[y + l]);
                                    if (g) {
                                        var S,
                                            b = _[y + i];
                                        if (void 0 === x && b)
                                            S =
                                                b === cc.String ||
                                                b === cc.Integer ||
                                                b === cc.Float ||
                                                b === cc.Boolean;
                                        else {
                                            var A = typeof x;
                                            S = ('string' === A && !_[y + u]) || 'number' === A || 'boolean' === A;
                                        }
                                        S ? p.push('o' + C + '=prop;') : a(p, x, C, v, !0);
                                    } else
                                        p.push('if(typeof prop!=="object"){o' + C + '=prop;}else{'),
                                            a(p, x, C, v, !1),
                                            p.push('}');
                                    p.push('}');
                                }
                            }
                            return (
                                '_$erialized' === f[f.length - 1] &&
                                    (p.push('o._$erialized=JSON.parse(JSON.stringify(d));'),
                                    p.push('s._deserializePrimitiveObject(o._$erialized,d);')),
                                Function('s', 'o', 'd', 'k', 't', p.join(''))
                            );
                        };
                    return (
                        (t.pool = new n.Pool(function (t) {
                            (t.result = null),
                                (t.customEnv = null),
                                (t.deserializedList.length = 0),
                                (t.deserializedData = null),
                                (t._classFinder = null),
                                (t._idList.length = 0),
                                (t._idObjList.length = 0),
                                (t._idPropList.length = 0);
                        }, 1)),
                        (t.pool.get = function (e, i, n, r, s) {
                            var o = this._get();
                            return o
                                ? ((o.result = e), (o.customEnv = r), (o._classFinder = n), o)
                                : new t(e, i, n, r, s);
                        }),
                        t
                    );
                })();
                (cc.deserialize = function (t, e, i) {
                    var r = (i = i || {}).classFinder || n._getClassById,
                        s = i.createAssetRefs || cc.sys.platform === cc.sys.EDITOR_CORE,
                        o = i.customEnv,
                        h = i.ignoreEditorOnly;
                    'string' == typeof t && (t = JSON.parse(t));
                    var l = !e;
                    e = e || a.pool.get();
                    var u = c.pool.get(e, !1, r, o, h);
                    cc.game._isCloning = !0;
                    var d = u.deserialize(t);
                    return (
                        (cc.game._isCloning = !1),
                        c.pool.put(u),
                        s && e.assignAssetsBy(Editor.serialize.asAsset),
                        l && a.pool.put(e),
                        d
                    );
                }),
                    (cc.deserialize.Details = a),
                    (cc.deserialize.reportMissingClass = function (t) {
                        cc.warnID(5302, t);
                    });
            },
            {
                '../utils/misc': 185,
                './CCClass': 135,
                './CCObject': 141,
                './attribute': 148,
                './js': 156,
            },
        ],
        152: [
            function (t, e, i) {
                function n(t) {
                    (this.id = 0 | (998 * Math.random())), (this.prefix = t ? t + r : '');
                }
                var r = '.';
                (n.prototype.getNewId = function () {
                    return this.prefix + ++this.id;
                }),
                    (n.global = new n('global')),
                    (e.exports = n);
            },
            {},
        ],
        153: [
            function (t, e, i) {
                t('./js'),
                    t('./CCClass'),
                    t('./CCClassDecorator'),
                    t('./CCEnum'),
                    t('./CCObject'),
                    t('./callbacks-invoker'),
                    t('./url'),
                    t('./deserialize'),
                    t('./instantiate'),
                    t('./instantiate-jit'),
                    t('./requiring-frame'),
                    t('./CCSys'),
                    t('./CCMacro'),
                    t('./CCAssetLibrary'),
                    t('./CCVisibleRect');
            },
            {
                './CCAssetLibrary': 134,
                './CCClass': 135,
                './CCClassDecorator': 136,
                './CCEnum': 137,
                './CCMacro': 140,
                './CCObject': 141,
                './CCSys': 144,
                './CCVisibleRect': 146,
                './callbacks-invoker': 149,
                './deserialize': 151,
                './instantiate': 155,
                './instantiate-jit': 154,
                './js': 156,
                './requiring-frame': 158,
                './url': 159,
            },
        ],
        154: [
            function (t, e, i) {
                function n(t, e) {
                    (this.varName = t), (this.expression = e);
                }

                function r(t, e) {
                    return e instanceof n ? new n(e.varName, t + e.expression) : t + e;
                }

                function s(t, e, i) {
                    Array.isArray(i) ? ((i[0] = r(e, i[0])), t.push(i)) : t.push(r(e, i) + ';');
                }

                function o(t) {
                    (this._exps = []), (this._targetExp = t);
                }

                function a(t, e) {
                    if ('function' == typeof t)
                        try {
                            t = t();
                        } catch (t) {
                            return !1;
                        }
                    if (t === e) return !0;
                    if (t && e) {
                        if (t instanceof cc.ValueType && t.equals(e)) return !0;
                        if (
                            (Array.isArray(t) && Array.isArray(e)) ||
                            (t.constructor === Object && e.constructor === Object)
                        )
                            try {
                                return JSON.stringify(t) === JSON.stringify(e);
                            } catch (t) {}
                    }
                    return !1;
                }

                function c(t) {
                    return y.test(t) ? '.' + t : '[' + C(t) + ']';
                }

                function h(t, e) {
                    (this.parent = e),
                        (this.objsToClear_iN$t = []),
                        (this.codeArray = []),
                        (this.objs = []),
                        (this.funcs = []),
                        (this.funcModuleCache = f.createMap()),
                        f.mixin(this.funcModuleCache, S),
                        (this.globalVariables = []),
                        (this.globalVariableId = 0),
                        (this.localVariableId = 0),
                        this.codeArray.push(
                            T + E + ',' + x + ';',
                            'if(R){',
                            E + '=R;',
                            '}else{',
                            E + '=R=new ' + this.getFuncModule(t.constructor, !0) + '();',
                            '}',
                        ),
                        (t._iN$t = {
                            globalVar: 'R',
                        }),
                        this.objsToClear_iN$t.push(t),
                        this.enumerateObject(this.codeArray, t);
                    var i;
                    this.globalVariables.length > 0 && (i = T + this.globalVariables.join(',') + ';');
                    var n = g.flattenCodeArray(['return (function(R){', i || [], this.codeArray, 'return o;', '})']);
                    this.result = Function('O', 'F', n)(this.objs, this.funcs);
                    for (var r = 0, s = this.objsToClear_iN$t.length; r < s; ++r) this.objsToClear_iN$t[r]._iN$t = null;
                    this.objsToClear_iN$t.length = 0;
                }
                var l = t('./CCObject'),
                    u = l.Flags.Destroyed,
                    d = l.Flags.PersistentMask,
                    _ = t('./attribute'),
                    f = t('./js'),
                    p = t('./CCClass'),
                    g = t('./compiler'),
                    m = _.DELIMETER + 'serializable',
                    v = _.DELIMETER + 'default',
                    y = p.IDENTIFIER_RE,
                    C = p.escapeForJS,
                    T = 'var ',
                    E = 'o',
                    x = 't',
                    S = {
                        'cc.Node': 'cc.Node',
                        'cc.Sprite': 'cc.Sprite',
                        'cc.Label': 'cc.Label',
                        'cc.Button': 'cc.Button',
                        'cc.Widget': 'cc.Widget',
                        'cc.Animation': 'cc.Animation',
                        'cc.ClickEvent': !1,
                        'cc.PrefabInfo': !1,
                    };
                (n.prototype.toString = function () {
                    return T + this.varName + '=' + this.expression + ';';
                }),
                    (o.prototype.append = function (t, e) {
                        this._exps.push([t, e]);
                    }),
                    (o.prototype.writeCode = function (t) {
                        var e;
                        if (this._exps.length > 1) t.push(x + '=' + this._targetExp + ';'), (e = x);
                        else {
                            if (1 !== this._exps.length) return;
                            e = this._targetExp;
                        }
                        for (var i = 0; i < this._exps.length; i++) {
                            var n = this._exps[i];
                            s(t, e + c(n[0]) + '=', n[1]);
                        }
                    }),
                    ((o.pool = new f.Pool(function (t) {
                        (t._exps.length = 0), (t._targetExp = null);
                    }, 1)).get = function (t) {
                        var e = this._get() || new o();
                        return (e._targetExp = t), e;
                    });
                var b = h.prototype;
                (b.getFuncModule = function (t, e) {
                    var i = f.getClassName(t);
                    if (i) {
                        var n = this.funcModuleCache[i];
                        if (n) return n;
                        if (void 0 === n) {
                            var r = -1 !== i.indexOf('.');
                            if (r)
                                try {
                                    if ((r = t === Function('return ' + i)())) return (this.funcModuleCache[i] = i), i;
                                } catch (t) {}
                        }
                    }
                    var s = this.funcs.indexOf(t);
                    s < 0 && ((s = this.funcs.length), this.funcs.push(t));
                    var o = 'F[' + s + ']';
                    return e && (o = '(' + o + ')'), (this.funcModuleCache[i] = o), o;
                }),
                    (b.getObjRef = function (t) {
                        var e = this.objs.indexOf(t);
                        return e < 0 && ((e = this.objs.length), this.objs.push(t)), 'O[' + e + ']';
                    }),
                    (b.setValueType = function (t, e, i, n) {
                        var r = o.pool.get(n),
                            s = e.constructor.__props__;
                        s || (s = Object.keys(e));
                        for (var a = 0; a < s.length; a++) {
                            var c = s[a],
                                h = i[c];
                            if (e[c] !== h) {
                                var l = this.enumerateField(i, c, h);
                                r.append(c, l);
                            }
                        }
                        r.writeCode(t), o.pool.put(r);
                    }),
                    (b.enumerateCCClass = function (t, e, i) {
                        for (var n = i.__props__, r = _.getClassAttrs(i), s = 0; s < n.length; s++) {
                            var o = n[s];
                            if (!1 !== r[o + m]) {
                                var h = e[o];
                                if (a((l = r[o + v]), h)) continue;
                                if ('object' == typeof h && h instanceof cc.ValueType) {
                                    var l;
                                    if (((l = p.getDefault(l)) && l.constructor) === h.constructor) {
                                        var u = E + c(o);
                                        this.setValueType(t, l, h, u);
                                        continue;
                                    }
                                }
                                this.setObjProp(t, e, o, h);
                            }
                        }
                    }),
                    (b.instantiateArray = function (t) {
                        if (0 === t.length) return '[]';
                        var e = 'a' + ++this.localVariableId,
                            i = [new n(e, 'new Array(' + t.length + ')')];
                        (t._iN$t = {
                            globalVar: '',
                            source: i,
                        }),
                            this.objsToClear_iN$t.push(t);
                        for (var r = 0; r < t.length; ++r) {
                            s(i, e + '[' + r + ']=', this.enumerateField(t, r, t[r]));
                        }
                        return i;
                    }),
                    (b.enumerateField = function (t, e, i) {
                        if ('object' == typeof i && i) {
                            var n = i._iN$t;
                            if (n) {
                                var s = n.globalVar;
                                if (!s) {
                                    (s = n.globalVar = 'v' + ++this.globalVariableId), this.globalVariables.push(s);
                                    var o = n.source[0];
                                    n.source[0] = r(s + '=', o);
                                }
                                return s;
                            }
                            return Array.isArray(i) ? this.instantiateArray(i) : this.instantiateObj(i);
                        }
                        return 'function' == typeof i
                            ? this.getFuncModule(i)
                            : 'string' == typeof i
                            ? C(i)
                            : ('_objFlags' === e && t instanceof l && (i &= d), i);
                    }),
                    (b.setObjProp = function (t, e, i, n) {
                        s(t, E + c(i) + '=', this.enumerateField(e, i, n));
                    }),
                    (b.enumerateObject = function (t, e) {
                        var i = e.constructor;
                        if (cc.Class._isCCClass(i)) this.enumerateCCClass(t, e, i);
                        else
                            for (var n in e)
                                if (
                                    e.hasOwnProperty(n) &&
                                    (95 !== n.charCodeAt(0) || 95 !== n.charCodeAt(1) || '__type__' === n)
                                ) {
                                    var r = e[n];
                                    ('object' == typeof r && r && r === e._iN$t) || this.setObjProp(t, e, n, r);
                                }
                    }),
                    (b.instantiateObj = function (t) {
                        if (t instanceof cc.ValueType) return p.getNewValueTypeCode(t);
                        if (t instanceof cc.Asset) return this.getObjRef(t);
                        if (t._objFlags & u) return null;
                        var e,
                            i = t.constructor;
                        if (cc.Class._isCCClass(i)) {
                            if (this.parent)
                                if (this.parent instanceof cc.Component) {
                                    if (t instanceof cc._BaseNode || t instanceof cc.Component)
                                        return this.getObjRef(t);
                                } else if (this.parent instanceof cc._BaseNode)
                                    if (t instanceof cc._BaseNode) {
                                        if (!t.isChildOf(this.parent)) return this.getObjRef(t);
                                    } else if (t instanceof cc.Component && !t.node.isChildOf(this.parent))
                                        return this.getObjRef(t);
                            e = new n(E, 'new ' + this.getFuncModule(i, !0) + '()');
                        } else if (i === Object) e = new n(E, '{}');
                        else {
                            if (i) return this.getObjRef(t);
                            e = new n(E, 'Object.create(null)');
                        }
                        var r = [e];
                        return (
                            (t._iN$t = {
                                globalVar: '',
                                source: r,
                            }),
                            this.objsToClear_iN$t.push(t),
                            this.enumerateObject(r, t),
                            ['(function(){', r, 'return o;})();']
                        );
                    }),
                    (e.exports = {
                        compile: function (t) {
                            return new h(t, t instanceof cc._BaseNode && t).result;
                        },
                        equalsToDefault: a,
                    });
            },
            {
                './CCClass': 135,
                './CCObject': 141,
                './attribute': 148,
                './compiler': 150,
                './js': 156,
            },
        ],
        155: [
            function (t, e, i) {
                function n(t, e) {
                    if (!e) {
                        if ('object' != typeof t || Array.isArray(t)) return null;
                        if (!t) return null;
                        if (!cc.isValid(t)) return null;
                        0;
                    }
                    var i;
                    if (t instanceof a) {
                        if (t._instantiate)
                            return (cc.game._isCloning = !0), (i = t._instantiate()), (cc.game._isCloning = !1), i;
                        if (t instanceof cc.Asset) return null;
                    }
                    return (cc.game._isCloning = !0), (i = r(t)), (cc.game._isCloning = !1), i;
                }

                function r(t, e) {
                    if (Array.isArray(t)) return null;
                    if (u && u(t)) return null;
                    var i;
                    if (t._iN$t) i = t._iN$t;
                    else if (t.constructor) {
                        i = new (0, t.constructor)();
                    } else i = Object.create(null);
                    s(t, i, e);
                    for (var n = 0, r = d.length; n < r; ++n) d[n]._iN$t = null;
                    return (d.length = 0), i;
                }

                function s(t, e, i) {
                    (t._iN$t = e), d.push(t);
                    var n = t.constructor;
                    if (cc.Class._isCCClass(n))
                        (function (t, e, i, n) {
                            for (var r = t.__props__, s = l.getClassAttrs(t), a = 0; a < r.length; a++) {
                                var c = r[a];
                                if (!1 !== s[c + _]) {
                                    var h = e[c];
                                    i[c] = 'object' == typeof h && h ? h._iN$t || o(h, n) : h;
                                }
                            }
                        })(n, t, e, i);
                    else
                        for (var r in t)
                            if (
                                t.hasOwnProperty(r) &&
                                (95 !== r.charCodeAt(0) || 95 !== r.charCodeAt(1) || '__type__' === r)
                            ) {
                                var s = t[r];
                                if ('object' == typeof s && s) {
                                    if (s === e) continue;
                                    e[r] = s._iN$t || o(s, i);
                                } else e[r] = s;
                            }
                    t instanceof a && (e._objFlags &= h);
                }

                function o(t, e) {
                    if (t instanceof cc.ValueType) return t.clone();
                    if (t instanceof cc.Asset) return t;
                    var i;
                    if (Array.isArray(t)) {
                        var n = t.length;
                        (i = new Array(n)), (t._iN$t = i);
                        for (var r = 0; r < n; ++r) {
                            var a = t[r];
                            i[r] = 'object' == typeof a && a ? a._iN$t || o(a, e) : a;
                        }
                        return d.push(t), i;
                    }
                    if (t._objFlags & c) return null;
                    var h = t.constructor;
                    if (cc.Class._isCCClass(h)) {
                        if (e)
                            if (e instanceof cc.Component) {
                                if (t instanceof cc._BaseNode || t instanceof cc.Component) return t;
                            } else if (e instanceof cc._BaseNode)
                                if (t instanceof cc._BaseNode) {
                                    if (!t.isChildOf(e)) return t;
                                } else if (t instanceof cc.Component && !t.node.isChildOf(e)) return t;
                        i = new h();
                    } else if (h === Object) i = {};
                    else {
                        if (h) return t;
                        i = Object.create(null);
                    }
                    return s(t, i, e), i;
                }
                var a = t('./CCObject'),
                    c = a.Flags.Destroyed,
                    h = a.Flags.PersistentMask,
                    l = t('./attribute'),
                    u = t('./utils').isDomNode,
                    d = [],
                    _ = l.DELIMETER + 'serializable';
                (n._clone = r), (cc.instantiate = n), (e.exports = n);
            },
            {
                './CCObject': 141,
                './attribute': 148,
                './utils': 160,
            },
        ],
        156: [
            function (t, e, i) {
                function n(t, e) {
                    for (; t; ) {
                        var i = Object.getOwnPropertyDescriptor(t, e);
                        if (i) return i;
                        t = Object.getPrototypeOf(t);
                    }
                    return null;
                }

                function r(t, e, i) {
                    var r = n(e, t);
                    Object.defineProperty(i, t, r);
                }

                function s(t, e) {
                    t.splice(e, 1);
                }

                function o(t, e) {
                    var i = t.indexOf(e);
                    return i >= 0 && (s(t, i), !0);
                }

                function a(t, e) {
                    'number' == typeof t && ((e = t), (t = null)),
                        (this.get = null),
                        (this.count = 0),
                        (this._pool = new Array(e)),
                        (this._cleanup = t);
                }
                var c = new (t('./id-generater'))('TmpCId.'),
                    h = {
                        isNumber: function (t) {
                            return 'number' == typeof t || t instanceof Number;
                        },
                        isString: function (t) {
                            return 'string' == typeof t || t instanceof String;
                        },
                        addon: function (t) {
                            'use strict';
                            t = t || {};
                            for (var e = 1, i = arguments.length; e < i; e++) {
                                var n = arguments[e];
                                if (n) {
                                    if ('object' != typeof n) {
                                        cc.errorID(5402, n);
                                        continue;
                                    }
                                    for (var s in n) s in t || r(s, n, t);
                                }
                            }
                            return t;
                        },
                        mixin: function (t) {
                            'use strict';
                            t = t || {};
                            for (var e = 1, i = arguments.length; e < i; e++) {
                                var n = arguments[e];
                                if (n) {
                                    if ('object' != typeof n) {
                                        cc.errorID(5403, n);
                                        continue;
                                    }
                                    for (var s in n) r(s, n, t);
                                }
                            }
                            return t;
                        },
                        extend: function (t, e) {
                            for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
                            return (
                                (t.prototype = Object.create(e.prototype, {
                                    constructor: {
                                        value: t,
                                        writable: !0,
                                        configurable: !0,
                                    },
                                })),
                                t
                            );
                        },
                        getSuper: function (t) {
                            var e = t.prototype,
                                i = e && Object.getPrototypeOf(e);
                            return i && i.constructor;
                        },
                        clear: function (t) {
                            for (var e = Object.keys(t), i = 0; i < e.length; i++) delete t[e[i]];
                        },
                        getPropertyDescriptor: n,
                    },
                    l = {
                        value: void 0,
                        enumerable: !1,
                        writable: !1,
                        configurable: !0,
                    };
                h.value = function (t, e, i, n, r) {
                    (l.value = i),
                        (l.writable = n),
                        (l.enumerable = r),
                        Object.defineProperty(t, e, l),
                        (l.value = void 0);
                };
                var u = {
                    get: null,
                    set: null,
                    enumerable: !1,
                };
                h.getset = function (t, e, i, n, r) {
                    'function' != typeof n && ((r = n), (n = void 0)),
                        (u.get = i),
                        (u.set = n),
                        (u.enumerable = r),
                        Object.defineProperty(t, e, u),
                        (u.get = null),
                        (u.set = null);
                };
                var d = {
                    get: null,
                    enumerable: !1,
                    configurable: !1,
                };
                h.get = function (t, e, i, n, r) {
                    (d.get = i),
                        (d.enumerable = n),
                        (d.configurable = r),
                        Object.defineProperty(t, e, d),
                        (d.get = null);
                };
                var _ = {
                    set: null,
                    enumerable: !1,
                    configurable: !1,
                };
                (h.set = function (t, e, i, n, r) {
                    (_.set = i),
                        (_.enumerable = n),
                        (_.configurable = r),
                        Object.defineProperty(t, e, _),
                        (_.set = null);
                }),
                    (h.getClassName = function (t) {
                        if ('function' == typeof t) {
                            var e = t.prototype;
                            if (e && e.hasOwnProperty('__classname__') && e.__classname__) return e.__classname__;
                            var i = '';
                            if ((t.name && (i = t.name), t.toString)) {
                                var n,
                                    r = t.toString();
                                (n = '[' === r.charAt(0) ? r.match(/\[\w+\s*(\w+)\]/) : r.match(/function\s*(\w+)/)) &&
                                    2 === n.length &&
                                    (i = n[1]);
                            }
                            return 'Object' !== i ? i : '';
                        }
                        return t && t.constructor ? h.getClassName(t.constructor) : '';
                    }),
                    (function () {
                        function t(t, e) {
                            return function (i, n) {
                                if (
                                    (n.prototype.hasOwnProperty(t) && delete e[n.prototype[t]],
                                    h.value(n.prototype, t, i),
                                    i)
                                ) {
                                    var r = e[i];
                                    if (r && r !== n) {
                                        var s = 'A Class already exists with the same ' + t + ' : "' + i + '".';
                                        0, cc.error(s);
                                    } else e[i] = n;
                                }
                            };
                        }
                        var e = {},
                            i = {};
                        h._setClassId = t('__cid__', e);
                        var n = t('__classname__', i);
                        (h.setClassName = function (t, e) {
                            if ((n(t, e), !e.prototype.hasOwnProperty('__cid__'))) {
                                var i = t || c.getNewId();
                                i && h._setClassId(i, e);
                            }
                        }),
                            (h.unregisterClass = function () {
                                for (var t = 0; t < arguments.length; t++) {
                                    var n = arguments[t].prototype,
                                        r = n.__cid__;
                                    r && delete e[r];
                                    var s = n.__classname__;
                                    s && delete i[s];
                                }
                            }),
                            (h._getClassById = function (t) {
                                return e[t];
                            }),
                            (h.getClassByName = function (t) {
                                return i[t];
                            }),
                            (h._getClassId = function (t, e) {
                                e = void 0 === e || e;
                                if ('function' == typeof t && t.prototype.hasOwnProperty('__cid__'))
                                    return t.prototype.__cid__;
                                if (t && t.constructor) {
                                    var i = t.constructor.prototype;
                                    if (i && i.hasOwnProperty('__cid__')) return t.__cid__;
                                }
                                return '';
                            });
                    })(),
                    (h.obsolete = function (t, e, i, n) {
                        function r() {
                            return this[i];
                        }
                        var s = /([^.]+)$/.exec(e)[0];
                        n
                            ? h.getset(t, s, r, function (t) {
                                  this[i] = t;
                              })
                            : h.get(t, s, r);
                    }),
                    (h.obsoletes = function (t, e, i, n) {
                        for (var r in i) {
                            var s = i[r];
                            h.obsolete(t, e + '.' + r, s, n);
                        }
                    });
                var f = /(%d)|(%s)/,
                    p = /%s/;
                (h.formatStr = function () {
                    var t = arguments.length;
                    if (0 === t) return '';
                    var e = arguments[0];
                    if (1 === t) return '' + e;
                    if ('string' == typeof e && f.test(e))
                        for (var i = 1; i < t; ++i) {
                            var n = arguments[i],
                                r = 'number' == typeof n ? f : p;
                            r.test(e) ? (e = e.replace(r, n)) : (e += ' ' + n);
                        }
                    else for (var s = 1; s < t; ++s) e += ' ' + arguments[s];
                    return e;
                }),
                    (h.shiftArguments = function () {
                        for (var t = arguments.length - 1, e = new Array(t), i = 0; i < t; ++i) e[i] = arguments[i + 1];
                        return e;
                    }),
                    (h.createMap = function (t) {
                        var e = Object.create(null);
                        if (t) {
                            (e['.'] = !0), (e['/'] = !0), delete e['.'], delete e['/'];
                        }
                        return e;
                    });
                var g = Array.prototype.indexOf;
                (h.array = {
                    remove: o,
                    fastRemove: function (t, e) {
                        var i = t.indexOf(e);
                        i >= 0 && ((t[i] = t[t.length - 1]), --t.length);
                    },
                    removeAt: s,
                    fastRemoveAt: function (t, e) {
                        var i = t.length;
                        e < 0 || e >= i || ((t[e] = t[i - 1]), (t.length = i - 1));
                    },
                    contains: function (t, e) {
                        return t.indexOf(e) >= 0;
                    },
                    verifyType: function (t, e) {
                        if (t && t.length > 0)
                            for (var i = 0; i < t.length; i++) if (!(t[i] instanceof e)) return cc.logID(1300), !1;
                        return !0;
                    },
                    removeArray: function (t, e) {
                        for (var i = 0, n = e.length; i < n; i++) o(t, e[i]);
                    },
                    appendObjectsAt: function (t, e, i) {
                        return t.splice.apply(t, [i, 0].concat(e)), t;
                    },
                    copy: function (t) {
                        var e,
                            i = t.length,
                            n = new Array(i);
                        for (e = 0; e < i; e += 1) n[e] = t[e];
                        return n;
                    },
                    indexOf: g,
                    MutableForwardIterator: t('../utils/mutable-forward-iterator'),
                }),
                    (a.prototype._get = function () {
                        if (this.count > 0) {
                            --this.count;
                            var t = this._pool[this.count];
                            return (this._pool[this.count] = null), t;
                        }
                        return null;
                    }),
                    (a.prototype.put = function (t) {
                        var e = this._pool;
                        if (this.count < e.length) {
                            if (this._cleanup && !1 === this._cleanup(t)) return;
                            (e[this.count] = t), ++this.count;
                        }
                    }),
                    (a.prototype.resize = function (t) {
                        t >= 0 && ((this._pool.length = t), this.count > t && (this.count = t));
                    }),
                    (h.Pool = a),
                    (cc.js = h),
                    (e.exports = h);
            },
            {
                '../utils/mutable-forward-iterator': 186,
                './id-generater': 152,
            },
        ],
        157: [
            function (t, e, i) {
                function n(t, e, i, n) {
                    if (!t.get && !t.set)
                        if (t.hasOwnProperty('default')) {
                            var r = '_N$' + e;
                            (t.get = function () {
                                return this[r];
                            }),
                                (t.set = function (t) {
                                    var e = this[r];
                                    (this[r] = t), i.call(this, e);
                                });
                            var s = {};
                            n[r] = s;
                            for (var o in a) {
                                var c = a[o];
                                t.hasOwnProperty(o) && ((s[o] = t[o]), c.canUsedInGet || delete t[o]);
                            }
                        } else 0;
                }

                function r(t, e, i, n) {
                    Array.isArray(n) && n.length > 0 && (n = n[0]), (t.type = n);
                }

                function s(t, e, i, n) {
                    if (Array.isArray(e)) {
                        if (!(e.length > 0)) return cc.errorID(5508, i, n);
                        if (cc.RawAsset.isRawAssetType(e[0])) return (t.url = e[0]), void delete t.type;
                        t.type = e = e[0];
                    }
                }

                function o(t, e, i, n) {
                    0;
                }
                var a = {
                    url: {
                        canUsedInGet: !0,
                    },
                    default: {},
                    serializable: {},
                    editorOnly: {},
                    rawType: {},
                    formerlySerializedAs: {},
                };
                (i.getFullFormOfProperty = function (t) {
                    if (!(t && t.constructor === Object)) {
                        if (Array.isArray(t) && t.length > 0)
                            return {
                                default: [],
                                type: t,
                                _short: !0,
                            };
                        if ('function' == typeof t) {
                            var e = t;
                            return cc.RawAsset.isRawAssetType(e)
                                ? {
                                      default: '',
                                      url: e,
                                      _short: !0,
                                  }
                                : {
                                      default: cc.isChildClassOf(e, cc.ValueType) ? new e() : null,
                                      type: e,
                                      _short: !0,
                                  };
                        }
                        return {
                            default: t,
                            _short: !0,
                        };
                    }
                    return null;
                }),
                    (i.preprocessAttrs = function (t, e, a, c) {
                        for (var h in t) {
                            var l = t[h],
                                u = i.getFullFormOfProperty(l);
                            if ((u && (l = t[h] = u), l)) {
                                var d = l.notify;
                                d && n(l, h, d, t),
                                    'type' in l && s(l, l.type, e, h),
                                    'url' in l && r(l, 0, 0, l.url),
                                    'type' in l && o(0, l.type);
                            }
                        }
                    }),
                    (i.validateMethodWithProps = function (t, e, i, n, r) {
                        if ('function' != typeof t && null !== t) {
                            return !1;
                        }
                        return !0;
                    });
            },
            {
                './CCClass': 135,
            },
        ],
        158: [
            function (t, e, i) {
                var n = [];
                cc._RF = {
                    push: function (t, e, i) {
                        void 0 === i && ((i = e), (e = '')),
                            n.push({
                                uuid: e,
                                script: i,
                                module: t,
                                exports: t.exports,
                                beh: null,
                            });
                    },
                    pop: function () {
                        var t = n.pop(),
                            e = t.module,
                            i = e.exports;
                        if (i === t.exports) {
                            for (var r in i) return;
                            e.exports = i = t.cls;
                        }
                    },
                    peek: function () {
                        return n[n.length - 1];
                    },
                };
            },
            {},
        ],
        159: [
            function (t, e, i) {
                var n = {};
                (cc.url = {
                    _rawAssets: '',
                    _builtinRawAssets: '',
                    normalize: function (t) {
                        return (
                            46 === t.charCodeAt(0) && 47 === t.charCodeAt(1)
                                ? (t = t.slice(2))
                                : 47 === t.charCodeAt(0) && (t = t.slice(1)),
                            t
                        );
                    },
                    raw: function (t) {
                        return (
                            (t = this.normalize(t)).startsWith('resources/') || cc.errorID(7002, t), this._rawAssets + t
                        );
                    },
                    builtinRaw: !1,
                    _init: function (t) {
                        for (var e in t) {
                            var i = t[e];
                            (i = cc.path.stripSep(i) + '/'), (n[e] = i);
                        }
                        (this._rawAssets = n.assets), (this._builtinRawAssets = n.internal);
                    },
                }),
                    (e.exports = cc.url);
            },
            {},
        ],
        160: [
            function (t, e, i) {
                e.exports = {
                    contains: function (t, e) {
                        if ('function' == typeof t.contains) return t.contains(e);
                        if ('function' == typeof t.compareDocumentPosition)
                            return !!(16 & t.compareDocumentPosition(e));
                        var i = e.parentNode;
                        if (i)
                            do {
                                if (i === t) return !0;
                                i = i.parentNode;
                            } while (null !== i);
                        return !1;
                    },
                    isDomNode:
                        'object' == typeof window &&
                        ('function' == typeof Node
                            ? function (t) {
                                  return t instanceof Node;
                              }
                            : function (t) {
                                  return (
                                      t &&
                                      'object' == typeof t &&
                                      'number' == typeof t.nodeType &&
                                      'string' == typeof t.nodeName
                                  );
                              }),
                    callInNextTick: function (t, e, i) {
                        t &&
                            setTimeout(function () {
                                t(e, i);
                            }, 0);
                    },
                };
            },
            {},
        ],
        161: [
            function (t, e, i) {
                t('./platform/js'),
                    t('./value-types'),
                    t('./utils'),
                    t('./platform/CCInputManager'),
                    t('./platform/CCInputExtension'),
                    t('./event'),
                    t('./platform/CCSys'),
                    t('./platform/CCMacro'),
                    t('./load-pipeline'),
                    t('./textures'),
                    t('./CCDirector'),
                    t('./CCDirectorWebGL'),
                    t('./CCDirectorCanvas'),
                    t('./platform/CCSAXParser'),
                    t('./platform/CCView'),
                    t('./platform/CCScreen'),
                    t('./CCScheduler'),
                    t('./event-manager'),
                    t('./renderer');
            },
            {
                './CCDirector': 33,
                './CCDirectorCanvas': 34,
                './CCDirectorWebGL': 35,
                './CCScheduler': 42,
                './event': 99,
                './event-manager': 95,
                './load-pipeline': 121,
                './platform/CCInputExtension': 138,
                './platform/CCInputManager': 139,
                './platform/CCMacro': 140,
                './platform/CCSAXParser': 142,
                './platform/CCScreen': 143,
                './platform/CCSys': 144,
                './platform/CCView': 145,
                './platform/js': 156,
                './renderer': 165,
                './textures': 177,
                './utils': 184,
                './value-types': 198,
            },
        ],
        162: [
            function (t, e, i) {
                function n() {
                    var t = c.pop();
                    return t || (t = new o()), t;
                }

                function r(t) {
                    c.push(t);
                }

                function s(t, e) {
                    var i = t._minX < e._minX ? t._minX : e._minX,
                        n = t._minY < e._minY ? t._minY : e._minY;
                    return (
                        ((t._maxX > e._maxX ? t._maxX : e._maxX) - i) * ((t._maxY > e._maxY ? t._maxY : e._maxY) - n)
                    );
                }
                var o = function () {
                        (this._minX = 0),
                            (this._minY = 0),
                            (this._maxX = 0),
                            (this._maxY = 0),
                            (this._width = 0),
                            (this._height = 0),
                            (this._area = 0);
                    },
                    a = o.prototype,
                    c = [];
                (a.setTo = function (t, e, i, n) {
                    return (
                        (this._minX = t), (this._minY = e), (this._maxX = i), (this._maxY = n), this.updateArea(), this
                    );
                }),
                    (a.intValues = function () {
                        (this._minX = Math.floor(this._minX)),
                            (this._minY = Math.floor(this._minY)),
                            (this._maxX = Math.ceil(this._maxX)),
                            (this._maxY = Math.ceil(this._maxY)),
                            this.updateArea();
                    }),
                    (a.updateArea = function () {
                        (this._width = this._maxX - this._minX),
                            (this._height = this._maxY - this._minY),
                            (this._area = this._width * this._height);
                    }),
                    (a.union = function (t) {
                        this.isEmpty()
                            ? this.setTo(t._minX, t._minY, t._maxX, t._maxY)
                            : (this._minX > t._minX && (this._minX = t._minX),
                              this._minY > t._minY && (this._minY = t._minY),
                              this._maxX < t._maxX && (this._maxX = t._maxX),
                              this._maxY < t._maxY && (this._maxY = t._maxY),
                              this.updateArea());
                    }),
                    (a.setEmpty = function () {
                        (this._minX = 0),
                            (this._minY = 0),
                            (this._maxX = 0),
                            (this._maxY = 0),
                            (this._width = 0),
                            (this._height = 0),
                            (this._area = 0);
                    }),
                    (a.isEmpty = function () {
                        return this._width <= 0 || this._height <= 0;
                    }),
                    (a.intersects = function (t) {
                        if (this.isEmpty() || t.isEmpty()) return !1;
                        var e = this._minX > t._minX ? this._minX : t._minX,
                            i = this._maxX < t._maxX ? this._maxX : t._maxX;
                        return (
                            !(e > i) &&
                            ((e = this._minY > t._minY ? this._minY : t._minY),
                            (i = this._maxY < t._maxY ? this._maxY : t._maxY),
                            e <= i)
                        );
                    }),
                    (a.updateRegion = function (t, e) {
                        if (0 !== t.width && 0 !== t.height) {
                            var i,
                                n,
                                r,
                                s,
                                o = e,
                                a = o.a,
                                c = o.b,
                                h = o.c,
                                l = o.d,
                                u = o.tx,
                                d = o.ty,
                                _ = t.x,
                                f = t.y,
                                p = _ + t.width,
                                g = f + t.height;
                            if (1 === a && 0 === c && 0 === h && 1 === l)
                                (i = _ + u - 1), (n = f + d - 1), (r = p + u + 1), (s = g + d + 1);
                            else {
                                var m = a * _ + h * f + u,
                                    v = c * _ + l * f + d,
                                    y = a * p + h * f + u,
                                    C = c * p + l * f + d,
                                    T = a * p + h * g + u,
                                    E = c * p + l * g + d,
                                    x = a * _ + h * g + u,
                                    S = c * _ + l * g + d,
                                    b = 0;
                                m > y && ((b = m), (m = y), (y = b)),
                                    T > x && ((b = T), (T = x), (x = b)),
                                    (i = (m < T ? m : T) - 1),
                                    (r = (y > x ? y : x) + 1),
                                    v > C && ((b = v), (v = C), (C = b)),
                                    E > S && ((b = E), (E = S), (S = b)),
                                    (n = (v < E ? v : E) - 1),
                                    (s = (C > S ? C : S) + 1);
                            }
                            (this._minX = i),
                                (this._minY = n),
                                (this._maxX = r),
                                (this._maxY = s),
                                (this._width = r - i),
                                (this._height = s - n),
                                (this._area = this._width * this._height);
                        } else this.setEmpty();
                    });
                var h = function () {
                        (this.dirtyList = []),
                            (this.hasClipRect = !1),
                            (this.clipWidth = 0),
                            (this.clipHeight = 0),
                            (this.clipArea = 0),
                            (this.clipRectChanged = !1);
                    },
                    l = h.prototype;
                (l.setClipRect = function (t, e) {
                    (this.hasClipRect = !0),
                        (this.clipRectChanged = !0),
                        (this.clipWidth = Math.ceil(t)),
                        (this.clipHeight = Math.ceil(e)),
                        (this.clipArea = this.clipWidth * this.clipHeight);
                }),
                    (l.addRegion = function (t) {
                        var e = t._minX,
                            i = t._minY,
                            r = t._maxX,
                            s = t._maxY;
                        if (
                            (this.hasClipRect &&
                                (e < 0 && (e = 0),
                                i < 0 && (i = 0),
                                r > this.clipWidth && (r = this.clipWidth),
                                s > this.clipHeight && (s = this.clipHeight)),
                            e >= r || i >= s)
                        )
                            return !1;
                        if (this.clipRectChanged) return !0;
                        var o = this.dirtyList,
                            a = n();
                        return o.push(a.setTo(e, i, r, s)), this.mergeDirtyList(o), !0;
                    }),
                    (l.clear = function () {
                        for (var t = this.dirtyList, e = t.length, i = 0; i < e; i++) r(t[i]);
                        t.length = 0;
                    }),
                    (l.getDirtyRegions = function () {
                        var t = this.dirtyList;
                        if (this.clipRectChanged) {
                            (this.clipRectChanged = !1), this.clear();
                            var e = n();
                            t.push(e.setTo(0, 0, this.clipWidth, this.clipHeight));
                        } else for (; this.mergeDirtyList(t); );
                        var i = this.dirtyList.length;
                        if (i > 0) for (var r = 0; r < i; r++) this.dirtyList[r].intValues();
                        return this.dirtyList;
                    }),
                    (l.mergeDirtyList = function (t) {
                        var e = t.length;
                        if (e < 2) return !1;
                        for (
                            var i = this.hasClipRect,
                                n = e > 3 ? Number.POSITIVE_INFINITY : 0,
                                o = 0,
                                a = 0,
                                c = 0,
                                h = 0;
                            h < e - 1;
                            h++
                        ) {
                            var l = t[h];
                            i && (c += l.area);
                            for (var u = h + 1; u < e; u++) {
                                var d = t[u],
                                    _ = s(l, d) - l.area - d.area;
                                n > _ && ((o = h), (a = u), (n = _));
                            }
                        }
                        if ((i && c / this.clipArea > 0.95 && (this.clipRectChanged = !0), o !== a)) {
                            var f = t[a];
                            return t[o].union(f), r(f), t.splice(a, 1), !0;
                        }
                        return !1;
                    }),
                    (cc.Region = o),
                    (cc.DirtyRegion = h);
            },
            {},
        ],
        163: [
            function (t, e, i) {
                (cc.rendererCanvas = {
                    childrenOrderDirty: !0,
                    assignedZ: 0,
                    assignedZStep: 1e-4,
                    _transformNodePool: [],
                    _renderCmds: [],
                    _isCacheToCanvasOn: !1,
                    _cacheToCanvasCmds: {},
                    _cacheInstanceIds: [],
                    _currentID: 0,
                    _clearColor: cc.color(),
                    _clearFillStyle: 'rgb(0, 0, 0)',
                    _dirtyRegion: null,
                    _allNeedDraw: !0,
                    _enableDirtyRegion: !1,
                    _debugDirtyRegion: !1,
                    _dirtyRegionCountThreshold: 10,
                    init: function () {
                        (cc.sys.browserType !== cc.sys.BROWSER_TYPE_IE &&
                            cc.sys.browserType !== cc.sys.BROWSER_TYPE_UC) ||
                            this.enableDirtyRegion(!1);
                    },
                    getRenderCmd: function (t) {
                        return t._createRenderCmd();
                    },
                    enableDirtyRegion: function (t) {
                        this._enableDirtyRegion = t;
                    },
                    isDirtyRegionEnabled: function () {
                        return this._enableDirtyRegion;
                    },
                    setDirtyRegionCountThreshold: function (t) {
                        this._dirtyRegionCountThreshold = t;
                    },
                    _collectDirtyRegion: function () {
                        var t,
                            e,
                            i = this._renderCmds,
                            n = this._dirtyRegion,
                            r = _ccsg.Node.CanvasRenderCmd.RegionStatus,
                            s = 0,
                            o = !0;
                        for (t = 0, e = i.length; t < e; t++) {
                            var a = i[t],
                                c = a._regionFlag,
                                h = a._oldRegion,
                                l = a._currentRegion;
                            c > r.NotDirty &&
                                (++s > this._dirtyRegionCountThreshold && (o = !1),
                                o &&
                                    (!l.isEmpty() && n.addRegion(l),
                                    a._regionFlag > r.Dirty && !h.isEmpty() && n.addRegion(h)),
                                (a._regionFlag = r.NotDirty));
                        }
                        return o;
                    },
                    _beginDrawDirtyRegion: function (t) {
                        var e = t.getContext(),
                            i = this._dirtyRegion.getDirtyRegions();
                        e.save(),
                            t.setTransform(
                                {
                                    a: 1,
                                    b: 0,
                                    c: 0,
                                    d: 1,
                                    tx: 0,
                                    ty: 0,
                                },
                                1,
                                1,
                            ),
                            e.beginPath();
                        for (
                            var n = 0, r = 0, s = 0, o = 0, a = t._scaleX, c = t._scaleY, h = 0, l = i.length;
                            h < l;
                            ++h
                        ) {
                            var u = i[h];
                            (n = ((u._minX * a) | 0) - 1),
                                (r = ((-u._maxY * a) | 0) - 1),
                                (s = 2 + ((u._width * a) | 0)),
                                (o = 2 + ((u._height * c) | 0)),
                                e.rect(n, r, s, o);
                        }
                        e.clip();
                    },
                    _endDrawDirtyRegion: function (t) {
                        t.restore();
                    },
                    _debugDrawDirtyRegion: function (t) {
                        if (this._debugDirtyRegion) {
                            var e = t.getContext(),
                                i = this._dirtyRegion.getDirtyRegions();
                            t.setTransform(
                                {
                                    a: 1,
                                    b: 0,
                                    c: 0,
                                    d: 1,
                                    tx: 0,
                                    ty: 0,
                                },
                                1,
                                1,
                            ),
                                e.beginPath();
                            for (
                                var n = 0, r = 0, s = 0, o = 0, a = t._scaleX, c = t._scaleY, h = 0, l = i.length;
                                h < l;
                                ++h
                            ) {
                                var u = i[h];
                                (n = ((u._minX * a) | 0) - 1),
                                    (r = ((-u._maxY * a) | 0) - 1),
                                    (s = 2 + ((u._width * a) | 0)),
                                    (o = 2 + ((u._height * c) | 0)),
                                    e.rect(n, r, s, o);
                            }
                            var d = e.fillStyle;
                            (e.fillStyle = 'green'), e.fill(), (e.fillStyle = d);
                        }
                    },
                    rendering: function (t) {
                        var e = (this._dirtyRegion = this._dirtyRegion || new cc.DirtyRegion()),
                            i = cc._canvas,
                            n = t || cc._renderContext,
                            r = n.getContext(),
                            s = cc.view.getScaleX(),
                            o = cc.view.getScaleY();
                        n.setViewScale(s, o), n.computeRealOffsetY();
                        var a,
                            c,
                            h = this._dirtyRegion.getDirtyRegions(),
                            l = this._renderCmds,
                            u = this._allNeedDraw || !this._enableDirtyRegion;
                        for (
                            u || (u = u || !this._collectDirtyRegion()),
                                u || this._beginDrawDirtyRegion(n),
                                r.setTransform(1, 0, 0, 1, 0, 0),
                                r.clearRect(0, 0, i.width, i.height),
                                (0 === this._clearColor.r && 0 === this._clearColor.g && 0 === this._clearColor.b) ||
                                    (n.setFillStyle(this._clearFillStyle),
                                    n.setGlobalAlpha(this._clearColor.a),
                                    r.fillRect(0, 0, i.width, i.height)),
                                a = 0,
                                c = l.length;
                            a < c;
                            a++
                        ) {
                            var d = l[a];
                            if (d._needDraw) {
                                var _ = !1,
                                    f = d._currentRegion;
                                if (!f || u) _ = !0;
                                else
                                    for (var p = 0, g = h.length; p < g; ++p)
                                        if (h[p].intersects(f)) {
                                            _ = !0;
                                            break;
                                        }
                                _ && d.rendering(n, s, o);
                            }
                        }
                        u || (this._debugDrawDirtyRegion(n), this._endDrawDirtyRegion(r)),
                            e.clear(),
                            (this._allNeedDraw = !1);
                    },
                    _renderingToCacheCanvas: function (t, e, i, n) {
                        t || cc.logID(7600),
                            (i = void 0 === i ? 1 : i),
                            (n = void 0 === n ? 1 : n),
                            (e = e || this._currentID);
                        var r,
                            s,
                            o = this._cacheToCanvasCmds[e];
                        for (t.computeRealOffsetY(), r = 0, s = o.length; r < s; r++) o[r].rendering(t, i, n);
                        this._removeCache(e);
                        var a = this._cacheInstanceIds;
                        0 === a.length ? (this._isCacheToCanvasOn = !1) : (this._currentID = a[a.length - 1]);
                    },
                    _turnToCacheMode: function (t) {
                        (this._isCacheToCanvasOn = !0),
                            (t = t || 0),
                            (this._cacheToCanvasCmds[t] = []),
                            -1 === this._cacheInstanceIds.indexOf(t) && this._cacheInstanceIds.push(t),
                            (this._currentID = t);
                    },
                    _turnToNormalMode: function () {
                        this._isCacheToCanvasOn = !1;
                    },
                    _removeCache: function (t) {
                        t = t || this._currentID;
                        var e = this._cacheToCanvasCmds[t];
                        e && ((e.length = 0), delete this._cacheToCanvasCmds[t]);
                        var i = this._cacheInstanceIds;
                        cc.js.array.remove(i, t);
                    },
                    resetFlag: function () {
                        (this.childrenOrderDirty = !1), (this._transformNodePool.length = 0);
                    },
                    transform: function () {
                        var t = this._transformNodePool;
                        t.sort(this._sortNodeByLevelAsc);
                        for (var e = 0, i = t.length; e < i; e++) t[e].updateStatus();
                        t.length = 0;
                    },
                    transformDirty: function () {
                        return this._transformNodePool.length > 0;
                    },
                    _sortNodeByLevelAsc: function (t, e) {
                        return t._curLevel - e._curLevel;
                    },
                    pushDirtyNode: function (t) {
                        this._transformNodePool.push(t);
                    },
                    clear: function () {},
                    clearRenderCommands: function () {
                        (this._renderCmds.length = 0),
                            (this._cacheInstanceIds.length = 0),
                            (this._isCacheToCanvasOn = !1),
                            (this._allNeedDraw = !0);
                    },
                    pushRenderCommand: function (t) {
                        if (t.rendering)
                            if (this._isCacheToCanvasOn) {
                                var e = this._currentID,
                                    i = this._cacheToCanvasCmds[e];
                                -1 === i.indexOf(t) && i.push(t);
                            } else -1 === this._renderCmds.indexOf(t) && this._renderCmds.push(t);
                    },
                }),
                    (function () {
                        cc.CanvasContextWrapper = function (t) {
                            (this._context = t),
                                (this._saveCount = 0),
                                (this._currentAlpha = t.globalAlpha),
                                (this._currentCompositeOperation = t.globalCompositeOperation),
                                (this._currentFillStyle = t.fillStyle),
                                (this._currentStrokeStyle = t.strokeStyle),
                                (this._offsetX = 0),
                                (this._offsetY = 0),
                                (this._realOffsetY = this.height),
                                (this._armatureMode = 0);
                        };
                        var t = cc.CanvasContextWrapper.prototype;
                        (t.resetCache = function () {
                            var t = this._context;
                            (this._currentAlpha = t.globalAlpha),
                                (this._currentCompositeOperation = t.globalCompositeOperation),
                                (this._currentFillStyle = t.fillStyle),
                                (this._currentStrokeStyle = t.strokeStyle),
                                (this._realOffsetY = this._context.canvas.height + this._offsetY);
                        }),
                            (t.setOffset = function (t, e) {
                                (this._offsetX = t),
                                    (this._offsetY = e),
                                    (this._realOffsetY = this._context.canvas.height + this._offsetY);
                            }),
                            (t.computeRealOffsetY = function () {
                                this._realOffsetY = this._context.canvas.height + this._offsetY;
                            }),
                            (t.setViewScale = function (t, e) {
                                (this._scaleX = t), (this._scaleY = e);
                            }),
                            (t.getContext = function () {
                                return this._context;
                            }),
                            (t.save = function () {
                                this._context.save(), this._saveCount++;
                            }),
                            (t.restore = function () {
                                this._context.restore(),
                                    (this._currentAlpha = this._context.globalAlpha),
                                    this._saveCount--;
                            }),
                            (t.setGlobalAlpha = function (t) {
                                this._saveCount > 0
                                    ? (this._context.globalAlpha = t)
                                    : this._currentAlpha !== t &&
                                      ((this._currentAlpha = t), (this._context.globalAlpha = t));
                            }),
                            (t.setCompositeOperation = function (t) {
                                this._saveCount > 0
                                    ? (this._context.globalCompositeOperation = t)
                                    : this._currentCompositeOperation !== t &&
                                      ((this._currentCompositeOperation = t),
                                      (this._context.globalCompositeOperation = t));
                            }),
                            (t.setFillStyle = function (t) {
                                this._context.fillStyle = t;
                            }),
                            (t.setStrokeStyle = function (t) {
                                this._saveCount > 0
                                    ? (this._context.strokeStyle = t)
                                    : this._currentStrokeStyle !== t &&
                                      ((this._currentStrokeStyle = t), (this._context.strokeStyle = t));
                            }),
                            (t.setTransform = function (t, e, i) {
                                this._armatureMode > 0
                                    ? (this.restore(),
                                      this.save(),
                                      this._context.transform(t.a, -t.b, -t.c, t.d, t.tx * e, -t.ty * i))
                                    : this._context.setTransform(
                                          t.a * e,
                                          -t.b * i,
                                          -t.c * e,
                                          t.d * i,
                                          this._offsetX + t.tx * e,
                                          this._realOffsetY - t.ty * i,
                                      );
                            }),
                            (t._switchToArmatureMode = function (t, e, i, n) {
                                t
                                    ? (this._armatureMode++,
                                      this._context.setTransform(
                                          e.a,
                                          e.c,
                                          e.b,
                                          e.d,
                                          this._offsetX + e.tx * i,
                                          this._realOffsetY - e.ty * n,
                                      ),
                                      this.save())
                                    : (this._armatureMode--, this.restore());
                            });
                    })();
            },
            {},
        ],
        164: [
            function (t, e, i) {
                function n(t) {
                    var e = cc._renderContext;
                    null === o && ((a = e.createBuffer()), (o = e.createBuffer())),
                        (function (t) {
                            var e = cc._renderContext;
                            if (o) {
                                var i = 6 * Math.ceil(t / 4);
                                e.bindBuffer(e.ELEMENT_ARRAY_BUFFER, o), (p = new Uint16Array(i));
                                for (var n = 0, r = 0, s = i; r < s; r += 6)
                                    (p[r] = n + 0),
                                        (p[r + 1] = n + 1),
                                        (p[r + 2] = n + 2),
                                        (p[r + 3] = n + 1),
                                        (p[r + 4] = n + 2),
                                        (p[r + 5] = n + 3),
                                        (n += 4);
                                e.bufferData(e.ELEMENT_ARRAY_BUFFER, p, e.DYNAMIC_DRAW);
                            }
                            if (a) {
                                var h = 4 * (t * u);
                                (d = new ArrayBuffer(h)),
                                    (_ = new Float32Array(d)),
                                    (f = new Uint32Array(d)),
                                    e.bindBuffer(e.ARRAY_BUFFER, a),
                                    e.bufferData(e.ARRAY_BUFFER, _, e.DYNAMIC_DRAW);
                            }
                            c = t - 200;
                        })(t);
                }
                var r = {
                        texture: null,
                        blendSrc: null,
                        blendDst: null,
                        shader: null,
                    },
                    s = !1,
                    o = null,
                    a = null,
                    c = 0,
                    h = 0,
                    l = 0,
                    u = 6,
                    d = null,
                    _ = null,
                    f = null,
                    p = null,
                    g = 0,
                    m = !0,
                    v = cc.Enum({
                        QUAD: 0,
                        TRIANGLE: 1,
                        CUSTOM: 2,
                    });
                cc.rendererWebGL = {
                    mat4Identity: null,
                    childrenOrderDirty: !0,
                    assignedZ: 0,
                    assignedZStep: 0.01,
                    VertexType: v,
                    _transformNodePool: [],
                    _renderCmds: [],
                    _isCacheToBufferOn: !1,
                    _cacheToBufferCmds: {},
                    _cacheInstanceIds: [],
                    _currentID: 0,
                    _clearColor: {
                        r: 1,
                        g: 1,
                        b: 1,
                        a: 1,
                    },
                    init: function () {
                        var t = cc._renderContext;
                        t.disable(t.CULL_FACE),
                            t.disable(t.DEPTH_TEST),
                            this._initExtensions(['OES_element_index_uint']),
                            (this.mat4Identity = new cc.math.Matrix4()),
                            this.mat4Identity.identity(),
                            n(cc.macro.BATCH_VERTEX_COUNT),
                            cc.sys.os === cc.sys.OS_IOS && !0;
                    },
                    _initExtensions: function (t) {
                        this._extensions = this._extensions || {};
                        for (var e = 0; e < t.length; ++e) {
                            var i = t[e];
                            try {
                                var n = gl.getExtension(i);
                                n && (this._extensions[i] = n);
                            } catch (t) {
                                cc.error(t);
                            }
                        }
                    },
                    getVertexSize: function () {
                        return c;
                    },
                    getRenderCmd: function (t) {
                        return t._createRenderCmd();
                    },
                    _turnToCacheMode: function (t) {
                        (this._isCacheToBufferOn = !0),
                            (t = t || 0),
                            this._cacheToBufferCmds[t]
                                ? (this._cacheToBufferCmds[t].length = 0)
                                : (this._cacheToBufferCmds[t] = []),
                            -1 === this._cacheInstanceIds.indexOf(t) && this._cacheInstanceIds.push(t),
                            (this._currentID = t);
                    },
                    _turnToNormalMode: function () {
                        this._isCacheToBufferOn = !1;
                    },
                    _removeCache: function (t) {
                        t = t || this._currentID;
                        var e = this._cacheToBufferCmds[t];
                        e && ((e.length = 0), delete this._cacheToBufferCmds[t]);
                        var i = this._cacheInstanceIds;
                        cc.js.array.remove(i, t);
                    },
                    _renderingToBuffer: function (t) {
                        t = t || this._currentID;
                        var e = this._cacheToBufferCmds[t],
                            i = cc._renderContext;
                        this.rendering(i, e), this._removeCache(t);
                        var n = this._cacheInstanceIds;
                        0 === n.length ? (this._isCacheToBufferOn = !1) : (this._currentID = n[n.length - 1]);
                    },
                    resetFlag: function () {
                        this.childrenOrderDirty && (this.childrenOrderDirty = !1), (this._transformNodePool.length = 0);
                    },
                    transform: function () {
                        var t = this._transformNodePool;
                        t.sort(this._sortNodeByLevelAsc);
                        var e, i;
                        for (e = 0, i = t.length; e < i; e++) t[e].updateStatus();
                        t.length = 0;
                    },
                    transformDirty: function () {
                        return this._transformNodePool.length > 0;
                    },
                    _sortNodeByLevelAsc: function (t, e) {
                        return t._curLevel - e._curLevel;
                    },
                    pushDirtyNode: function (t) {
                        this._transformNodePool.push(t);
                    },
                    clearRenderCommands: function () {
                        this._renderCmds.length = 0;
                    },
                    clear: function () {
                        var t = cc._renderContext;
                        t.clearColor(this._clearColor.r, this._clearColor.g, this._clearColor.b, this._clearColor.a),
                            t.clear(t.COLOR_BUFFER_BIT | t.DEPTH_BUFFER_BIT);
                    },
                    setDepthTest: function (t) {
                        var e = cc._renderContext;
                        t ? (e.clearDepth(1), e.enable(e.DEPTH_TEST), e.depthFunc(e.LEQUAL)) : e.disable(e.DEPTH_TEST);
                    },
                    pushRenderCommand: function (t) {
                        if (t.rendering || t.uploadData)
                            if (this._isCacheToBufferOn) {
                                var e = this._currentID,
                                    i = this._cacheToBufferCmds[e];
                                -1 === i.indexOf(t) && i.push(t);
                            } else this._renderCmds.push(t);
                    },
                    _increaseBatchingSize: function (t, e, i) {
                        var n, r;
                        switch ((e = e || v.QUAD)) {
                            case v.QUAD:
                                for (n = 0; n < t; n += 4)
                                    (r = h + n),
                                        (p[l++] = r + 0),
                                        (p[l++] = r + 1),
                                        (p[l++] = r + 2),
                                        (p[l++] = r + 1),
                                        (p[l++] = r + 2),
                                        (p[l++] = r + 3);
                                break;
                            case v.TRIANGLE:
                                for (m = !1, n = 0; n < t; n += 3)
                                    (r = h + n), (p[l++] = r + 0), (p[l++] = r + 1), (p[l++] = r + 2);
                                break;
                            case v.CUSTOM:
                                m = !1;
                                var s = i.length;
                                for (n = 0; n < s; n++) p[l++] = h + i[n];
                                break;
                            default:
                                return;
                        }
                        h += t;
                    },
                    _updateBatchedInfo: function (t, e, i) {
                        return (
                            (t !== r.texture || e.src !== r.blendSrc || e.dst !== r.blendDst || i !== r.shader) &&
                            (this._batchRendering(),
                            (r.texture = t),
                            (r.blendSrc = e.src),
                            (r.blendDst = e.dst),
                            (r.shader = i),
                            !0)
                        );
                    },
                    _breakBatch: function () {
                        s = !0;
                    },
                    _uploadBufferData: function (t) {
                        h >= c && this._batchRendering();
                        var e = t._node,
                            i = t._texture || e._texture || (e._spriteFrame && e._spriteFrame._texture),
                            n = e._blendFunc.src,
                            o = e._blendFunc.dst,
                            a = t._shaderProgram;
                        (s || r.texture !== i || r.blendSrc !== n || r.blendDst !== o || r.shader !== a) &&
                            (this._batchRendering(),
                            (r.texture = i),
                            (r.blendSrc = n),
                            (r.blendDst = o),
                            (r.shader = a),
                            (s = !1));
                        var d = t.uploadData(_, f, h * u);
                        if (d > 0) {
                            var g, y;
                            switch (t.vertexType || v.QUAD) {
                                case v.QUAD:
                                    for (g = 0; g < d; g += 4)
                                        (y = h + g),
                                            (p[l++] = y + 0),
                                            (p[l++] = y + 1),
                                            (p[l++] = y + 2),
                                            (p[l++] = y + 1),
                                            (p[l++] = y + 2),
                                            (p[l++] = y + 3);
                                    break;
                                case v.TRIANGLE:
                                    for (m = !1, g = 0; g < d; g += 3)
                                        (y = h + g), (p[l++] = y + 0), (p[l++] = y + 1), (p[l++] = y + 2);
                                    break;
                                case v.CUSTOM:
                                    (m = !1), t.uploadIndexData && (l += t.uploadIndexData(p, l, h));
                                    break;
                                default:
                                    return;
                            }
                            h += d;
                        }
                    },
                    _batchRendering: function () {
                        if (0 !== h && r.texture) {
                            var t = cc._renderContext,
                                e = r.texture,
                                i = r.shader,
                                n = h > 0.5 * c;
                            if (
                                (i && (i.use(), i._updateProjectionUniform()),
                                cc.gl.blendFunc(r.blendSrc, r.blendDst),
                                cc.gl.bindTexture2DN(0, e),
                                t.bindBuffer(t.ARRAY_BUFFER, a),
                                n)
                            )
                                t.bufferData(t.ARRAY_BUFFER, _, t.DYNAMIC_DRAW);
                            else {
                                var s = _.subarray(0, h * u);
                                t.bufferData(t.ARRAY_BUFFER, s, t.DYNAMIC_DRAW);
                            }
                            t.enableVertexAttribArray(cc.macro.VERTEX_ATTRIB_POSITION),
                                t.enableVertexAttribArray(cc.macro.VERTEX_ATTRIB_COLOR),
                                t.enableVertexAttribArray(cc.macro.VERTEX_ATTRIB_TEX_COORDS),
                                t.vertexAttribPointer(cc.macro.VERTEX_ATTRIB_POSITION, 3, t.FLOAT, !1, 24, 0),
                                t.vertexAttribPointer(cc.macro.VERTEX_ATTRIB_COLOR, 4, t.UNSIGNED_BYTE, !0, 24, 12),
                                t.vertexAttribPointer(cc.macro.VERTEX_ATTRIB_TEX_COORDS, 2, t.FLOAT, !1, 24, 16),
                                t.bindBuffer(t.ELEMENT_ARRAY_BUFFER, o),
                                (!g || !m || l > g) &&
                                    (n
                                        ? t.bufferData(t.ELEMENT_ARRAY_BUFFER, p, t.DYNAMIC_DRAW)
                                        : t.bufferData(t.ELEMENT_ARRAY_BUFFER, p.subarray(0, l), t.DYNAMIC_DRAW)),
                                t.drawElements(t.TRIANGLES, l, t.UNSIGNED_SHORT, 0),
                                cc.g_NumberOfDraws++,
                                m ? (g = l) : ((g = 0), (m = !0)),
                                (h = 0),
                                (l = 0);
                        }
                    },
                    rendering: function (t, e) {
                        var i,
                            n,
                            s,
                            o = e || this._renderCmds,
                            a = t || cc._renderContext;
                        for (
                            a.bindBuffer(a.ARRAY_BUFFER, null), cc.gl.bindTexture2DN(0, null), i = 0, n = o.length;
                            i < n;
                            ++i
                        )
                            (s = o[i])._needDraw &&
                                (s.uploadData
                                    ? this._uploadBufferData(s)
                                    : (h > 0 && this._batchRendering(), s.rendering(a)));
                        this._batchRendering(), (r.texture = null);
                    },
                };
            },
            {},
        ],
        165: [
            function (t, e, i) {
                t('./RendererCanvas'), t('./RendererWebGL'), t('./DirtyRegion');
            },
            {
                './DirtyRegion': 162,
                './RendererCanvas': 163,
                './RendererWebGL': 164,
            },
        ],
        166: [
            function (t, e, i) {
                _ccsg.Scene = _ccsg.Node.extend({
                    _className: 'Scene',
                    ctor: function () {
                        _ccsg.Node.prototype.ctor.call(this),
                            (this._ignoreAnchorPointForPosition = !0),
                            this.setAnchorPoint(0.5, 0.5),
                            this.setContentSize(cc.director.getWinSize());
                    },
                });
            },
            {},
        ],
        167: [
            function (t, e, i) {
                var n = t('../event/event-target'),
                    r = t('../utils/misc');
                (_ccsg.Sprite = _ccsg.Node.extend({
                    dirty: !1,
                    _recursiveDirty: null,
                    _shouldBeHidden: !1,
                    _transformToBatch: null,
                    _blendFunc: null,
                    _texture: null,
                    _rect: null,
                    _rectRotated: !1,
                    _offsetPosition: null,
                    _unflippedOffsetPositionFromCenter: null,
                    _opacityModifyRGB: !1,
                    _flippedX: !1,
                    _flippedY: !1,
                    _textureLoaded: !1,
                    _className: 'Sprite',
                    ctor: function (t, e, i) {
                        _ccsg.Node.prototype.ctor.call(this),
                            n.call(this),
                            (this._shouldBeHidden = !1),
                            (this._offsetPosition = cc.p(0, 0)),
                            (this._unflippedOffsetPositionFromCenter = cc.p(0, 0)),
                            (this._blendFunc = {
                                src: cc.macro.BLEND_SRC,
                                dst: cc.macro.BLEND_DST,
                            }),
                            (this._rect = cc.rect(0, 0, 0, 0)),
                            this._softInit(t, e, i);
                    },
                    textureLoaded: function () {
                        return this._textureLoaded;
                    },
                    addLoadedEventListener: function (t, e) {
                        this.once('load', t, e);
                    },
                    isDirty: function () {
                        return this.dirty;
                    },
                    setDirty: function (t) {
                        this.dirty = t;
                    },
                    isTextureRectRotated: function () {
                        return this._rectRotated;
                    },
                    getTextureRect: function () {
                        return cc.rect(this._rect);
                    },
                    getOffsetPosition: function () {
                        return cc.p(this._offsetPosition);
                    },
                    _getOffsetX: function () {
                        return this._offsetPosition.x;
                    },
                    _getOffsetY: function () {
                        return this._offsetPosition.y;
                    },
                    getBlendFunc: function () {
                        return this._blendFunc;
                    },
                    initWithSpriteFrame: function (t) {
                        cc.assertID(t, 2606),
                            t.textureLoaded() ||
                                ((this._textureLoaded = !1),
                                t.once('load', this._renderCmd._spriteFrameLoadedCallback, this._renderCmd));
                        var e = cc._renderType !== cc.game.RENDER_TYPE_CANVAS && t._rotated,
                            i = this.initWithTexture(t.getTexture(), t.getRect(), e);
                        return this.setSpriteFrame(t), i;
                    },
                    initWithSpriteFrameName: function () {
                        cc.warnID(2608);
                    },
                    setVertexRect: function (t) {
                        var e = this._rect;
                        (e.x = t.x), (e.y = t.y), (e.width = t.width), (e.height = t.height);
                    },
                    setFlippedX: function (t) {
                        this._flippedX !== t &&
                            ((this._flippedX = t),
                            this.setTextureRect(this._rect, this._rectRotated, this._contentSize),
                            this.setNodeDirty(!0));
                    },
                    setFlippedY: function (t) {
                        this._flippedY !== t &&
                            ((this._flippedY = t),
                            this.setTextureRect(this._rect, this._rectRotated, this._contentSize),
                            this.setNodeDirty(!0));
                    },
                    isFlippedX: function () {
                        return this._flippedX;
                    },
                    isFlippedY: function () {
                        return this._flippedY;
                    },
                    setOpacityModifyRGB: function (t) {
                        this._opacityModifyRGB !== t &&
                            ((this._opacityModifyRGB = t), this._renderCmd._setColorDirty());
                    },
                    isOpacityModifyRGB: function () {
                        return this._opacityModifyRGB;
                    },
                    setDisplayFrameWithAnimationName: function (t, e) {
                        cc.assertID(t, 2610);
                        var i = cc.spriteFrameAnimationCache.getAnimation(t);
                        if (i) {
                            var n = i.getFrames()[e];
                            n ? this.setSpriteFrame(n.getSpriteFrame()) : cc.logID(2603);
                        } else cc.logID(2602);
                    },
                    getTexture: function () {
                        return this._texture;
                    },
                    _softInit: function (t, e, i) {
                        if (void 0 === t) _ccsg.Sprite.prototype.init.call(this);
                        else if (cc.js.isString(t))
                            '#' === t[0] ? cc.logID(2728, t) : _ccsg.Sprite.prototype.init.call(this, t, e);
                        else if ('object' == typeof t)
                            if (t instanceof cc.Texture2D) this.initWithTexture(t, e, i);
                            else if (t instanceof cc.SpriteFrame) this.initWithSpriteFrame(t);
                            else if (t instanceof HTMLImageElement || t instanceof HTMLCanvasElement) {
                                var n = new cc.Texture2D();
                                n.initWithElement(t), n.handleLoadedTexture(), this.initWithTexture(n);
                            }
                    },
                    getQuad: function () {
                        return null;
                    },
                    setBlendFunc: function (t, e) {
                        var i = this._blendFunc;
                        void 0 === e ? ((i.src = t.src), (i.dst = t.dst)) : ((i.src = t), (i.dst = e)),
                            this._renderCmd.updateBlendFunc(i);
                    },
                    init: function () {
                        return arguments.length > 0
                            ? this.initWithFile(arguments[0], arguments[1])
                            : ((this.dirty = this._recursiveDirty = !1),
                              (this._blendFunc.src = cc.macro.BLEND_SRC),
                              (this._blendFunc.dst = cc.macro.BLEND_DST),
                              (this.texture = null),
                              (this._flippedX = this._flippedY = !1),
                              (this.anchorX = 0.5),
                              (this.anchorY = 0.5),
                              (this._offsetPosition.x = 0),
                              (this._offsetPosition.y = 0),
                              this.setTextureRect(cc.rect(0, 0, 0, 0), !1, cc.size(0, 0)),
                              !0);
                    },
                    initWithFile: function (t, e) {
                        cc.assertID(t, 2609);
                        var i = cc.textureCache.getTextureForKey(t);
                        if (i) {
                            if (!e) {
                                var n = i.getContentSize();
                                e = cc.rect(0, 0, n.width, n.height);
                            }
                            return this.initWithTexture(i, e);
                        }
                        return (
                            (i = cc.textureCache.addImage(t)),
                            this.initWithTexture(i, e || cc.rect(0, 0, i.width, i.height))
                        );
                    },
                    initWithTexture: function (t, e, i, n) {
                        cc.assertID(0 !== arguments.length, 2710),
                            (i = i || !1),
                            (t = this._renderCmd._handleTextureForRotatedTexture(t, e, i, n)),
                            (this._recursiveDirty = !1),
                            (this.dirty = !1),
                            (this._opacityModifyRGB = !0),
                            (this._blendFunc.src = cc.macro.BLEND_SRC),
                            (this._blendFunc.dst = cc.macro.BLEND_DST),
                            (this._flippedX = this._flippedY = !1),
                            this.setAnchorPoint(0.5, 0.5),
                            (this._offsetPosition.x = 0),
                            (this._offsetPosition.y = 0);
                        var r = t.loaded;
                        return (
                            (this._textureLoaded = r),
                            r
                                ? (e || (e = cc.rect(0, 0, t.width, t.height)),
                                  this._renderCmd._checkTextureBoundary(t, e, i),
                                  this.setTexture(t),
                                  this.setTextureRect(e, i),
                                  this.emit('load'),
                                  !0)
                                : ((this._rectRotated = i),
                                  e &&
                                      ((this._rect.x = e.x),
                                      (this._rect.y = e.y),
                                      (this._rect.width = e.width),
                                      (this._rect.height = e.height)),
                                  this.texture &&
                                      this.texture.off('load', this._renderCmd._textureLoadedCallback, this._renderCmd),
                                  t.once('load', this._renderCmd._textureLoadedCallback, this._renderCmd),
                                  this.setTexture(t),
                                  !0)
                        );
                    },
                    setTextureRect: function (t, e, i, n) {
                        (this._rectRotated = e || !1),
                            this.setContentSize(i || t),
                            this.setVertexRect(t),
                            this._renderCmd._setTextureCoords(t, n);
                        var r = this._unflippedOffsetPositionFromCenter.x,
                            s = this._unflippedOffsetPositionFromCenter.y;
                        this._flippedX && (r = -r), this._flippedY && (s = -s);
                        var o = this._rect;
                        (this._offsetPosition.x = r + (this._contentSize.width - o.width) / 2),
                            (this._offsetPosition.y = s + (this._contentSize.height - o.height) / 2);
                    },
                    setSpriteFrame: function (t) {
                        var e = this;
                        cc.assertID(t, 2712), this.setNodeDirty(!0);
                        var i = t.getOffset();
                        (e._unflippedOffsetPositionFromCenter.x = i.x), (e._unflippedOffsetPositionFromCenter.y = i.y);
                        var n = t.getTexture();
                        t.textureLoaded()
                            ? ((e._textureLoaded = !0),
                              n !== e._texture && (e._setTexture(n), e.setColor(e._realColor)),
                              e.setTextureRect(t.getRect(), t.isRotated(), t.getOriginalSize()))
                            : ((e._textureLoaded = !1),
                              t.once(
                                  'load',
                                  function (t) {
                                      var i = t.currentTarget;
                                      e._textureLoaded = !0;
                                      var n = i.getTexture();
                                      n !== e._texture && e._setTexture(n),
                                          e.setTextureRect(i.getRect(), i.isRotated(), i.getOriginalSize()),
                                          e.emit('load'),
                                          e.setColor(e._realColor);
                                  },
                                  e,
                              )),
                            this._renderCmd._updateForSetSpriteFrame(n);
                    },
                    setDisplayFrame: function (t) {
                        cc.logID(2604), this.setSpriteFrame(t);
                    },
                    isFrameDisplayed: function (t) {
                        return this._renderCmd.isFrameDisplayed(t);
                    },
                    displayFrame: function () {
                        return this.getSpriteFrame();
                    },
                    getSpriteFrame: function () {
                        return new cc.SpriteFrame(
                            this._texture,
                            this._rect,
                            this._rectRotated,
                            this._unflippedOffsetPositionFromCenter,
                            this._contentSize,
                        );
                    },
                    setTexture: function (t) {
                        if (!t) return this._renderCmd._setTexture(null);
                        var e = cc.js.isString(t);
                        e && (t = cc.textureCache.addImage(t)),
                            t.loaded
                                ? (this._setTexture(t, e),
                                  this.setColor(this._realColor),
                                  (this._textureLoaded = !0),
                                  this.emit('load'))
                                : (this._renderCmd._setTexture(t),
                                  t.once(
                                      'load',
                                      function (i) {
                                          this._setTexture(t, e),
                                              this.setColor(this._realColor),
                                              (this._textureLoaded = !0),
                                              this.emit('load');
                                      },
                                      this,
                                  ));
                    },
                    _setTexture: function (t, e) {
                        this._renderCmd._setTexture(t), e && this._changeRectWithTexture(t);
                    },
                    _changeRectWithTexture: function (t) {
                        var e = cc.rect(0, 0, t.width, t.height);
                        this.setTextureRect(e);
                    },
                    _createRenderCmd: function () {
                        return cc._renderType === cc.game.RENDER_TYPE_CANVAS
                            ? new _ccsg.Sprite.CanvasRenderCmd(this)
                            : new _ccsg.Sprite.WebGLRenderCmd(this);
                    },
                })),
                    cc.js.addon(_ccsg.Sprite.prototype, n.prototype);
                r.propertyDefine(_ccsg.Sprite, ['opacity', 'color', 'texture', 'quad'], {
                    opacityModifyRGB: ['isOpacityModifyRGB', 'setOpacityModifyRGB'],
                    flippedX: ['isFlippedX', 'setFlippedX'],
                    flippedY: ['isFlippedY', 'setFlippedY'],
                    offsetX: ['_getOffsetX'],
                    offsetY: ['_getOffsetY'],
                    textureRectRotated: ['isTextureRectRotated'],
                });
            },
            {
                '../event/event-target': 97,
                '../utils/misc': 185,
            },
        ],
        168: [
            function (t, e, i) {
                _ccsg.Sprite.CanvasRenderCmd = function (t) {
                    this._rootCtor(t),
                        (this._needDraw = !0),
                        (this._textureCoord = {
                            renderX: 0,
                            renderY: 0,
                            x: 0,
                            y: 0,
                            width: 0,
                            height: 0,
                            validRect: !1,
                        }),
                        (this._blendFuncStr = 'source-over'),
                        (this._colorized = !1),
                        (this._textureToRender = null);
                };
                var n = (_ccsg.Sprite.CanvasRenderCmd.prototype = Object.create(_ccsg.Node.CanvasRenderCmd.prototype));
                (n.constructor = _ccsg.Sprite.CanvasRenderCmd),
                    (n.setDirtyRecursively = function (t) {}),
                    (n._setTexture = function (t) {
                        var e = this._node;
                        if (e._texture !== t) {
                            (e._textureLoaded = !!t && t.loaded), (e._texture = t);
                            var i = cc.rect(0, 0, t.width, t.height);
                            e.setTextureRect(i), this._updateColor();
                        }
                    }),
                    (n._setColorDirty = function () {
                        this.setDirtyFlag(_ccsg.Node._dirtyFlags.colorDirty | _ccsg.Node._dirtyFlags.opacityDirty);
                    }),
                    (n.isFrameDisplayed = function (t) {
                        var e = this._node;
                        return t.getTexture() === e._texture && cc.rectEqualToRect(t.getRect(), e._rect);
                    }),
                    (n.updateBlendFunc = function (t) {
                        this._blendFuncStr = _ccsg.Node.CanvasRenderCmd._getCompositeOperationByBlendFunc(t);
                    }),
                    (n._handleTextureForRotatedTexture = function (t, e, i, n) {
                        if (i && t.isLoaded()) {
                            var r = t.getHtmlElementObj();
                            r = _ccsg.Sprite.CanvasRenderCmd._cutRotateImageToCanvas(r, e, n);
                            var s = new cc.Texture2D();
                            s.initWithElement(r),
                                s.handleLoadedTexture(),
                                (t = s),
                                (e.x = e.y = 0),
                                (this._node._rect = cc.rect(0, 0, e.width, e.height));
                        }
                        return t;
                    }),
                    (n._checkTextureBoundary = function (t, e, i) {
                        if (t && t.url) {
                            var n = e.x + e.width,
                                r = e.y + e.height;
                            n > t.width && cc.errorID(3300, t.url), r > t.height && cc.errorID(3400, t.url);
                        }
                    }),
                    (n.rendering = function (t, e, i) {
                        var n = this._node,
                            r = this._textureCoord,
                            s = this._displayedOpacity / 255,
                            o = this._textureToRender || n._texture;
                        if ((!o || (0 !== r.width && 0 !== r.height && o.loaded)) && 0 !== s) {
                            var a,
                                c = t || cc._renderContext,
                                h = c.getContext(),
                                l = n._offsetPosition.x,
                                u = n._rect.height,
                                d = n._rect.width,
                                _ = -n._offsetPosition.y - u;
                            c.setTransform(this._worldTransform, e, i),
                                c.setCompositeOperation(this._blendFuncStr),
                                c.setGlobalAlpha(s),
                                (n._flippedX || n._flippedY) && c.save(),
                                n._flippedX && ((l = -l - d), h.scale(-1, 1)),
                                n._flippedY && ((_ = n._offsetPosition.y), h.scale(1, -1));
                            var f, p, g, m, v, y, C, T;
                            if (
                                (this._colorized ? ((f = 0), (p = 0)) : ((f = r.renderX), (p = r.renderY)),
                                (g = r.width),
                                (m = r.height),
                                (v = l),
                                (y = _),
                                (C = d),
                                (T = u),
                                o && o._image)
                            )
                                (a = o._image),
                                    '' !== o._pattern
                                        ? (c.setFillStyle(h.createPattern(a, o._pattern)), h.fillRect(v, y, C, T))
                                        : h.drawImage(a, f, p, g, m, v, y, C, T);
                            else {
                                var E = n._contentSize;
                                if (r.validRect) {
                                    var x = this._displayedColor;
                                    c.setFillStyle('rgba(' + x.r + ',' + x.g + ',' + x.b + ',1)'),
                                        h.fillRect(v, y, E.width, E.height);
                                }
                            }
                            (n._flippedX || n._flippedY) && c.restore(), cc.g_NumberOfDraws++;
                        }
                    }),
                    (n._updateColor = function () {
                        var t = this._node._texture,
                            e = this._textureCoord,
                            i = this._displayedColor;
                        t &&
                            (255 !== i.r || 255 !== i.g || 255 !== i.b
                                ? ((this._textureToRender = t._generateColorTexture(i.r, i.g, i.b, e)),
                                  (this._colorized = !0))
                                : t && ((this._textureToRender = t), (this._colorized = !1)));
                    }),
                    (n._updateForSetSpriteFrame = function (t, e) {
                        if (
                            ((this._colorized = !1),
                            (this._textureCoord.renderX = this._textureCoord.x),
                            (this._textureCoord.renderY = this._textureCoord.y),
                            (e = e || t.loaded))
                        ) {
                            var i = this._node.getColor();
                            (255 === i.r && 255 === i.g && 255 === i.b) || this._updateColor();
                        }
                    }),
                    (n._spriteFrameLoadedCallback = function (t) {
                        var e = this._node,
                            i = t.currentTarget;
                        e.setTextureRect(i.getRect(), i.isRotated(), i.getOriginalSize()),
                            this._updateColor(),
                            e.emit('load');
                    }),
                    (n._textureLoadedCallback = function (t) {
                        var e = this._node,
                            i = t.currentTarget;
                        if (!e._textureLoaded) {
                            e._textureLoaded = !0;
                            var n = e._rect;
                            n
                                ? cc._rectEqualToZero(n) && ((n.width = i.width), (n.height = i.height))
                                : (n = cc.rect(0, 0, i.width, i.height)),
                                (e.texture = i),
                                e.setTextureRect(n, e._rectRotated);
                            var r = this._displayedColor;
                            (255 === r.r && 255 === r.g && 255 === r.b) || this._updateColor(), e.emit('load');
                        }
                    }),
                    (n._setTextureCoords = function (t) {
                        var e = this._textureCoord;
                        (e.renderX = e.x = 0 | t.x),
                            (e.renderY = e.y = 0 | t.y),
                            (e.width = 0 | t.width),
                            (e.height = 0 | t.height),
                            (e.validRect = !(0 === e.width || 0 === e.height || e.x < 0 || e.y < 0));
                    }),
                    (_ccsg.Sprite.CanvasRenderCmd._cutRotateImageToCanvas = function (t, e, i) {
                        if (!t) return null;
                        if (!e) return t;
                        i = null == i || i;
                        var n = document.createElement('canvas');
                        (n.width = e.width), (n.height = e.height);
                        var r = n.getContext('2d');
                        return (
                            r.translate(n.width / 2, n.height / 2),
                            i ? r.rotate(-1.5707963267948966) : r.rotate(1.5707963267948966),
                            r.drawImage(t, e.x, e.y, e.height, e.width, -e.height / 2, -e.width / 2, e.height, e.width),
                            n
                        );
                    });
            },
            {},
        ],
        169: [
            function (t, e, i) {
                var n = cc.macro;
                _ccsg.Sprite.WebGLRenderCmd = function (t) {
                    this._rootCtor(t),
                        (this._needDraw = !0),
                        (this._vertices = [
                            {
                                x: 0,
                                y: 0,
                                u: 0,
                                v: 0,
                            },
                            {
                                x: 0,
                                y: 0,
                                u: 0,
                                v: 0,
                            },
                            {
                                x: 0,
                                y: 0,
                                u: 0,
                                v: 0,
                            },
                            {
                                x: 0,
                                y: 0,
                                u: 0,
                                v: 0,
                            },
                        ]),
                        (this._dirty = !1),
                        (this._recursiveDirty = !1),
                        (this._shaderProgram = cc.shaderCache.programForKey(n.SHADER_SPRITE_POSITION_TEXTURECOLOR));
                };
                var r = (_ccsg.Sprite.WebGLRenderCmd.prototype = Object.create(_ccsg.Node.WebGLRenderCmd.prototype));
                (r.constructor = _ccsg.Sprite.WebGLRenderCmd),
                    (r.updateBlendFunc = function (t) {}),
                    (r.setDirtyFlag = function (t) {
                        _ccsg.Node.WebGLRenderCmd.prototype.setDirtyFlag.call(this, t), (this._dirty = !0);
                    }),
                    (r.setDirtyRecursively = function (t) {
                        (this._recursiveDirty = t), (this._dirty = t);
                        for (var e, i = this._node._children, n = i ? i.length : 0, r = 0; r < n; r++)
                            (e = i[r]) instanceof _ccsg.Sprite && e._renderCmd.setDirtyRecursively(t);
                    }),
                    (r._handleTextureForRotatedTexture = function (t) {
                        return t;
                    }),
                    (r.isFrameDisplayed = function (t) {
                        var e = this._node;
                        return (
                            cc.rectEqualToRect(t.getRect(), e._rect) &&
                            t.getTexture().url === e._texture.url &&
                            cc.pointEqualToPoint(t.getOffset(), e._unflippedOffsetPositionFromCenter)
                        );
                    }),
                    (r._updateForSetSpriteFrame = function () {}),
                    (r._spriteFrameLoadedCallback = function (t) {
                        var e = t.currentTarget;
                        this._node.setTextureRect(e.getRect(), e.isRotated(), e.getOriginalSize()),
                            this._node.emit('load');
                    }),
                    (r._textureLoadedCallback = function (t) {
                        var e = this._node,
                            i = t.currentTarget;
                        if (!e._textureLoaded) {
                            e._textureLoaded = !0;
                            var n = e._rect;
                            n
                                ? cc._rectEqualToZero(n) && ((n.width = i.width), (n.height = i.height))
                                : (n = cc.rect(0, 0, i.width, i.height)),
                                (e.texture = i),
                                e.setTextureRect(n, e._rectRotated),
                                e.emit('load'),
                                (cc.renderer.childrenOrderDirty = !0);
                        }
                    }),
                    (r._setTextureCoords = function (t) {
                        var e = this._node,
                            i = e._texture,
                            r = this._vertices;
                        if (i) {
                            var s,
                                o,
                                a,
                                c,
                                h,
                                l = i.pixelWidth,
                                u = i.pixelHeight;
                            e._rectRotated
                                ? (n.FIX_ARTIFACTS_BY_STRECHING_TEXEL
                                      ? ((o = (s = (2 * t.x + 1) / (2 * l)) + (2 * t.height - 2) / (2 * l)),
                                        (c = (a = (2 * t.y + 1) / (2 * u)) + (2 * t.width - 2) / (2 * u)))
                                      : ((s = t.x / l),
                                        (o = (t.x + t.height) / l),
                                        (a = t.y / u),
                                        (c = (t.y + t.width) / u)),
                                  e._flippedX && ((h = a), (a = c), (c = h)),
                                  e._flippedY && ((h = s), (s = o), (o = h)),
                                  (r[0].u = o),
                                  (r[0].v = a),
                                  (r[1].u = s),
                                  (r[1].v = a),
                                  (r[2].u = o),
                                  (r[2].v = c),
                                  (r[3].u = s),
                                  (r[3].v = c))
                                : (n.FIX_ARTIFACTS_BY_STRECHING_TEXEL
                                      ? ((o = (s = (2 * t.x + 1) / (2 * l)) + (2 * t.width - 2) / (2 * l)),
                                        (c = (a = (2 * t.y + 1) / (2 * u)) + (2 * t.height - 2) / (2 * u)))
                                      : ((s = t.x / l),
                                        (o = (t.x + t.width) / l),
                                        (a = t.y / u),
                                        (c = (t.y + t.height) / u)),
                                  e._flippedX && ((h = s), (s = o), (o = h)),
                                  e._flippedY && ((h = a), (a = c), (c = h)),
                                  (r[0].u = s),
                                  (r[0].v = a),
                                  (r[1].u = s),
                                  (r[1].v = c),
                                  (r[2].u = o),
                                  (r[2].v = a),
                                  (r[3].u = o),
                                  (r[3].v = c));
                        }
                    }),
                    (r._setColorDirty = function () {}),
                    (r._updateBlendFunc = function () {
                        var t = this._node;
                        t._texture && t._texture.hasPremultipliedAlpha()
                            ? ((t._blendFunc.src = n.BLEND_SRC),
                              (t._blendFunc.dst = n.BLEND_DST),
                              (t.opacityModifyRGB = !0))
                            : ((t._blendFunc.src = n.SRC_ALPHA),
                              (t._blendFunc.dst = n.ONE_MINUS_SRC_ALPHA),
                              (t.opacityModifyRGB = !1));
                    }),
                    (r._setTexture = function (t) {
                        var e = this._node;
                        e._texture !== t &&
                            ((e._textureLoaded = !!t && t.loaded),
                            (e._texture = t),
                            this._updateBlendFunc(),
                            e._textureLoaded && (cc.renderer.childrenOrderDirty = !0));
                    }),
                    (r._checkTextureBoundary = function (t, e, i) {
                        if (t && t.url) {
                            var n, r;
                            i
                                ? ((n = e.x + e.height), (r = e.y + e.width))
                                : ((n = e.x + e.width), (r = e.y + e.height)),
                                n > t.width && cc.errorID(3300, t.url),
                                r > t.height && cc.errorID(3400, t.url);
                        }
                    }),
                    (r.transform = function (t, e) {
                        this.originTransform(t, e);
                        var i = this._node,
                            n = i._offsetPosition.x,
                            r = n + i._rect.width,
                            s = i._offsetPosition.y,
                            o = s + i._rect.height,
                            a = this._worldTransform,
                            c = this._vertices;
                        (c[0].x = n * a.a + o * a.c + a.tx),
                            (c[0].y = n * a.b + o * a.d + a.ty),
                            (c[1].x = n * a.a + s * a.c + a.tx),
                            (c[1].y = n * a.b + s * a.d + a.ty),
                            (c[2].x = r * a.a + o * a.c + a.tx),
                            (c[2].y = r * a.b + o * a.d + a.ty),
                            (c[3].x = r * a.a + s * a.c + a.tx),
                            (c[3].y = r * a.b + s * a.d + a.ty);
                    }),
                    (r.needDraw = function () {
                        var t = this._node._texture;
                        return this._needDraw && t;
                    }),
                    (r.uploadData = function (t, e, i) {
                        var n = this._node,
                            r = n._texture;
                        if (!(r && r.loaded && n._rect.width && n._rect.height && this._displayedOpacity)) return 0;
                        var s,
                            o = this._displayedOpacity,
                            a = this._displayedColor._val;
                        if (n._opacityModifyRGB) {
                            var c = o / 255,
                                h = this._displayedColor.r * c,
                                l = this._displayedColor.g * c;
                            s = ((o << 24) >>> 0) + ((this._displayedColor.b * c) << 16) + (l << 8) + h;
                        } else s = ((o << 24) >>> 0) + ((65280 & a) << 8) + ((16711680 & a) >> 8) + (a >>> 24);
                        var u,
                            d,
                            _ = n._vertexZ,
                            f = this._vertices,
                            p = f.length,
                            g = i;
                        for (u = 0; u < p; ++u)
                            (d = f[u]),
                                (t[g] = d.x),
                                (t[g + 1] = d.y),
                                (t[g + 2] = _),
                                (e[g + 3] = s),
                                (t[g + 4] = d.u),
                                (t[g + 5] = d.v),
                                (g += 6);
                        return p;
                    });
            },
            {},
        ],
        170: [
            function (t, e, i) {
                function n(t, e) {
                    return t - e;
                }
                var r,
                    s = t('../event/event-target'),
                    o = {
                        _pool: {},
                        _lengths: [],
                        put: function (t) {
                            var e = t.length;
                            this._pool[e]
                                ? this._pool[e].push(t)
                                : ((this._pool[e] = [t]), this._lengths.push(e), this._lengths.sort(n));
                        },
                        get: function (t) {
                            for (var e, i = 0; i < this._lengths.length; i++)
                                if (this._lengths[i] >= t) {
                                    e = this._lengths[i];
                                    break;
                                }
                            return e ? this._pool[e].pop() : void 0;
                        },
                    },
                    a = cc.macro,
                    c = {
                        _rebuildQuads_base: function (t) {
                            var e,
                                i,
                                n,
                                s,
                                a = t._spriteFrame,
                                c = t._contentSize,
                                h = t._isTrimmedContentSize,
                                l = t._vertices,
                                u = t._corner;
                            if (h) (e = 0), (i = 0), (n = c.width), (s = c.height);
                            else {
                                var d = a._originalSize,
                                    _ = a._rect,
                                    f = a._offset,
                                    p = c.width,
                                    g = c.height,
                                    m = d.width,
                                    v = d.height,
                                    y = _.width,
                                    C = _.height,
                                    T = p / m,
                                    E = g / v,
                                    x = f.x + (m - y) / 2,
                                    S = f.x - (m - y) / 2;
                                (e = x * T),
                                    (i = (f.y + (v - C) / 2) * E),
                                    (n = p + S * T),
                                    (s = g + (f.y - (v - C) / 2) * E);
                            }
                            if (
                                (l.length < 8 && (o.put(l), (l = o.get(8) || new Float32Array(8)), (t._vertices = l)),
                                r)
                            ) {
                                var b = t._renderCmd._worldTransform,
                                    A = b.a,
                                    R = b.b,
                                    w = b.c,
                                    I = b.d,
                                    O = b.tx,
                                    L = b.ty,
                                    P = e * A,
                                    D = e * R,
                                    N = n * A,
                                    F = n * R,
                                    M = s * w + O,
                                    B = s * I + L,
                                    z = i * w + O,
                                    V = i * I + L;
                                (l[0] = P + z),
                                    (l[1] = D + V),
                                    (l[2] = N + z),
                                    (l[3] = F + V),
                                    (l[4] = P + M),
                                    (l[5] = D + B),
                                    (l[6] = N + M),
                                    (l[7] = F + B);
                            } else
                                (l[0] = e),
                                    (l[1] = i),
                                    (l[2] = n),
                                    (l[3] = i),
                                    (l[4] = e),
                                    (l[5] = s),
                                    (l[6] = n),
                                    (l[7] = s);
                            (u[0] = 0),
                                (u[1] = 2),
                                (u[2] = 4),
                                (u[3] = 6),
                                t._uvsDirty && this._calculateUVs(t, a),
                                (t._vertCount = 4);
                        },
                        _calculateUVs: function (t, e) {
                            var i = t._uvs,
                                n = e._texture.width,
                                r = e._texture.height,
                                s = e._rect;
                            i.length < 8 && (o.put(i), (i = o.get(8) || new Float32Array(8)), (t._uvs = i));
                            var c,
                                h,
                                l,
                                u,
                                d = a.FIX_ARTIFACTS_BY_STRECHING_TEXEL ? 0.5 : 0;
                            e._rotated
                                ? ((c = (s.x + d) / n),
                                  (h = (s.y + s.width - d) / r),
                                  (l = (s.x + s.height - d) / n),
                                  (u = (s.y + d) / r),
                                  (i[0] = c),
                                  (i[1] = u),
                                  (i[2] = c),
                                  (i[3] = h),
                                  (i[4] = l),
                                  (i[5] = u),
                                  (i[6] = l),
                                  (i[7] = h))
                                : ((c = (s.x + d) / n),
                                  (h = (s.y + s.height - d) / r),
                                  (l = (s.x + s.width - d) / n),
                                  (u = (s.y + d) / r),
                                  (i[0] = c),
                                  (i[1] = h),
                                  (i[2] = l),
                                  (i[3] = h),
                                  (i[4] = c),
                                  (i[5] = u),
                                  (i[6] = l),
                                  (i[7] = u));
                        },
                    },
                    h = {
                        x: new Array(4),
                        y: new Array(4),
                        _rebuildQuads_base: function (t) {
                            var e,
                                i,
                                n,
                                s,
                                a = t._spriteFrame,
                                c = t._contentSize,
                                h = t._insetLeft,
                                l = t._insetRight,
                                u = t._insetTop,
                                d = t._insetBottom,
                                _ = t._vertices,
                                f = t._renderCmd._worldTransform,
                                p = a._rect,
                                g = t._corner;
                            (e = h), (i = l), p.width, (n = u), (s = d), p.height;
                            var m = c,
                                v = m.width - e - i,
                                y = m.height - n - s,
                                C = m.width / (e + i),
                                T = m.height / (n + s);
                            (C = isNaN(C) || C > 1 ? 1 : C),
                                (T = isNaN(T) || T > 1 ? 1 : T),
                                (v = v < 0 ? 0 : v),
                                (y = y < 0 ? 0 : y);
                            var E = this.x,
                                x = this.y;
                            (E[0] = 0),
                                (E[1] = e * C),
                                (E[2] = E[1] + v),
                                (E[3] = m.width),
                                (x[0] = 0),
                                (x[1] = s * T),
                                (x[2] = x[1] + y),
                                (x[3] = m.height),
                                _.length < 32 && (o.put(_), (_ = o.get(32) || new Float32Array(32)), (t._vertices = _));
                            var S,
                                b,
                                A = 0;
                            if (r)
                                for (S = 0; S < 4; S++)
                                    for (b = 0; b < 4; b++)
                                        (_[A] = E[b] * f.a + x[S] * f.c + f.tx),
                                            (_[A + 1] = E[b] * f.b + x[S] * f.d + f.ty),
                                            (A += 2);
                            else
                                for (S = 0; S < 4; S++)
                                    for (b = 0; b < 4; b++) (_[A] = E[b]), (_[A + 1] = x[S]), (A += 2);
                            (g[0] = 0),
                                (g[1] = 6),
                                (g[2] = 24),
                                (g[3] = 30),
                                t._uvsDirty && this._calculateUVs(t, a, h, l, u, d);
                        },
                        _calculateUVs: function (t, e, i, n, r, s) {
                            var c,
                                h,
                                l,
                                u,
                                d,
                                _,
                                f = t._uvs,
                                p = e._rect,
                                g = e._texture.width,
                                m = e._texture.height,
                                v = e._rect;
                            (c = i),
                                (l = n),
                                (h = p.width - c - l),
                                (u = r),
                                (_ = s),
                                (d = p.height - u - _),
                                f.length < 32 && (o.put(f), (f = o.get(32) || new Float32Array(32)), (t._uvs = f));
                            var y,
                                C,
                                T = this.x,
                                E = this.y,
                                x = a.FIX_ARTIFACTS_BY_STRECHING_TEXEL ? 0.5 : 0,
                                S = 0;
                            if (e._rotated)
                                for (
                                    T[0] = (v.x + x) / g,
                                        T[1] = (_ + v.x) / g,
                                        T[2] = (_ + d + v.x) / g,
                                        T[3] = (v.x + v.height - x) / g,
                                        E[3] = (v.y + x) / m,
                                        E[2] = (c + v.y) / m,
                                        E[1] = (c + h + v.y) / m,
                                        E[0] = (v.y + v.width - x) / m,
                                        y = 0;
                                    y < 4;
                                    y++
                                )
                                    for (C = 0; C < 4; C++) (f[S] = T[y]), (f[S + 1] = E[3 - C]), (S += 2);
                            else
                                for (
                                    T[0] = (v.x + x) / g,
                                        T[1] = (c + v.x) / g,
                                        T[2] = (c + h + v.x) / g,
                                        T[3] = (v.x + v.width - x) / g,
                                        E[3] = (v.y + x) / m,
                                        E[2] = (u + v.y) / m,
                                        E[1] = (u + d + v.y) / m,
                                        E[0] = (v.y + v.height - x) / m,
                                        y = 0;
                                    y < 4;
                                    y++
                                )
                                    for (C = 0; C < 4; C++) (f[S] = T[C]), (f[S + 1] = E[y]), (S += 2);
                        },
                    },
                    l = {
                        _rebuildQuads_base: function (t, e, i) {
                            (e = t._spriteFrame), (i = t._contentSize);
                            var n,
                                s,
                                c,
                                h,
                                l = t._vertices,
                                u = t._corner,
                                d = t._renderCmd._worldTransform,
                                _ = t._uvs,
                                f = e._texture.width,
                                p = e._texture.height,
                                g = e._rect,
                                m = a.FIX_ARTIFACTS_BY_STRECHING_TEXEL ? 0.5 : 0;
                            e._rotated
                                ? ((n = (g.x + m) / f),
                                  (c = (g.x + g.height - m) / f),
                                  (s = (g.y + g.width - m) / p),
                                  (h = (g.y + m) / p))
                                : ((n = (g.x + m) / f),
                                  (c = (g.x + g.width - m) / f),
                                  (s = (g.y + g.height - m) / p),
                                  (h = (g.y + m) / p));
                            var v = g.width,
                                y = g.height,
                                C = i.width / v,
                                T = i.height / y,
                                E = Math.ceil(T),
                                x = Math.ceil(C);
                            E * x > 16384 && cc.errorID(2625);
                            var S = E * x * 4 * 2;
                            l.length < S && (o.put(l), (l = o.get(S) || new Float32Array(S)), (t._vertices = l)),
                                _.length < S && (o.put(_), (_ = o.get(S) || new Float32Array(S)), (t._uvs = _));
                            var b,
                                A,
                                R,
                                w,
                                I = 0;
                            t._vertCount = 0;
                            for (var O = 0; O < E; ++O)
                                for (var L = 0; L < x; ++L) {
                                    if (
                                        ((b = v * L),
                                        (A = y * O),
                                        (R = v * Math.min(L + 1, C)),
                                        (w = y * Math.min(O + 1, T)),
                                        r)
                                    ) {
                                        var P = b * d.a,
                                            D = b * d.b,
                                            N = R * d.a,
                                            F = R * d.b,
                                            M = w * d.c + d.tx,
                                            B = w * d.d + d.ty,
                                            z = A * d.c + d.tx,
                                            V = A * d.d + d.ty;
                                        (l[I] = P + z),
                                            (l[I + 1] = D + V),
                                            (l[I + 2] = N + z),
                                            (l[I + 3] = F + V),
                                            (l[I + 4] = P + M),
                                            (l[I + 5] = D + B),
                                            (l[I + 6] = N + M),
                                            (l[I + 7] = F + B);
                                    } else
                                        (l[I] = b),
                                            (l[I + 1] = A),
                                            (l[I + 2] = R),
                                            (l[I + 3] = A),
                                            (l[I + 4] = b),
                                            (l[I + 5] = w),
                                            (l[I + 6] = R),
                                            (l[I + 7] = w);
                                    if (
                                        (e._rotated
                                            ? ((_[I] = n),
                                              (_[I + 1] = h),
                                              (_[I + 2] = n),
                                              (_[I + 3] = w = h + (s - h) * Math.min(1, C - L)),
                                              (_[I + 4] = R = n + (c - n) * Math.min(1, T - O)),
                                              (_[I + 5] = h),
                                              (_[I + 6] = R),
                                              (_[I + 7] = w))
                                            : ((_[I] = n),
                                              (_[I + 1] = s),
                                              (_[I + 2] = R = n + (c - n) * Math.min(1, C - L)),
                                              (_[I + 3] = s),
                                              (_[I + 4] = n),
                                              (_[I + 5] = w = s + (h - s) * Math.min(1, T - O)),
                                              (_[I + 6] = R),
                                              (_[I + 7] = w)),
                                        (I += 8),
                                        (t._vertCount += 4),
                                        I > S)
                                    )
                                        return;
                                }
                            (u[0] = 0), (u[1] = 8 * (x - 1) + 2), (u[2] = (E - 1) * x * 8 + 4), (u[3] = S - 2);
                        },
                    },
                    u = {
                        _rebuildQuads_base: function (t) {
                            var e = t._spriteFrame,
                                i = t._contentSize,
                                n = t._fillStart,
                                s = t._fillRange;
                            s < 0 && ((n += s), (s = -s)),
                                (s = n + s),
                                (n = (n = n > 1 ? 1 : n) < 0 ? 0 : n),
                                (s = (s = s > 1 ? 1 : s) < 0 ? 0 : s),
                                (s -= n);
                            var c,
                                h,
                                l,
                                u,
                                d,
                                _ = t._fillType,
                                f = t._vertices,
                                p = t._corner,
                                m = t._renderCmd._worldTransform,
                                v = t._uvs,
                                y = 0,
                                C = 0,
                                T = i.width,
                                E = i.height,
                                x = e._texture.width,
                                S = e._texture.height,
                                b = e._rect,
                                A = a.FIX_ARTIFACTS_BY_STRECHING_TEXEL ? 0.5 : 0;
                            e._rotated
                                ? ((h = (b.x + A) / x),
                                  (l = (b.y + b.width - A) / S),
                                  (u = (b.x + b.height - A) / x),
                                  (d = (b.y + A) / S))
                                : ((h = (b.x + A) / x),
                                  (l = (b.y + b.height - A) / S),
                                  (u = (b.x + b.width - A) / x),
                                  (d = (b.y + A) / S)),
                                f.length < 8 && (o.put(f), (f = o.get(8) || new Float32Array(8)), (t._vertices = f)),
                                v.length < 8 && (o.put(v), (v = o.get(8) || new Float32Array(8)), (t._uvs = v));
                            var R = new Array(8);
                            e._rotated
                                ? ((R[0] = R[2] = h), (R[4] = R[6] = u), (R[3] = R[7] = l), (R[1] = R[5] = d))
                                : ((R[0] = R[4] = h), (R[2] = R[6] = u), (R[1] = R[3] = l), (R[5] = R[7] = d)),
                                (c = (c = (n = (n = n > 1 ? 1 : n) < 0 ? 0 : n) + (s = s < 0 ? 0 : s)) > 1 ? 1 : c);
                            var w;
                            switch (_) {
                                case g.HORIZONTAL:
                                    (w = y + (T - y) * c),
                                        (y = y + (T - y) * n),
                                        (T = w),
                                        (v[0] = R[0] + (R[2] - R[0]) * n),
                                        (v[1] = R[1]),
                                        (v[2] = R[0] + (R[2] - R[0]) * c),
                                        (v[3] = R[3]),
                                        (v[4] = R[4] + (R[6] - R[4]) * n),
                                        (v[5] = R[5]),
                                        (v[6] = R[4] + (R[6] - R[4]) * c),
                                        (v[7] = R[7]);
                                    break;
                                case g.VERTICAL:
                                    (w = C + (E - C) * c),
                                        (C = C + (E - C) * n),
                                        (E = w),
                                        (v[0] = R[0]),
                                        (v[1] = R[1] + (R[5] - R[1]) * n),
                                        (v[2] = R[2]),
                                        (v[3] = R[3] + (R[7] - R[3]) * n),
                                        (v[4] = R[4]),
                                        (v[5] = R[1] + (R[5] - R[1]) * c),
                                        (v[6] = R[6]),
                                        (v[7] = R[3] + (R[7] - R[3]) * c);
                                    break;
                                default:
                                    cc.errorID(2626);
                            }
                            if (r) {
                                var I = y * m.a,
                                    O = y * m.b,
                                    L = T * m.a,
                                    P = T * m.b,
                                    D = E * m.c + m.tx,
                                    N = E * m.d + m.ty,
                                    F = C * m.c + m.tx,
                                    M = C * m.d + m.ty;
                                (f[0] = I + F),
                                    (f[1] = O + M),
                                    (f[2] = L + F),
                                    (f[3] = P + M),
                                    (f[4] = I + D),
                                    (f[5] = O + N),
                                    (f[6] = L + D),
                                    (f[7] = P + N);
                            } else
                                (f[0] = y),
                                    (f[1] = C),
                                    (f[2] = T),
                                    (f[3] = C),
                                    (f[4] = y),
                                    (f[5] = E),
                                    (f[6] = T),
                                    (f[7] = E);
                            (t._vertCount = 4), (p[0] = 0), (p[1] = 2), (p[2] = 4), (p[3] = 6);
                        },
                    },
                    d = {
                        _vertPos: [cc.v2(0, 0), cc.v2(0, 0), cc.v2(0, 0), cc.v2(0, 0)],
                        _vertices: [cc.v2(0, 0), cc.v2(0, 0)],
                        _uvs: [cc.v2(0, 0), cc.v2(0, 0)],
                        _intersectPoint_1: [cc.v2(0, 0), cc.v2(0, 0), cc.v2(0, 0), cc.v2(0, 0)],
                        _intersectPoint_2: [cc.v2(0, 0), cc.v2(0, 0), cc.v2(0, 0), cc.v2(0, 0)],
                        outVerts: null,
                        outUvs: null,
                        rawVerts: null,
                        rawUvs: null,
                        _rebuildQuads_base: function (t) {
                            var e = t._spriteFrame,
                                i = t._contentSize,
                                n = t._fillStart,
                                r = t._fillRange;
                            r < 0 && ((n += r), (r = -r)),
                                (t._isTriangle = !0),
                                t._rawVerts ||
                                    ((t._rawVerts = o.get(8) || new Float32Array(8)),
                                    (t._rawUvs = o.get(8) || new Float32Array(8)));
                            for (
                                var s = t._fillCenter,
                                    a = t._vertices,
                                    c = t._corner,
                                    h = t._uvs,
                                    l = t._rawVerts,
                                    u = t._rawUvs,
                                    d = t._renderCmd._worldTransform;
                                n >= 1;

                            )
                                n -= 1;
                            for (; n < 0; ) n += 1;
                            var _ = s.x * i.width,
                                f = s.y * i.height,
                                p = cc.v2(_, f),
                                g = (n *= 2 * Math.PI) + (r *= 2 * Math.PI);
                            (this.outVerts = a),
                                (this.outUvs = h),
                                (this.rawVerts = l),
                                (this.rawUvs = u),
                                this._calculateVertices(d, e, i),
                                this._calculateUVs(e);
                            var m = this._vertPos,
                                v = this._vertices;
                            (m[0].x = m[3].x = v[0].x),
                                (m[1].x = m[2].x = v[1].x),
                                (m[0].y = m[1].y = v[0].y),
                                (m[2].y = m[3].y = v[1].y),
                                p.x > v[1].x && (p.x = v[1].x),
                                p.x < v[0].x && (p.x = v[0].x),
                                p.y < v[0].y && (p.y = v[0].y),
                                p.y > v[1].y && (p.y = v[1].y),
                                (l[0] = l[4] = this._vertices[0].x),
                                (l[2] = l[6] = this._vertices[1].x),
                                (l[1] = l[3] = this._vertices[0].y),
                                (l[5] = l[7] = this._vertices[1].y),
                                e._rotated
                                    ? ((u[0] = u[2] = this._uvs[0].x),
                                      (u[4] = u[6] = this._uvs[1].x),
                                      (u[3] = u[7] = this._uvs[0].y),
                                      (u[1] = u[5] = this._uvs[1].y))
                                    : ((u[0] = u[4] = this._uvs[0].x),
                                      (u[2] = u[6] = this._uvs[1].x),
                                      (u[1] = u[3] = this._uvs[0].y),
                                      (u[5] = u[7] = this._uvs[1].y));
                            var y = [null, null, null, null];
                            p.x !== this._vertices[0].x && (y[0] = [3, 0]),
                                p.x !== this._vertices[1].x && (y[2] = [1, 2]),
                                p.y !== this._vertices[0].y && (y[1] = [0, 1]),
                                p.y !== this._vertices[1].y && (y[3] = [2, 3]),
                                this._getInsectedPoints(
                                    this._vertices[0].x,
                                    this._vertices[1].x,
                                    this._vertices[0].y,
                                    this._vertices[1].y,
                                    p,
                                    n,
                                    this._intersectPoint_1,
                                ),
                                this._getInsectedPoints(
                                    this._vertices[0].x,
                                    this._vertices[1].x,
                                    this._vertices[0].y,
                                    this._vertices[1].y,
                                    p,
                                    n + r,
                                    this._intersectPoint_2,
                                );
                            a.length < 30 &&
                                (o.put(a), (a = o.get(30) || new Float32Array(30)), (this.outVerts = t._vertices = a)),
                                h.length < 30 &&
                                    (o.put(h), (h = o.get(30) || new Float32Array(30)), (this.outUvs = t._uvs = h));
                            for (var C = 0, T = 0, E = 0; E < 4; ++E) {
                                var x = y[E];
                                if (null !== x)
                                    if (r >= 2 * Math.PI)
                                        this._generateTriangle(d, C, p, this._vertPos[x[0]], this._vertPos[x[1]]),
                                            (C += 6),
                                            (T += 3);
                                    else {
                                        var S = this._getVertAngle(p, this._vertPos[x[0]]),
                                            b = this._getVertAngle(p, this._vertPos[x[1]]);
                                        b < S && (b += 2 * Math.PI), (S -= 2 * Math.PI), (b -= 2 * Math.PI);
                                        for (var A = 0; A < 3; ++A)
                                            S >= g ||
                                                (S >= n
                                                    ? (b >= g
                                                          ? this._generateTriangle(
                                                                d,
                                                                C,
                                                                p,
                                                                this._vertPos[x[0]],
                                                                this._intersectPoint_2[E],
                                                            )
                                                          : this._generateTriangle(
                                                                d,
                                                                C,
                                                                p,
                                                                this._vertPos[x[0]],
                                                                this._vertPos[x[1]],
                                                            ),
                                                      (C += 6),
                                                      (T += 3))
                                                    : b <= n ||
                                                      (b <= g
                                                          ? (this._generateTriangle(
                                                                d,
                                                                C,
                                                                p,
                                                                this._intersectPoint_1[E],
                                                                this._vertPos[x[1]],
                                                            ),
                                                            (C += 6),
                                                            (T += 3))
                                                          : (this._generateTriangle(
                                                                d,
                                                                C,
                                                                p,
                                                                this._intersectPoint_1[E],
                                                                this._intersectPoint_2[E],
                                                            ),
                                                            (C += 6),
                                                            (T += 3)))),
                                                (S += 2 * Math.PI),
                                                (b += 2 * Math.PI);
                                    }
                            }
                            t._vertCount = T;
                            for (var R, w, I = 1 / 0, O = 1 / 0, L = -1 / 0, P = -1 / 0, D = 0, N = C; D < N; D += 2)
                                (R = a[D]),
                                    (w = a[D + 1]),
                                    R <= I ? ((I = R), (c[0] = D)) : R >= L && ((L = R), (c[1] = D)),
                                    w <= O ? ((O = w), (c[2] = D)) : w >= P && ((P = w), (c[3] = D));
                        },
                        _generateTriangle: function (t, e, i, n, s) {
                            var o,
                                a,
                                c = this.rawVerts,
                                h = this.rawUvs,
                                l = this.outVerts,
                                u = c[0],
                                d = c[1],
                                _ = c[6],
                                f = c[7];
                            r
                                ? ((l[e] = i.x * t.a + i.y * t.c + t.tx),
                                  (l[e + 1] = i.x * t.b + i.y * t.d + t.ty),
                                  (l[e + 2] = n.x * t.a + n.y * t.c + t.tx),
                                  (l[e + 3] = n.x * t.b + n.y * t.d + t.ty),
                                  (l[e + 4] = s.x * t.a + s.y * t.c + t.tx),
                                  (l[e + 5] = s.x * t.b + s.y * t.d + t.ty))
                                : ((l[e] = i.x),
                                  (l[e + 1] = i.y),
                                  (l[e + 2] = n.x),
                                  (l[e + 3] = n.y),
                                  (l[e + 4] = s.x),
                                  (l[e + 5] = s.y)),
                                (o = (i.x - u) / (_ - u)),
                                (a = (i.y - d) / (f - d)),
                                this._generateUV(o, a, h, e),
                                (o = (n.x - u) / (_ - u)),
                                (a = (n.y - d) / (f - d)),
                                this._generateUV(o, a, h, e + 2),
                                (o = (s.x - u) / (_ - u)),
                                (a = (s.y - d) / (f - d)),
                                this._generateUV(o, a, h, e + 4);
                        },
                        _generateUV: function (t, e, i, n) {
                            var r = this.outUvs,
                                s = i[0] + (i[2] - i[0]) * t,
                                o = i[4] + (i[6] - i[4]) * t,
                                a = i[1] + (i[3] - i[1]) * t,
                                c = i[5] + (i[7] - i[5]) * t;
                            (r[n] = s + (o - s) * e), (r[n + 1] = a + (c - a) * e);
                        },
                        _isAngleIn: function (t, e, i) {
                            for (var n = 2 * Math.PI; t < e || t >= e + n; ) t < e && (t += n), t >= e + n && (t -= n);
                            return t <= e + i;
                        },
                        _getVertAngle: function (t, e) {
                            var i, n;
                            if (((i = e.x - t.x), (n = e.y - t.y), 0 !== i || 0 !== n)) {
                                if (0 === i) return n > 0 ? 0.5 * Math.PI : 1.5 * Math.PI;
                                var r = Math.atan(n / i);
                                return i < 0 && (r += Math.PI), r;
                            }
                        },
                        _getInsectedPoints: function (t, e, i, n, r, s, o) {
                            var a,
                                c,
                                h = Math.sin(s),
                                l = Math.cos(s);
                            if (0 !== Math.cos(s)) {
                                if (((a = h / l), (t - r.x) * l > 0)) {
                                    var u = r.y + a * (t - r.x);
                                    (o[0].x = t), (o[0].y = u);
                                }
                                if ((e - r.x) * l > 0) {
                                    var d = r.y + a * (e - r.x);
                                    (o[2].x = e), (o[2].y = d);
                                }
                            }
                            if (0 !== Math.sin(s)) {
                                if (((c = l / h), (n - r.y) * h > 0)) {
                                    var _ = r.x + c * (n - r.y);
                                    (o[3].x = _), (o[3].y = n);
                                }
                                if ((i - r.y) * h > 0) {
                                    var f = r.x + c * (i - r.y);
                                    (o[1].x = f), (o[1].y = i);
                                }
                            }
                            return [null, null, null, null];
                        },
                        _calculateVertices: function (t, e, i) {
                            var n, r;
                            (n = i.width),
                                (r = i.height),
                                (this._vertices[0].x = 0),
                                (this._vertices[0].y = 0),
                                (this._vertices[1].x = n),
                                (this._vertices[1].y = r);
                        },
                        _calculateUVs: function (t) {
                            var e,
                                i,
                                n,
                                r,
                                s = t._texture.width,
                                o = t._texture.height,
                                c = t._rect,
                                h = a.FIX_ARTIFACTS_BY_STRECHING_TEXEL ? 0.5 : 0;
                            t._rotated
                                ? ((e = (c.x + h) / s),
                                  (i = (c.x + c.height - h) / s),
                                  (n = (c.y + h) / o),
                                  (r = (c.y + c.width - h) / o))
                                : ((e = (c.x + h) / s),
                                  (i = (c.x + c.width - h) / s),
                                  (n = (c.y + h) / o),
                                  (r = (c.y + c.height - h) / o)),
                                (this._uvs[0].x = e),
                                (this._uvs[0].y = r),
                                (this._uvs[1].x = i),
                                (this._uvs[1].y = n);
                        },
                    },
                    _ = {
                        _rebuildQuads_base: function (t, e, i) {
                            if (cc._renderType !== cc.game.RENDER_TYPE_CANVAS) {
                                t._spriteFrame;
                                if ((i = t._meshPolygonInfo)) {
                                    var n = t._renderCmd._worldTransform,
                                        r = i.triangles.verts,
                                        s = t._vertices,
                                        a = t._uvs,
                                        c = r.length,
                                        h = t._corner,
                                        l = 2 * c;
                                    s.length < l &&
                                        (o.put(s), (s = o.get(l) || new Float32Array(l)), (t._vertices = s)),
                                        a.length < l && (o.put(a), (a = o.get(l) || new Float32Array(l)), (t._uvs = a));
                                    for (var u = 1 / 0, d = 1 / 0, _ = -1 / 0, f = -1 / 0, p = 0; p < c; p++) {
                                        var g = r[p].x * n.a + r[p].y * n.c + n.tx,
                                            m = r[p].x * n.b + r[p].y * n.d + n.ty;
                                        (s[2 * p] = g),
                                            (s[2 * p + 1] = m),
                                            (a[2 * p] = r[p].u),
                                            (a[2 * p + 1] = r[p].v),
                                            g < u && ((u = g), (h[0] = 2 * p)),
                                            g > _ && ((_ = g), (h[1] = 2 * p)),
                                            m < d && ((d = m), (h[2] = 2 * p)),
                                            m > f && ((f = m), (h[3] = 2 * p));
                                    }
                                    t._vertCount = c;
                                }
                            }
                        },
                    };
                cc.Scale9Sprite = _ccsg.Node.extend({
                    _spriteFrame: null,
                    _insetLeft: 0,
                    _insetRight: 0,
                    _insetTop: 0,
                    _insetBottom: 0,
                    _blendFunc: null,
                    _renderingType: 1,
                    _brightState: 0,
                    _rawVerts: null,
                    _rawUvs: null,
                    _vertices: null,
                    _uvs: null,
                    _vertCount: 0,
                    _quadsDirty: !0,
                    _uvsDirty: !0,
                    _isTriangle: !1,
                    _isTrimmedContentSize: !0,
                    _fillType: 0,
                    _fillCenter: null,
                    _fillStart: 0,
                    _fillRange: 2 * Math.PI,
                    _distortionOffset: null,
                    _distortionTiling: null,
                    _meshPolygonInfo: null,
                    ctor: function (t) {
                        _ccsg.Node.prototype.ctor.call(this),
                            this._renderCmd.setState(this._brightState),
                            (this._blendFunc = cc.BlendFunc._alphaNonPremultiplied()),
                            (this._fillCenter = cc.v2(0, 0)),
                            this.setAnchorPoint(cc.p(0.5, 0.5)),
                            (this._rawVerts = null),
                            (this._rawUvs = null),
                            (this._vertices = o.get(8) || new Float32Array(8)),
                            (this._uvs = o.get(8) || new Float32Array(8)),
                            'string' == typeof t || t instanceof cc.Texture2D
                                ? this.initWithTexture(t)
                                : t instanceof cc.SpriteFrame && this.initWithSpriteFrame(t),
                            void 0 === r && (r = cc._renderType === cc.game.RENDER_TYPE_WEBGL),
                            (this._corner = []);
                    },
                    loaded: function () {
                        return null !== this._spriteFrame && this._spriteFrame.textureLoaded();
                    },
                    initWithTexture: function (t) {
                        this.setTexture(t);
                    },
                    initWithSpriteFrame: function (t) {
                        this.setSpriteFrame(t);
                    },
                    setTexture: function (t) {
                        var e = new cc.SpriteFrame(t);
                        this.setSpriteFrame(e);
                    },
                    setSpriteFrame: function (t) {
                        if (t) {
                            (this._spriteFrame = t),
                                (this._quadsDirty = !0),
                                (this._uvsDirty = !0),
                                (this._renderCmd._needDraw = !1);
                            var e = this,
                                i = function () {
                                    e._spriteFrame &&
                                        cc.sizeEqualToSize(e._contentSize, cc.size(0, 0)) &&
                                        e.setContentSize(e._spriteFrame._rect),
                                        (e._renderCmd._needDraw = !0),
                                        e._renderCmd.setDirtyFlag(_ccsg.Node._dirtyFlags.contentDirty);
                                };
                            t.textureLoaded() ? i() : t.once('load', i, this);
                        }
                    },
                    setBlendFunc: function (t, e) {
                        void 0 === e
                            ? ((this._blendFunc.src = t.src), (this._blendFunc.dst = t.dst))
                            : ((this._blendFunc.src = t), (this._blendFunc.dst = e)),
                            this._renderCmd.setDirtyFlag(_ccsg.Node._dirtyFlags.contentDirty);
                    },
                    getBlendFunc: function () {
                        return new cc.BlendFunc(this._blendFunc.src, this._blendFunc.dst);
                    },
                    setContentSize: function (t, e) {
                        void 0 === e && ((e = t.height), (t = t.width)),
                            (t === this._contentSize.width && e === this._contentSize.height) ||
                                (_ccsg.Node.prototype.setContentSize.call(this, t, e), (this._quadsDirty = !0));
                    },
                    enableTrimmedContentSize: function (t) {
                        this._isTrimmedContentSize !== t &&
                            ((this._isTrimmedContentSize = t),
                            (this._quadsDirty = !0),
                            this._renderCmd.setDirtyFlag(_ccsg.Node._dirtyFlags.contentDirty));
                    },
                    isTrimmedContentSizeEnabled: function () {
                        return this._isTrimmedContentSize;
                    },
                    setState: function (t) {
                        (this._brightState = t),
                            this._renderCmd.setState(t),
                            this._renderCmd.setDirtyFlag(_ccsg.Node._dirtyFlags.contentDirty);
                    },
                    getState: function () {
                        return this._brightState;
                    },
                    setRenderingType: function (t) {
                        this._renderingType !== t &&
                            ((this._renderingType = t),
                            (this._quadsDirty = !0),
                            (this._uvsDirty = !0),
                            this._renderCmd.setDirtyFlag(_ccsg.Node._dirtyFlags.contentDirty));
                    },
                    getRenderingType: function () {
                        return this._renderingType;
                    },
                    setInsetLeft: function (t) {
                        (this._insetLeft = t),
                            (this._quadsDirty = !0),
                            (this._uvsDirty = !0),
                            this._renderCmd.setDirtyFlag(_ccsg.Node._dirtyFlags.contentDirty);
                    },
                    getInsetLeft: function () {
                        return this._insetLeft;
                    },
                    setInsetTop: function (t) {
                        (this._insetTop = t),
                            (this._quadsDirty = !0),
                            (this._uvsDirty = !0),
                            this._renderCmd.setDirtyFlag(_ccsg.Node._dirtyFlags.contentDirty);
                    },
                    getInsetTop: function () {
                        return this._insetTop;
                    },
                    setInsetRight: function (t) {
                        (this._insetRight = t),
                            (this._quadsDirty = !0),
                            (this._uvsDirty = !0),
                            this._renderCmd.setDirtyFlag(_ccsg.Node._dirtyFlags.contentDirty);
                    },
                    getInsetRight: function () {
                        return this._insetRight;
                    },
                    setInsetBottom: function (t) {
                        (this._insetBottom = t),
                            (this._quadsDirty = !0),
                            (this._uvsDirty = !0),
                            this._renderCmd.setDirtyFlag(_ccsg.Node._dirtyFlags.contentDirty);
                    },
                    getInsetBottom: function () {
                        return this._insetBottom;
                    },
                    setFillType: function (t) {
                        this._fillType !== t &&
                            ((this._fillType = t),
                            this._renderingType === p.FILLED &&
                                ((this._quadsDirty = !0),
                                this._renderCmd.setDirtyFlag(_ccsg.Node._dirtyFlags.contentDirty)));
                    },
                    getFillType: function () {
                        return this._fillType;
                    },
                    setFillCenter: function (t, e) {
                        (this._fillCenter = cc.v2(t, e)),
                            this._renderingType === p.FILLED &&
                                this._fillType === g.RADIAL &&
                                ((this._quadsDirty = !0),
                                this._renderCmd.setDirtyFlag(_ccsg.Node._dirtyFlags.contentDirty));
                    },
                    setDistortionTiling: function (t, e) {
                        void 0 === e && ((e = t.y), (t = t.x)),
                            (this._distortionTiling = this._distortionTiling || cc.v2(0, 0)),
                            (this._distortionTiling.x = t),
                            (this._distortionTiling.y = e);
                    },
                    setDistortionOffset: function (t, e) {
                        void 0 === e && ((e = t.y), (t = t.x)),
                            (this._distortionOffset = this._distortionOffset || cc.v2(0, 0)),
                            (this._distortionOffset.x = t),
                            (this._distortionOffset.y = e);
                    },
                    getFillCenter: function () {
                        return cc.v2(this._fillCenter);
                    },
                    setFillStart: function (t) {
                        this._fillStart !== t &&
                            ((this._fillStart = t),
                            this._renderingType === p.FILLED &&
                                ((this._quadsDirty = !0),
                                this._renderCmd.setDirtyFlag(_ccsg.Node._dirtyFlags.contentDirty)));
                    },
                    getFillStart: function () {
                        return this._fillStart;
                    },
                    setFillRange: function (t) {
                        this._fillRange !== t &&
                            ((this._fillRange = t),
                            this._renderingType === p.FILLED &&
                                ((this._quadsDirty = !0),
                                this._renderCmd.setDirtyFlag(_ccsg.Node._dirtyFlags.contentDirty)));
                    },
                    getFillRange: function () {
                        return this._fillRange;
                    },
                    _rebuildQuads: function () {
                        if (this._spriteFrame && this._spriteFrame._textureLoaded) {
                            this._isTriangle = !1;
                            var t;
                            switch (this._renderingType) {
                                case p.SIMPLE:
                                    t = c;
                                    break;
                                case p.SLICED:
                                    t = h;
                                    break;
                                case p.TILED:
                                    t = l;
                                    break;
                                case p.FILLED:
                                    t = this._fillType === g.RADIAL ? d : u;
                                    break;
                                case p.MESH:
                                    t = _;
                            }
                            t
                                ? t._rebuildQuads_base(this)
                                : ((this._quadsDirty = !1),
                                  (this._uvsDirty = !1),
                                  (this._renderCmd._needDraw = !1),
                                  cc.errorID(2627)),
                                (this._quadsDirty = !1),
                                (this._uvsDirty = !1);
                        } else this._renderCmd._needDraw = !1;
                    },
                    _createRenderCmd: function () {
                        return cc._renderType === cc.game.RENDER_TYPE_CANVAS
                            ? new cc.Scale9Sprite.CanvasRenderCmd(this)
                            : new cc.Scale9Sprite.WebGLRenderCmd(this);
                    },
                    setMeshPolygonInfo: function (t) {
                        this.setRenderingType(p.MESH),
                            (this._meshPolygonInfo = t),
                            (this._quadsDirty = !0),
                            (this._uvsDirty = !0);
                    },
                    getMeshPolygonInfo: function () {
                        return this._meshPolygonInfo;
                    },
                });
                var f = cc.Scale9Sprite.prototype;
                cc.js.addon(f, s.prototype),
                    cc.defineGetterSetter(f, 'insetLeft', f.getInsetLeft, f.setInsetLeft),
                    cc.defineGetterSetter(f, 'insetTop', f.getInsetTop, f.setInsetTop),
                    cc.defineGetterSetter(f, 'insetRight', f.getInsetRight, f.setInsetRight),
                    cc.defineGetterSetter(f, 'insetBottom', f.getInsetBottom, f.setInsetBottom),
                    (cc.Scale9Sprite.state = {
                        NORMAL: 0,
                        GRAY: 1,
                        DISTORTION: 2,
                    });
                var p = (cc.Scale9Sprite.RenderingType = cc.Enum({
                        SIMPLE: 0,
                        SLICED: 1,
                        TILED: 2,
                        FILLED: 3,
                        MESH: 4,
                    })),
                    g = (cc.Scale9Sprite.FillType = cc.Enum({
                        HORIZONTAL: 0,
                        VERTICAL: 1,
                        RADIAL: 2,
                    }));
            },
            {
                '../event/event-target': 97,
            },
        ],
        171: [
            function (t, e, i) {
                cc.Scale9Sprite.CanvasRenderCmd = function (t) {
                    this._rootCtor(t),
                        this._node.loaded() ? (this._needDraw = !0) : (this._needDraw = !1),
                        (this._state = cc.Scale9Sprite.state.NORMAL),
                        (this._originalTexture = this._textureToRender = null);
                };
                var n = (cc.Scale9Sprite.CanvasRenderCmd.prototype = Object.create(
                    _ccsg.Node.CanvasRenderCmd.prototype,
                ));
                (n.constructor = cc.Scale9Sprite.CanvasRenderCmd),
                    (n.updateTransform = function (t) {
                        this.originUpdateTransform(t), this._node._rebuildQuads();
                    }),
                    (n._doCulling = function () {
                        var t = cc.visibleRect,
                            e = this._currentRegion,
                            i = e._minX,
                            n = e._maxX,
                            r = e._minY,
                            s = e._maxY,
                            o = t.left.x,
                            a = t.right.x,
                            c = t.top.y,
                            h = t.bottom.y;
                        this._needDraw = !(n < o || i > a || s < h || r > c);
                    }),
                    (n._updateDisplayColor = function (t) {
                        _ccsg.Node.WebGLRenderCmd.prototype._updateDisplayColor.call(this, t),
                            (this._originalTexture = this._textureToRender = null);
                    }),
                    (n._syncDisplayColor = function (t) {
                        _ccsg.Node.WebGLRenderCmd.prototype._syncDisplayColor.call(this, t),
                            (this._originalTexture = this._textureToRender = null);
                    }),
                    (n.setState = function (t) {
                        this._state !== t &&
                            ((this._state = t), (this._originalTexture = this._textureToRender = null));
                    }),
                    (n.rendering = function (t, e, i) {
                        var n = this._node,
                            r = this._displayedOpacity,
                            s = r / 255,
                            o = null;
                        if ((n._spriteFrame && (o = n._spriteFrame._texture), n.loaded() && 0 !== r)) {
                            if (
                                (null === this._textureToRender || this._originalTexture !== o) &&
                                ((this._textureToRender = this._originalTexture = o),
                                cc.Scale9Sprite.state.GRAY === this._state &&
                                    (this._textureToRender = this._textureToRender._generateGrayTexture()),
                                cc.sys.browserType !== cc.sys.BROWSER_TYPE_WECHAT_GAME_SUB)
                            ) {
                                var a = n.getDisplayedColor();
                                !o ||
                                    (255 === a.r && 255 === a.g && 255 === a.b) ||
                                    (this._textureToRender = this._textureToRender._generateColorTexture(
                                        a.r,
                                        a.g,
                                        a.b,
                                    ));
                            }
                            var c = t || cc._renderContext,
                                h = c.getContext();
                            if (
                                (c.setTransform(this._worldTransform, e, i),
                                c.setCompositeOperation(
                                    _ccsg.Node.CanvasRenderCmd._getCompositeOperationByBlendFunc(n._blendFunc),
                                ),
                                c.setGlobalAlpha(s),
                                this._textureToRender)
                            ) {
                                n._quadsDirty && n._rebuildQuads();
                                var l,
                                    u,
                                    d,
                                    _,
                                    f,
                                    p,
                                    g,
                                    m,
                                    v = this._textureToRender.width,
                                    y = this._textureToRender.height,
                                    C = this._textureToRender._image,
                                    T = n._vertices,
                                    E = n._uvs,
                                    x = 0,
                                    S = 0;
                                if (n._isTriangle) {
                                    var b = n._rawVerts,
                                        A = n._rawUvs;
                                    (f = b[0]),
                                        (p = b[1]),
                                        (g = b[6] - f),
                                        (p = -p - (m = b[7] - p)),
                                        (l = A[4] * v),
                                        (u = A[5] * y),
                                        (d = (A[6] - A[0]) * v),
                                        (_ = (A[1] - A[7]) * y),
                                        c.save(),
                                        h.beginPath();
                                    var R = Math.floor(n._vertCount / 3);
                                    for (x = 0, S = 0; x < R; x++)
                                        h.moveTo(T[S++], -T[S++]), h.lineTo(T[S++], -T[S++]), h.lineTo(T[S++], -T[S++]);
                                    h.clip(),
                                        '' !== this._textureToRender._pattern
                                            ? (c.setFillStyle(h.createPattern(C, this._textureToRender._pattern)),
                                              h.fillRect(f, p, g, m))
                                            : d > 0 &&
                                              _ > 0 &&
                                              g > 0 &&
                                              m > 0 &&
                                              h.drawImage(C, l, u, d, _, f, p, g, m),
                                        c.restore(),
                                        (cc.g_NumberOfDraws += R);
                                } else if (n._renderingType === cc.Scale9Sprite.RenderingType.SLICED) {
                                    for (var w = 0; w < 3; ++w)
                                        for (var I = 0; I < 3; ++I)
                                            (f = T[(S = 8 * w + 2 * I)]),
                                                (p = T[S + 1]),
                                                (g = T[S + 10] - f),
                                                (p = -p - (m = T[S + 11] - p)),
                                                (l = E[S] * v),
                                                (u = E[S + 11] * y),
                                                (d = (E[S + 10] - E[S]) * v),
                                                (_ = (E[S + 1] - E[S + 11]) * y),
                                                d > 0 &&
                                                    _ > 0 &&
                                                    g > 0 &&
                                                    m > 0 &&
                                                    h.drawImage(C, l, u, d, _, f, p, g, m);
                                    cc.g_NumberOfDraws += 9;
                                } else {
                                    var O = Math.floor(n._vertCount / 4);
                                    for (x = 0, S = 0; x < O; x++)
                                        (f = T[S]),
                                            (p = T[S + 1]),
                                            (g = T[S + 6] - f),
                                            (p = -p - (m = T[S + 7] - p)),
                                            (l = E[S] * v),
                                            (u = E[S + 7] * y),
                                            (d = (E[S + 6] - E[S]) * v),
                                            (_ = (E[S + 1] - E[S + 7]) * y),
                                            '' !== this._textureToRender._pattern
                                                ? (c.setFillStyle(h.createPattern(C, this._textureToRender._pattern)),
                                                  h.fillRect(f, p, g, m))
                                                : d > 0 &&
                                                  _ > 0 &&
                                                  g > 0 &&
                                                  m > 0 &&
                                                  h.drawImage(C, l, u, d, _, f, p, g, m),
                                            (S += 8);
                                    cc.g_NumberOfDraws += O;
                                }
                            }
                        }
                    });
            },
            {},
        ],
        172: [
            function (t, e, i) {
                cc.gl;
                cc.Scale9Sprite.WebGLRenderCmd = function (t) {
                    this._rootCtor(t),
                        this._node.loaded() ? (this._needDraw = !0) : (this._needDraw = !1),
                        (this.vertexType = cc.renderer.VertexType.QUAD),
                        (this._dirty = !1),
                        (this._shaderProgram = cc.shaderCache.programForKey(
                            cc.macro.SHADER_SPRITE_POSITION_TEXTURECOLOR,
                        ));
                };
                var n = cc.Scale9Sprite,
                    r = (n.WebGLRenderCmd.prototype = Object.create(_ccsg.Node.WebGLRenderCmd.prototype));
                (r.constructor = n.WebGLRenderCmd),
                    (r._uploadSliced = function (t, e, i, n, r, s, o) {
                        for (var a, c = 0; c < 3; ++c)
                            for (var h = 0; h < 3; ++h)
                                (a = 8 * c + 2 * h),
                                    (r[o] = t[a]),
                                    (r[o + 1] = t[a + 1]),
                                    (r[o + 2] = n),
                                    (s[o + 3] = i),
                                    (r[o + 4] = e[a]),
                                    (r[o + 5] = e[a + 1]),
                                    (r[(o += 6)] = t[a + 2]),
                                    (r[o + 1] = t[a + 3]),
                                    (r[o + 2] = n),
                                    (s[o + 3] = i),
                                    (r[o + 4] = e[a + 2]),
                                    (r[o + 5] = e[a + 3]),
                                    (r[(o += 6)] = t[a + 8]),
                                    (r[o + 1] = t[a + 9]),
                                    (r[o + 2] = n),
                                    (s[o + 3] = i),
                                    (r[o + 4] = e[a + 8]),
                                    (r[o + 5] = e[a + 9]),
                                    (r[(o += 6)] = t[a + 10]),
                                    (r[o + 1] = t[a + 11]),
                                    (r[o + 2] = n),
                                    (s[o + 3] = i),
                                    (r[o + 4] = e[a + 10]),
                                    (r[o + 5] = e[a + 11]),
                                    (o += 6);
                        return 36;
                    }),
                    (r.updateTransform = function (t) {
                        this.originUpdateTransform(t), this._node._rebuildQuads();
                    }),
                    (r._doCulling = function () {
                        var t = this._node,
                            e = cc.visibleRect;
                        this._cameraFlag > 0 && (e = cc.Camera.main.visibleRect);
                        var i = e.left.x,
                            n = e.right.x,
                            r = e.top.y,
                            s = e.bottom.y,
                            o = t._vertices,
                            a = t._corner,
                            c = a[0],
                            h = a[1],
                            l = a[2],
                            u = a[3],
                            d = o[c],
                            _ = o[h],
                            f = o[l],
                            p = o[u],
                            g = o[c + 1],
                            m = o[h + 1],
                            v = o[l + 1],
                            y = o[u + 1];
                        this._needDraw = !(
                            ((d - i) & (_ - i) & (f - i) & (p - i)) >> 31 ||
                            ((n - d) & (n - _) & (n - f) & (n - p)) >> 31 ||
                            ((g - s) & (m - s) & (v - s) & (y - s)) >> 31 ||
                            ((r - g) & (r - m) & (r - v) & (r - y)) >> 31
                        );
                    }),
                    (r.uploadData = function (t, e, i) {
                        var r = this._node;
                        if (0 === this._displayedOpacity) return 0;
                        r._quadsDirty && r._rebuildQuads(),
                            r._distortionOffset &&
                                this._shaderProgram === n.WebGLRenderCmd._distortionProgram &&
                                (this._shaderProgram.use(),
                                this._shaderProgram.setUniformLocationWith2f(
                                    n.WebGLRenderCmd._distortionOffset,
                                    r._distortionOffset.x,
                                    r._distortionOffset.y,
                                ),
                                this._shaderProgram.setUniformLocationWith2f(
                                    n.WebGLRenderCmd._distortionTiling,
                                    r._distortionTiling.x,
                                    r._distortionTiling.y,
                                ),
                                cc.renderer._breakBatch());
                        var s,
                            o = this._displayedOpacity,
                            a = this._displayedColor._val;
                        if (r._opacityModifyRGB) {
                            var c = o / 255,
                                h = this._displayedColor.r * c,
                                l = this._displayedColor.g * c;
                            s = ((o << 24) >>> 0) + ((this._displayedColor.b * c) << 16) + (l << 8) + h;
                        } else s = ((o << 24) >>> 0) + ((65280 & a) << 8) + ((16711680 & a) >> 8) + (a >>> 24);
                        var u = r._vertexZ,
                            d = r._vertices,
                            _ = r._uvs,
                            f = n.RenderingType,
                            p = i,
                            g = 0;
                        switch (r._renderingType) {
                            case f.SIMPLE:
                            case f.TILED:
                            case f.FILLED:
                            case f.MESH:
                                g = this._node._vertCount;
                                for (var m = 0, v = 0; m < g; m++, v += 2)
                                    (t[p] = d[v]),
                                        (t[p + 1] = d[v + 1]),
                                        (t[p + 2] = u),
                                        (e[p + 3] = s),
                                        (t[p + 4] = _[v]),
                                        (t[p + 5] = _[v + 1]),
                                        (p += 6);
                                break;
                            case f.SLICED:
                                g = this._uploadSliced(d, _, s, u, t, e, p);
                        }
                        return (
                            r._renderingType === f.MESH
                                ? (this.vertexType = cc.renderer.VertexType.CUSTOM)
                                : r._renderingType === f.FILLED && r._fillType === n.FillType.RADIAL
                                ? (this.vertexType = cc.renderer.VertexType.TRIANGLE)
                                : (this.vertexType = cc.renderer.VertexType.QUAD),
                            g
                        );
                    }),
                    (r.uploadIndexData = function (t, e, i) {
                        var n = this._node._meshPolygonInfo;
                        if (!n) return 0;
                        for (var r = n.triangles.indices, s = r.length, o = 0; o < s; o++) t[e + o] = i + r[o];
                        return s;
                    }),
                    (r.setState = function (t) {
                        t === n.state.NORMAL
                            ? (this._shaderProgram = cc.shaderCache.programForKey(
                                  cc.macro.SHADER_SPRITE_POSITION_TEXTURECOLOR,
                              ))
                            : t === n.state.GRAY
                            ? (this._shaderProgram = cc.Scale9Sprite.WebGLRenderCmd._getGrayShaderProgram())
                            : t === n.state.DISTORTION &&
                              (this._shaderProgram = cc.Scale9Sprite.WebGLRenderCmd._getDistortionProgram());
                    }),
                    (n.WebGLRenderCmd._grayShaderProgram = null),
                    (n.WebGLRenderCmd._getGrayShaderProgram = function () {
                        var t = n.WebGLRenderCmd._grayShaderProgram;
                        return (
                            t ||
                            ((t = new cc.GLProgram()).initWithVertexShaderByteArray(
                                cc.PresetShaders.SPRITE_POSITION_TEXTURE_COLOR_VERT,
                                cc.Scale9Sprite.WebGLRenderCmd._grayShaderFragment,
                            ),
                            t.addAttribute(cc.macro.ATTRIBUTE_NAME_POSITION, cc.macro.VERTEX_ATTRIB_POSITION),
                            t.addAttribute(cc.macro.ATTRIBUTE_NAME_COLOR, cc.macro.VERTEX_ATTRIB_COLOR),
                            t.addAttribute(cc.macro.ATTRIBUTE_NAME_TEX_COORD, cc.macro.VERTEX_ATTRIB_TEX_COORDS),
                            t.link(),
                            t.updateUniforms(),
                            (n.WebGLRenderCmd._grayShaderProgram = t),
                            t)
                        );
                    }),
                    (n.WebGLRenderCmd._grayShaderFragment =
                        'precision lowp float;\nvarying vec4 v_fragmentColor;\nvarying vec2 v_texCoord;\nvoid main()\n{\nvec4 c = v_fragmentColor * texture2D(CC_Texture0, v_texCoord);\nfloat gray = 0.2126*c.r + 0.7152*c.g + 0.0722*c.b;\ngl_FragColor = vec4(gray, gray, gray, c.a);\n}'),
                    (n.WebGLRenderCmd._distortionProgram = null),
                    (n.WebGLRenderCmd._getDistortionProgram = function () {
                        var t = n.WebGLRenderCmd._distortionProgram;
                        return (
                            t ||
                            ((t = new cc.GLProgram()).initWithVertexShaderByteArray(
                                cc.PresetShaders.SPRITE_POSITION_TEXTURE_COLOR_VERT,
                                s.fShader,
                            ),
                            t.addAttribute(cc.macro.ATTRIBUTE_NAME_POSITION, cc.macro.VERTEX_ATTRIB_POSITION),
                            t.addAttribute(cc.macro.ATTRIBUTE_NAME_COLOR, cc.macro.VERTEX_ATTRIB_COLOR),
                            t.addAttribute(cc.macro.ATTRIBUTE_NAME_TEX_COORD, cc.macro.VERTEX_ATTRIB_TEX_COORDS),
                            t.link(),
                            t.updateUniforms(),
                            (n.WebGLRenderCmd._distortionProgram = t),
                            (n.WebGLRenderCmd._distortionOffset = t.getUniformLocationForName('u_offset')),
                            (n.WebGLRenderCmd._distortionTiling = t.getUniformLocationForName('u_offset_tiling')),
                            t)
                        );
                    });
                var s = {
                    shaderKey: 'cc.Sprite.Shader.Distortion',
                    fShader:
                        'precision lowp float;\nvarying vec4 v_fragmentColor;\nvarying vec2 v_texCoord;\nuniform vec2 u_offset;\nuniform vec2 u_offset_tiling;\nconst float PI = 3.14159265359;\nvoid main()\n{\nfloat halfPI = 0.5 * PI;\nfloat maxFactor = sin(halfPI);\nvec2 uv = v_texCoord;\nvec2 xy = 2.0 * uv.xy - 1.0;\nfloat d = length(xy);\nif (d < (2.0-maxFactor)) {\nd = length(xy * maxFactor);\nfloat z = sqrt(1.0 - d * d);\nfloat r = atan(d, z) / PI;\nfloat phi = atan(xy.y, xy.x);\nuv.x = r * cos(phi) + 0.5;\nuv.y = r * sin(phi) + 0.5;\n} else {\ndiscard;\n}\nuv = uv * u_offset_tiling + u_offset;\nuv = fract(uv);\ngl_FragColor = v_fragmentColor * texture2D(CC_Texture0, uv);\n}',
                };
            },
            {},
        ],
        173: [
            function (t, e, i) {
                cc.SpriteBatchNode = _ccsg.Node.extend({
                    _blendFunc: null,
                    _texture: null,
                    _className: 'SpriteBatchNode',
                    ctor: function (t) {
                        _ccsg.Node.prototype.ctor.call(this),
                            (this._blendFunc = new cc.BlendFunc(cc.macro.BLEND_SRC, cc.macro.BLEND_DST));
                        var e;
                        cc.js.isString(t)
                            ? (e = cc.textureCache.getTextureForKey(t)) || (e = cc.textureCache.addImage(t))
                            : t instanceof cc.Texture2D && (e = t),
                            e && this.initWithTexture(e);
                    },
                    initWithFile: function (t) {
                        var e = cc.textureCache.getTextureForKey(t) || cc.textureCache.addImage(t);
                        return this.initWithTexture(e);
                    },
                    removeChildAtIndex: function (t, e) {
                        this.removeChild(this._children[t], e);
                    },
                    setBlendFunc: function (t, e) {
                        this._blendFunc =
                            void 0 === e
                                ? t
                                : {
                                      src: t,
                                      dst: e,
                                  };
                    },
                    getBlendFunc: function () {
                        return new cc.BlendFunc(this._blendFunc.src, this._blendFunc.dst);
                    },
                    updateQuadFromSprite: function (t, e) {
                        cc.assertID(t, 2623),
                            t instanceof _ccsg.Sprite
                                ? ((t.dirty = !0), t._renderCmd.transform(this._renderCmd, !0))
                                : cc.log(2616);
                    },
                    appendChild: function (t) {
                        this.sortAllChildren();
                        this._children[this._children.length - 1]._localZOrder;
                        this.addChild(t.lastLocalZOrder + 1);
                    },
                    initWithTexture: function (t) {
                        return this.setTexture(t), !0;
                    },
                    getTexture: function () {
                        return this._texture;
                    },
                    setTexture: function (t) {
                        if (((this._texture = t), t.loaded)) {
                            var e,
                                i = this._children,
                                n = i.length;
                            for (e = 0; e < n; ++e) i[e].setTexture(t);
                        } else
                            t.addEventListener(
                                'load',
                                function () {
                                    var e,
                                        i = this._children,
                                        n = i.length;
                                    for (e = 0; e < n; ++e) i[e].setTexture(t);
                                },
                                this,
                            );
                    },
                    setShaderProgram: function (t) {
                        this._renderCmd.setShaderProgram(t);
                        var e,
                            i = this._children,
                            n = i.length;
                        for (e = 0; e < n; ++e) i[e].setShaderProgram(t);
                    },
                    addChild: function (t, e, i) {
                        cc.assertID(void 0 !== t, 2614),
                            this._isValidChild(t) &&
                                ((e = void 0 === e ? t.zIndex : e),
                                (i = void 0 === i ? t.tag : i),
                                _ccsg.Node.prototype.addChild.call(this, t, e, i),
                                this._renderCmd._shaderProgram && (t.shaderProgram = this._renderCmd._shaderProgram));
                    },
                    _isValidChild: function (t) {
                        return t instanceof _ccsg.Sprite
                            ? t.texture === this._texture || (cc.logID(2619), !1)
                            : (cc.logID(2618), !1);
                    },
                });
                var n = cc.SpriteBatchNode.prototype;
                cc.defineGetterSetter(n, 'texture', n.getTexture, n.setTexture),
                    cc.defineGetterSetter(n, 'shaderProgram', n.getShaderProgram, n.setShaderProgram);
            },
            {},
        ],
        174: [
            function (t, e, i) {
                var n = t('../event/event-target');
                cc.SpriteFrame = cc.Class({
                    name: 'cc.SpriteFrame',
                    extends: t('../assets/CCAsset'),
                    mixins: [n],
                    properties: {
                        _textureFilenameSetter: {
                            set: function (t) {
                                (this._textureFilename = t), t && this._loadTexture();
                            },
                        },
                    },
                    ctor: function () {
                        var t = arguments[0],
                            e = arguments[1],
                            i = arguments[2],
                            n = arguments[3],
                            r = arguments[4];
                        (this._rect = null),
                            (this._offset = null),
                            (this._originalSize = null),
                            (this._rotated = !1),
                            (this.insetTop = 0),
                            (this.insetBottom = 0),
                            (this.insetLeft = 0),
                            (this.insetRight = 0),
                            (this._texture = null),
                            (this._textureFilename = ''),
                            (this._textureLoaded = !1),
                            void 0 !== t && this.initWithTexture(t, e, i, n, r);
                    },
                    textureLoaded: function () {
                        return this._textureLoaded;
                    },
                    addLoadedEventListener: function (t, e) {
                        this.once('load', t, e);
                    },
                    isRotated: function () {
                        return this._rotated;
                    },
                    setRotated: function (t) {
                        this._rotated = t;
                    },
                    getRect: function () {
                        return cc.rect(this._rect);
                    },
                    setRect: function (t) {
                        this._rect = t;
                    },
                    getOriginalSize: function () {
                        return cc.size(this._originalSize);
                    },
                    setOriginalSize: function (t) {
                        this._originalSize
                            ? ((this._originalSize.width = t.width), (this._originalSize.height = t.height))
                            : (this._originalSize = cc.size(t));
                    },
                    getTexture: function () {
                        return this._texture;
                    },
                    _refreshTexture: function (t) {
                        var e = this;
                        if (e._texture !== t) {
                            var i = t.loaded;
                            (this._textureLoaded = i), (this._texture = t);

                            function n() {
                                if (e._texture) {
                                    e._textureLoaded = !0;
                                    var i = t.width,
                                        n = t.height;
                                    if (e._rotated && cc._renderType === cc.game.RENDER_TYPE_CANVAS) {
                                        var r = t.getHtmlElementObj();
                                        r = _ccsg.Sprite.CanvasRenderCmd._cutRotateImageToCanvas(r, e.getRect());
                                        var s = new cc.Texture2D();
                                        s.initWithElement(r),
                                            s.handleLoadedTexture(),
                                            (e._texture = s),
                                            (e._rotated = !1),
                                            (i = e._texture.width),
                                            (n = e._texture.height),
                                            e.setRect(cc.rect(0, 0, i, n));
                                    }
                                    e._rect ? e._checkRect(e._texture) : e.setRect(cc.rect(0, 0, i, n)),
                                        e._originalSize || e.setOriginalSize(cc.size(i, n)),
                                        e._offset || e.setOffset(cc.v2(0, 0)),
                                        e.emit('load');
                                }
                            }
                            i ? n() : t.once('load', n);
                        }
                    },
                    getOffset: function () {
                        return cc.v2(this._offset);
                    },
                    setOffset: function (t) {
                        this._offset = cc.v2(t);
                    },
                    clone: function () {
                        return new cc.SpriteFrame(
                            this._texture || this._textureFilename,
                            this._rect,
                            this._rotated,
                            this._offset,
                            this._originalSize,
                        );
                    },
                    setTexture: function (t, e, i, n, r) {
                        e ? this.setRect(e) : (this._rect = null),
                            n ? this.setOffset(n) : (this._offset = null),
                            r ? this.setOriginalSize(r) : (this._originalSize = null),
                            (this._rotated = i || !1);
                        var s = t;
                        return (
                            cc.js.isString(s)
                                ? ((this._textureFilename = s), this._loadTexture())
                                : s instanceof cc.Texture2D && this._refreshTexture(s),
                            !0
                        );
                    },
                    _loadTexture: function () {
                        if (this._textureFilename) {
                            var t = cc.textureCache.addImage(this._textureFilename);
                            this._refreshTexture(t);
                        }
                    },
                    ensureLoadTexture: function () {
                        this._texture || this._loadTexture();
                    },
                    clearTexture: function () {
                        (this._textureLoaded = !1), (this._texture = null);
                    },
                    _checkRect: function (t) {
                        var e = this._rect,
                            i = e.x,
                            n = e.y;
                        this._rotated ? ((i += e.height), (n += e.width)) : ((i += e.width), (n += e.height)),
                            i > t.getPixelWidth() && cc.errorID(3300, t.url + '/' + this.name),
                            n > t.getPixelHeight() && cc.errorID(3400, t.url + '/' + this.name);
                    },
                    _serialize: !1,
                    _deserialize: function (t, e) {
                        var i = t.rect;
                        i && this.setRect(new cc.Rect(i[0], i[1], i[2], i[3])),
                            t.offset && this.setOffset(new cc.Vec2(t.offset[0], t.offset[1])),
                            t.originalSize && this.setOriginalSize(new cc.Size(t.originalSize[0], t.originalSize[1])),
                            (this._rotated = 1 === t.rotated),
                            (this._name = t.name);
                        var n = t.capInsets;
                        n &&
                            ((this.insetLeft = n[0]),
                            (this.insetTop = n[1]),
                            (this.insetRight = n[2]),
                            (this.insetBottom = n[3]));
                        var r = t.texture;
                        if (r) {
                            var s =
                                e.customEnv && e.customEnv.deferredLoadRaw
                                    ? '_textureFilename'
                                    : '_textureFilenameSetter';
                            e.result.push(this, s, r);
                        }
                    },
                });
                var r = cc.SpriteFrame.prototype;
                (r.copyWithZone = r.clone), (r.copy = r.clone), (r.initWithTexture = r.setTexture);
            },
            {
                '../assets/CCAsset': 43,
                '../event/event-target': 97,
            },
        ],
        175: [
            function (t, e, i) {
                var n = t('../event/event-target'),
                    r = t('../platform/CCSys'),
                    s = (t('../platform/js'), t('../utils/misc'), t('../CCGame'));
                t('../platform/_CCClass'), t('../platform/CCClass');
                var o = [
                        {
                            format: 6407,
                            internalFormat: 6407,
                            pixelType: 33635,
                        },
                        {
                            format: 6408,
                            internalFormat: 6408,
                            pixelType: 32820,
                        },
                        {
                            format: 6408,
                            internalFormat: 6408,
                            pixelType: 32819,
                        },
                        {
                            format: 6407,
                            internalFormat: 6407,
                            pixelType: 5121,
                        },
                        {
                            format: 6408,
                            internalFormat: 6408,
                            pixelType: 5121,
                        },
                        {
                            format: 6406,
                            internalFormat: 6406,
                            pixelType: 5121,
                        },
                        {
                            format: 6409,
                            internalFormat: 6409,
                            pixelType: 5121,
                        },
                        {
                            format: 6410,
                            internalFormat: 6410,
                            pixelType: 5121,
                        },
                    ],
                    a = cc.Enum({
                        RGB565: 0,
                        RGB5A1: 1,
                        RGBA4444: 2,
                        RGB888: 3,
                        RGBA8888: 4,
                        A8: 5,
                        I8: 6,
                        AI8: 7,
                    }),
                    c = cc.Enum({
                        REPEAT: 10497,
                        CLAMP_TO_EDGE: 33071,
                        MIRRORED_REPEAT: 33648,
                    }),
                    h = cc.Enum({
                        LINEAR: 9729,
                        NEAREST: 9728,
                    }),
                    l = cc.Class({
                        name: 'cc.Texture2D',
                        extends: t('../assets/CCRawAsset'),
                        mixins: [n],
                        properties: {
                            _hasMipmap: !1,
                            _format: a.RGBA8888,
                            _compressed: !1,
                            _premultiplyAlpha: !1,
                            _minFilter: h.LINEAR,
                            _magFilter: h.LINEAR,
                            _wrapS: c.CLAMP_TO_EDGE,
                            _wrapT: c.CLAMP_TO_EDGE,
                        },
                        statics: {
                            PixelFormat: a,
                            WrapMode: c,
                            Filter: h,
                        },
                        ctor: function (t) {
                            (this.url = null),
                                (this.loaded = !1),
                                (this.width = 0),
                                (this.height = 0),
                                (this._image = null),
                                cc._renderType === s.RENDER_TYPE_CANVAS
                                    ? ((this._pattern = ''),
                                      (this._grayElementObj = null),
                                      (this._backupElement = null),
                                      (this._isGray = !1))
                                    : cc._renderType === s.RENDER_TYPE_WEBGL &&
                                      ((this._gl = t || cc._renderContext), (this._glID = null));
                        },
                        update: function (t) {},
                        getPixelWidth: function () {
                            return this.width;
                        },
                        getPixelHeight: function () {
                            return this.height;
                        },
                        getContentSize: function () {
                            return cc.size(this.width, this.height);
                        },
                        getContentSizeInPixels: function () {
                            return this.getContentSize();
                        },
                        initWithElement: function (t) {
                            t &&
                                ((this._image = t),
                                (this.width = t.width),
                                (this.height = t.height),
                                (this.loaded = !0));
                        },
                        initWithData: function (t, e, i, n, r) {
                            return !1;
                        },
                        initWithImage: function (t) {
                            return !1;
                        },
                        getHtmlElementObj: function () {
                            return this._image;
                        },
                        isLoaded: function () {
                            return this.loaded;
                        },
                        handleLoadedTexture: function () {
                            if (this._image && this._image.width && this._image.height) {
                                var t = this._image;
                                (this.width = t.width), (this.height = t.height), (this.loaded = !0), this.emit('load');
                            }
                        },
                        description: function () {
                            return (
                                '<cc.Texture2D | Name = ' +
                                this.url +
                                ' | Dimensions = ' +
                                this.width +
                                ' x ' +
                                this.height +
                                '>'
                            );
                        },
                        releaseTexture: function () {
                            this._gl &&
                                null !== this._glID &&
                                (this._gl.deleteTexture(this._glID), (this._glID = null));
                        },
                        getPixelFormat: function () {
                            return this._format;
                        },
                        hasPremultipliedAlpha: function () {
                            return this._premultiplyAlpha || !1;
                        },
                        hasMipmaps: function () {
                            return this._hasMipmap || !1;
                        },
                        setTexParameters: function (t, e, i, n) {
                            void 0 !== e &&
                                (t = {
                                    minFilter: t,
                                    magFilter: e,
                                    wrapS: i,
                                    wrapT: n,
                                }),
                                t.wrapS !== c.REPEAT || t.wrapT !== c.REPEAT
                                    ? t.wrapS !== c.REPEAT
                                        ? t.wrapT !== c.REPEAT
                                            ? (this._pattern = '')
                                            : (this._pattern = 'repeat-y')
                                        : (this._pattern = 'repeat-x')
                                    : (this._pattern = 'repeat');
                        },
                        setAntiAliasTexParameters: function () {},
                        setAliasTexParameters: function () {},
                    }),
                    u = l.prototype;
                u.pixelFormat,
                    cc.defineGetterSetter(u, 'pixelFormat', u.getPixelFormat),
                    u.pixelWidth,
                    cc.defineGetterSetter(u, 'pixelWidth', u.getPixelWidth),
                    u.pixelHeight,
                    cc.defineGetterSetter(u, 'pixelHeight', u.getPixelHeight),
                    s.once(s.EVENT_RENDERER_INITED, function () {
                        if (cc._renderType === s.RENDER_TYPE_CANVAS) {
                            var t = function (t, e, i) {
                                if (null === t) return null;
                                (i = i || document.createElement('canvas')),
                                    (e = e || cc.rect(0, 0, t.width, t.height)),
                                    (i.width = e.width),
                                    (i.height = e.height);
                                var n = i.getContext('2d');
                                n.drawImage(t, e.x, e.y, e.width, e.height, 0, 0, e.width, e.height);
                                for (
                                    var r = n.getImageData(0, 0, e.width, e.height), s = r.data, o = 0, a = s.length;
                                    o < a;
                                    o += 4
                                )
                                    s[o] = s[o + 1] = s[o + 2] = 0.34 * s[o] + 0.5 * s[o + 1] + 0.16 * s[o + 2];
                                return n.putImageData(r, 0, 0), i;
                            };
                            (u._generateTextureCacheForColor = function () {
                                if (this.channelCache) return this.channelCache;
                                var t = [
                                    document.createElement('canvas'),
                                    document.createElement('canvas'),
                                    document.createElement('canvas'),
                                    document.createElement('canvas'),
                                ];
                                return (
                                    (function (t, e) {
                                        var i = t.width,
                                            n = t.height;
                                        (e[0].width = i),
                                            (e[0].height = n),
                                            (e[1].width = i),
                                            (e[1].height = n),
                                            (e[2].width = i),
                                            (e[2].height = n),
                                            (e[3].width = i),
                                            (e[3].height = n);
                                        var r = e[3].getContext('2d');
                                        r.drawImage(t, 0, 0);
                                        for (var s, o = r.getImageData(0, 0, i, n).data, a = 0; a < 4; a++) {
                                            for (
                                                var c = (s = e[a].getContext('2d')).getImageData(0, 0, i, n),
                                                    h = c.data,
                                                    l = 0;
                                                l < o.length;
                                                l += 4
                                            )
                                                (h[l] = 0 === a ? o[l] : 0),
                                                    (h[l + 1] = 1 === a ? o[l + 1] : 0),
                                                    (h[l + 2] = 2 === a ? o[l + 2] : 0),
                                                    (h[l + 3] = o[l + 3]);
                                            s.putImageData(c, 0, 0);
                                        }
                                        t.onload = null;
                                    })(this._image, t),
                                    (this.channelCache = t)
                                );
                            }),
                                (u._switchToGray = function (e) {
                                    this.loaded &&
                                        this._isGray !== e &&
                                        ((this._isGray = e),
                                        this._isGray
                                            ? ((this._backupElement = this._image),
                                              this._grayElementObj || (this._grayElementObj = t(this._image)),
                                              (this._image = this._grayElementObj))
                                            : null !== this._backupElement && (this._image = this._backupElement));
                                }),
                                (u._generateGrayTexture = function () {
                                    if (!this.loaded) return null;
                                    var e = t(this._image),
                                        i = new l();
                                    return i.initWithElement(e), i.handleLoadedTexture(), i;
                                }),
                                (u._generateColorTexture = r._supportCanvasNewBlendModes
                                    ? function (t, e, i, n, r) {
                                          var s = !1;
                                          r ? (s = !0) : (r = document.createElement('canvas'));
                                          var o = this._image;
                                          if (
                                              (n || (n = cc.rect(0, 0, o.width, o.height)),
                                              (r.width = n.width),
                                              (r.height = n.height),
                                              n.width && n.height)
                                          ) {
                                              var a = r.getContext('2d');
                                              (a.globalCompositeOperation = 'source-over'),
                                                  (a.fillStyle =
                                                      'rgb(' + (0 | t) + ',' + (0 | e) + ',' + (0 | i) + ')'),
                                                  a.fillRect(0, 0, n.width, n.height),
                                                  (a.globalCompositeOperation = 'multiply'),
                                                  a.drawImage(o, n.x, n.y, n.width, n.height, 0, 0, n.width, n.height),
                                                  (a.globalCompositeOperation = 'destination-atop'),
                                                  a.drawImage(o, n.x, n.y, n.width, n.height, 0, 0, n.width, n.height);
                                          }
                                          if (s) return r;
                                          var c = new l();
                                          return c.initWithElement(r), c.handleLoadedTexture(), c;
                                      }
                                    : function (t, e, i, n, r) {
                                          var s = !1;
                                          r ? (s = !0) : (r = document.createElement('canvas'));
                                          var o = this._image;
                                          if (
                                              (n || (n = cc.rect(0, 0, o.width, o.height)),
                                              (r.width = n.width),
                                              (r.height = n.height),
                                              n.width && n.height)
                                          ) {
                                              var a = r.getContext('2d');
                                              a.drawImage(o, n.x, n.y, n.width, n.height, 0, 0, n.width, n.height);
                                              var c = a.getImageData(0, 0, r.width, r.height),
                                                  h = c.data;
                                              (t /= 255), (e /= 255), (i /= 255);
                                              for (var u = 0; u < h.length; u += 4)
                                                  (h[u] = h[u] * t),
                                                      (h[u + 1] = h[u + 1] * e),
                                                      (h[u + 2] = h[u + 2] * i);
                                              a.putImageData(c, 0, 0);
                                          }
                                          if (s) return r;
                                          var d = new l();
                                          return d.initWithElement(r), d.handleLoadedTexture(), d;
                                      });
                        } else if (cc._renderType === s.RENDER_TYPE_WEBGL) {
                            var e;
                            (function () {
                                function t(t) {
                                    return !(t & (t - 1) || !t);
                                }

                                function i() {
                                    for (var t in e) e[t] = void 0;
                                    return e;
                                }
                                (e = {
                                    width: void 0,
                                    height: void 0,
                                    minFilter: void 0,
                                    magFilter: void 0,
                                    wrapS: void 0,
                                    wrapT: void 0,
                                    format: void 0,
                                    mipmap: void 0,
                                    image: void 0,
                                    premultiplyAlpha: void 0,
                                }),
                                    (u.update = function (e) {
                                        var i = this._hasMipmap,
                                            n = this._gl,
                                            r = !1;
                                        e &&
                                            (void 0 !== e.width && (this.width = e.width),
                                            void 0 !== e.height && (this.height = e.height),
                                            void 0 !== e.minFilter && (this._minFilter = e.minFilter),
                                            void 0 !== e.magFilter && (this._magFilter = e.magFilter),
                                            void 0 !== e.wrapS && (this._wrapS = e.wrapS),
                                            void 0 !== e.wrapT && (this._wrapT = e.wrapT),
                                            void 0 !== e.format && ((this._format = e.format), (r = !0)),
                                            void 0 !== e.premultiplyAlpha &&
                                                ((this._premultiplyAlpha = e.premultiplyAlpha), (r = !0)),
                                            void 0 !== e.image && ((this._image = e.image), (r = !0)),
                                            void 0 !== e.mipmap && (i = this._hasMipmap = e.mipmap)),
                                            this._image &&
                                                (r
                                                    ? (this.releaseTexture(),
                                                      (this._glID = n.createTexture()),
                                                      n.activeTexture(n.TEXTURE0),
                                                      n.bindTexture(n.TEXTURE_2D, this._glID),
                                                      this._setImage(
                                                          this._image,
                                                          this.width,
                                                          this.height,
                                                          (function (t) {
                                                              var e = o[t];
                                                              return cc.assertID(e, 3113), e;
                                                          })(this._format),
                                                          this._premultiplyAlpha,
                                                      ))
                                                    : (n.activeTexture(n.TEXTURE0),
                                                      n.bindTexture(n.TEXTURE_2D, this._glID)),
                                                this._setTexInfo(),
                                                i &&
                                                    (cc.assertID(t(this.width) && t(this.height), 3117),
                                                    n.hint(n.GENERATE_MIPMAP_HINT, n.NICEST),
                                                    n.generateMipmap(n.TEXTURE_2D)),
                                                n.bindTexture(n.TEXTURE_2D, null));
                                    }),
                                    (u._setImage = function (t, e, i, n, s) {
                                        var o = this._gl;
                                        if (
                                            (o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL, s),
                                            r.platform === r.QQ_PLAY ||
                                                (t instanceof HTMLCanvasElement && !(t instanceof Uint8Array)) ||
                                                t instanceof HTMLImageElement ||
                                                t instanceof HTMLVideoElement)
                                        ) {
                                            if (r.platform === r.QQ_PLAY && t instanceof Uint8Array)
                                                return void o.texImage2D(
                                                    o.TEXTURE_2D,
                                                    0,
                                                    n.internalFormat,
                                                    e,
                                                    i,
                                                    0,
                                                    n.format,
                                                    n.pixelType,
                                                    t,
                                                );
                                            o.texImage2D(o.TEXTURE_2D, 0, n.internalFormat, n.format, n.pixelType, t);
                                        } else
                                            o.texImage2D(
                                                o.TEXTURE_2D,
                                                0,
                                                n.internalFormat,
                                                e,
                                                i,
                                                0,
                                                n.format,
                                                n.pixelType,
                                                t,
                                            );
                                    }),
                                    (u._setTexInfo = function () {
                                        var e = this._gl;
                                        (t(this.width) && t(this.height)) ||
                                            (this._wrapS === c.CLAMP_TO_EDGE && this._wrapT === c.CLAMP_TO_EDGE) ||
                                            (cc.warnID(3116),
                                            (this._wrapS = c.CLAMP_TO_EDGE),
                                            (this._wrapT = c.CLAMP_TO_EDGE)),
                                            this._minFilter === h.LINEAR
                                                ? e.texParameteri(
                                                      e.TEXTURE_2D,
                                                      e.TEXTURE_MIN_FILTER,
                                                      this._hasMipmap ? e.LINEAR_MIPMAP_NEAREST : e.LINEAR,
                                                  )
                                                : e.texParameteri(
                                                      e.TEXTURE_2D,
                                                      e.TEXTURE_MIN_FILTER,
                                                      this._hasMipmap ? e.NEAREST_MIPMAP_NEAREST : e.NEAREST,
                                                  ),
                                            e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MAG_FILTER, this._magFilter),
                                            e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_S, this._wrapS),
                                            e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_T, this._wrapT);
                                    }),
                                    (u.initWithData = function (t, e, n, r, s) {
                                        s && cc.warnID(3118);
                                        var o = i();
                                        return (
                                            (o.image = t),
                                            (o.format = e),
                                            (o.width = n),
                                            (o.height = r),
                                            this.update(o),
                                            (this.width = n),
                                            (this.height = r),
                                            (this.loaded = !0),
                                            this.emit('load'),
                                            !0
                                        );
                                    }),
                                    (u.initWithElement = function (t) {
                                        if (t && 0 !== t.width && 0 !== t.height) return (this._image = t), !0;
                                    }),
                                    (u.handleLoadedTexture = function (t) {
                                        if (this._image && this._image.width && this._image.height) {
                                            var e = i();
                                            (e.image = this._image),
                                                (e.format = a.RGBA8888),
                                                (e.width = this._image.width),
                                                (e.height = this._image.height),
                                                (e.premultiplyAlpha = !!t);
                                            var n = cc.view._antiAliasEnabled ? h.LINEAR : h.NEAREST;
                                            (e.minFilter = e.magFilter = n),
                                                this.update(e),
                                                (this.loaded = !0),
                                                this.emit('load');
                                        }
                                    }),
                                    (u.setTexParameters = function (t, e, i, n) {
                                        void 0 !== e &&
                                            (t = {
                                                minFilter: t,
                                                magFilter: e,
                                                wrapS: i,
                                                wrapT: n,
                                            }),
                                            this.update(t);
                                    }),
                                    (u.setAntiAliasTexParameters = function () {
                                        var t = i();
                                        (t.minFilter = h.LINEAR), (t.magFilter = h.LINEAR), this.update(t);
                                    }),
                                    (u.setAliasTexParameters = function () {
                                        var t = i();
                                        (t.minFilter = h.NEAREST), (t.magFilter = h.NEAREST), this.update(t);
                                    });
                            })();
                        }
                    }),
                    (cc.Texture2D = e.exports = l);
            },
            {
                '../CCGame': 39,
                '../assets/CCRawAsset': 49,
                '../event/event-target': 97,
                '../platform/CCClass': 135,
                '../platform/CCSys': 144,
                '../platform/_CCClass': 147,
                '../platform/js': 156,
                '../utils/misc': 185,
            },
        ],
        176: [
            function (t, e, i) {
                var n = t('../CCGame'),
                    r = t('./CCTexture2D'),
                    s = {
                        _textures: {},
                        _textureColorsCache: {},
                        _textureKeySeq: 0 | (1e3 * Math.random()),
                        handleLoadedTexture: null,
                        description: function () {
                            return '<TextureCache | Number of textures = ' + this._textures.length + '>';
                        },
                        textureForKey: function (t) {
                            return cc.logID(3002), this.getTextureForKey(t);
                        },
                        getTextureForKey: function (t) {
                            return this._textures[t];
                        },
                        getKeyByTexture: function (t) {
                            for (var e in this._textures) if (this._textures[e] === t) return e;
                            return null;
                        },
                        _generalTextureKey: function (t) {
                            return '_textureKey_' + t;
                        },
                        getTextureColors: function (t) {
                            var e = t._image,
                                i = this.getKeyByTexture(e);
                            return (
                                i ||
                                    (i =
                                        e instanceof HTMLImageElement
                                            ? e.src
                                            : this._generalTextureKey(t.__instanceId)),
                                this._textureColorsCache[i] ||
                                    (this._textureColorsCache[i] = t._generateTextureCacheForColor()),
                                this._textureColorsCache[i]
                            );
                        },
                        getAllTextures: function () {
                            var t = [];
                            for (var e in this._textures) {
                                var i = this._textures[e];
                                t.push(i);
                            }
                            return t;
                        },
                        removeAllTextures: function () {
                            var t = this._textures;
                            for (var e in t) t[e] && t[e].releaseTexture();
                            this._textures = {};
                        },
                        removeTexture: function (t) {
                            if (t) {
                                var e = this._textures;
                                for (var i in e) e[i] === t && (e[i].releaseTexture(), delete e[i]);
                            }
                        },
                        removeTextureForKey: function (t) {
                            if ('string' == typeof t) {
                                var e = this._textures;
                                e[t] && (e[t].releaseTexture(), delete e[t]);
                            }
                        },
                        addImage: null,
                        addImageAsync: null,
                        cacheImage: function (t, e) {
                            if ((cc.assertID(t, 3009), e instanceof r)) this._textures[t] = e;
                            else {
                                var i = new r();
                                i.initWithElement(e), i.handleLoadedTexture(), (this._textures[t] = i);
                            }
                        },
                        dumpCachedTextureInfo: function () {
                            var t = 0,
                                e = 0,
                                i = this._textures;
                            for (var n in i) {
                                var r = i[n];
                                t++,
                                    r.getHtmlElementObj() instanceof HTMLImageElement
                                        ? cc.logID(
                                              3005,
                                              n,
                                              r.getHtmlElementObj().src,
                                              r.getPixelWidth(),
                                              r.getPixelHeight(),
                                          )
                                        : cc.logID(3006, n, r.getPixelWidth(), r.getPixelHeight()),
                                    (e += r.getPixelWidth() * r.getPixelHeight() * 4);
                            }
                            var s = this._textureColorsCache;
                            for (n in s) {
                                var o = s[n];
                                for (var a in o) {
                                    var c = o[a];
                                    t++, cc.logID(3006, n, c.width, c.height), (e += c.width * c.height * 4);
                                }
                            }
                            cc.logID(3007, t, e / 1024, (e / 1048576).toFixed(2));
                        },
                        _clear: function () {
                            (this._textures = {}),
                                (this._textureColorsCache = {}),
                                (this._textureKeySeq = 0 | (1e3 * Math.random()));
                        },
                    };
                n.once(n.EVENT_RENDERER_INITED, function () {
                    var t = s;
                    cc._renderType === n.RENDER_TYPE_CANVAS
                        ? ((t.handleLoadedTexture = function (t) {
                              var e = this._textures,
                                  i = e[t];
                              i || (cc.assertID(t, 3009), ((i = e[t] = new r()).url = t)), i.handleLoadedTexture();
                          }),
                          (t.addImage = function (t, e, i) {
                              cc.assertID(t, 3103);
                              var n = this._textures,
                                  o = n[t];
                              return o
                                  ? o.isLoaded()
                                      ? (e && e.call(i, o), o)
                                      : (o.once(
                                            'load',
                                            function () {
                                                e && e.call(i, o);
                                            },
                                            i,
                                        ),
                                        o)
                                  : ((o = n[t] = new r()),
                                    (o.url = t),
                                    cc.loader.load(t, function (n, r) {
                                        if (n) return e && e.call(i, n || new Error('Unknown error'));
                                        s.handleLoadedTexture(t), e && e.call(i, o);
                                    }),
                                    o);
                          }),
                          (t.addImageAsync = t.addImage))
                        : cc._renderType === n.RENDER_TYPE_WEBGL &&
                          ((t.handleLoadedTexture = function (t) {
                              var e,
                                  i = this._textures;
                              (e = i[t]) || (cc.assertID(t, 3009), ((e = i[t] = new r()).url = t)),
                                  e.handleLoadedTexture();
                          }),
                          (t.addImage = function (t, e, i) {
                              cc.assertID(t, 3112);
                              var n = this._textures,
                                  o = n[t];
                              return o
                                  ? o.isLoaded()
                                      ? (e && e.call(i, o), o)
                                      : (o.once(
                                            'load',
                                            function () {
                                                e && e.call(i, o);
                                            },
                                            i,
                                        ),
                                        o)
                                  : ((o = n[t] = new r()),
                                    (o.url = t),
                                    cc.loader.load(t, function (n, r) {
                                        if (n) return e && e.call(i, n || new Error('Unknown error'));
                                        s.handleLoadedTexture(t), e && e.call(i, o);
                                    }),
                                    o);
                          }),
                          (t.addImageAsync = t.addImage));
                }),
                    (cc.textureCache = e.exports = s);
            },
            {
                '../CCGame': 39,
                './CCTexture2D': 175,
            },
        ],
        177: [
            function (t, e, i) {
                t('./CCTexture2D'), t('./CCTextureCache');
            },
            {
                './CCTexture2D': 175,
                './CCTextureCache': 176,
            },
        ],
        178: [
            function (t, e, i) {
                t('../platform/CCSys');
                var n = /(\.[^\.\/\?\\]*)(\?.*)?$/,
                    r = /((.*)(\/|\\|\\\\))?(.*?\..*$)?/,
                    s = /[^\.\/]+\/\.\.\//;
                (cc.path = {
                    join: function () {
                        for (var t = arguments.length, e = '', i = 0; i < t; i++)
                            e = (e + ('' === e ? '' : '/') + arguments[i]).replace(/(\/|\\\\)$/, '');
                        return e;
                    },
                    extname: function (t) {
                        var e = n.exec(t);
                        return e ? e[1] : '';
                    },
                    mainFileName: function (t) {
                        if (t) {
                            var e = t.lastIndexOf('.');
                            if (-1 !== e) return t.substring(0, e);
                        }
                        return t;
                    },
                    basename: function (t, e) {
                        var i = t.indexOf('?');
                        i > 0 && (t = t.substring(0, i));
                        var n = /(\/|\\\\)([^(\/|\\\\)]+)$/g.exec(t.replace(/(\/|\\\\)$/, ''));
                        if (!n) return null;
                        var r = n[2];
                        return e && t.substring(t.length - e.length).toLowerCase() === e.toLowerCase()
                            ? r.substring(0, r.length - e.length)
                            : r;
                    },
                    dirname: function (t) {
                        var e = r.exec(t);
                        return e ? e[2] : '';
                    },
                    changeExtname: function (t, e) {
                        e = e || '';
                        var i = t.indexOf('?'),
                            n = '';
                        return (
                            i > 0 && ((n = t.substring(i)), (t = t.substring(0, i))),
                            (i = t.lastIndexOf('.')) < 0 ? t + e + n : t.substring(0, i) + e + n
                        );
                    },
                    changeBasename: function (t, e, i) {
                        if (0 === e.indexOf('.')) return this.changeExtname(t, e);
                        var n = t.indexOf('?'),
                            r = '',
                            s = i ? this.extname(t) : '';
                        return (
                            n > 0 && ((r = t.substring(n)), (t = t.substring(0, n))),
                            (n = t.lastIndexOf('/')),
                            (n = n <= 0 ? 0 : n + 1),
                            t.substring(0, n) + e + s + r
                        );
                    },
                    _normalize: function (t) {
                        var e = (t = String(t));
                        do {
                            (e = t), (t = t.replace(s, ''));
                        } while (e.length !== t.length);
                        return t;
                    },
                    sep: cc.sys.os === cc.sys.OS_WINDOWS ? '\\' : '/',
                    stripSep: function (t) {
                        return t.replace(/[\/\\]$/, '');
                    },
                }),
                    (e.exports = cc.path);
            },
            {
                '../platform/CCSys': 144,
            },
        ],
        179: [
            function (t, e, i) {
                function n() {
                    h('frame').start(), h('logic').start();
                }

                function r() {
                    cc.director.isPaused() ? h('frame').start() : h('logic').end(), h('render').start();
                }

                function s() {
                    h('render').end(),
                        (h('draws').value = cc.g_NumberOfDraws),
                        h('frame').end(),
                        h('fps').frame(),
                        h().tick();
                }
                var o = t('../../../external/pstats/pstats'),
                    a = t('../platform/CCMacro'),
                    c = document.createElement('div');
                c.id = 'fps';
                var h = null,
                    l = !1;
                cc.profiler = e.exports = {
                    isShowingStats: function () {
                        return l;
                    },
                    hideStats: function () {
                        l &&
                            (c.parentElement === document.body && document.body.removeChild(c),
                            cc.director.off(cc.Director.EVENT_BEFORE_UPDATE, n),
                            cc.director.off(cc.Director.EVENT_AFTER_VISIT, r),
                            cc.director.off(cc.Director.EVENT_AFTER_DRAW, s),
                            (l = !1));
                    },
                    showStats: function () {
                        l ||
                            (h ||
                                (h = o.new(c, {
                                    showGraph: !1,
                                    values: {
                                        frame: {
                                            desc: 'Frame time (ms)',
                                            min: 0,
                                            max: 50,
                                            average: 500,
                                        },
                                        fps: {
                                            desc: 'Framerate (FPS)',
                                            below: 30,
                                            average: 500,
                                        },
                                        draws: {
                                            desc: 'Draw call',
                                        },
                                        logic: {
                                            desc: 'Game Logic (ms)',
                                            min: 0,
                                            max: 50,
                                            average: 500,
                                            color: '#080',
                                        },
                                        render: {
                                            desc: 'Renderer (ms)',
                                            min: 0,
                                            max: 50,
                                            average: 500,
                                            color: '#f90',
                                        },
                                        mode: {
                                            desc: cc._renderType === cc.game.RENDER_TYPE_WEBGL ? 'WebGL' : 'Canvas',
                                            min: 1,
                                        },
                                    },
                                    css:
                                        '.pstats {left: ' +
                                        a.DIRECTOR_STATS_POSITION.x +
                                        'px; bottom: ' +
                                        a.DIRECTOR_STATS_POSITION.y +
                                        'px;}',
                                })),
                            null === c.parentElement && document.body.appendChild(c),
                            cc.director.on(cc.Director.EVENT_BEFORE_UPDATE, n),
                            cc.director.on(cc.Director.EVENT_AFTER_VISIT, r),
                            cc.director.on(cc.Director.EVENT_AFTER_DRAW, s),
                            (l = !0));
                    },
                };
            },
            {
                '../../../external/pstats/pstats': 235,
                '../platform/CCMacro': 140,
            },
        ],
        180: [
            function (t, e, i) {
                function n(t) {
                    return t ? ('string' == typeof t ? d.getClassByName(t) : t) : (cc.errorID(3804), null);
                }

                function r(t, e) {
                    if (e._sealed)
                        for (var i = 0; i < t._components.length; ++i) {
                            var n = t._components[i];
                            if (n.constructor === e) return n;
                        }
                    else
                        for (var r = 0; r < t._components.length; ++r) {
                            var s = t._components[r];
                            if (s instanceof e) return s;
                        }
                    return null;
                }

                function s(t, e, i) {
                    if (e._sealed)
                        for (var n = 0; n < t._components.length; ++n) {
                            var r = t._components[n];
                            r.constructor === e && i.push(r);
                        }
                    else
                        for (var s = 0; s < t._components.length; ++s) {
                            var o = t._components[s];
                            o instanceof e && i.push(o);
                        }
                }

                function o(t, e) {
                    for (var i = 0; i < t.length; ++i) {
                        var n = t[i],
                            s = r(n, e);
                        if (s) return s;
                        if (n._children.length > 0 && (s = o(n._children, e))) return s;
                    }
                    return null;
                }

                function a(t, e, i) {
                    for (var n = 0; n < t.length; ++n) {
                        var r = t[n];
                        s(r, e, i), r._children.length > 0 && a(r._children, e, i);
                    }
                }
                var c = t('../platform/CCObject').Flags,
                    h = t('./misc'),
                    l = t('../platform/id-generater'),
                    u = t('../event-manager'),
                    d = cc.js,
                    _ = c.Destroying,
                    f = c.DontDestroy,
                    p = new l('Node'),
                    g = cc.Class({
                        name: 'cc._BaseNode',
                        extends: cc.Object,
                        mixins: [cc.EventTarget],
                        properties: {
                            _parent: null,
                            _children: [],
                            _tag: cc.macro.NODE_TAG_INVALID,
                            _active: !0,
                            _components: [],
                            _prefab: null,
                            _persistNode: {
                                get: function () {
                                    return (this._objFlags & f) > 0;
                                },
                                set: function (t) {
                                    t ? (this._objFlags |= f) : (this._objFlags &= ~f);
                                },
                            },
                            name: {
                                get: function () {
                                    return this._name;
                                },
                                set: function (t) {
                                    this._name = t;
                                },
                            },
                            _id: {
                                default: '',
                                editorOnly: !0,
                            },
                            uuid: {
                                get: function () {
                                    var t = this._id;
                                    return t || (t = this._id = p.getNewId()), t;
                                },
                            },
                            children: {
                                get: function () {
                                    return this._children;
                                },
                            },
                            childrenCount: {
                                get: function () {
                                    return this._children.length;
                                },
                            },
                            active: {
                                get: function () {
                                    return this._active;
                                },
                                set: function (t) {
                                    if (((t = !!t), this._active !== t)) {
                                        this._active = t;
                                        var e = this._parent;
                                        if (e) {
                                            e._activeInHierarchy && cc.director._nodeActivator.activateNode(this, t);
                                        }
                                    }
                                },
                            },
                            activeInHierarchy: {
                                get: function () {
                                    return this._activeInHierarchy;
                                },
                            },
                        },
                        ctor: function (t) {
                            (this._name = void 0 !== t ? t : 'New Node'),
                                (this._activeInHierarchy = !1),
                                (this.__instanceId = this._id || cc.ClassManager.getNewInstanceId()),
                                (this.__eventTargets = []);
                        },
                        getTag: function () {
                            return this._tag;
                        },
                        setTag: function (t) {
                            this._tag = t;
                        },
                        getParent: function () {
                            return this._parent;
                        },
                        setParent: function (t) {
                            if (this._parent !== t) {
                                0;
                                var e = this._parent;
                                if (
                                    ((this._parent = t || null),
                                    this._onSetParent(t),
                                    t &&
                                        (u._setDirtyForNode(this), t._children.push(this), t.emit('child-added', this)),
                                    e)
                                ) {
                                    if (!(e._objFlags & _)) {
                                        var i = e._children.indexOf(this);
                                        0,
                                            e._children.splice(i, 1),
                                            e.emit('child-removed', this),
                                            this._onHierarchyChanged(e);
                                    }
                                } else t && this._onHierarchyChanged(null);
                            }
                        },
                        init: function () {
                            return !0;
                        },
                        attr: function (t) {
                            d.mixin(this, t);
                        },
                        getChildByTag: function (t) {
                            var e = this._children;
                            if (null !== e)
                                for (var i = 0; i < e.length; i++) {
                                    var n = e[i];
                                    if (n && n._tag === t) return n;
                                }
                            return null;
                        },
                        getChildByUuid: function (t) {
                            if (!t) return cc.log('Invalid uuid'), null;
                            for (var e = this._children, i = 0, n = e.length; i < n; i++)
                                if (e[i]._id === t) return e[i];
                            return null;
                        },
                        getChildByName: function (t) {
                            if (!t) return cc.log('Invalid name'), null;
                            for (var e = this._children, i = 0, n = e.length; i < n; i++)
                                if (e[i]._name === t) return e[i];
                            return null;
                        },
                        addChild: function (t) {
                            cc.assertID(t, 1606), cc.assertID(null === t._parent, 1605), t.setParent(this);
                        },
                        insertChild: function (t, e) {
                            (t.parent = this), t.setSiblingIndex(e);
                        },
                        getSiblingIndex: function () {
                            return this._parent ? this._parent._children.indexOf(this) : 0;
                        },
                        setSiblingIndex: function (t) {
                            if (this._parent) {
                                var e = this._parent._children;
                                t = -1 !== t ? t : e.length - 1;
                                var i = e.indexOf(this);
                                t !== i &&
                                    (e.splice(i, 1),
                                    t < e.length ? e.splice(t, 0, this) : e.push(this),
                                    this._onSiblingIndexChanged && this._onSiblingIndexChanged(t));
                            }
                        },
                        cleanup: function () {},
                        removeFromParent: function (t) {
                            this._parent && (void 0 === t && (t = !0), this._parent.removeChild(this, t));
                        },
                        removeChild: function (t, e) {
                            this._children.indexOf(t) > -1 && ((e || void 0 === e) && t.cleanup(), (t.parent = null));
                        },
                        removeChildByTag: function (t, e) {
                            t === cc.macro.NODE_TAG_INVALID && cc.logID(1609);
                            var i = this.getChildByTag(t);
                            i ? this.removeChild(i, e) : cc.logID(1610, t);
                        },
                        removeAllChildren: function (t) {
                            var e = this._children;
                            void 0 === t && (t = !0);
                            for (var i = e.length - 1; i >= 0; i--) {
                                var n = e[i];
                                n && (t && n.cleanup(), (n.parent = null));
                            }
                            this._children.length = 0;
                        },
                        isChildOf: function (t) {
                            var e = this;
                            do {
                                if (e === t) return !0;
                                e = e._parent;
                            } while (e);
                            return !1;
                        },
                        getComponent: function (t) {
                            var e = n(t);
                            return e ? r(this, e) : null;
                        },
                        getComponents: function (t) {
                            var e = n(t),
                                i = [];
                            return e && s(this, e, i), i;
                        },
                        getComponentInChildren: function (t) {
                            var e = n(t);
                            return e ? o(this._children, e) : null;
                        },
                        getComponentsInChildren: function (t) {
                            var e = n(t),
                                i = [];
                            return e && (s(this, e, i), a(this._children, e, i)), i;
                        },
                        _checkMultipleComp: !1,
                        addComponent: function (t) {
                            var e;
                            if ('string' == typeof t) {
                                if (!(e = d.getClassByName(t)))
                                    return cc.errorID(3807, t), cc._RFpeek() && cc.errorID(3808, t), null;
                            } else {
                                if (!t) return cc.errorID(3804), null;
                                e = t;
                            }
                            if ('function' != typeof e) return cc.errorID(3809), null;
                            if (!cc.isChildClassOf(e, cc.Component)) return cc.errorID(3810), null;
                            var i = e._requireComponent;
                            if (i && !this.getComponent(i)) {
                                if (!this.addComponent(i)) return null;
                            }
                            var n = new e();
                            return (
                                (n.node = this),
                                this._components.push(n),
                                this._activeInHierarchy && cc.director._nodeActivator.activateComp(n),
                                n
                            );
                        },
                        _addComponentAt: !1,
                        removeComponent: function (t) {
                            t
                                ? (t instanceof cc.Component || (t = this.getComponent(t)), t && t.destroy())
                                : cc.errorID(3813);
                        },
                        _getDependComponent: !1,
                        _removeComponent: function (t) {
                            if (t) {
                                if (!(this._objFlags & _)) {
                                    var e = this._components.indexOf(t);
                                    -1 !== e ? this._components.splice(e, 1) : t.node !== this && cc.errorID(3815);
                                }
                            } else cc.errorID(3814);
                        },
                        _disableChildComps: function () {
                            var t,
                                e = this._components.length;
                            for (t = 0; t < e; ++t) {
                                var i = this._components[t];
                                i._enabled && cc.director._compScheduler.disableComp(i);
                            }
                            for (t = 0, e = this._children.length; t < e; ++t) {
                                var n = this._children[t];
                                n._active && n._disableChildComps();
                            }
                        },
                        destroy: function () {
                            cc.Object.prototype.destroy.call(this) &&
                                this._activeInHierarchy &&
                                this._disableChildComps();
                        },
                        destroyAllChildren: function () {
                            for (var t = this._children, e = 0; e < t.length; ++e) t[e].destroy();
                        },
                        _onSetParent: function (t) {},
                        _onPostActivated: function () {},
                        _onHierarchyChanged: function (t) {
                            var e = this._parent;
                            !this._persistNode || e instanceof cc.Scene || cc.game.removePersistRootNode(this);
                            var i = this._active && !(!e || !e._activeInHierarchy);
                            this._activeInHierarchy !== i && cc.director._nodeActivator.activateNode(this, i);
                        },
                        _onBatchCreated: function () {
                            var t = this._prefab;
                            t && t.sync && !t._synced && t.root === this && PrefabHelper.syncWithPrefab(this);
                            for (var e = this._children, i = 0, n = e.length; i < n; i++) e[i]._onBatchCreated();
                        },
                        _instantiate: function (t) {
                            t || (t = cc.instantiate._clone(this, this));
                            var e = this._prefab;
                            return (
                                e && this === e.root && e.sync && (t._prefab._synced = e._synced),
                                (t._parent = null),
                                t._onBatchCreated(),
                                t
                            );
                        },
                        _registerIfAttached: !1,
                        _onPreDestroy: function () {
                            var t, e;
                            this._objFlags |= _;
                            var i = this._parent,
                                n = i && i._objFlags & _;
                            var r = this._children;
                            for (t = 0, e = r.length; t < e; ++t) r[t]._destroyImmediate();
                            for (t = 0, e = this._components.length; t < e; ++t) {
                                this._components[t]._destroyImmediate();
                            }
                            var s = this.__eventTargets;
                            for (t = 0, e = s.length; t < e; ++t) {
                                var o = s[t];
                                o && o.targetOff(this);
                            }
                            if (((s.length = 0), this._persistNode && cc.game.removePersistRootNode(this), !n && i)) {
                                var a = i._children.indexOf(this);
                                i._children.splice(a, 1), i.emit('child-removed', this);
                            }
                            return n;
                        },
                        onRestore: !1,
                    });
                (g.prototype._onPreDestroyBase = g.prototype._onPreDestroy),
                    (g.prototype._onHierarchyChangedBase = g.prototype._onHierarchyChanged);
                h.propertyDefine(g, ['name', 'children', 'childrenCount'], {}), (cc._BaseNode = e.exports = g);
            },
            {
                '../event-manager': 95,
                '../platform/CCObject': 141,
                '../platform/id-generater': 152,
                './misc': 185,
            },
        ],
        181: [
            function (t, e, i) {
                var n = 1e-6;
                e.exports = {
                    binarySearchEpsilon: function (t, e) {
                        for (var i = 0, r = t.length - 1, s = r >>> 1; i <= r; s = (i + r) >>> 1) {
                            var o = t[s];
                            if (o > e + n) r = s - 1;
                            else {
                                if (!(o < e - n)) return s;
                                i = s + 1;
                            }
                        }
                        return ~i;
                    },
                };
            },
            {},
        ],
        182: [
            function (t, e, i) {
                var n = t('./misc').BASE64_VALUES,
                    r = '0123456789abcdef'.split(''),
                    s = ['', '', '', ''],
                    o = s.concat(s, '-', s, '-', s, '-', s, '-', s, s, s),
                    a = o
                        .map(function (t, e) {
                            return '-' === t ? NaN : e;
                        })
                        .filter(isFinite);
                e.exports = function (t) {
                    if (22 !== t.length) return t;
                    (o[0] = t[0]), (o[1] = t[1]);
                    for (var e = 2, i = 2; e < 22; e += 2) {
                        var s = n[t.charCodeAt(e)],
                            c = n[t.charCodeAt(e + 1)];
                        (o[a[i++]] = r[s >> 2]), (o[a[i++]] = r[((3 & s) << 2) | (c >> 4)]), (o[a[i++]] = r[15 & c]);
                    }
                    return o.join('');
                };
            },
            {
                './misc': 185,
            },
        ],
        183: [
            function (t, e, i) {
                cc.find = e.exports = function (t, e) {
                    if (null == t) return cc.errorID(5600), null;
                    if (e) 0;
                    else {
                        var i = cc.director.getScene();
                        if (!i) return null;
                        e = i;
                    }
                    for (var n = e, r = '/' !== t[0] ? 0 : 1, s = t.split('/'), o = r; o < s.length; o++) {
                        var a = s[o],
                            c = n._children;
                        n = null;
                        for (var h = 0, l = c.length; h < l; ++h) {
                            var u = c[h];
                            if (u.name === a) {
                                n = u;
                                break;
                            }
                        }
                        if (!n) return null;
                    }
                    return n;
                };
            },
            {},
        ],
        184: [
            function (t, e, i) {
                t('./CCPath'), t('./CCProfiler'), t('./find'), t('./mutable-forward-iterator');
            },
            {
                './CCPath': 178,
                './CCProfiler': 179,
                './find': 183,
                './mutable-forward-iterator': 186,
            },
        ],
        185: [
            function (t, e, i) {
                var n = t('../platform/js'),
                    r = t('../platform/CCSys'),
                    s = i;
                (s.propertyDefine = function (t, e, i) {
                    function n(t, e, i, n) {
                        var r = Object.getOwnPropertyDescriptor(t, e);
                        if (r) r.get && (t[i] = r.get), r.set && n && (t[n] = r.set);
                        else {
                            var s = t[i];
                            cc.js.getset(t, e, s, t[n]);
                        }
                    }
                    for (var r, s = t.prototype, o = 0; o < e.length; o++) {
                        var a = (r = e[o])[0].toUpperCase() + r.slice(1);
                        n(s, r, 'get' + a, 'set' + a);
                    }
                    for (r in i) {
                        var c = i[r];
                        n(s, r, c[0], c[1]);
                    }
                }),
                    (s.NextPOT = function (t) {
                        return (t -= 1), (t |= t >> 1), (t |= t >> 2), (t |= t >> 4), (t |= t >> 8), (t |= t >> 16) + 1;
                    }),
                    (s.imagePool = new n.Pool(function (t) {
                        return t instanceof HTMLImageElement && ((t.src = this._smallImg), !0);
                    }, 10)),
                    (s.imagePool.get = function () {
                        return this._get() || new Image();
                    }),
                    (s.imagePool._smallImg = 'data:image/gif;base64,R0lGODlhAQABAAAAACwAAAAAAQABAAA='),
                    (r.os !== r.OS_WINDOWS && r.os !== r.OS_LINUX) ||
                        r.browserType === r.BROWSER_TYPE_CHROME ||
                        s.imagePool.resize(0),
                    (s.BUILTIN_CLASSID_RE = /^(?:cc|dragonBones|sp|ccsg)\..+/);
                for (var o = new Array(123), a = 0; a < 123; ++a) o[a] = 64;
                for (var c = 0; c < 64; ++c)
                    o['ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='.charCodeAt(c)] = c;
                (s.BASE64_VALUES = o),
                    (s.pushToMap = function (t, e, i, n) {
                        var r = t[e];
                        r
                            ? Array.isArray(r)
                                ? n
                                    ? (r.push(r[0]), (r[0] = i))
                                    : r.push(i)
                                : (t[e] = n ? [i, r] : [r, i])
                            : (t[e] = i);
                    });
            },
            {
                '../platform/CCSys': 144,
                '../platform/js': 156,
            },
        ],
        186: [
            function (t, e, i) {
                function n(t) {
                    (this.i = 0), (this.array = t);
                }
                var r = n.prototype;
                (r.remove = function (t) {
                    var e = this.array.indexOf(t);
                    e >= 0 && this.removeAt(e);
                }),
                    (r.removeAt = function (t) {
                        this.array.splice(t, 1), t <= this.i && --this.i;
                    }),
                    (r.fastRemove = function (t) {
                        var e = this.array.indexOf(t);
                        e >= 0 && this.fastRemoveAt(e);
                    }),
                    (r.fastRemoveAt = function (t) {
                        var e = this.array;
                        (e[t] = e[e.length - 1]), --e.length, t <= this.i && --this.i;
                    }),
                    (r.push = function (t) {
                        this.array.push(t);
                    }),
                    (e.exports = n);
            },
            {},
        ],
        187: [
            function (t, e, i) {
                (cc._PrefabInfo = cc.Class({
                    name: 'cc.PrefabInfo',
                    properties: {
                        root: null,
                        asset: null,
                        fileId: '',
                        sync: !1,
                        _synced: {
                            default: !1,
                            serializable: !1,
                        },
                    },
                })),
                    (e.exports = {
                        syncWithPrefab: function (t) {
                            var e = t._prefab;
                            if (((e._synced = !0), !e.asset)) return cc.errorID(3701, t.name), void (t._prefab = null);
                            var i = t._objFlags,
                                n = t._parent,
                                r = t._id,
                                s = t._name,
                                o = t._active,
                                a = t._position.x,
                                c = t._position.y,
                                h = t._rotationX,
                                l = t._rotationY,
                                u = t._localZOrder,
                                d = t._globalZOrder;
                            cc.game._isCloning = !0;
                            e.asset._doInstantiate(t),
                                (cc.game._isCloning = !1),
                                (t._objFlags = i),
                                (t._parent = n),
                                (t._id = r),
                                (t._prefab = e),
                                (t._name = s),
                                (t._active = o),
                                (t._position.x = a),
                                (t._position.y = c),
                                (t._rotationX = h),
                                (t._rotationY = l),
                                (t._localZOrder = u),
                                (t._globalZOrder = d);
                        },
                    });
            },
            {},
        ],
        188: [
            function (t, e, i) {
                var n = {
                    removeSgNode: function () {
                        var t = this._sgNode;
                        if (t) {
                            var e = t._parent;
                            e ? e.removeChild(t) : t.performRecursive(_ccsg.Node.performType.cleanup),
                                t._entity && (t._entity = null);
                        }
                    },
                };
                e.exports = n;
            },
            {},
        ],
        189: [
            function (t, e, i) {
                (cc.AffineTransform = function (t, e, i, n, r, s) {
                    (this.a = t), (this.b = e), (this.c = i), (this.d = n), (this.tx = r), (this.ty = s);
                }),
                    (cc.affineTransformMake = function (t, e, i, n, r, s) {
                        return {
                            a: t,
                            b: e,
                            c: i,
                            d: n,
                            tx: r,
                            ty: s,
                        };
                    }),
                    (cc.affineTransformClone = function (t) {
                        return {
                            a: t.a,
                            b: t.b,
                            c: t.c,
                            d: t.d,
                            tx: t.tx,
                            ty: t.ty,
                        };
                    }),
                    (cc.pointApplyAffineTransform = function (t, e, i) {
                        var n, r;
                        return (
                            void 0 === i ? ((i = e), (n = t.x), (r = t.y)) : ((n = t), (r = e)),
                            {
                                x: i.a * n + i.c * r + i.tx,
                                y: i.b * n + i.d * r + i.ty,
                            }
                        );
                    }),
                    (cc._pointApplyAffineTransformIn = function (t, e, i, n) {
                        var r, s, o;
                        void 0 === n ? ((o = e), (r = t.x), (s = t.y), (n = i)) : ((r = t), (s = e), (o = i)),
                            (n.x = o.a * r + o.c * s + o.tx),
                            (n.y = o.b * r + o.d * s + o.ty);
                    }),
                    (cc._pointApplyAffineTransform = function (t, e, i) {
                        return cc.pointApplyAffineTransform(t, e, i);
                    }),
                    (cc.sizeApplyAffineTransform = function (t, e) {
                        return {
                            width: e.a * t.width + e.c * t.height,
                            height: e.b * t.width + e.d * t.height,
                        };
                    }),
                    (cc.affineTransformMakeIdentity = function () {
                        return {
                            a: 1,
                            b: 0,
                            c: 0,
                            d: 1,
                            tx: 0,
                            ty: 0,
                        };
                    }),
                    (cc.affineTransformIdentity = function () {
                        return {
                            a: 1,
                            b: 0,
                            c: 0,
                            d: 1,
                            tx: 0,
                            ty: 0,
                        };
                    }),
                    (cc.rectApplyAffineTransform = function (t, e) {
                        var i = t.x,
                            n = t.y,
                            r = i + t.width,
                            s = n + t.height,
                            o = e.a * i + e.c * n + e.tx,
                            a = e.b * i + e.d * n + e.ty,
                            c = e.a * r + e.c * n + e.tx,
                            h = e.b * r + e.d * n + e.ty,
                            l = e.a * i + e.c * s + e.tx,
                            u = e.b * i + e.d * s + e.ty,
                            d = e.a * r + e.c * s + e.tx,
                            _ = e.b * r + e.d * s + e.ty,
                            f = Math.min(o, c, l, d),
                            p = Math.max(o, c, l, d),
                            g = Math.min(a, h, u, _),
                            m = Math.max(a, h, u, _);
                        return cc.rect(f, g, p - f, m - g);
                    }),
                    (cc._rectApplyAffineTransformIn = function (t, e) {
                        var i = t.x,
                            n = t.y,
                            r = i + t.width,
                            s = n + t.height,
                            o = e.a * i + e.c * n + e.tx,
                            a = e.b * i + e.d * n + e.ty,
                            c = e.a * r + e.c * n + e.tx,
                            h = e.b * r + e.d * n + e.ty,
                            l = e.a * i + e.c * s + e.tx,
                            u = e.b * i + e.d * s + e.ty,
                            d = e.a * r + e.c * s + e.tx,
                            _ = e.b * r + e.d * s + e.ty,
                            f = Math.min(o, c, l, d),
                            p = Math.max(o, c, l, d),
                            g = Math.min(a, h, u, _),
                            m = Math.max(a, h, u, _);
                        return (t.x = f), (t.y = g), (t.width = p - f), (t.height = m - g), t;
                    }),
                    (cc.obbApplyAffineTransform = function (t, e, i, n, r, s) {
                        var o = t.x,
                            a = t.y,
                            c = t.width,
                            h = t.height,
                            l = e.a * o + e.c * a + e.tx,
                            u = e.b * o + e.d * a + e.ty,
                            d = e.a * c,
                            _ = e.b * c,
                            f = e.c * h,
                            p = e.d * h;
                        (n.x = l),
                            (n.y = u),
                            (r.x = d + l),
                            (r.y = _ + u),
                            (i.x = f + l),
                            (i.y = p + u),
                            (s.x = d + f + l),
                            (s.y = _ + p + u);
                    }),
                    (cc.affineTransformTranslate = function (t, e, i) {
                        return {
                            a: t.a,
                            b: t.b,
                            c: t.c,
                            d: t.d,
                            tx: t.tx + t.a * e + t.c * i,
                            ty: t.ty + t.b * e + t.d * i,
                        };
                    }),
                    (cc.affineTransformScale = function (t, e, i) {
                        return {
                            a: t.a * e,
                            b: t.b * e,
                            c: t.c * i,
                            d: t.d * i,
                            tx: t.tx,
                            ty: t.ty,
                        };
                    }),
                    (cc.affineTransformRotate = function (t, e) {
                        var i = Math.sin(e),
                            n = Math.cos(e);
                        return {
                            a: t.a * n + t.c * i,
                            b: t.b * n + t.d * i,
                            c: t.c * n - t.a * i,
                            d: t.d * n - t.b * i,
                            tx: t.tx,
                            ty: t.ty,
                        };
                    }),
                    (cc.affineTransformConcat = function (t, e) {
                        return {
                            a: t.a * e.a + t.b * e.c,
                            b: t.a * e.b + t.b * e.d,
                            c: t.c * e.a + t.d * e.c,
                            d: t.c * e.b + t.d * e.d,
                            tx: t.tx * e.a + t.ty * e.c + e.tx,
                            ty: t.tx * e.b + t.ty * e.d + e.ty,
                        };
                    }),
                    (cc.affineTransformConcatIn = function (t, e) {
                        var i = t.a,
                            n = t.b,
                            r = t.c,
                            s = t.d,
                            o = t.tx,
                            a = t.ty;
                        return (
                            (t.a = i * e.a + n * e.c),
                            (t.b = i * e.b + n * e.d),
                            (t.c = r * e.a + s * e.c),
                            (t.d = r * e.b + s * e.d),
                            (t.tx = o * e.a + a * e.c + e.tx),
                            (t.ty = o * e.b + a * e.d + e.ty),
                            t
                        );
                    }),
                    (cc.affineTransformEqualToTransform = function (t, e) {
                        return (
                            t.a === e.a && t.b === e.b && t.c === e.c && t.d === e.d && t.tx === e.tx && t.ty === e.ty
                        );
                    }),
                    (cc.affineTransformInvert = function (t) {
                        var e = 1 / (t.a * t.d - t.b * t.c);
                        return {
                            a: e * t.d,
                            b: -e * t.b,
                            c: -e * t.c,
                            d: e * t.a,
                            tx: e * (t.c * t.ty - t.d * t.tx),
                            ty: e * (t.b * t.tx - t.a * t.ty),
                        };
                    }),
                    (cc.affineTransformInvertIn = function (t) {
                        var e = t.a,
                            i = t.b,
                            n = t.c,
                            r = t.d,
                            s = 1 / (e * r - i * n),
                            o = t.tx,
                            a = t.ty;
                        return (
                            (t.a = s * r),
                            (t.b = -s * i),
                            (t.c = -s * n),
                            (t.d = s * e),
                            (t.tx = s * (n * a - r * o)),
                            (t.ty = s * (i * o - e * a)),
                            t
                        );
                    }),
                    (cc.affineTransformInvertOut = function (t, e) {
                        var i = t.a,
                            n = t.b,
                            r = t.c,
                            s = t.d,
                            o = 1 / (i * s - n * r);
                        (e.a = o * s),
                            (e.b = -o * n),
                            (e.c = -o * r),
                            (e.d = o * i),
                            (e.tx = o * (r * t.ty - s * t.tx)),
                            (e.ty = o * (n * t.tx - i * t.ty));
                    });
            },
            {},
        ],
        190: [
            function (t, e, i) {
                var n = t('./CCValueType'),
                    r = t('../platform/js'),
                    s = (function () {
                        function e(t, e, i, n) {
                            'object' == typeof t && ((e = t.g), (i = t.b), (n = t.a), (t = t.r)),
                                (t = t || 0),
                                (e = e || 0),
                                (i = i || 0),
                                (n = 'number' == typeof n ? n : 255),
                                (this._val = ((~~t << 24) >>> 0) + (~~e << 16) + (~~i << 8) + ~~n);
                        }
                        r.extend(e, n),
                            t('../platform/CCClass').fastDefine('cc.Color', e, {
                                r: 0,
                                g: 0,
                                b: 0,
                                a: 255,
                            });
                        var i = {
                            WHITE: [255, 255, 255, 255],
                            BLACK: [0, 0, 0, 255],
                            TRANSPARENT: [0, 0, 0, 0],
                            GRAY: [127.5, 127.5, 127.5],
                            RED: [255, 0, 0],
                            GREEN: [0, 255, 0],
                            BLUE: [0, 0, 255],
                            YELLOW: [255, 235, 4],
                            ORANGE: [255, 127, 0],
                            CYAN: [0, 255, 255],
                            MAGENTA: [255, 0, 255],
                        };
                        for (var s in i)
                            r.get(
                                e,
                                s,
                                (function (t) {
                                    return function () {
                                        return new e(t[0], t[1], t[2], t[3]);
                                    };
                                })(i[s]),
                            );
                        var o = e.prototype;
                        return (
                            (o.clone = function () {
                                var t = new e();
                                return (t._val = this._val), t;
                            }),
                            (o.equals = function (t) {
                                return t && this._val === t._val;
                            }),
                            (o.lerp = function (t, i, n) {
                                n = n || new e();
                                var r = this.r,
                                    s = this.g,
                                    o = this.b,
                                    a = this.a;
                                return (
                                    (n.r = r + (t.r - r) * i),
                                    (n.g = s + (t.g - s) * i),
                                    (n.b = o + (t.b - o) * i),
                                    (n.a = a + (t.a - a) * i),
                                    n
                                );
                            }),
                            (o.toString = function () {
                                return (
                                    'rgba(' +
                                    this.r.toFixed() +
                                    ', ' +
                                    this.g.toFixed() +
                                    ', ' +
                                    this.b.toFixed() +
                                    ', ' +
                                    this.a.toFixed() +
                                    ')'
                                );
                            }),
                            (o.getR = function () {
                                return (4278190080 & this._val) >>> 24;
                            }),
                            (o.setR = function (t) {
                                return (this._val = ((16777215 & this._val) | ((~~t << 24) >>> 0)) >>> 0), this;
                            }),
                            (o.getG = function () {
                                return (16711680 & this._val) >> 16;
                            }),
                            (o.setG = function (t) {
                                return (this._val = ((4278255615 & this._val) | (~~t << 16)) >>> 0), this;
                            }),
                            (o.getB = function () {
                                return (65280 & this._val) >> 8;
                            }),
                            (o.setB = function (t) {
                                return (this._val = ((4294902015 & this._val) | (~~t << 8)) >>> 0), this;
                            }),
                            (o.getA = function () {
                                return 255 & this._val;
                            }),
                            (o.setA = function (t) {
                                return (this._val = ((4294967040 & this._val) | ~~t) >>> 0), this;
                            }),
                            r.getset(o, 'r', o.getR, o.setR, !0),
                            r.getset(o, 'g', o.getG, o.setG, !0),
                            r.getset(o, 'b', o.getB, o.setB, !0),
                            r.getset(o, 'a', o.getA, o.setA, !0),
                            (o.toCSS = function (t) {
                                return 'rgba' === t
                                    ? 'rgba(' +
                                          (0 | this.r) +
                                          ',' +
                                          (0 | this.g) +
                                          ',' +
                                          (0 | this.b) +
                                          ',' +
                                          (this.a / 255).toFixed(2) +
                                          ')'
                                    : 'rgb' === t
                                    ? 'rgb(' + (0 | this.r) + ',' + (0 | this.g) + ',' + (0 | this.b) + ')'
                                    : '#' + this.toHEX(t);
                            }),
                            (o.clamp = function () {}),
                            (o.fromHEX = function (t) {
                                t.length < 8 && (t += 'FF');
                                var e = parseInt(t.indexOf('#') > -1 ? t.substring(1) : t, 16);
                                return (this._val = ((0 & this._val) | e) >>> 0), this;
                            }),
                            (o.toHEX = function (t) {
                                var e = [
                                        (0 | this.r).toString(16),
                                        (0 | this.g).toString(16),
                                        (0 | this.b).toString(16),
                                    ],
                                    i = -1;
                                if ('#rgb' === t) for (i = 0; i < e.length; ++i) e[i].length > 1 && (e[i] = e[i][0]);
                                else if ('#rrggbb' === t)
                                    for (i = 0; i < e.length; ++i) 1 === e[i].length && (e[i] = '0' + e[i]);
                                return e.join('');
                            }),
                            (o.toRGBValue = function () {
                                return 16777215 & this._val;
                            }),
                            (o.fromHSV = function (t, i, n) {
                                var r = e.hsv2rgb(t, i, n);
                                return (this._val = ((r.r << 24) >>> 0) + (r.g << 16) + (r.b << 8) + this.a), this;
                            }),
                            (o.toHSV = function () {
                                return e.rgb2hsv(this.r, this.g, this.b);
                            }),
                            (o.fromColor = function (t) {
                                t._val
                                    ? (this._val = t._val)
                                    : ((this.r = t.r), (this.g = t.g), (this.b = t.b), (this.a = t.a));
                            }),
                            e
                        );
                    })();
                (s.rgb2hsv = function (t, e, i) {
                    (t /= 255), (e /= 255), (i /= 255);
                    var n = {
                            h: 0,
                            s: 0,
                            v: 0,
                        },
                        r = Math.max(t, e, i),
                        s = Math.min(t, e, i),
                        o = 0;
                    return (
                        (n.v = r),
                        (n.s = r ? (r - s) / r : 0),
                        n.s
                            ? ((o = r - s),
                              (n.h = t === r ? (e - i) / o : e === r ? 2 + (i - t) / o : 4 + (t - e) / o),
                              (n.h /= 6),
                              n.h < 0 && (n.h += 1))
                            : (n.h = 0),
                        n
                    );
                }),
                    (s.hsv2rgb = function (t, e, i) {
                        var n = {
                            r: 0,
                            g: 0,
                            b: 0,
                        };
                        if (0 === e) n.r = n.g = n.b = i;
                        else if (0 === i) n.r = n.g = n.b = 0;
                        else {
                            1 === t && (t = 0), (t *= 6), (e = e), (i = i);
                            var r = Math.floor(t),
                                s = t - r,
                                o = i * (1 - e),
                                a = i * (1 - e * s),
                                c = i * (1 - e * (1 - s));
                            switch (r) {
                                case 0:
                                    (n.r = i), (n.g = c), (n.b = o);
                                    break;
                                case 1:
                                    (n.r = a), (n.g = i), (n.b = o);
                                    break;
                                case 2:
                                    (n.r = o), (n.g = i), (n.b = c);
                                    break;
                                case 3:
                                    (n.r = o), (n.g = a), (n.b = i);
                                    break;
                                case 4:
                                    (n.r = c), (n.g = o), (n.b = i);
                                    break;
                                case 5:
                                    (n.r = i), (n.g = o), (n.b = a);
                            }
                        }
                        return (n.r *= 255), (n.g *= 255), (n.b *= 255), n;
                    }),
                    (cc.Color = s),
                    (cc.color = function (t, e, i, n) {
                        if ('string' == typeof t) {
                            return new cc.Color().fromHEX(t);
                        }
                        return 'object' == typeof t ? new cc.Color(t.r, t.g, t.b, t.a) : new cc.Color(t, e, i, n);
                    }),
                    (cc.colorEqual = function (t, e) {
                        return void 0 !== t._val && void 0 !== e._val
                            ? t._val === e._val
                            : t.r === e.r && t.g === e.g && t.b === e.b;
                    }),
                    (cc.hexToColor = function (t) {
                        t = t.replace(/^#?/, '0x');
                        var e = parseInt(t),
                            i = e >> 16,
                            n = (65280 & e) >> 8,
                            r = 255 & e;
                        return cc.color(i, n, r);
                    }),
                    (cc.colorToHex = function (t) {
                        var e = t.r.toString(16),
                            i = t.g.toString(16),
                            n = t.b.toString(16);
                        return '#' + (t.r < 16 ? '0' + e : e) + (t.g < 16 ? '0' + i : i) + (t.b < 16 ? '0' + n : n);
                    }),
                    (e.exports = cc.Color);
            },
            {
                '../platform/CCClass': 135,
                '../platform/js': 156,
                './CCValueType': 196,
            },
        ],
        191: [
            function (t, e, i) {
                var n = parseFloat('1.192092896e-07F');
                (cc.pNeg = function (t) {
                    return cc.p(-t.x, -t.y);
                }),
                    (cc.pAdd = function (t, e) {
                        return cc.p(t.x + e.x, t.y + e.y);
                    }),
                    (cc.pSub = function (t, e) {
                        return cc.p(t.x - e.x, t.y - e.y);
                    }),
                    (cc.pMult = function (t, e) {
                        return cc.p(t.x * e, t.y * e);
                    }),
                    (cc.pMidpoint = function (t, e) {
                        return cc.pMult(cc.pAdd(t, e), 0.5);
                    }),
                    (cc.pDot = function (t, e) {
                        return t.x * e.x + t.y * e.y;
                    }),
                    (cc.pCross = function (t, e) {
                        return t.x * e.y - t.y * e.x;
                    }),
                    (cc.pPerp = function (t) {
                        return cc.p(-t.y, t.x);
                    }),
                    (cc.pRPerp = function (t) {
                        return cc.p(t.y, -t.x);
                    }),
                    (cc.pProject = function (t, e) {
                        return cc.pMult(e, cc.pDot(t, e) / cc.pDot(e, e));
                    }),
                    (cc.pLengthSQ = function (t) {
                        return cc.pDot(t, t);
                    }),
                    (cc.pDistanceSQ = function (t, e) {
                        return cc.pLengthSQ(cc.pSub(t, e));
                    }),
                    (cc.pLength = function (t) {
                        return Math.sqrt(cc.pLengthSQ(t));
                    }),
                    (cc.pDistance = function (t, e) {
                        return cc.pLength(cc.pSub(t, e));
                    }),
                    (cc.pNormalize = function (t) {
                        var e = cc.pLength(t);
                        return 0 === e ? cc.p(t) : cc.pMult(t, 1 / e);
                    }),
                    (cc.pForAngle = function (t) {
                        return cc.p(Math.cos(t), Math.sin(t));
                    }),
                    (cc.pToAngle = function (t) {
                        return Math.atan2(t.y, t.x);
                    }),
                    (cc.clampf = function (t, e, i) {
                        if (e > i) {
                            var n = e;
                            (e = i), (i = n);
                        }
                        return t < e ? e : t < i ? t : i;
                    }),
                    (cc.clamp01 = function (t) {
                        return t < 0 ? 0 : t < 1 ? t : 1;
                    }),
                    (cc.pClamp = function (t, e, i) {
                        return cc.p(cc.clampf(t.x, e.x, i.x), cc.clampf(t.y, e.y, i.y));
                    }),
                    (cc.pFromSize = function (t) {
                        return cc.p(t.width, t.height);
                    }),
                    (cc.pCompOp = function (t, e) {
                        return cc.p(e(t.x), e(t.y));
                    }),
                    (cc.pLerp = function (t, e, i) {
                        return cc.pAdd(cc.pMult(t, 1 - i), cc.pMult(e, i));
                    }),
                    (cc.pFuzzyEqual = function (t, e, i) {
                        return t.x - i <= e.x && e.x <= t.x + i && t.y - i <= e.y && e.y <= t.y + i;
                    }),
                    (cc.pCompMult = function (t, e) {
                        return cc.p(t.x * e.x, t.y * e.y);
                    }),
                    (cc.pAngleSigned = function (t, e) {
                        var i = cc.pNormalize(t),
                            r = cc.pNormalize(e),
                            s = Math.atan2(i.x * r.y - i.y * r.x, cc.pDot(i, r));
                        return Math.abs(s) < n ? 0 : s;
                    }),
                    (cc.pAngle = function (t, e) {
                        var i = Math.acos(cc.pDot(cc.pNormalize(t), cc.pNormalize(e)));
                        return Math.abs(i) < n ? 0 : i;
                    }),
                    (cc.pRotateByAngle = function (t, e, i) {
                        var n = cc.pSub(t, e),
                            r = Math.cos(i),
                            s = Math.sin(i),
                            o = n.x;
                        return (n.x = o * r - n.y * s + e.x), (n.y = o * s + n.y * r + e.y), n;
                    }),
                    (cc.pLineIntersect = function (t, e, i, n, r) {
                        if ((t.x === e.x && t.y === e.y) || (i.x === n.x && i.y === n.y)) return !1;
                        var s = e.x - t.x,
                            o = e.y - t.y,
                            a = n.x - i.x,
                            c = n.y - i.y,
                            h = t.x - i.x,
                            l = t.y - i.y,
                            u = c * s - a * o;
                        return (
                            (r.x = a * l - c * h),
                            (r.y = s * l - o * h),
                            0 === u ? 0 === r.x || 0 === r.y : ((r.x = r.x / u), (r.y = r.y / u), !0)
                        );
                    }),
                    (cc.pSegmentIntersect = function (t, e, i, n) {
                        var r = cc.p(0, 0);
                        return !!(cc.pLineIntersect(t, e, i, n, r) && r.x >= 0 && r.x <= 1 && r.y >= 0 && r.y <= 1);
                    }),
                    (cc.pIntersectPoint = function (t, e, i, n) {
                        var r = cc.p(0, 0);
                        if (cc.pLineIntersect(t, e, i, n, r)) {
                            var s = cc.p(0, 0);
                            return (s.x = t.x + r.x * (e.x - t.x)), (s.y = t.y + r.x * (e.y - t.y)), s;
                        }
                        return cc.p(0, 0);
                    }),
                    (cc.pSameAs = function (t, e) {
                        return null != t && null != e && t.x === e.x && t.y === e.y;
                    }),
                    (cc.pZeroIn = function (t) {
                        (t.x = 0), (t.y = 0);
                    }),
                    (cc.pIn = function (t, e) {
                        (t.x = e.x), (t.y = e.y);
                    }),
                    (cc.pMultIn = function (t, e) {
                        (t.x *= e), (t.y *= e);
                    }),
                    (cc.pSubIn = function (t, e) {
                        (t.x -= e.x), (t.y -= e.y);
                    }),
                    (cc.pAddIn = function (t, e) {
                        (t.x += e.x), (t.y += e.y);
                    }),
                    (cc.pNormalizeIn = function (t) {
                        cc.pMultIn(t, 1 / Math.sqrt(t.x * t.x + t.y * t.y));
                    });
            },
            {},
        ],
        192: [
            function (t, e, i) {
                function n(t, e, i, n) {
                    t && 'object' == typeof t && ((e = t.y), (i = t.width), (n = t.height), (t = t.x)),
                        (this.x = t || 0),
                        (this.y = e || 0),
                        (this.width = i || 0),
                        (this.height = n || 0);
                }
                var r = t('./CCValueType'),
                    s = t('../platform/js');
                s.extend(n, r),
                    t('../platform/CCClass').fastDefine('cc.Rect', n, {
                        x: 0,
                        y: 0,
                        width: 0,
                        height: 0,
                    }),
                    (n.fromMinMax = function (t, e) {
                        var i = Math.min(t.x, e.x),
                            r = Math.min(t.y, e.y);
                        return new n(i, r, Math.max(t.x, e.x) - i, Math.max(t.y, e.y) - r);
                    }),
                    (n.contain = function (t, e) {
                        return t.x < e.x &&
                            t.x + t.width > e.x + e.width &&
                            t.y < e.y &&
                            t.y + t.height > e.y + e.height
                            ? 1
                            : e.x < t.x && e.x + e.width > t.x + t.width && e.y < t.y && e.y + e.height > t.y + t.height
                            ? -1
                            : 0;
                    });
                var o = n.prototype;
                (o.clone = function () {
                    return new n(this.x, this.y, this.width, this.height);
                }),
                    (o.equals = function (t) {
                        return (
                            t && this.x === t.x && this.y === t.y && this.width === t.width && this.height === t.height
                        );
                    }),
                    (o.lerp = function (t, e, i) {
                        i = i || new n();
                        var r = this.x,
                            s = this.y,
                            o = this.width,
                            a = this.height;
                        return (
                            (i.x = r + (t.x - r) * e),
                            (i.y = s + (t.y - s) * e),
                            (i.width = o + (t.width - o) * e),
                            (i.height = a + (t.height - a) * e),
                            i
                        );
                    }),
                    (o.toString = function () {
                        return (
                            '(' +
                            this.x.toFixed(2) +
                            ', ' +
                            this.y.toFixed(2) +
                            ', ' +
                            this.width.toFixed(2) +
                            ', ' +
                            this.height.toFixed(2) +
                            ')'
                        );
                    }),
                    s.getset(
                        o,
                        'xMin',
                        function () {
                            return this.x;
                        },
                        function (t) {
                            (this.width += this.x - t), (this.x = t);
                        },
                    ),
                    s.getset(
                        o,
                        'yMin',
                        function () {
                            return this.y;
                        },
                        function (t) {
                            (this.height += this.y - t), (this.y = t);
                        },
                    ),
                    s.getset(
                        o,
                        'xMax',
                        function () {
                            return this.x + this.width;
                        },
                        function (t) {
                            this.width = t - this.x;
                        },
                    ),
                    s.getset(
                        o,
                        'yMax',
                        function () {
                            return this.y + this.height;
                        },
                        function (t) {
                            this.height = t - this.y;
                        },
                    ),
                    s.getset(
                        o,
                        'center',
                        function () {
                            return new cc.Vec2(this.x + 0.5 * this.width, this.y + 0.5 * this.height);
                        },
                        function (t) {
                            (this.x = t.x - 0.5 * this.width), (this.y = t.y - 0.5 * this.height);
                        },
                    ),
                    s.getset(
                        o,
                        'origin',
                        function () {
                            return new cc.Vec2(this.x, this.y);
                        },
                        function (t) {
                            (this.x = t.x), (this.y = t.y);
                        },
                    ),
                    s.getset(
                        o,
                        'size',
                        function () {
                            return new cc.Size(this.width, this.height);
                        },
                        function (t) {
                            (this.width = t.width), (this.height = t.height);
                        },
                    ),
                    (o.intersects = function (t) {
                        return cc.rectIntersectsRect(this, t);
                    }),
                    (o.contains = function (t) {
                        return (
                            this.x <= t.x && this.x + this.width >= t.x && this.y <= t.y && this.y + this.height >= t.y
                        );
                    }),
                    (o.containsRect = function (t) {
                        return (
                            this.x <= t.x &&
                            this.x + this.width >= t.x + t.width &&
                            this.y <= t.y &&
                            this.y + this.height >= t.y + t.height
                        );
                    }),
                    (cc.Rect = n),
                    (cc.rect = function (t, e, i, r) {
                        return new n(t, e, i, r);
                    }),
                    (cc.rectEqualToRect = function (t, e) {
                        return t && e && t.x === e.x && t.y === e.y && t.width === e.width && t.height === e.height;
                    }),
                    (cc._rectEqualToZero = function (t) {
                        return t && 0 === t.x && 0 === t.y && 0 === t.width && 0 === t.height;
                    }),
                    (cc.rectContainsRect = function (t, e) {
                        return (
                            !(!t || !e) &&
                            !(
                                t.x >= e.x ||
                                t.y >= e.y ||
                                t.x + t.width <= e.x + e.width ||
                                t.y + t.height <= e.y + e.height
                            )
                        );
                    }),
                    (cc.rectGetMaxX = function (t) {
                        return t.x + t.width;
                    }),
                    (cc.rectGetMidX = function (t) {
                        return t.x + t.width / 2;
                    }),
                    (cc.rectGetMinX = function (t) {
                        return t.x;
                    }),
                    (cc.rectGetMaxY = function (t) {
                        return t.y + t.height;
                    }),
                    (cc.rectGetMidY = function (t) {
                        return t.y + t.height / 2;
                    }),
                    (cc.rectGetMinY = function (t) {
                        return t.y;
                    }),
                    (cc.rectContainsPoint = function (t, e) {
                        return (
                            e.x >= cc.rectGetMinX(t) &&
                            e.x <= cc.rectGetMaxX(t) &&
                            e.y >= cc.rectGetMinY(t) &&
                            e.y <= cc.rectGetMaxY(t)
                        );
                    }),
                    (cc.rectIntersectsRect = function (t, e) {
                        var i = t.x + t.width,
                            n = t.y + t.height,
                            r = e.x + e.width,
                            s = e.y + e.height;
                        return !(i < e.x || r < t.x || n < e.y || s < t.y);
                    }),
                    (cc.rectOverlapsRect = function (t, e) {
                        return !(
                            t.x + t.width < e.x ||
                            e.x + e.width < t.x ||
                            t.y + t.height < e.y ||
                            e.y + e.height < t.y
                        );
                    }),
                    (cc.rectUnion = function (t, e) {
                        var i = cc.rect(0, 0, 0, 0);
                        return (
                            (i.x = Math.min(t.x, e.x)),
                            (i.y = Math.min(t.y, e.y)),
                            (i.width = Math.max(t.x + t.width, e.x + e.width) - i.x),
                            (i.height = Math.max(t.y + t.height, e.y + e.height) - i.y),
                            i
                        );
                    }),
                    (cc.rectIntersection = function (t, e) {
                        var i = cc.rect(
                            Math.max(cc.rectGetMinX(t), cc.rectGetMinX(e)),
                            Math.max(cc.rectGetMinY(t), cc.rectGetMinY(e)),
                            0,
                            0,
                        );
                        return (
                            (i.width = Math.min(cc.rectGetMaxX(t), cc.rectGetMaxX(e)) - cc.rectGetMinX(i)),
                            (i.height = Math.min(cc.rectGetMaxY(t), cc.rectGetMaxY(e)) - cc.rectGetMinY(i)),
                            i
                        );
                    }),
                    (e.exports = cc.Rect);
            },
            {
                '../platform/CCClass': 135,
                '../platform/js': 156,
                './CCValueType': 196,
            },
        ],
        193: [
            function (t, e, i) {
                function n(t, e) {
                    t && 'object' == typeof t && ((e = t.height), (t = t.width)),
                        (this.width = t || 0),
                        (this.height = e || 0);
                }
                var r = t('./CCValueType'),
                    s = t('../platform/js');
                s.extend(n, r),
                    t('../platform/CCClass').fastDefine('cc.Size', n, {
                        width: 0,
                        height: 0,
                    }),
                    s.get(n, 'ZERO', function () {
                        return new n(0, 0);
                    });
                var o = n.prototype;
                (o.clone = function () {
                    return new n(this.width, this.height);
                }),
                    (o.equals = function (t) {
                        return t && this.width === t.width && this.height === t.height;
                    }),
                    (o.lerp = function (t, e, i) {
                        i = i || new n();
                        var r = this.width,
                            s = this.height;
                        return (i.width = r + (t.width - r) * e), (i.height = s + (t.height - s) * e), i;
                    }),
                    (o.toString = function () {
                        return '(' + this.width.toFixed(2) + ', ' + this.height.toFixed(2) + ')';
                    }),
                    (cc.size = function (t, e) {
                        return new n(t, e);
                    }),
                    (cc.sizeEqualToSize = function (t, e) {
                        return t && e && t.width === e.width && t.height === e.height;
                    }),
                    (cc.Size = e.exports = n);
            },
            {
                '../platform/CCClass': 135,
                '../platform/js': 156,
                './CCValueType': 196,
            },
        ],
        194: [
            function (t, e, i) {
                (cc.Acceleration = function (t, e, i, n) {
                    (this.x = t || 0), (this.y = e || 0), (this.z = i || 0), (this.timestamp = n || 0);
                }),
                    (cc.BlendFunc = function (t, e) {
                        (this.src = t), (this.dst = e);
                    });
                var n = cc.Enum({
                    ONE: 1,
                    ZERO: 0,
                    SRC_ALPHA: 770,
                    SRC_COLOR: 768,
                    DST_ALPHA: 772,
                    DST_COLOR: 774,
                    ONE_MINUS_SRC_ALPHA: 771,
                    ONE_MINUS_SRC_COLOR: 769,
                    ONE_MINUS_DST_ALPHA: 773,
                    ONE_MINUS_DST_COLOR: 775,
                });
                (cc.BlendFunc._disable = function () {
                    return new cc.BlendFunc(n.ONE, n.ZERO);
                }),
                    (cc.BlendFunc._alphaPremultiplied = function () {
                        return new cc.BlendFunc(n.ONE, n.ONE_MINUS_SRC_ALPHA);
                    }),
                    (cc.BlendFunc._alphaNonPremultiplied = function () {
                        return new cc.BlendFunc(n.SRC_ALPHA, n.ONE_MINUS_SRC_ALPHA);
                    }),
                    (cc.BlendFunc._additive = function () {
                        return new cc.BlendFunc(n.SRC_ALPHA, n.ONE);
                    }),
                    (cc.BlendFunc.BlendFactor = n),
                    cc.BlendFunc.DISABLE,
                    cc.js.get(cc.BlendFunc, 'DISABLE', cc.BlendFunc._disable),
                    cc.BlendFunc.ALPHA_PREMULTIPLIED,
                    cc.js.get(cc.BlendFunc, 'ALPHA_PREMULTIPLIED', cc.BlendFunc._alphaPremultiplied),
                    cc.BlendFunc.ALPHA_NON_PREMULTIPLIED,
                    cc.js.get(cc.BlendFunc, 'ALPHA_NON_PREMULTIPLIED', cc.BlendFunc._alphaNonPremultiplied),
                    cc.BlendFunc.ADDITIVE,
                    cc.js.get(cc.BlendFunc, 'ADDITIVE', cc.BlendFunc._additive),
                    (cc.blendFuncDisable = cc.BlendFunc._disable),
                    (cc.TextAlignment = cc.Enum({
                        LEFT: 0,
                        CENTER: 1,
                        RIGHT: 2,
                    })),
                    (cc.VerticalTextAlignment = cc.Enum({
                        TOP: 0,
                        CENTER: 1,
                        BOTTOM: 2,
                    }));
            },
            {},
        ],
        195: [
            function (t, e, i) {
                (cc.WebGLColor = function (t, e, i, n, r, s) {
                    (this._arrayBuffer = r || new ArrayBuffer(cc.WebGLColor.BYTES_PER_ELEMENT)),
                        (this._offset = s || 0);
                    var o = this._arrayBuffer,
                        a = this._offset;
                    (this._view = new Uint8Array(o, a, 4)),
                        (this._view[0] = t || 0),
                        (this._view[1] = e || 0),
                        (this._view[2] = i || 0),
                        'number' == typeof n ? (this._view[3] = n) : ((this._view[3] = 255), (this.a_undefined = !0));
                }),
                    (cc.WebGLColor.BYTES_PER_ELEMENT = 4);
                ((n = cc.WebGLColor.prototype)._getR = function () {
                    return this._view[0];
                }),
                    (n._setR = function (t) {
                        this._view[0] = t < 0 ? 0 : t;
                    }),
                    (n._getG = function () {
                        return this._view[1];
                    }),
                    (n._setG = function (t) {
                        this._view[1] = t < 0 ? 0 : t;
                    }),
                    (n._getB = function () {
                        return this._view[2];
                    }),
                    (n._setB = function (t) {
                        this._view[2] = t < 0 ? 0 : t;
                    }),
                    (n._getA = function () {
                        return this._view[3];
                    }),
                    (n._setA = function (t) {
                        this._view[3] = t < 0 ? 0 : t;
                    }),
                    n.r,
                    cc.js.getset(n, 'r', n._getR, n._setR),
                    n.g,
                    cc.js.getset(n, 'g', n._getG, n._setG),
                    n.b,
                    cc.js.getset(n, 'b', n._getB, n._setB),
                    n.a,
                    cc.js.getset(n, 'a', n._getA, n._setA),
                    (cc.Vertex2F = function (t, e, i, n) {
                        (this._arrayBuffer = i || new ArrayBuffer(cc.Vertex2F.BYTES_PER_ELEMENT)),
                            (this._offset = n || 0),
                            (this._view = new Float32Array(this._arrayBuffer, this._offset, 2)),
                            (this._view[0] = t || 0),
                            (this._view[1] = e || 0);
                    }),
                    (cc.Vertex2F.BYTES_PER_ELEMENT = 8);
                var n;
                ((n = cc.Vertex2F.prototype)._getX = function () {
                    return this._view[0];
                }),
                    (n._setX = function (t) {
                        this._view[0] = t;
                    }),
                    (n._getY = function () {
                        return this._view[1];
                    }),
                    (n._setY = function (t) {
                        this._view[1] = t;
                    }),
                    cc.js.getset(n, 'x', n._getX, n._setX),
                    cc.js.getset(n, 'y', n._getY, n._setY),
                    (cc.Vertex3F = function (t, e, i, n, r) {
                        (this._arrayBuffer = n || new ArrayBuffer(cc.Vertex3F.BYTES_PER_ELEMENT)),
                            (this._offset = r || 0);
                        var s = this._arrayBuffer,
                            o = this._offset;
                        (this._view = new Float32Array(s, o, 3)),
                            (this._view[0] = t || 0),
                            (this._view[1] = e || 0),
                            (this._view[2] = i || 0);
                    }),
                    (cc.Vertex3F.BYTES_PER_ELEMENT = 12),
                    ((n = cc.Vertex3F.prototype)._getX = function () {
                        return this._view[0];
                    }),
                    (n._setX = function (t) {
                        this._view[0] = t;
                    }),
                    (n._getY = function () {
                        return this._view[1];
                    }),
                    (n._setY = function (t) {
                        this._view[1] = t;
                    }),
                    (n._getZ = function () {
                        return this._view[2];
                    }),
                    (n._setZ = function (t) {
                        this._view[2] = t;
                    }),
                    cc.js.getset(n, 'x', n._getX, n._setX),
                    cc.js.getset(n, 'y', n._getY, n._setY),
                    cc.js.getset(n, 'z', n._getZ, n._setZ),
                    (cc.Tex2F = function (t, e, i, n) {
                        (this._arrayBuffer = i || new ArrayBuffer(cc.Tex2F.BYTES_PER_ELEMENT)),
                            (this._offset = n || 0),
                            (this._view = new Float32Array(this._arrayBuffer, this._offset, 2)),
                            (this._view[0] = t || 0),
                            (this._view[1] = e || 0);
                    }),
                    (cc.Tex2F.BYTES_PER_ELEMENT = 8),
                    ((n = cc.Tex2F.prototype)._getU = function () {
                        return this._view[0];
                    }),
                    (n._setU = function (t) {
                        this._view[0] = t;
                    }),
                    (n._getV = function () {
                        return this._view[1];
                    }),
                    (n._setV = function (t) {
                        this._view[1] = t;
                    }),
                    cc.js.getset(n, 'u', n._getU, n._setU),
                    cc.js.getset(n, 'v', n._getV, n._setV),
                    (cc.Quad2 = function (t, e, i, n, r, s) {
                        (this._arrayBuffer = r || new ArrayBuffer(cc.Quad2.BYTES_PER_ELEMENT)), (this._offset = s || 0);
                        var o = this._arrayBuffer,
                            a = this._offset,
                            c = cc.Vertex2F.BYTES_PER_ELEMENT;
                        (this._tl = t ? new cc.Vertex2F(t.x, t.y, o, a) : new cc.Vertex2F(0, 0, o, a)),
                            (a += c),
                            (this._tr = e ? new cc.Vertex2F(e.x, e.y, o, a) : new cc.Vertex2F(0, 0, o, a)),
                            (a += c),
                            (this._bl = i ? new cc.Vertex2F(i.x, i.y, o, a) : new cc.Vertex2F(0, 0, o, a)),
                            (a += c),
                            (this._br = n ? new cc.Vertex2F(n.x, n.y, o, a) : new cc.Vertex2F(0, 0, o, a));
                    }),
                    (cc.Quad2.BYTES_PER_ELEMENT = 32),
                    ((n = cc.Quad2.prototype)._getTL = function () {
                        return this._tl;
                    }),
                    (n._setTL = function (t) {
                        (this._tl._view[0] = t.x), (this._tl._view[1] = t.y);
                    }),
                    (n._getTR = function () {
                        return this._tr;
                    }),
                    (n._setTR = function (t) {
                        (this._tr._view[0] = t.x), (this._tr._view[1] = t.y);
                    }),
                    (n._getBL = function () {
                        return this._bl;
                    }),
                    (n._setBL = function (t) {
                        (this._bl._view[0] = t.x), (this._bl._view[1] = t.y);
                    }),
                    (n._getBR = function () {
                        return this._br;
                    }),
                    (n._setBR = function (t) {
                        (this._br._view[0] = t.x), (this._br._view[1] = t.y);
                    }),
                    cc.js.getset(n, 'tl', n._getTL, n._setTL),
                    cc.js.getset(n, 'tr', n._getTR, n._setTR),
                    cc.js.getset(n, 'bl', n._getBL, n._setBL),
                    cc.js.getset(n, 'br', n._getBR, n._setBR),
                    (cc.Quad3 = function (t, e, i, n, r, s) {
                        (this._arrayBuffer = r || new ArrayBuffer(cc.Quad3.BYTES_PER_ELEMENT)), (this._offset = s || 0);
                        var o = this._arrayBuffer,
                            a = this._offset,
                            c = cc.Vertex3F.BYTES_PER_ELEMENT;
                        (this.bl = bl ? new cc.Vertex3F(bl.x, bl.y, bl.z, o, a) : new cc.Vertex3F(0, 0, 0, o, a)),
                            (a += c),
                            (this.br = br ? new cc.Vertex3F(br.x, br.y, br.z, o, a) : new cc.Vertex3F(0, 0, 0, o, a)),
                            (a += c),
                            (this.tl = tl ? new cc.Vertex3F(tl.x, tl.y, tl.z, o, a) : new cc.Vertex3F(0, 0, 0, o, a)),
                            (a += c),
                            (this.tr = tr ? new cc.Vertex3F(tr.x, tr.y, tr.z, o, a) : new cc.Vertex3F(0, 0, 0, o, a));
                    }),
                    (cc.Quad3.BYTES_PER_ELEMENT = 48),
                    (cc.V3F_C4B_T2F = function (t, e, i, n, r) {
                        (this._arrayBuffer = n || new ArrayBuffer(cc.V3F_C4B_T2F.BYTES_PER_ELEMENT)),
                            (this._offset = r || 0);
                        var s = this._arrayBuffer,
                            o = this._offset;
                        (this._vertices = t ? new cc.Vertex3F(t.x, t.y, t.z, s, o) : new cc.Vertex3F(0, 0, 0, s, o)),
                            (o += cc.Vertex3F.BYTES_PER_ELEMENT),
                            (this._colors = e
                                ? new cc.WebGLColor(e.r, e.g, e.b, e.a, s, o)
                                : new cc.WebGLColor(0, 0, 0, 0, s, o)),
                            (o += cc.WebGLColor.BYTES_PER_ELEMENT),
                            (this._texCoords = i ? new cc.Tex2F(i.u, i.v, s, o) : new cc.Tex2F(0, 0, s, o));
                    }),
                    (cc.V3F_C4B_T2F.BYTES_PER_ELEMENT = 24),
                    ((n = cc.V3F_C4B_T2F.prototype)._getVertices = function () {
                        return this._vertices;
                    }),
                    (n._setVertices = function (t) {
                        var e = this._vertices;
                        (e._view[0] = t.x), (e._view[1] = t.y), (e._view[2] = t.z);
                    }),
                    (n._getColor = function () {
                        return this._colors;
                    }),
                    (n._setColor = function (t) {
                        var e = this._colors;
                        (e._view[0] = t.r), (e._view[1] = t.g), (e._view[2] = t.b), (e._view[3] = t.a);
                    }),
                    (n._getTexCoords = function () {
                        return this._texCoords;
                    }),
                    (n._setTexCoords = function (t) {
                        (this._texCoords._view[0] = t.u), (this._texCoords._view[1] = t.v);
                    }),
                    cc.js.getset(n, 'vertices', n._getVertices, n._setVertices),
                    cc.js.getset(n, 'colors', n._getColor, n._setColor),
                    cc.js.getset(n, 'texCoords', n._getTexCoords, n._setTexCoords),
                    (cc.V3F_C4B_T2F_Quad = function (t, e, i, n, r, s) {
                        (this._arrayBuffer = r || new ArrayBuffer(cc.V3F_C4B_T2F_Quad.BYTES_PER_ELEMENT)),
                            (this._offset = s || 0);
                        var o = this._arrayBuffer,
                            a = this._offset,
                            c = cc.V3F_C4B_T2F.BYTES_PER_ELEMENT;
                        (this._tl = t
                            ? new cc.V3F_C4B_T2F(t.vertices, t.colors, t.texCoords, o, a)
                            : new cc.V3F_C4B_T2F(null, null, null, o, a)),
                            (a += c),
                            (this._bl = e
                                ? new cc.V3F_C4B_T2F(e.vertices, e.colors, e.texCoords, o, a)
                                : new cc.V3F_C4B_T2F(null, null, null, o, a)),
                            (a += c),
                            (this._tr = i
                                ? new cc.V3F_C4B_T2F(i.vertices, i.colors, i.texCoords, o, a)
                                : new cc.V3F_C4B_T2F(null, null, null, o, a)),
                            (a += c),
                            (this._br = n
                                ? new cc.V3F_C4B_T2F(n.vertices, n.colors, n.texCoords, o, a)
                                : new cc.V3F_C4B_T2F(null, null, null, o, a));
                    }),
                    (cc.V3F_C4B_T2F_Quad.BYTES_PER_ELEMENT = 96),
                    ((n = cc.V3F_C4B_T2F_Quad.prototype)._getTL = function () {
                        return this._tl;
                    }),
                    (n._setTL = function (t) {
                        var e = this._tl;
                        (e.vertices = t.vertices), (e.colors = t.colors), (e.texCoords = t.texCoords);
                    }),
                    (n._getBL = function () {
                        return this._bl;
                    }),
                    (n._setBL = function (t) {
                        var e = this._bl;
                        (e.vertices = t.vertices), (e.colors = t.colors), (e.texCoords = t.texCoords);
                    }),
                    (n._getTR = function () {
                        return this._tr;
                    }),
                    (n._setTR = function (t) {
                        var e = this._tr;
                        (e.vertices = t.vertices), (e.colors = t.colors), (e.texCoords = t.texCoords);
                    }),
                    (n._getBR = function () {
                        return this._br;
                    }),
                    (n._setBR = function (t) {
                        var e = this._br;
                        (e.vertices = t.vertices), (e.colors = t.colors), (e.texCoords = t.texCoords);
                    }),
                    (n._getArrayBuffer = function () {
                        return this._arrayBuffer;
                    }),
                    cc.js.getset(n, 'tl', n._getTL, n._setTL),
                    cc.js.getset(n, 'tr', n._getTR, n._setTR),
                    cc.js.getset(n, 'bl', n._getBL, n._setBL),
                    cc.js.getset(n, 'br', n._getBR, n._setBR),
                    cc.js.get(n, 'arrayBuffer', n._getArrayBuffer),
                    (cc.V3F_C4B_T2F_QuadZero = function () {
                        return new cc.V3F_C4B_T2F_Quad();
                    }),
                    (cc.V3F_C4B_T2F_QuadCopy = function (t) {
                        if (!t) return cc.V3F_C4B_T2F_QuadZero();
                        var e = t.tl,
                            i = t.bl,
                            n = t.tr,
                            r = t.br;
                        return {
                            tl: {
                                vertices: {
                                    x: e.vertices.x,
                                    y: e.vertices.y,
                                    z: e.vertices.z,
                                },
                                colors: {
                                    r: e.colors.r,
                                    g: e.colors.g,
                                    b: e.colors.b,
                                    a: e.colors.a,
                                },
                                texCoords: {
                                    u: e.texCoords.u,
                                    v: e.texCoords.v,
                                },
                            },
                            bl: {
                                vertices: {
                                    x: i.vertices.x,
                                    y: i.vertices.y,
                                    z: i.vertices.z,
                                },
                                colors: {
                                    r: i.colors.r,
                                    g: i.colors.g,
                                    b: i.colors.b,
                                    a: i.colors.a,
                                },
                                texCoords: {
                                    u: i.texCoords.u,
                                    v: i.texCoords.v,
                                },
                            },
                            tr: {
                                vertices: {
                                    x: n.vertices.x,
                                    y: n.vertices.y,
                                    z: n.vertices.z,
                                },
                                colors: {
                                    r: n.colors.r,
                                    g: n.colors.g,
                                    b: n.colors.b,
                                    a: n.colors.a,
                                },
                                texCoords: {
                                    u: n.texCoords.u,
                                    v: n.texCoords.v,
                                },
                            },
                            br: {
                                vertices: {
                                    x: r.vertices.x,
                                    y: r.vertices.y,
                                    z: r.vertices.z,
                                },
                                colors: {
                                    r: r.colors.r,
                                    g: r.colors.g,
                                    b: r.colors.b,
                                    a: r.colors.a,
                                },
                                texCoords: {
                                    u: r.texCoords.u,
                                    v: r.texCoords.v,
                                },
                            },
                        };
                    }),
                    (cc.V3F_C4B_T2F_QuadsCopy = function (t) {
                        if (!t) return [];
                        for (var e = [], i = 0; i < t.length; i++) e.push(cc.V3F_C4B_T2F_QuadCopy(t[i]));
                        return e;
                    }),
                    (cc.V2F_C4B_T2F = function (t, e, i, n, r) {
                        (this._arrayBuffer = n || new ArrayBuffer(cc.V2F_C4B_T2F.BYTES_PER_ELEMENT)),
                            (this._offset = r || 0);
                        var s = this._arrayBuffer,
                            o = this._offset;
                        (this._vertices = t ? new cc.Vertex2F(t.x, t.y, s, o) : new cc.Vertex2F(0, 0, s, o)),
                            (o += cc.Vertex2F.BYTES_PER_ELEMENT),
                            (this._colors = e
                                ? new cc.WebGLColor(e.r, e.g, e.b, e.a, s, o)
                                : new cc.WebGLColor(0, 0, 0, 0, s, o)),
                            (o += cc.WebGLColor.BYTES_PER_ELEMENT),
                            (this._texCoords = i ? new cc.Tex2F(i.u, i.v, s, o) : new cc.Tex2F(0, 0, s, o));
                    }),
                    (cc.V2F_C4B_T2F.BYTES_PER_ELEMENT = 20),
                    ((n = cc.V2F_C4B_T2F.prototype)._getVertices = function () {
                        return this._vertices;
                    }),
                    (n._setVertices = function (t) {
                        (this._vertices._view[0] = t.x), (this._vertices._view[1] = t.y);
                    }),
                    (n._getColor = function () {
                        return this._colors;
                    }),
                    (n._setColor = function (t) {
                        var e = this._colors;
                        (e._view[0] = t.r), (e._view[1] = t.g), (e._view[2] = t.b), (e._view[3] = t.a);
                    }),
                    (n._getTexCoords = function () {
                        return this._texCoords;
                    }),
                    (n._setTexCoords = function (t) {
                        (this._texCoords._view[0] = t.u), (this._texCoords._view[1] = t.v);
                    }),
                    cc.js.getset(n, 'vertices', n._getVertices, n._setVertices),
                    cc.js.getset(n, 'colors', n._getColor, n._setColor),
                    cc.js.getset(n, 'texCoords', n._getTexCoords, n._setTexCoords),
                    (cc.V2F_C4B_T2F_Triangle = function (t, e, i, n, r) {
                        (this._arrayBuffer = n || new ArrayBuffer(cc.V2F_C4B_T2F_Triangle.BYTES_PER_ELEMENT)),
                            (this._offset = r || 0);
                        var s = this._arrayBuffer,
                            o = this._offset,
                            a = cc.V2F_C4B_T2F.BYTES_PER_ELEMENT;
                        (this._a = t
                            ? new cc.V2F_C4B_T2F(t.vertices, t.colors, t.texCoords, s, o)
                            : new cc.V2F_C4B_T2F(null, null, null, s, o)),
                            (o += a),
                            (this._b = e
                                ? new cc.V2F_C4B_T2F(e.vertices, e.colors, e.texCoords, s, o)
                                : new cc.V2F_C4B_T2F(null, null, null, s, o)),
                            (o += a),
                            (this._c = i
                                ? new cc.V2F_C4B_T2F(i.vertices, i.colors, i.texCoords, s, o)
                                : new cc.V2F_C4B_T2F(null, null, null, s, o));
                    }),
                    (cc.V2F_C4B_T2F_Triangle.BYTES_PER_ELEMENT = 60),
                    ((n = cc.V2F_C4B_T2F_Triangle.prototype)._getA = function () {
                        return this._a;
                    }),
                    (n._setA = function (t) {
                        var e = this._a;
                        (e.vertices = t.vertices), (e.colors = t.colors), (e.texCoords = t.texCoords);
                    }),
                    (n._getB = function () {
                        return this._b;
                    }),
                    (n._setB = function (t) {
                        var e = this._b;
                        (e.vertices = t.vertices), (e.colors = t.colors), (e.texCoords = t.texCoords);
                    }),
                    (n._getC = function () {
                        return this._c;
                    }),
                    (n._setC = function (t) {
                        var e = this._c;
                        (e.vertices = t.vertices), (e.colors = t.colors), (e.texCoords = t.texCoords);
                    }),
                    cc.js.getset(n, 'a', n._getA, n._setA),
                    cc.js.getset(n, 'b', n._getB, n._setB),
                    cc.js.getset(n, 'c', n._getC, n._setC);
            },
            {},
        ],
        196: [
            function (t, e, i) {
                function n() {}
                var r = t('../platform/js');
                r.setClassName('cc.ValueType', n);
                var s = n.prototype;
                (s.toString = function () {
                    return '' + {};
                }),
                    (cc.ValueType = n),
                    (e.exports = n);
            },
            {
                '../platform/js': 156,
            },
        ],
        197: [
            function (t, e, i) {
                function n(t, e) {
                    t && 'object' == typeof t && ((e = t.y), (t = t.x)), (this.x = t || 0), (this.y = e || 0);
                }
                var r = t('./CCValueType'),
                    s = t('../platform/js'),
                    o = t('../platform/CCClass');
                s.extend(n, r),
                    o.fastDefine('cc.Vec2', n, {
                        x: 0,
                        y: 0,
                    });
                var a = n.prototype;
                (a.clone = function () {
                    return new n(this.x, this.y);
                }),
                    (a.set = function (t) {
                        return (this.x = t.x), (this.y = t.y), this;
                    }),
                    (a.equals = function (t) {
                        return t && this.x === t.x && this.y === t.y;
                    }),
                    (a.toString = function () {
                        return '(' + this.x.toFixed(2) + ', ' + this.y.toFixed(2) + ')';
                    }),
                    (a.lerp = function (t, e, i) {
                        i = i || new n();
                        var r = this.x,
                            s = this.y;
                        return (i.x = r + (t.x - r) * e), (i.y = s + (t.y - s) * e), i;
                    }),
                    (a.addSelf = function (t) {
                        return (this.x += t.x), (this.y += t.y), this;
                    }),
                    (a.add = function (t, e) {
                        return (e = e || new n()), (e.x = this.x + t.x), (e.y = this.y + t.y), e;
                    }),
                    (a.subSelf = function (t) {
                        return (this.x -= t.x), (this.y -= t.y), this;
                    }),
                    (a.sub = function (t, e) {
                        return (e = e || new n()), (e.x = this.x - t.x), (e.y = this.y - t.y), e;
                    }),
                    (a.mulSelf = function (t) {
                        return (this.x *= t), (this.y *= t), this;
                    }),
                    (a.mul = function (t, e) {
                        return (e = e || new n()), (e.x = this.x * t), (e.y = this.y * t), e;
                    }),
                    (a.scaleSelf = function (t) {
                        return (this.x *= t.x), (this.y *= t.y), this;
                    }),
                    (a.scale = function (t, e) {
                        return (e = e || new n()), (e.x = this.x * t.x), (e.y = this.y * t.y), e;
                    }),
                    (a.divSelf = function (t) {
                        return (this.x /= t), (this.y /= t), this;
                    }),
                    (a.div = function (t, e) {
                        return (e = e || new n()), (e.x = this.x / t), (e.y = this.y / t), e;
                    }),
                    (a.negSelf = function () {
                        return (this.x = -this.x), (this.y = -this.y), this;
                    }),
                    (a.neg = function (t) {
                        return (t = t || new n()), (t.x = -this.x), (t.y = -this.y), t;
                    }),
                    (a.dot = function (t) {
                        return this.x * t.x + this.y * t.y;
                    }),
                    (a.cross = function (t) {
                        return this.y * t.x - this.x * t.y;
                    }),
                    (a.mag = function () {
                        return Math.sqrt(this.x * this.x + this.y * this.y);
                    }),
                    (a.magSqr = function () {
                        return this.x * this.x + this.y * this.y;
                    }),
                    (a.normalizeSelf = function () {
                        var t = this.x * this.x + this.y * this.y;
                        if (1 === t) return this;
                        if (0 === t) return console.warn("Can't normalize zero vector"), this;
                        var e = 1 / Math.sqrt(t);
                        return (this.x *= e), (this.y *= e), this;
                    }),
                    (a.normalize = function (t) {
                        return (t = t || new n()), (t.x = this.x), (t.y = this.y), t.normalizeSelf(), t;
                    }),
                    (a.angle = function (t) {
                        var e = this.magSqr(),
                            i = t.magSqr();
                        if (0 === e || 0 === i) return console.warn("Can't get angle between zero vector"), 0;
                        var n = this.dot(t) / Math.sqrt(e * i);
                        return (n = cc.clampf(n, -1, 1)), Math.acos(n);
                    }),
                    (a.signAngle = function (t) {
                        return Math.atan2(this.y, this.x) - Math.atan2(t.y, t.x);
                    }),
                    (a.rotate = function (t, e) {
                        return (e = e || new n()), (e.x = this.x), (e.y = this.y), e.rotateSelf(t);
                    }),
                    (a.rotateSelf = function (t) {
                        var e = Math.sin(t),
                            i = Math.cos(t),
                            n = this.x;
                        return (this.x = i * n - e * this.y), (this.y = e * n + i * this.y), this;
                    }),
                    s.get(n, 'ONE', function () {
                        return new n(1, 1);
                    }),
                    s.get(n, 'ZERO', function () {
                        return new n(0, 0);
                    }),
                    s.get(n, 'UP', function () {
                        return new n(0, 1);
                    }),
                    s.get(n, 'RIGHT', function () {
                        return new n(1, 0);
                    }),
                    (cc.Vec2 = n),
                    (cc.v2 = function (t, e) {
                        return new n(t, e);
                    }),
                    (cc.p = cc.v2),
                    (cc.pointEqualToPoint = function (t, e) {
                        return t && e && t.x === e.x && t.y === e.y;
                    }),
                    (e.exports = cc.Vec2);
            },
            {
                '../platform/CCClass': 135,
                '../platform/js': 156,
                './CCValueType': 196,
            },
        ],
        198: [
            function (t, e, i) {
                t('./CCValueType'),
                    t('./CCVec2'),
                    t('./CCPointExtension'),
                    t('./CCSize'),
                    t('./CCRect'),
                    t('./CCColor'),
                    t('./CCTypes'),
                    t('./CCAffineTransform'),
                    t('./CCTypesWebGL');
            },
            {
                './CCAffineTransform': 189,
                './CCColor': 190,
                './CCPointExtension': 191,
                './CCRect': 192,
                './CCSize': 193,
                './CCTypes': 194,
                './CCTypesWebGL': 195,
                './CCValueType': 196,
                './CCVec2': 197,
            },
        ],
        199: [
            function (t, e, i) {
                cc.js;
            },
            {},
        ],
        200: [
            function (t, e, i) {
                t('./core/CCGame'),
                    t('./actions'),
                    t('./core/base-nodes/CCSGNode'),
                    t('./core/base-nodes/CCSGNodeBaseRenderCmd'),
                    t('./core/base-nodes/CCSGNodeCanvasRenderCmd'),
                    t('./core/base-nodes/CCSGNodeWebGLRenderCmd'),
                    t('./core/scenes/CCSGScene'),
                    t('./core/CCConfiguration'),
                    t('./core/sprites/CCSGSprite'),
                    t('./core/sprites/CCSGSpriteCanvasRenderCmd'),
                    t('./core/sprites/CCSGSpriteWebGLRenderCmd'),
                    t('./core/sprites/CCScale9Sprite'),
                    t('./core/sprites/CCScale9SpriteCanvasRenderCmd'),
                    t('./core/sprites/CCScale9SpriteWebGLRenderCmd'),
                    t('./core/sprites/CCSpriteBatchNode'),
                    t('./render-texture/CCRenderTexture'),
                    t('./render-texture/CCRenderTextureCanvasRenderCmd'),
                    t('./render-texture/CCRenderTextureWebGLRenderCmd');
            },
            {
                './actions': 10,
                './core/CCConfiguration': 32,
                './core/CCGame': 39,
                './core/base-nodes/CCSGNode': 55,
                './core/base-nodes/CCSGNodeBaseRenderCmd': 56,
                './core/base-nodes/CCSGNodeCanvasRenderCmd': 57,
                './core/base-nodes/CCSGNodeWebGLRenderCmd': 58,
                './core/scenes/CCSGScene': 166,
                './core/sprites/CCSGSprite': 167,
                './core/sprites/CCSGSpriteCanvasRenderCmd': 168,
                './core/sprites/CCSGSpriteWebGLRenderCmd': 169,
                './core/sprites/CCScale9Sprite': 170,
                './core/sprites/CCScale9SpriteCanvasRenderCmd': 171,
                './core/sprites/CCScale9SpriteWebGLRenderCmd': 172,
                './core/sprites/CCSpriteBatchNode': 173,
                './render-texture/CCRenderTexture': 221,
                './render-texture/CCRenderTextureCanvasRenderCmd': 222,
                './render-texture/CCRenderTextureWebGLRenderCmd': 223,
            },
        ],
        201: [
            function (t, e, i) {
                (cc.math.AABB = function (t, e) {
                    (this.min = t || new cc.math.Vec3()), (this.max = e || new cc.math.Vec3());
                }),
                    (cc.math.AABB.prototype.containsPoint = function (t) {
                        return (
                            t.x >= this.min.x &&
                            t.x <= this.max.x &&
                            t.y >= this.min.y &&
                            t.y <= this.max.y &&
                            t.z >= this.min.z &&
                            t.z <= this.max.z
                        );
                    }),
                    (cc.math.AABB.containsPoint = function (t, e) {
                        return (
                            t.x >= e.min.x &&
                            t.x <= e.max.x &&
                            t.y >= e.min.y &&
                            t.y <= e.max.y &&
                            t.z >= e.min.z &&
                            t.z <= e.max.z
                        );
                    }),
                    (cc.math.AABB.prototype.assignFrom = function (t) {
                        this.min.assignFrom(t.min), this.max.assignFrom(t.max);
                    }),
                    (cc.math.AABB.assign = function (t, e) {
                        return t.min.assignFrom(e.min), t.max.assignFrom(e.max), t;
                    });
            },
            {},
        ],
        202: [
            function (t, e, i) {
                cc.math.Matrix4Stack = function (t, e) {
                    (this.top = t), (this.stack = e || []), (this.lastUpdated = 0);
                };
                var n = cc.math.Matrix4Stack.prototype;
                (n.initialize = function () {
                    (this.stack.length = 0), (this.top = null);
                }),
                    (n.push = function (t) {
                        (t = t || this.top),
                            this.stack.push(this.top),
                            (this.top = new cc.math.Matrix4(t)),
                            this.update();
                    }),
                    (n.pop = function () {
                        (this.top = this.stack.pop()), this.update();
                    }),
                    (n.update = function () {
                        this.lastUpdated++;
                    }),
                    (n.release = function () {
                        (this.stack = null), (this.top = null), (this._matrixPool = null);
                    }),
                    (n._getFromPool = function (t) {
                        var e = this._matrixPool;
                        if (0 === e.length) return new cc.math.Matrix4(t);
                        var i = e.pop();
                        return i.assignFrom(t), i;
                    }),
                    (n._putInPool = function (t) {
                        this._matrixPool.push(t);
                    });
            },
            {},
        ],
        203: [
            function (t, e, i) {
                var n = cc.math;
                (n.KM_GL_MODELVIEW = 5888),
                    (n.KM_GL_PROJECTION = 5889),
                    (n.KM_GL_TEXTURE = 5890),
                    (n.modelview_matrix_stack = new n.Matrix4Stack()),
                    (n.projection_matrix_stack = new n.Matrix4Stack()),
                    (n.texture_matrix_stack = new n.Matrix4Stack()),
                    (cc.current_stack = null);
                var r = !1;
                (function () {
                    if (!r) {
                        var t = new n.Matrix4();
                        n.modelview_matrix_stack.initialize(),
                            n.projection_matrix_stack.initialize(),
                            n.texture_matrix_stack.initialize(),
                            (cc.current_stack = n.modelview_matrix_stack),
                            (r = !0),
                            t.identity(),
                            n.modelview_matrix_stack.push(t),
                            n.projection_matrix_stack.push(t),
                            n.texture_matrix_stack.push(t);
                    }
                })(),
                    (n.glFreeAll = function () {
                        n.modelview_matrix_stack.release(),
                            (n.modelview_matrix_stack = null),
                            n.projection_matrix_stack.release(),
                            (n.projection_matrix_stack = null),
                            n.texture_matrix_stack.release(),
                            (n.texture_matrix_stack = null),
                            (r = !1),
                            (cc.current_stack = null);
                    }),
                    (n.glPushMatrix = function () {
                        cc.current_stack.push(cc.current_stack.top), cc.current_stack.update();
                    }),
                    (n.glPushMatrixWitMat4 = function (t) {
                        cc.current_stack.stack.push(cc.current_stack.top),
                            t.assignFrom(cc.current_stack.top),
                            (cc.current_stack.top = t),
                            cc.current_stack.update();
                    }),
                    (n.glPopMatrix = function () {
                        (cc.current_stack.top = cc.current_stack.stack.pop()), cc.current_stack.update();
                    }),
                    (n.glMatrixMode = function (t) {
                        switch (t) {
                            case n.KM_GL_MODELVIEW:
                                cc.current_stack = n.modelview_matrix_stack;
                                break;
                            case n.KM_GL_PROJECTION:
                                cc.current_stack = n.projection_matrix_stack;
                                break;
                            case n.KM_GL_TEXTURE:
                                cc.current_stack = n.texture_matrix_stack;
                                break;
                            default:
                                throw new Error('Invalid matrix mode specified');
                        }
                    }),
                    (n.glLoadIdentity = function () {
                        cc.current_stack.top.identity(), cc.current_stack.update();
                    }),
                    (n.glLoadMatrix = function (t) {
                        cc.current_stack.top.assignFrom(t), cc.current_stack.update();
                    }),
                    (n.glMultMatrix = function (t) {
                        cc.current_stack.top.multiply(t), cc.current_stack.update();
                    });
                var s = new n.Matrix4();
                n.glTranslatef = function (t, e, i) {
                    var r = n.Matrix4.createByTranslation(t, e, i, s);
                    cc.current_stack.top.multiply(r), cc.current_stack.update();
                };
                var o = new n.Vec3();
                (n.glRotatef = function (t, e, i, r) {
                    o.fill(e, i, r);
                    var a = n.Matrix4.createByAxisAndAngle(o, cc.degreesToRadians(t), s);
                    cc.current_stack.top.multiply(a), cc.current_stack.update();
                }),
                    (n.glScalef = function (t, e, i) {
                        var r = n.Matrix4.createByScale(t, e, i, s);
                        cc.current_stack.top.multiply(r), cc.current_stack.update();
                    }),
                    (n.glGetMatrix = function (t, e) {
                        switch (t) {
                            case n.KM_GL_MODELVIEW:
                                e.assignFrom(n.modelview_matrix_stack.top);
                                break;
                            case n.KM_GL_PROJECTION:
                                e.assignFrom(n.projection_matrix_stack.top);
                                break;
                            case n.KM_GL_TEXTURE:
                                e.assignFrom(n.texture_matrix_stack.top);
                                break;
                            default:
                                throw new Error('Invalid matrix mode specified');
                        }
                    });
            },
            {},
        ],
        204: [
            function (t, e, i) {
                t('./utility'),
                    t('./vec2'),
                    t('./vec3'),
                    t('./vec4'),
                    t('./ray2'),
                    t('./mat3'),
                    t('./mat4'),
                    t('./plane'),
                    t('./quaternion'),
                    t('./aabb'),
                    t('./gl/mat4stack'),
                    t('./gl/matrix');
            },
            {
                './aabb': 201,
                './gl/mat4stack': 202,
                './gl/matrix': 203,
                './mat3': 205,
                './mat4': 206,
                './plane': 207,
                './quaternion': 208,
                './ray2': 209,
                './utility': 210,
                './vec2': 211,
                './vec3': 212,
                './vec4': 213,
            },
        ],
        205: [
            function (t, e, i) {
                (window.Uint16Array = window.Uint16Array || window.Array),
                    (window.Float32Array = window.Float32Array || window.Array),
                    (cc.math.Matrix3 = function (t) {
                        t && t.mat ? (this.mat = new Float32Array(t.mat)) : (this.mat = new Float32Array(9));
                    });
                var n = cc.math.Matrix3.prototype;
                (n.fill = function (t) {
                    var e = this.mat,
                        i = t.mat;
                    return (
                        (e[0] = i[0]),
                        (e[1] = i[1]),
                        (e[2] = i[2]),
                        (e[3] = i[3]),
                        (e[4] = i[4]),
                        (e[5] = i[5]),
                        (e[6] = i[6]),
                        (e[7] = i[7]),
                        (e[8] = i[8]),
                        this
                    );
                }),
                    (n.adjugate = function () {
                        var t = this.mat,
                            e = t[0],
                            i = t[1],
                            n = t[2],
                            r = t[3],
                            s = t[4],
                            o = t[5],
                            a = t[6],
                            c = t[7],
                            h = t[8];
                        return (
                            (t[0] = s * h - o * c),
                            (t[1] = n * c - i * h),
                            (t[2] = i * o - n * s),
                            (t[3] = o * a - r * h),
                            (t[4] = e * h - n * a),
                            (t[5] = n * r - e * o),
                            (t[6] = r * c - s * a),
                            (t[8] = e * s - i * r),
                            this
                        );
                    }),
                    (n.identity = function () {
                        var t = this.mat;
                        return (t[1] = t[2] = t[3] = t[5] = t[6] = t[7] = 0), (t[0] = t[4] = t[8] = 1), this;
                    });
                var r = new cc.math.Matrix3();
                (n.inverse = function (t) {
                    if (0 === t) return this;
                    r.assignFrom(this);
                    var e = 1 / t;
                    return this.adjugate(), this.multiplyScalar(e), this;
                }),
                    (n.isIdentity = function () {
                        var t = this.mat;
                        return (
                            1 === t[0] &&
                            0 === t[1] &&
                            0 === t[2] &&
                            0 === t[3] &&
                            1 === t[4] &&
                            0 === t[5] &&
                            0 === t[6] &&
                            0 === t[7] &&
                            1 === t[8]
                        );
                    }),
                    (n.transpose = function () {
                        var t = this.mat,
                            e = t[1],
                            i = t[2],
                            n = t[3],
                            r = t[5],
                            s = t[6],
                            o = t[7];
                        return (t[1] = n), (t[2] = s), (t[3] = e), (t[5] = o), (t[6] = i), (t[7] = r), this;
                    }),
                    (n.determinant = function () {
                        var t = this.mat,
                            e = t[0] * t[4] * t[8] + t[1] * t[5] * t[6] + t[2] * t[3] * t[7];
                        return (e -= t[2] * t[4] * t[6] + t[0] * t[5] * t[7] + t[1] * t[3] * t[8]);
                    }),
                    (n.multiply = function (t) {
                        var e = this.mat,
                            i = t.mat,
                            n = e[0],
                            r = e[1],
                            s = e[2],
                            o = e[3],
                            a = e[4],
                            c = e[5],
                            h = e[6],
                            l = e[7],
                            u = e[8],
                            d = i[0],
                            _ = i[1],
                            f = i[2],
                            p = i[3],
                            g = i[4],
                            m = i[5],
                            v = i[6],
                            y = i[7],
                            C = i[8];
                        return (
                            (e[0] = n * d + o * _ + h * f),
                            (e[1] = r * d + a * _ + l * f),
                            (e[2] = s * d + c * _ + u * f),
                            (e[3] = s * d + c * _ + u * f),
                            (e[4] = r * p + a * g + l * m),
                            (e[5] = s * p + c * g + u * m),
                            (e[6] = n * v + o * y + h * C),
                            (e[7] = r * v + a * y + l * C),
                            (e[8] = s * v + c * y + u * C),
                            this
                        );
                    }),
                    (n.multiplyScalar = function (t) {
                        var e = this.mat;
                        return (
                            (e[0] *= t),
                            (e[1] *= t),
                            (e[2] *= t),
                            (e[3] *= t),
                            (e[4] *= t),
                            (e[5] *= t),
                            (e[6] *= t),
                            (e[7] *= t),
                            (e[8] *= t),
                            this
                        );
                    }),
                    (cc.math.Matrix3.rotationAxisAngle = function (t, e) {
                        var i = Math.cos(e),
                            n = Math.sin(e),
                            r = new cc.math.Matrix3(),
                            s = r.mat;
                        return (
                            (s[0] = i + t.x * t.x * (1 - i)),
                            (s[1] = t.z * n + t.y * t.x * (1 - i)),
                            (s[2] = -t.y * n + t.z * t.x * (1 - i)),
                            (s[3] = -t.z * n + t.x * t.y * (1 - i)),
                            (s[4] = i + t.y * t.y * (1 - i)),
                            (s[5] = t.x * n + t.z * t.y * (1 - i)),
                            (s[6] = t.y * n + t.x * t.z * (1 - i)),
                            (s[7] = -t.x * n + t.y * t.z * (1 - i)),
                            (s[8] = i + t.z * t.z * (1 - i)),
                            r
                        );
                    }),
                    (n.assignFrom = function (t) {
                        if (this === t) return cc.logID(7900), this;
                        var e = this.mat,
                            i = t.mat;
                        return (
                            (e[0] = i[0]),
                            (e[1] = i[1]),
                            (e[2] = i[2]),
                            (e[3] = i[3]),
                            (e[4] = i[4]),
                            (e[5] = i[5]),
                            (e[6] = i[6]),
                            (e[7] = i[7]),
                            (e[8] = i[8]),
                            this
                        );
                    }),
                    (n.equals = function (t) {
                        if (this === t) return !0;
                        for (var e = cc.math.EPSILON, i = this.mat, n = t.mat, r = 0; r < 9; ++r)
                            if (!(i[r] + e > n[r] && i[r] - e < n[r])) return !1;
                        return !0;
                    }),
                    (cc.math.Matrix3.createByRotationX = function (t) {
                        var e = new cc.math.Matrix3(),
                            i = e.mat;
                        return (
                            (i[0] = 1),
                            (i[1] = 0),
                            (i[2] = 0),
                            (i[3] = 0),
                            (i[4] = Math.cos(t)),
                            (i[5] = Math.sin(t)),
                            (i[6] = 0),
                            (i[7] = -Math.sin(t)),
                            (i[8] = Math.cos(t)),
                            e
                        );
                    }),
                    (cc.math.Matrix3.createByRotationY = function (t) {
                        var e = new cc.math.Matrix3(),
                            i = e.mat;
                        return (
                            (i[0] = Math.cos(t)),
                            (i[1] = 0),
                            (i[2] = -Math.sin(t)),
                            (i[3] = 0),
                            (i[4] = 1),
                            (i[5] = 0),
                            (i[6] = Math.sin(t)),
                            (i[7] = 0),
                            (i[8] = Math.cos(t)),
                            e
                        );
                    }),
                    (cc.math.Matrix3.createByRotationZ = function (t) {
                        var e = new cc.math.Matrix3(),
                            i = e.mat;
                        return (
                            (i[0] = Math.cos(t)),
                            (i[1] = -Math.sin(t)),
                            (i[2] = 0),
                            (i[3] = Math.sin(t)),
                            (i[4] = Math.cos(t)),
                            (i[5] = 0),
                            (i[6] = 0),
                            (i[7] = 0),
                            (i[8] = 1),
                            e
                        );
                    }),
                    (cc.math.Matrix3.createByRotation = function (t) {
                        var e = new cc.math.Matrix3(),
                            i = e.mat;
                        return (
                            (i[0] = Math.cos(t)),
                            (i[1] = Math.sin(t)),
                            (i[2] = 0),
                            (i[3] = -Math.sin(t)),
                            (i[4] = Math.cos(t)),
                            (i[5] = 0),
                            (i[6] = 0),
                            (i[7] = 0),
                            (i[8] = 1),
                            e
                        );
                    }),
                    (cc.math.Matrix3.createByScale = function (t, e) {
                        var i = new cc.math.Matrix3();
                        return i.identity(), (i.mat[0] = t), (i.mat[4] = e), i;
                    }),
                    (cc.math.Matrix3.createByTranslation = function (t, e) {
                        var i = new cc.math.Matrix3();
                        return i.identity(), (i.mat[6] = t), (i.mat[7] = e), i;
                    }),
                    (cc.math.Matrix3.createByQuaternion = function (t) {
                        if (!t) return null;
                        var e = new cc.math.Matrix3(),
                            i = e.mat;
                        return (
                            (i[0] = 1 - 2 * (t.y * t.y + t.z * t.z)),
                            (i[1] = 2 * (t.x * t.y - t.w * t.z)),
                            (i[2] = 2 * (t.x * t.z + t.w * t.y)),
                            (i[3] = 2 * (t.x * t.y + t.w * t.z)),
                            (i[4] = 1 - 2 * (t.x * t.x + t.z * t.z)),
                            (i[5] = 2 * (t.y * t.z - t.w * t.x)),
                            (i[6] = 2 * (t.x * t.z - t.w * t.y)),
                            (i[7] = 2 * (t.y * t.z + t.w * t.x)),
                            (i[8] = 1 - 2 * (t.x * t.x + t.y * t.y)),
                            e
                        );
                    }),
                    (n.rotationToAxisAngle = function () {
                        return cc.math.Quaternion.rotationMatrix(this).toAxisAndAngle();
                    });
            },
            {},
        ],
        206: [
            function (t, e, i) {
                cc.math.Matrix4 = function (t) {
                    t && t.mat ? (this.mat = new Float32Array(t.mat)) : (this.mat = new Float32Array(16));
                };
                var n = cc.math.Matrix4.prototype;
                (n.fill = function (t) {
                    for (var e = this.mat, i = 0; i < 16; i++) e[i] = t[i];
                    return this;
                }),
                    (cc.math.mat4Identity = function (t) {
                        var e = t.mat;
                        return (
                            (e[1] = e[2] = e[3] = e[4] = e[6] = e[7] = e[8] = e[9] = e[11] = e[12] = e[13] = e[14] = 0),
                            (e[0] = e[5] = e[10] = e[15] = 1),
                            t
                        );
                    }),
                    (n.identity = function () {
                        var t = this.mat;
                        return (
                            (t[1] = t[2] = t[3] = t[4] = t[6] = t[7] = t[8] = t[9] = t[11] = t[12] = t[13] = t[14] = 0),
                            (t[0] = t[5] = t[10] = t[15] = 1),
                            this
                        );
                    }),
                    (n.get = function (t, e) {
                        return this.mat[t + 4 * e];
                    }),
                    (n.set = function (t, e, i) {
                        this.mat[t + 4 * e] = i;
                    }),
                    (n.swap = function (t, e, i, n) {
                        var r = this.mat,
                            s = r[t + 4 * e];
                        (r[t + 4 * e] = r[i + 4 * n]), (r[i + 4 * n] = s);
                    }),
                    (cc.math.Matrix4._gaussj = function (t, e) {
                        var i,
                            n,
                            r,
                            s,
                            o,
                            a,
                            c,
                            h,
                            l,
                            u = 0,
                            d = 0,
                            _ = [0, 0, 0, 0],
                            f = [0, 0, 0, 0],
                            p = [0, 0, 0, 0];
                        for (i = 0; i < 4; i++) {
                            for (c = 0, n = 0; n < 4; n++)
                                if (1 !== p[n])
                                    for (r = 0; r < 4; r++)
                                        0 === p[r] && (a = Math.abs(t.get(n, r))) >= c && ((c = a), (d = n), (u = r));
                            if ((++p[u], d !== u)) {
                                for (s = 0; s < 4; s++) t.swap(d, s, u, s);
                                for (s = 0; s < 4; s++) e.swap(d, s, u, s);
                            }
                            if (((f[i] = d), (_[i] = u), 0 === t.get(u, u))) return !1;
                            for (l = 1 / t.get(u, u), t.set(u, u, 1), s = 0; s < 4; s++) t.set(u, s, t.get(u, s) * l);
                            for (s = 0; s < 4; s++) e.set(u, s, e.get(u, s) * l);
                            for (o = 0; o < 4; o++)
                                if (o !== u) {
                                    for (h = t.get(o, u), t.set(o, u, 0), s = 0; s < 4; s++)
                                        t.set(o, s, t.get(o, s) - t.get(u, s) * h);
                                    for (s = 0; s < 4; s++) e.set(o, s, t.get(o, s) - e.get(u, s) * h);
                                }
                        }
                        for (s = 3; s >= 0; s--) if (f[s] !== _[s]) for (r = 0; r < 4; r++) t.swap(r, f[s], r, _[s]);
                        return !0;
                    });
                var r = new cc.math.Matrix4().identity();
                (cc.math.mat4Inverse = function (t, e) {
                    var i = new cc.math.Matrix4(e),
                        n = new cc.math.Matrix4(r);
                    return !1 === cc.math.Matrix4._gaussj(i, n) ? null : (t.assignFrom(i), t);
                }),
                    (n.inverse = function () {
                        var t = new cc.math.Matrix4(this),
                            e = new cc.math.Matrix4(r);
                        return !1 === cc.math.Matrix4._gaussj(t, e) ? null : t;
                    }),
                    (n.isIdentity = function () {
                        var t = this.mat;
                        return (
                            1 === t[0] &&
                            0 === t[1] &&
                            0 === t[2] &&
                            0 === t[3] &&
                            0 === t[4] &&
                            1 === t[5] &&
                            0 === t[6] &&
                            0 === t[7] &&
                            0 === t[8] &&
                            0 === t[9] &&
                            1 === t[10] &&
                            0 === t[11] &&
                            0 === t[12] &&
                            0 === t[13] &&
                            0 === t[14] &&
                            1 === t[15]
                        );
                    }),
                    (n.transpose = function () {
                        var t = this.mat,
                            e = t[1],
                            i = t[2],
                            n = t[3],
                            r = t[4],
                            s = t[6],
                            o = t[7],
                            a = t[8],
                            c = t[9],
                            h = t[11],
                            l = t[12],
                            u = t[13],
                            d = t[14];
                        return (
                            (t[1] = r),
                            (t[2] = a),
                            (t[3] = l),
                            (t[4] = e),
                            (t[6] = c),
                            (t[7] = u),
                            (t[8] = i),
                            (t[9] = s),
                            (t[11] = d),
                            (t[12] = n),
                            (t[13] = o),
                            (t[14] = h),
                            this
                        );
                    }),
                    (cc.math.mat4Multiply = function (t, e, i) {
                        var n = t.mat,
                            r = e.mat,
                            s = i.mat,
                            o = r[0],
                            a = r[1],
                            c = r[2],
                            h = r[3],
                            l = r[4],
                            u = r[5],
                            d = r[6],
                            _ = r[7],
                            f = r[8],
                            p = r[9],
                            g = r[10],
                            m = r[11],
                            v = r[12],
                            y = r[13],
                            C = r[14],
                            T = r[15],
                            E = s[0],
                            x = s[1],
                            S = s[2],
                            b = s[3],
                            A = s[4],
                            R = s[5],
                            w = s[6],
                            I = s[7],
                            O = s[8],
                            L = s[9],
                            P = s[10],
                            D = s[11],
                            N = s[12],
                            F = s[13],
                            M = s[14],
                            B = s[15];
                        return (
                            (n[0] = E * o + x * l + S * f + b * v),
                            (n[1] = E * a + x * u + S * p + b * y),
                            (n[2] = E * c + x * d + S * g + b * C),
                            (n[3] = E * h + x * _ + S * m + b * T),
                            (n[4] = A * o + R * l + w * f + I * v),
                            (n[5] = A * a + R * u + w * p + I * y),
                            (n[6] = A * c + R * d + w * g + I * C),
                            (n[7] = A * h + R * _ + w * m + I * T),
                            (n[8] = O * o + L * l + P * f + D * v),
                            (n[9] = O * a + L * u + P * p + D * y),
                            (n[10] = O * c + L * d + P * g + D * C),
                            (n[11] = O * h + L * _ + P * m + D * T),
                            (n[12] = N * o + F * l + M * f + B * v),
                            (n[13] = N * a + F * u + M * p + B * y),
                            (n[14] = N * c + F * d + M * g + B * C),
                            (n[15] = N * h + F * _ + M * m + B * T),
                            t
                        );
                    }),
                    (n.multiply = function (t) {
                        var e = this.mat,
                            i = t.mat,
                            n = e[0],
                            r = e[1],
                            s = e[2],
                            o = e[3],
                            a = e[4],
                            c = e[5],
                            h = e[6],
                            l = e[7],
                            u = e[8],
                            d = e[9],
                            _ = e[10],
                            f = e[11],
                            p = e[12],
                            g = e[13],
                            m = e[14],
                            v = e[15],
                            y = i[0],
                            C = i[1],
                            T = i[2],
                            E = i[3],
                            x = i[4],
                            S = i[5],
                            b = i[6],
                            A = i[7],
                            R = i[8],
                            w = i[9],
                            I = i[10],
                            O = i[11],
                            L = i[12],
                            P = i[13],
                            D = i[14],
                            N = i[15];
                        return (
                            (e[0] = y * n + C * a + T * u + E * p),
                            (e[1] = y * r + C * c + T * d + E * g),
                            (e[2] = y * s + C * h + T * _ + E * m),
                            (e[3] = y * o + C * l + T * f + E * v),
                            (e[4] = x * n + S * a + b * u + A * p),
                            (e[5] = x * r + S * c + b * d + A * g),
                            (e[6] = x * s + S * h + b * _ + A * m),
                            (e[7] = x * o + S * l + b * f + A * v),
                            (e[8] = R * n + w * a + I * u + O * p),
                            (e[9] = R * r + w * c + I * d + O * g),
                            (e[10] = R * s + w * h + I * _ + O * m),
                            (e[11] = R * o + w * l + I * f + O * v),
                            (e[12] = L * n + P * a + D * u + N * p),
                            (e[13] = L * r + P * c + D * d + N * g),
                            (e[14] = L * s + P * h + D * _ + N * m),
                            (e[15] = L * o + P * l + D * f + N * v),
                            this
                        );
                    }),
                    (cc.math.getMat4MultiplyValue = function (t, e) {
                        var i = t.mat,
                            n = e.mat,
                            r = new Float32Array(16);
                        return (
                            (r[0] = i[0] * n[0] + i[4] * n[1] + i[8] * n[2] + i[12] * n[3]),
                            (r[1] = i[1] * n[0] + i[5] * n[1] + i[9] * n[2] + i[13] * n[3]),
                            (r[2] = i[2] * n[0] + i[6] * n[1] + i[10] * n[2] + i[14] * n[3]),
                            (r[3] = i[3] * n[0] + i[7] * n[1] + i[11] * n[2] + i[15] * n[3]),
                            (r[4] = i[0] * n[4] + i[4] * n[5] + i[8] * n[6] + i[12] * n[7]),
                            (r[5] = i[1] * n[4] + i[5] * n[5] + i[9] * n[6] + i[13] * n[7]),
                            (r[6] = i[2] * n[4] + i[6] * n[5] + i[10] * n[6] + i[14] * n[7]),
                            (r[7] = i[3] * n[4] + i[7] * n[5] + i[11] * n[6] + i[15] * n[7]),
                            (r[8] = i[0] * n[8] + i[4] * n[9] + i[8] * n[10] + i[12] * n[11]),
                            (r[9] = i[1] * n[8] + i[5] * n[9] + i[9] * n[10] + i[13] * n[11]),
                            (r[10] = i[2] * n[8] + i[6] * n[9] + i[10] * n[10] + i[14] * n[11]),
                            (r[11] = i[3] * n[8] + i[7] * n[9] + i[11] * n[10] + i[15] * n[11]),
                            (r[12] = i[0] * n[12] + i[4] * n[13] + i[8] * n[14] + i[12] * n[15]),
                            (r[13] = i[1] * n[12] + i[5] * n[13] + i[9] * n[14] + i[13] * n[15]),
                            (r[14] = i[2] * n[12] + i[6] * n[13] + i[10] * n[14] + i[14] * n[15]),
                            (r[15] = i[3] * n[12] + i[7] * n[13] + i[11] * n[14] + i[15] * n[15]),
                            r
                        );
                    }),
                    (cc.math.mat4Assign = function (t, e) {
                        if (t === e) return cc.logID(7901), t;
                        var i = t.mat,
                            n = e.mat;
                        return (
                            (i[0] = n[0]),
                            (i[1] = n[1]),
                            (i[2] = n[2]),
                            (i[3] = n[3]),
                            (i[4] = n[4]),
                            (i[5] = n[5]),
                            (i[6] = n[6]),
                            (i[7] = n[7]),
                            (i[8] = n[8]),
                            (i[9] = n[9]),
                            (i[10] = n[10]),
                            (i[11] = n[11]),
                            (i[12] = n[12]),
                            (i[13] = n[13]),
                            (i[14] = n[14]),
                            (i[15] = n[15]),
                            t
                        );
                    }),
                    (n.assignFrom = function (t) {
                        if (this === t) return cc.logID(7902), this;
                        var e = this.mat,
                            i = t.mat;
                        return (
                            (e[0] = i[0]),
                            (e[1] = i[1]),
                            (e[2] = i[2]),
                            (e[3] = i[3]),
                            (e[4] = i[4]),
                            (e[5] = i[5]),
                            (e[6] = i[6]),
                            (e[7] = i[7]),
                            (e[8] = i[8]),
                            (e[9] = i[9]),
                            (e[10] = i[10]),
                            (e[11] = i[11]),
                            (e[12] = i[12]),
                            (e[13] = i[13]),
                            (e[14] = i[14]),
                            (e[15] = i[15]),
                            this
                        );
                    }),
                    (n.equals = function (t) {
                        if (this === t) return cc.logID(7903), !0;
                        for (var e = this.mat, i = t.mat, n = cc.math.EPSILON, r = 0; r < 16; r++)
                            if (!(e[r] + n > i[r] && e[r] - n < i[r])) return !1;
                        return !0;
                    }),
                    (cc.math.Matrix4.createByRotationX = function (t, e) {
                        var i = (e = e || new cc.math.Matrix4()).mat;
                        return (
                            (i[0] = 1),
                            (i[3] = i[2] = i[1] = 0),
                            (i[4] = 0),
                            (i[5] = Math.cos(t)),
                            (i[6] = Math.sin(t)),
                            (i[7] = 0),
                            (i[8] = 0),
                            (i[9] = -Math.sin(t)),
                            (i[10] = Math.cos(t)),
                            (i[11] = 0),
                            (i[14] = i[13] = i[12] = 0),
                            (i[15] = 1),
                            e
                        );
                    }),
                    (cc.math.Matrix4.createByRotationY = function (t, e) {
                        var i = (e = e || new cc.math.Matrix4()).mat;
                        return (
                            (i[0] = Math.cos(t)),
                            (i[1] = 0),
                            (i[2] = -Math.sin(t)),
                            (i[3] = 0),
                            (i[7] = i[6] = i[4] = 0),
                            (i[5] = 1),
                            (i[8] = Math.sin(t)),
                            (i[9] = 0),
                            (i[10] = Math.cos(t)),
                            (i[11] = 0),
                            (i[14] = i[13] = i[12] = 0),
                            (i[15] = 1),
                            e
                        );
                    }),
                    (cc.math.Matrix4.createByRotationZ = function (t, e) {
                        var i = (e = e || new cc.math.Matrix4()).mat;
                        return (
                            (i[0] = Math.cos(t)),
                            (i[1] = Math.sin(t)),
                            (i[3] = i[2] = 0),
                            (i[4] = -Math.sin(t)),
                            (i[5] = Math.cos(t)),
                            (i[7] = i[6] = 0),
                            (i[11] = i[9] = i[8] = 0),
                            (i[10] = 1),
                            (i[14] = i[13] = i[12] = 0),
                            (i[15] = 1),
                            e
                        );
                    }),
                    (cc.math.Matrix4.createByPitchYawRoll = function (t, e, i, n) {
                        n = n || new cc.math.Matrix4();
                        var r = Math.cos(t),
                            s = Math.sin(t),
                            o = Math.cos(e),
                            a = Math.sin(e),
                            c = Math.cos(i),
                            h = Math.sin(i),
                            l = s * a,
                            u = r * a,
                            d = n.mat;
                        return (
                            (d[0] = o * c),
                            (d[4] = o * h),
                            (d[8] = -a),
                            (d[1] = l * c - r * h),
                            (d[5] = l * h + r * c),
                            (d[9] = s * o),
                            (d[2] = u * c + s * h),
                            (d[6] = u * h - s * c),
                            (d[10] = r * o),
                            (d[3] = d[7] = d[11] = 0),
                            (d[15] = 1),
                            n
                        );
                    }),
                    (cc.math.Matrix4.createByQuaternion = function (t, e) {
                        var i = (e = e || new cc.math.Matrix4()).mat;
                        return (
                            (i[0] = 1 - 2 * (t.y * t.y + t.z * t.z)),
                            (i[1] = 2 * (t.x * t.y + t.z * t.w)),
                            (i[2] = 2 * (t.x * t.z - t.y * t.w)),
                            (i[3] = 0),
                            (i[4] = 2 * (t.x * t.y - t.z * t.w)),
                            (i[5] = 1 - 2 * (t.x * t.x + t.z * t.z)),
                            (i[6] = 2 * (t.z * t.y + t.x * t.w)),
                            (i[7] = 0),
                            (i[8] = 2 * (t.x * t.z + t.y * t.w)),
                            (i[9] = 2 * (t.y * t.z - t.x * t.w)),
                            (i[10] = 1 - 2 * (t.x * t.x + t.y * t.y)),
                            (i[11] = 0),
                            (i[14] = i[13] = i[12] = 0),
                            (i[15] = 1),
                            e
                        );
                    }),
                    (cc.math.Matrix4.createByRotationTranslation = function (t, e, i) {
                        var n = (i = i || new cc.math.Matrix4()).mat,
                            r = t.mat;
                        return (
                            (n[0] = r[0]),
                            (n[1] = r[1]),
                            (n[2] = r[2]),
                            (n[3] = 0),
                            (n[4] = r[3]),
                            (n[5] = r[4]),
                            (n[6] = r[5]),
                            (n[7] = 0),
                            (n[8] = r[6]),
                            (n[9] = r[7]),
                            (n[10] = r[8]),
                            (n[11] = 0),
                            (n[12] = e.x),
                            (n[13] = e.y),
                            (n[14] = e.z),
                            (n[15] = 1),
                            i
                        );
                    }),
                    (cc.math.Matrix4.createByScale = function (t, e, i, n) {
                        var r = (n = n || new cc.math.Matrix4()).mat;
                        return (
                            (r[0] = t),
                            (r[5] = e),
                            (r[10] = i),
                            (r[15] = 1),
                            (r[1] = r[2] = r[3] = r[4] = r[6] = r[7] = r[8] = r[9] = r[11] = r[12] = r[13] = r[14] = 0),
                            n
                        );
                    }),
                    (cc.math.mat4Translation = function (t, e, i, n) {
                        return (
                            (t.mat[0] = t.mat[5] = t.mat[10] = t.mat[15] = 1),
                            (t.mat[1] =
                                t.mat[2] =
                                t.mat[3] =
                                t.mat[4] =
                                t.mat[6] =
                                t.mat[7] =
                                t.mat[8] =
                                t.mat[9] =
                                t.mat[11] =
                                    0),
                            (t.mat[12] = e),
                            (t.mat[13] = i),
                            (t.mat[14] = n),
                            t
                        );
                    }),
                    (cc.math.Matrix4.createByTranslation = function (t, e, i, n) {
                        return (
                            (n = n || new cc.math.Matrix4()).identity(),
                            (n.mat[12] = t),
                            (n.mat[13] = e),
                            (n.mat[14] = i),
                            n
                        );
                    }),
                    (n.getUpVec3 = function () {
                        var t = this.mat;
                        return new cc.math.Vec3(t[4], t[5], t[6]).normalize();
                    }),
                    (n.getRightVec3 = function () {
                        var t = this.mat;
                        return new cc.math.Vec3(t[0], t[1], t[2]).normalize();
                    }),
                    (n.getForwardVec3 = function () {
                        var t = this.mat;
                        return new cc.math.Vec3(t[8], t[9], t[10]).normalize();
                    }),
                    (cc.math.mat4PerspectiveProjection = function (t, e, i, n, r) {
                        var s = cc.degreesToRadians(e / 2),
                            o = r - n,
                            a = Math.sin(s);
                        if (0 === o || 0 === a || 0 === i) return null;
                        var c = Math.cos(s) / a;
                        return (
                            t.identity(),
                            (t.mat[0] = c / i),
                            (t.mat[5] = c),
                            (t.mat[10] = -(r + n) / o),
                            (t.mat[11] = -1),
                            (t.mat[14] = (-2 * n * r) / o),
                            (t.mat[15] = 0),
                            t
                        );
                    }),
                    (cc.math.Matrix4.createPerspectiveProjection = function (t, e, i, n) {
                        var r = cc.degreesToRadians(t / 2),
                            s = n - i,
                            o = Math.sin(r);
                        if (0 === s || 0 === o || 0 === e) return null;
                        var a = Math.cos(r) / o,
                            c = new cc.math.Matrix4(),
                            h = c.mat;
                        return (
                            c.identity(),
                            (h[0] = a / e),
                            (h[5] = a),
                            (h[10] = -(n + i) / s),
                            (h[11] = -1),
                            (h[14] = (-2 * i * n) / s),
                            (h[15] = 0),
                            c
                        );
                    }),
                    (cc.math.mat4OrthographicProjection = function (t, e, i, n, r, s, o) {
                        return (
                            t.identity(),
                            (t.mat[0] = 2 / (i - e)),
                            (t.mat[5] = 2 / (r - n)),
                            (t.mat[10] = -2 / (o - s)),
                            (t.mat[12] = -(i + e) / (i - e)),
                            (t.mat[13] = -(r + n) / (r - n)),
                            (t.mat[14] = -(o + s) / (o - s)),
                            t
                        );
                    }),
                    (cc.math.Matrix4.createOrthographicProjection = function (t, e, i, n, r, s) {
                        var o = new cc.math.Matrix4(),
                            a = o.mat;
                        return (
                            o.identity(),
                            (a[0] = 2 / (e - t)),
                            (a[5] = 2 / (n - i)),
                            (a[10] = -2 / (s - r)),
                            (a[12] = -(e + t) / (e - t)),
                            (a[13] = -(n + i) / (n - i)),
                            (a[14] = -(s + r) / (s - r)),
                            o
                        );
                    }),
                    (cc.math.mat4LookAt = function (t, e, i, n) {
                        var r = new cc.math.Vec3(i),
                            s = new cc.math.Vec3(n);
                        r.subtract(e), r.normalize(), s.normalize();
                        var o = new cc.math.Vec3(r);
                        o.cross(s), o.normalize();
                        var a = new cc.math.Vec3(o);
                        a.cross(r),
                            o.normalize(),
                            t.identity(),
                            (t.mat[0] = o.x),
                            (t.mat[4] = o.y),
                            (t.mat[8] = o.z),
                            (t.mat[1] = a.x),
                            (t.mat[5] = a.y),
                            (t.mat[9] = a.z),
                            (t.mat[2] = -r.x),
                            (t.mat[6] = -r.y),
                            (t.mat[10] = -r.z);
                        var c = cc.math.Matrix4.createByTranslation(-e.x, -e.y, -e.z);
                        return t.multiply(c), t;
                    });
                var s = new cc.math.Matrix4();
                (n.lookAt = function (t, e, i) {
                    var n = new cc.math.Vec3(e),
                        r = new cc.math.Vec3(i),
                        o = this.mat;
                    n.subtract(t), n.normalize(), r.normalize();
                    var a = new cc.math.Vec3(n);
                    a.cross(r), a.normalize();
                    var c = new cc.math.Vec3(a);
                    return (
                        c.cross(n),
                        a.normalize(),
                        this.identity(),
                        (o[0] = a.x),
                        (o[4] = a.y),
                        (o[8] = a.z),
                        (o[1] = c.x),
                        (o[5] = c.y),
                        (o[9] = c.z),
                        (o[2] = -n.x),
                        (o[6] = -n.y),
                        (o[10] = -n.z),
                        (s = cc.math.Matrix4.createByTranslation(-t.x, -t.y, -t.z, s)),
                        this.multiply(s),
                        this
                    );
                }),
                    (cc.math.mat4RotationAxisAngle = function (t, e, i) {
                        var n = Math.cos(i),
                            r = Math.sin(i),
                            s = new cc.math.Vec3(e);
                        return (
                            s.normalize(),
                            (t.mat[0] = n + s.x * s.x * (1 - n)),
                            (t.mat[1] = s.z * r + s.y * s.x * (1 - n)),
                            (t.mat[2] = -s.y * r + s.z * s.x * (1 - n)),
                            (t.mat[3] = 0),
                            (t.mat[4] = -s.z * r + s.x * s.y * (1 - n)),
                            (t.mat[5] = n + s.y * s.y * (1 - n)),
                            (t.mat[6] = s.x * r + s.z * s.y * (1 - n)),
                            (t.mat[7] = 0),
                            (t.mat[8] = s.y * r + s.x * s.z * (1 - n)),
                            (t.mat[9] = -s.x * r + s.y * s.z * (1 - n)),
                            (t.mat[10] = n + s.z * s.z * (1 - n)),
                            (t.mat[11] = 0),
                            (t.mat[12] = 0),
                            (t.mat[13] = 0),
                            (t.mat[14] = 0),
                            (t.mat[15] = 1),
                            t
                        );
                    }),
                    (cc.math.Matrix4.createByAxisAndAngle = function (t, e, i) {
                        i = i || new cc.math.Matrix4();
                        var n = this.mat,
                            r = Math.cos(e),
                            s = Math.sin(e),
                            o = new cc.math.Vec3(t);
                        return (
                            o.normalize(),
                            (n[0] = r + o.x * o.x * (1 - r)),
                            (n[1] = o.z * s + o.y * o.x * (1 - r)),
                            (n[2] = -o.y * s + o.z * o.x * (1 - r)),
                            (n[3] = 0),
                            (n[4] = -o.z * s + o.x * o.y * (1 - r)),
                            (n[5] = r + o.y * o.y * (1 - r)),
                            (n[6] = o.x * s + o.z * o.y * (1 - r)),
                            (n[7] = 0),
                            (n[8] = o.y * s + o.x * o.z * (1 - r)),
                            (n[9] = -o.x * s + o.y * o.z * (1 - r)),
                            (n[10] = r + o.z * o.z * (1 - r)),
                            (n[11] = 0),
                            (n[12] = n[13] = n[14] = 0),
                            (n[15] = 1),
                            i
                        );
                    }),
                    (n.extractRotation = function () {
                        var t = new cc.math.Matrix3(),
                            e = this.mat,
                            i = t.mat;
                        return (
                            (i[0] = e[0]),
                            (i[1] = e[1]),
                            (i[2] = e[2]),
                            (i[3] = e[4]),
                            (i[4] = e[5]),
                            (i[5] = e[6]),
                            (i[6] = e[8]),
                            (i[7] = e[9]),
                            (i[8] = e[10]),
                            t
                        );
                    }),
                    (n.extractPlane = function (t) {
                        var e = new cc.math.Plane(),
                            i = this.mat;
                        switch (t) {
                            case cc.math.Plane.RIGHT:
                                (e.a = i[3] - i[0]), (e.b = i[7] - i[4]), (e.c = i[11] - i[8]), (e.d = i[15] - i[12]);
                                break;
                            case cc.math.Plane.LEFT:
                                (e.a = i[3] + i[0]), (e.b = i[7] + i[4]), (e.c = i[11] + i[8]), (e.d = i[15] + i[12]);
                                break;
                            case cc.math.Plane.BOTTOM:
                                (e.a = i[3] + i[1]), (e.b = i[7] + i[5]), (e.c = i[11] + i[9]), (e.d = i[15] + i[13]);
                                break;
                            case cc.math.Plane.TOP:
                                (e.a = i[3] - i[1]), (e.b = i[7] - i[5]), (e.c = i[11] - i[9]), (e.d = i[15] - i[13]);
                                break;
                            case cc.math.Plane.FAR:
                                (e.a = i[3] - i[2]), (e.b = i[7] - i[6]), (e.c = i[11] - i[10]), (e.d = i[15] - i[14]);
                                break;
                            case cc.math.Plane.NEAR:
                                (e.a = i[3] + i[2]), (e.b = i[7] + i[6]), (e.c = i[11] + i[10]), (e.d = i[15] + i[14]);
                                break;
                            default:
                                cc.logID(7904);
                        }
                        var n = Math.sqrt(e.a * e.a + e.b * e.b + e.c * e.c);
                        return (e.a /= n), (e.b /= n), (e.c /= n), (e.d /= n), e;
                    }),
                    (n.toAxisAndAngle = function () {
                        var t = this.extractRotation();
                        return cc.math.Quaternion.rotationMatrix(t).toAxisAndAngle();
                    });
            },
            {},
        ],
        207: [
            function (t, e, i) {
                cc.math.Plane = function (t, e, i, n) {
                    t && void 0 === e
                        ? ((this.a = t.a), (this.b = t.b), (this.c = t.c), (this.d = t.d))
                        : ((this.a = t || 0), (this.b = e || 0), (this.c = i || 0), (this.d = n || 0));
                };
                var n = cc.math.Plane.prototype;
                (cc.math.Plane.LEFT = 0),
                    (cc.math.Plane.RIGHT = 1),
                    (cc.math.Plane.BOTTOM = 2),
                    (cc.math.Plane.TOP = 3),
                    (cc.math.Plane.NEAR = 4),
                    (cc.math.Plane.FAR = 5),
                    (cc.math.Plane.POINT_INFRONT_OF_PLANE = 0),
                    (cc.math.Plane.POINT_BEHIND_PLANE = 1),
                    (cc.math.Plane.POINT_ON_PLANE = 2),
                    (n.dot = function (t) {
                        return this.a * t.x + this.b * t.y + this.c * t.z + this.d * t.w;
                    }),
                    (n.dotCoord = function (t) {
                        return this.a * t.x + this.b * t.y + this.c * t.z + this.d;
                    }),
                    (n.dotNormal = function (t) {
                        return this.a * t.x + this.b * t.y + this.c * t.z;
                    }),
                    (cc.math.Plane.fromPointNormal = function (t, e) {
                        return new cc.math.Plane(e.x, e.y, e.z, -e.dot(t));
                    }),
                    (cc.math.Plane.fromPoints = function (t, e, i) {
                        var n = new cc.math.Vec3(e),
                            r = new cc.math.Vec3(i),
                            s = new cc.math.Plane();
                        return (
                            n.subtract(t),
                            r.subtract(t),
                            n.cross(r),
                            n.normalize(),
                            (s.a = n.x),
                            (s.b = n.y),
                            (s.c = n.z),
                            (s.d = n.scale(-1).dot(t)),
                            s
                        );
                    }),
                    (n.normalize = function () {
                        var t = new cc.math.Vec3(this.a, this.b, this.c),
                            e = 1 / t.length();
                        return (
                            t.normalize(), (this.a = t.x), (this.b = t.y), (this.c = t.z), (this.d = this.d * e), this
                        );
                    }),
                    (n.classifyPoint = function (t) {
                        var e = this.a * t.x + this.b * t.y + this.c * t.z + this.d;
                        return e > 0.001
                            ? cc.math.Plane.POINT_INFRONT_OF_PLANE
                            : e < -0.001
                            ? cc.math.Plane.POINT_BEHIND_PLANE
                            : cc.math.Plane.POINT_ON_PLANE;
                    });
            },
            {},
        ],
        208: [
            function (t, e, i) {
                cc.math.Quaternion = function (t, e, i, n) {
                    t && void 0 === e
                        ? ((this.x = t.x), (this.y = t.y), (this.z = t.z), (this.w = t.w))
                        : ((this.x = t || 0), (this.y = e || 0), (this.z = i || 0), (this.w = n || 0));
                };
                var n = cc.math.Quaternion.prototype;
                (n.conjugate = function (t) {
                    return (this.x = -t.x), (this.y = -t.y), (this.z = -t.z), (this.w = t.w), this;
                }),
                    (n.dot = function (t) {
                        return this.w * t.w + this.x * t.x + this.y * t.y + this.z * t.z;
                    }),
                    (n.exponential = function () {
                        return this;
                    }),
                    (n.identity = function () {
                        return (this.x = 0), (this.y = 0), (this.z = 0), (this.w = 1), this;
                    }),
                    (n.inverse = function () {
                        var t = this.length();
                        return Math.abs(t) > cc.math.EPSILON
                            ? ((this.x = 0), (this.y = 0), (this.z = 0), (this.w = 0), this)
                            : (this.conjugate(this).scale(1 / t), this);
                    }),
                    (n.isIdentity = function () {
                        return 0 === this.x && 0 === this.y && 0 === this.z && 1 === this.w;
                    }),
                    (n.length = function () {
                        return Math.sqrt(this.lengthSq());
                    }),
                    (n.lengthSq = function () {
                        return this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;
                    }),
                    (n.multiply = function (t) {
                        var e = this.x,
                            i = this.y,
                            n = this.z,
                            r = this.w;
                        return (
                            (this.w = r * t.w - e * t.x - i * t.y - n * t.z),
                            (this.x = r * t.x + e * t.w + i * t.z - n * t.y),
                            (this.y = r * t.y + i * t.w + n * t.x - e * t.z),
                            (this.z = r * t.z + n * t.w + e * t.y - i * t.x),
                            this
                        );
                    }),
                    (n.normalize = function () {
                        var t = this.length();
                        if (Math.abs(t) <= cc.math.EPSILON) throw new Error('current quaternion is an invalid value');
                        return this.scale(1 / t), this;
                    }),
                    (n.rotationAxis = function (t, e) {
                        var i = 0.5 * e,
                            n = Math.sin(i);
                        return (this.w = Math.cos(i)), (this.x = t.x * n), (this.y = t.y * n), (this.z = t.z * n), this;
                    }),
                    (cc.math.Quaternion.rotationMatrix = function (t) {
                        if (!t) return null;
                        var e,
                            i,
                            n,
                            r,
                            s = [],
                            o = t.mat,
                            a = 0;
                        (s[0] = o[0]),
                            (s[1] = o[3]),
                            (s[2] = o[6]),
                            (s[4] = o[1]),
                            (s[5] = o[4]),
                            (s[6] = o[7]),
                            (s[8] = o[2]),
                            (s[9] = o[5]),
                            (s[10] = o[8]),
                            (s[15] = 1);
                        var c = s[0],
                            h = c[0] + c[5] + c[10] + 1;
                        return (
                            h > cc.math.EPSILON
                                ? ((a = 2 * Math.sqrt(h)),
                                  (e = (c[9] - c[6]) / a),
                                  (i = (c[2] - c[8]) / a),
                                  (n = (c[4] - c[1]) / a),
                                  (r = 0.25 * a))
                                : c[0] > c[5] && c[0] > c[10]
                                ? ((e = 0.25 * (a = 2 * Math.sqrt(1 + c[0] - c[5] - c[10]))),
                                  (i = (c[4] + c[1]) / a),
                                  (n = (c[2] + c[8]) / a),
                                  (r = (c[9] - c[6]) / a))
                                : c[5] > c[10]
                                ? ((a = 2 * Math.sqrt(1 + c[5] - c[0] - c[10])),
                                  (e = (c[4] + c[1]) / a),
                                  (i = 0.25 * a),
                                  (n = (c[9] + c[6]) / a),
                                  (r = (c[2] - c[8]) / a))
                                : ((a = 2 * Math.sqrt(1 + c[10] - c[0] - c[5])),
                                  (e = (c[2] + c[8]) / a),
                                  (i = (c[9] + c[6]) / a),
                                  (n = 0.25 * a),
                                  (r = (c[4] - c[1]) / a)),
                            new cc.math.Quaternion(e, i, n, r)
                        );
                    }),
                    (cc.math.Quaternion.rotationYawPitchRoll = function (t, e, i) {
                        var n, r, s, o, a, c, h, l, u, d, _;
                        (n = cc.degreesToRadians(e) / 2),
                            (r = cc.degreesToRadians(t) / 2),
                            (s = cc.degreesToRadians(i) / 2),
                            (o = Math.cos(n)),
                            (a = Math.cos(r)),
                            (c = Math.cos(s)),
                            (h = Math.sin(n)),
                            (d = a * c),
                            (_ = (l = Math.sin(r)) * (u = Math.sin(s)));
                        var f = new cc.math.Quaternion();
                        return (
                            (f.w = o * d + h * _),
                            (f.x = h * d - o * _),
                            (f.y = o * l * c + h * a * u),
                            (f.z = o * a * u - h * l * c),
                            f.normalize(),
                            f
                        );
                    }),
                    (n.slerp = function (t, e) {
                        if (this.x === t.x && this.y === t.y && this.z === t.z && this.w === t.w) return this;
                        var i = this.dot(t),
                            n = Math.acos(i),
                            r = Math.sqrt(1 - cc.math.square(i)),
                            s = Math.sin(e * n) / r,
                            o = Math.sin((1 - e) * n) / r,
                            a = new cc.math.Quaternion(t);
                        return this.scale(o), a.scale(s), this.add(a), this;
                    }),
                    (n.toAxisAndAngle = function () {
                        var t,
                            e,
                            i,
                            n = new cc.math.Vec3();
                        return (
                            (t = Math.acos(this.w)),
                            ((e = Math.sqrt(cc.math.square(this.x) + cc.math.square(this.y) + cc.math.square(this.z))) >
                                -cc.math.EPSILON &&
                                e < cc.math.EPSILON) ||
                            (e < 2 * Math.PI + cc.math.EPSILON && e > 2 * Math.PI - cc.math.EPSILON)
                                ? ((i = 0), (n.x = 0), (n.y = 0), (n.z = 1))
                                : ((i = 2 * t),
                                  (n.x = this.x / e),
                                  (n.y = this.y / e),
                                  (n.z = this.z / e),
                                  n.normalize()),
                            {
                                axis: n,
                                angle: i,
                            }
                        );
                    }),
                    (n.scale = function (t) {
                        return (this.x *= t), (this.y *= t), (this.z *= t), (this.w *= t), this;
                    }),
                    (n.assignFrom = function (t) {
                        return (this.x = t.x), (this.y = t.y), (this.z = t.z), (this.w = t.w), this;
                    }),
                    (n.add = function (t) {
                        return (this.x += t.x), (this.y += t.y), (this.z += t.z), (this.w += t.w), this;
                    }),
                    (cc.math.Quaternion.rotationBetweenVec3 = function (t, e, i) {
                        var n = new cc.math.Vec3(t),
                            r = new cc.math.Vec3(e);
                        n.normalize(), r.normalize();
                        var s = n.dot(r),
                            o = new cc.math.Quaternion();
                        if (s >= 1) return o.identity(), o;
                        if (s < 1e-6 - 1)
                            if (Math.abs(i.lengthSq()) < cc.math.EPSILON) o.rotationAxis(i, Math.PI);
                            else {
                                var a = new cc.math.Vec3(1, 0, 0);
                                a.cross(t),
                                    Math.abs(a.lengthSq()) < cc.math.EPSILON && (a.fill(0, 1, 0), a.cross(t)),
                                    a.normalize(),
                                    o.rotationAxis(a, Math.PI);
                            }
                        else {
                            var c = Math.sqrt(2 * (1 + s)),
                                h = 1 / c;
                            n.cross(r),
                                (o.x = n.x * h),
                                (o.y = n.y * h),
                                (o.z = n.z * h),
                                (o.w = 0.5 * c),
                                o.normalize();
                        }
                        return o;
                    }),
                    (n.multiplyVec3 = function (t) {
                        var e = this.x,
                            i = this.y,
                            n = this.z,
                            r = new cc.math.Vec3(t),
                            s = new cc.math.Vec3(e, i, n),
                            o = new cc.math.Vec3(e, i, n);
                        return s.cross(t), o.cross(s), s.scale(2 * q.w), o.scale(2), r.add(s), r.add(o), r;
                    });
            },
            {},
        ],
        209: [
            function (t, e, i) {
                function n(t, e, i) {
                    var n = new cc.math.Vec2(e);
                    n.subtract(t), (i.x = -n.y), (i.y = n.x), i.normalize();
                }
                (cc.math.Ray2 = function (t, e) {
                    (this.start = t || new cc.math.Vec2()), (this.dir = e || new cc.math.Vec2());
                }),
                    (cc.math.Ray2.prototype.fill = function (t, e, i, n) {
                        (this.start.x = t), (this.start.y = e), (this.dir.x = i), (this.dir.y = n);
                    }),
                    (cc.math.Ray2.prototype.intersectLineSegment = function (t, e, i) {
                        var n,
                            r,
                            s,
                            o = this.start.x,
                            a = this.start.y,
                            c = this.start.x + this.dir.x,
                            h = this.start.y + this.dir.y,
                            l = t.x,
                            u = t.y,
                            d = e.x,
                            _ = e.y,
                            f = (_ - u) * (c - o) - (d - l) * (h - a);
                        return (
                            !(f > -cc.math.EPSILON && f < cc.math.EPSILON) &&
                            ((n = ((d - l) * (a - u) - (_ - u) * (o - l)) / f),
                            (r = o + n * (c - o)),
                            (s = a + n * (h - a)),
                            !(
                                r < Math.min(t.x, e.x) - cc.math.EPSILON ||
                                r > Math.max(t.x, e.x) + cc.math.EPSILON ||
                                s < Math.min(t.y, e.y) - cc.math.EPSILON ||
                                s > Math.max(t.y, e.y) + cc.math.EPSILON
                            ) &&
                                !(
                                    r < Math.min(o, c) - cc.math.EPSILON ||
                                    r > Math.max(o, c) + cc.math.EPSILON ||
                                    s < Math.min(a, h) - cc.math.EPSILON ||
                                    s > Math.max(a, h) + cc.math.EPSILON
                                ) &&
                                ((i.x = r), (i.y = s), !0))
                        );
                    }),
                    (cc.math.Ray2.prototype.intersectTriangle = function (t, e, i, r, s) {
                        var o,
                            a = new cc.math.Vec2(),
                            c = new cc.math.Vec2(),
                            h = new cc.math.Vec2(),
                            l = 1e4,
                            u = !1;
                        return (
                            this.intersectLineSegment(t, e, a) &&
                                ((u = !0),
                                (o = a.subtract(this.start).length()) < l &&
                                    ((c.x = a.x), (c.y = a.y), (l = o), n(t, e, h))),
                            this.intersectLineSegment(e, i, a) &&
                                ((u = !0),
                                (o = a.subtract(this.start).length()) < l &&
                                    ((c.x = a.x), (c.y = a.y), (l = o), n(e, i, h))),
                            this.intersectLineSegment(i, t, a) &&
                                ((u = !0),
                                (o = a.subtract(this.start).length()) < l &&
                                    ((c.x = a.x), (c.y = a.y), (l = o), n(i, t, h))),
                            u && ((r.x = c.x), (r.y = c.y), s && ((s.x = h.x), (s.y = h.y))),
                            u
                        );
                    });
            },
            {},
        ],
        210: [
            function (t, e, i) {
                (cc.math = cc.math || {}),
                    (cc.math.EPSILON = 1 / 64),
                    (cc.math.square = function (t) {
                        return t * t;
                    }),
                    (cc.math.almostEqual = function (t, e) {
                        return t + cc.math.EPSILON > e && t - cc.math.EPSILON < e;
                    });
            },
            {},
        ],
        211: [
            function (t, e, i) {
                cc.math.Vec2 = function (t, e) {
                    void 0 === e ? ((this.x = t.x), (this.y = t.y)) : ((this.x = t || 0), (this.y = e || 0));
                };
                var n = cc.math.Vec2.prototype;
                (n.fill = function (t, e) {
                    (this.x = t), (this.y = e);
                }),
                    (n.length = function () {
                        return Math.sqrt(cc.math.square(this.x) + cc.math.square(this.y));
                    }),
                    (n.lengthSq = function () {
                        return cc.math.square(this.x) + cc.math.square(this.y);
                    }),
                    (n.normalize = function () {
                        var t = 1 / this.length();
                        return (this.x *= t), (this.y *= t), this;
                    }),
                    (cc.math.Vec2.add = function (t, e, i) {
                        return (t.x = e.x + i.x), (t.y = e.y + i.y), t;
                    }),
                    (n.add = function (t) {
                        return (this.x += t.x), (this.y += t.y), this;
                    }),
                    (n.dot = function (t) {
                        return this.x * t.x + this.y * t.y;
                    }),
                    (cc.math.Vec2.subtract = function (t, e, i) {
                        return (t.x = e.x - i.x), (t.y = e.y - i.y), t;
                    }),
                    (n.subtract = function (t) {
                        return (this.x -= t.x), (this.y -= t.y), this;
                    }),
                    (n.transform = function (t) {
                        var e = this.x,
                            i = this.y;
                        return (
                            (this.x = e * t.mat[0] + i * t.mat[3] + t.mat[6]),
                            (this.y = e * t.mat[1] + i * t.mat[4] + t.mat[7]),
                            this
                        );
                    }),
                    (cc.math.Vec2.scale = function (t, e, i) {
                        return (t.x = e.x * i), (t.y = e.y * i), t;
                    }),
                    (n.scale = function (t) {
                        return (this.x *= t), (this.y *= t), this;
                    }),
                    (n.equals = function (t) {
                        return (
                            this.x < t.x + cc.math.EPSILON &&
                            this.x > t.x - cc.math.EPSILON &&
                            this.y < t.y + cc.math.EPSILON &&
                            this.y > t.y - cc.math.EPSILON
                        );
                    });
            },
            {},
        ],
        212: [
            function (t, e, i) {
                (cc.math.Vec3 = cc.math.Vec3 =
                    function (t, e, i) {
                        t && void 0 === e
                            ? ((this.x = t.x), (this.y = t.y), (this.z = t.z))
                            : ((this.x = t || 0), (this.y = e || 0), (this.z = i || 0));
                    }),
                    (cc.math.vec3 = function (t, e, i) {
                        return new cc.math.Vec3(t, e, i);
                    });
                var n = cc.math.Vec3.prototype;
                (n.fill = function (t, e, i) {
                    return (
                        t && void 0 === e
                            ? ((this.x = t.x), (this.y = t.y), (this.z = t.z))
                            : ((this.x = t), (this.y = e), (this.z = i)),
                        this
                    );
                }),
                    (n.length = function () {
                        return Math.sqrt(cc.math.square(this.x) + cc.math.square(this.y) + cc.math.square(this.z));
                    }),
                    (n.lengthSq = function () {
                        return cc.math.square(this.x) + cc.math.square(this.y) + cc.math.square(this.z);
                    }),
                    (n.normalize = function () {
                        var t = 1 / this.length();
                        return (this.x *= t), (this.y *= t), (this.z *= t), this;
                    }),
                    (n.cross = function (t) {
                        var e = this.x,
                            i = this.y,
                            n = this.z;
                        return (
                            (this.x = i * t.z - n * t.y),
                            (this.y = n * t.x - e * t.z),
                            (this.z = e * t.y - i * t.x),
                            this
                        );
                    }),
                    (n.dot = function (t) {
                        return this.x * t.x + this.y * t.y + this.z * t.z;
                    }),
                    (n.add = function (t) {
                        return (this.x += t.x), (this.y += t.y), (this.z += t.z), this;
                    }),
                    (n.subtract = function (t) {
                        return (this.x -= t.x), (this.y -= t.y), (this.z -= t.z), this;
                    }),
                    (n.transform = function (t) {
                        var e = this.x,
                            i = this.y,
                            n = this.z,
                            r = t.mat;
                        return (
                            (this.x = e * r[0] + i * r[4] + n * r[8] + r[12]),
                            (this.y = e * r[1] + i * r[5] + n * r[9] + r[13]),
                            (this.z = e * r[2] + i * r[6] + n * r[10] + r[14]),
                            this
                        );
                    }),
                    (n.transformNormal = function (t) {
                        var e = this.x,
                            i = this.y,
                            n = this.z,
                            r = t.mat;
                        return (
                            (this.x = e * r[0] + i * r[4] + n * r[8]),
                            (this.y = e * r[1] + i * r[5] + n * r[9]),
                            (this.z = e * r[2] + i * r[6] + n * r[10]),
                            this
                        );
                    }),
                    (n.transformCoord = function (t) {
                        var e = new cc.math.Vec4(this.x, this.y, this.z, 1);
                        return e.transform(t), (this.x = e.x / e.w), (this.y = e.y / e.w), (this.z = e.z / e.w), this;
                    }),
                    (n.scale = function (t) {
                        return (this.x *= t), (this.y *= t), (this.z *= t), this;
                    }),
                    (n.equals = function (t) {
                        var e = cc.math.EPSILON;
                        return (
                            this.x < t.x + e &&
                            this.x > t.x - e &&
                            this.y < t.y + e &&
                            this.y > t.y - e &&
                            this.z < t.z + e &&
                            this.z > t.z - e
                        );
                    }),
                    (n.inverseTransform = function (t) {
                        var e = t.mat,
                            i = new cc.math.Vec3(this.x - e[12], this.y - e[13], this.z - e[14]);
                        return (
                            (this.x = i.x * e[0] + i.y * e[1] + i.z * e[2]),
                            (this.y = i.x * e[4] + i.y * e[5] + i.z * e[6]),
                            (this.z = i.x * e[8] + i.y * e[9] + i.z * e[10]),
                            this
                        );
                    }),
                    (n.inverseTransformNormal = function (t) {
                        var e = this.x,
                            i = this.y,
                            n = this.z,
                            r = t.mat;
                        return (
                            (this.x = e * r[0] + i * r[1] + n * r[2]),
                            (this.y = e * r[4] + i * r[5] + n * r[6]),
                            (this.z = e * r[8] + i * r[9] + n * r[10]),
                            this
                        );
                    }),
                    (n.assignFrom = function (t) {
                        return t ? ((this.x = t.x), (this.y = t.y), (this.z = t.z), this) : this;
                    }),
                    (cc.math.Vec3.zero = function (t) {
                        return (t.x = t.y = t.z = 0), t;
                    }),
                    (n.toTypeArray = function () {
                        var t = new Float32Array(3);
                        return (t[0] = this.x), (t[1] = this.y), (t[2] = this.z), t;
                    });
            },
            {},
        ],
        213: [
            function (t, e, i) {
                cc.math.Vec4 = function (t, e, i, n) {
                    t && void 0 === e
                        ? ((this.x = t.x), (this.y = t.y), (this.z = t.z), (this.w = t.w))
                        : ((this.x = t || 0), (this.y = e || 0), (this.z = i || 0), (this.w = n || 0));
                };
                var n = cc.math.Vec4.prototype;
                (n.fill = function (t, e, i, n) {
                    t && void 0 === e
                        ? ((this.x = t.x), (this.y = t.y), (this.z = t.z), (this.w = t.w))
                        : ((this.x = t), (this.y = e), (this.z = i), (this.w = n));
                }),
                    (n.add = function (t) {
                        return t ? ((this.x += t.x), (this.y += t.y), (this.z += t.z), (this.w += t.w), this) : this;
                    }),
                    (n.dot = function (t) {
                        return this.x * t.x + this.y * t.y + this.z * t.z + this.w * t.w;
                    }),
                    (n.length = function () {
                        return Math.sqrt(
                            cc.math.square(this.x) +
                                cc.math.square(this.y) +
                                cc.math.square(this.z) +
                                cc.math.square(this.w),
                        );
                    }),
                    (n.lengthSq = function () {
                        return (
                            cc.math.square(this.x) +
                            cc.math.square(this.y) +
                            cc.math.square(this.z) +
                            cc.math.square(this.w)
                        );
                    }),
                    (n.lerp = function (t, e) {
                        return this;
                    }),
                    (n.normalize = function () {
                        var t = 1 / this.length();
                        return (this.x *= t), (this.y *= t), (this.z *= t), (this.w *= t), this;
                    }),
                    (n.scale = function (t) {
                        return this.normalize(), (this.x *= t), (this.y *= t), (this.z *= t), (this.w *= t), this;
                    }),
                    (n.subtract = function (t) {
                        (this.x -= t.x), (this.y -= t.y), (this.z -= t.z), (this.w -= t.w);
                    }),
                    (n.transform = function (t) {
                        var e = this.x,
                            i = this.y,
                            n = this.z,
                            r = this.w,
                            s = t.mat;
                        return (
                            (this.x = e * s[0] + i * s[4] + n * s[8] + r * s[12]),
                            (this.y = e * s[1] + i * s[5] + n * s[9] + r * s[13]),
                            (this.z = e * s[2] + i * s[6] + n * s[10] + r * s[14]),
                            (this.w = e * s[3] + i * s[7] + n * s[11] + r * s[15]),
                            this
                        );
                    }),
                    (cc.math.Vec4.transformArray = function (t, e) {
                        for (var i = [], n = 0; n < t.length; n++) {
                            var r = new cc.math.Vec4(t[n]);
                            r.transform(e), i.push(r);
                        }
                        return i;
                    }),
                    (n.equals = function (t) {
                        var e = cc.math.EPSILON;
                        return (
                            this.x < t.x + e &&
                            this.x > t.x - e &&
                            this.y < t.y + e &&
                            this.y > t.y - e &&
                            this.z < t.z + e &&
                            this.z > t.z - e &&
                            this.w < t.w + e &&
                            this.w > t.w - e
                        );
                    }),
                    (n.assignFrom = function (t) {
                        return (this.x = t.x), (this.y = t.y), (this.z = t.z), (this.w = t.w), this;
                    }),
                    (n.toTypeArray = function () {
                        var t = new Float32Array(4);
                        return (t[0] = this.x), (t[1] = this.y), (t[2] = this.z), (t[3] = this.w), t;
                    });
            },
            {},
        ],
        214: [
            function (t, e, i) {
                var n = t('../compression/zlib.min'),
                    r = cc._Class.extend({
                        ctor: function (t) {
                            var e, i, n, r, s, o, a, c, h, l, u, d, _;
                            for (
                                this.data = t,
                                    this.pos = 8,
                                    this.palette = [],
                                    this.imgData = [],
                                    this.transparency = {},
                                    this.animation = null,
                                    this.text = {},
                                    s = null;
                                ;

                            ) {
                                switch (
                                    ((e = this.readUInt32()),
                                    (c = function () {
                                        var t, e;
                                        for (e = [], t = 0; t < 4; ++t)
                                            e.push(String.fromCharCode(this.data[this.pos++]));
                                        return e;
                                    }
                                        .call(this)
                                        .join('')))
                                ) {
                                    case 'IHDR':
                                        (this.width = this.readUInt32()),
                                            (this.height = this.readUInt32()),
                                            (this.bits = this.data[this.pos++]),
                                            (this.colorType = this.data[this.pos++]),
                                            (this.compressionMethod = this.data[this.pos++]),
                                            (this.filterMethod = this.data[this.pos++]),
                                            (this.interlaceMethod = this.data[this.pos++]);
                                        break;
                                    case 'acTL':
                                        this.animation = {
                                            numFrames: this.readUInt32(),
                                            numPlays: this.readUInt32() || 1 / 0,
                                            frames: [],
                                        };
                                        break;
                                    case 'PLTE':
                                        this.palette = this.read(e);
                                        break;
                                    case 'fcTL':
                                        s && this.animation.frames.push(s),
                                            (this.pos += 4),
                                            (s = {
                                                width: this.readUInt32(),
                                                height: this.readUInt32(),
                                                xOffset: this.readUInt32(),
                                                yOffset: this.readUInt32(),
                                            }),
                                            (r = this.readUInt16()),
                                            (n = this.readUInt16() || 100),
                                            (s.delay = (1e3 * r) / n),
                                            (s.disposeOp = this.data[this.pos++]),
                                            (s.blendOp = this.data[this.pos++]),
                                            (s.data = []);
                                        break;
                                    case 'IDAT':
                                    case 'fdAT':
                                        for (
                                            'fdAT' === c && ((this.pos += 4), (e -= 4)),
                                                t = (null != s ? s.data : void 0) || this.imgData,
                                                u = 0;
                                            0 <= e ? u < e : u > e;
                                            0 <= e ? ++u : --u
                                        )
                                            t.push(this.data[this.pos++]);
                                        break;
                                    case 'tRNS':
                                        switch (((this.transparency = {}), this.colorType)) {
                                            case 3:
                                                if (
                                                    ((this.transparency.indexed = this.read(e)),
                                                    (h = 255 - this.transparency.indexed.length) > 0)
                                                )
                                                    for (d = 0; 0 <= h ? d < h : d > h; 0 <= h ? ++d : --d)
                                                        this.transparency.indexed.push(255);
                                                break;
                                            case 0:
                                                this.transparency.grayscale = this.read(e)[0];
                                                break;
                                            case 2:
                                                this.transparency.rgb = this.read(e);
                                        }
                                        break;
                                    case 'tEXt':
                                        (o = (l = this.read(e)).indexOf(0)),
                                            (a = String.fromCharCode.apply(String, l.slice(0, o))),
                                            (this.text[a] = String.fromCharCode.apply(String, l.slice(o + 1)));
                                        break;
                                    case 'IEND':
                                        return (
                                            s && this.animation.frames.push(s),
                                            (this.colors = function () {
                                                switch (this.colorType) {
                                                    case 0:
                                                    case 3:
                                                    case 4:
                                                        return 1;
                                                    case 2:
                                                    case 6:
                                                        return 3;
                                                }
                                            }.call(this)),
                                            (this.hasAlphaChannel = 4 === (_ = this.colorType) || 6 === _),
                                            (i = this.colors + (this.hasAlphaChannel ? 1 : 0)),
                                            (this.pixelBitlength = this.bits * i),
                                            (this.colorSpace = function () {
                                                switch (this.colors) {
                                                    case 1:
                                                        return 'DeviceGray';
                                                    case 3:
                                                        return 'DeviceRGB';
                                                }
                                            }.call(this)),
                                            void (Uint8Array != Array && (this.imgData = new Uint8Array(this.imgData)))
                                        );
                                    default:
                                        this.pos += e;
                                }
                                if (((this.pos += 4), this.pos > this.data.length))
                                    throw new Error('Incomplete or corrupt PNG file');
                            }
                        },
                        read: function (t) {
                            var e, i;
                            for (i = [], e = 0; 0 <= t ? e < t : e > t; 0 <= t ? ++e : --e)
                                i.push(this.data[this.pos++]);
                            return i;
                        },
                        readUInt32: function () {
                            var t, e, i, n;
                            return (
                                (t = this.data[this.pos++] << 24),
                                (e = this.data[this.pos++] << 16),
                                (i = this.data[this.pos++] << 8),
                                (n = this.data[this.pos++]),
                                t | e | i | n
                            );
                        },
                        readUInt16: function () {
                            var t, e;
                            return (t = this.data[this.pos++] << 8), (e = this.data[this.pos++]), t | e;
                        },
                        decodePixels: function (t) {
                            var e, i, r, s, o, a, c, h, l, u, d, _, f, p, g, m, v, y, C, T, E, x, S;
                            if ((null == t && (t = this.imgData), 0 === t.length)) return new Uint8Array(0);
                            for (
                                t = new n.Inflate(t, {
                                    index: 0,
                                    verify: !1,
                                }).decompress(),
                                    m = (_ = this.pixelBitlength / 8) * this.width,
                                    f = new Uint8Array(m * this.height),
                                    a = t.length,
                                    g = 0,
                                    p = 0,
                                    i = 0;
                                p < a;

                            ) {
                                switch (t[p++]) {
                                    case 0:
                                        for (s = C = 0; C < m; s = C += 1) f[i++] = t[p++];
                                        break;
                                    case 1:
                                        for (s = T = 0; T < m; s = T += 1)
                                            (e = t[p++]), (o = s < _ ? 0 : f[i - _]), (f[i++] = (e + o) % 256);
                                        break;
                                    case 2:
                                        for (s = E = 0; E < m; s = E += 1)
                                            (e = t[p++]),
                                                (r = (s - (s % _)) / _),
                                                (v = g && f[(g - 1) * m + r * _ + (s % _)]),
                                                (f[i++] = (v + e) % 256);
                                        break;
                                    case 3:
                                        for (s = x = 0; x < m; s = x += 1)
                                            (e = t[p++]),
                                                (r = (s - (s % _)) / _),
                                                (o = s < _ ? 0 : f[i - _]),
                                                (v = g && f[(g - 1) * m + r * _ + (s % _)]),
                                                (f[i++] = (e + Math.floor((o + v) / 2)) % 256);
                                        break;
                                    case 4:
                                        for (s = S = 0; S < m; s = S += 1)
                                            (e = t[p++]),
                                                (r = (s - (s % _)) / _),
                                                (o = s < _ ? 0 : f[i - _]),
                                                0 === g
                                                    ? (v = y = 0)
                                                    : ((v = f[(g - 1) * m + r * _ + (s % _)]),
                                                      (y = r && f[(g - 1) * m + (r - 1) * _ + (s % _)])),
                                                (c = o + v - y),
                                                (h = Math.abs(c - o)),
                                                (u = Math.abs(c - v)),
                                                (d = Math.abs(c - y)),
                                                (l = h <= u && h <= d ? o : u <= d ? v : y),
                                                (f[i++] = (e + l) % 256);
                                        break;
                                    default:
                                        throw new Error('Invalid filter algorithm: ' + t[p - 1]);
                                }
                                g++;
                            }
                            return f;
                        },
                        copyToImageData: function (t, e) {
                            var i, n, r, s, o, a, c, h, l, u, d;
                            if (
                                ((n = this.colors),
                                (l = null),
                                (i = this.hasAlphaChannel),
                                this.palette.length &&
                                    ((l =
                                        null != (d = this._decodedPalette)
                                            ? d
                                            : (this._decodedPalette = this.decodePalette())),
                                    (n = 4),
                                    (i = !0)),
                                (r = t.data || t),
                                (h = r.length),
                                (o = l || e),
                                (s = a = 0),
                                1 === n)
                            )
                                for (; s < h; )
                                    (c = l ? 4 * e[s / 4] : a),
                                        (u = o[c++]),
                                        (r[s++] = u),
                                        (r[s++] = u),
                                        (r[s++] = u),
                                        (r[s++] = i ? o[c++] : 255),
                                        (a = c);
                            else
                                for (; s < h; )
                                    (c = l ? 4 * e[s / 4] : a),
                                        (r[s++] = o[c++]),
                                        (r[s++] = o[c++]),
                                        (r[s++] = o[c++]),
                                        (r[s++] = i ? o[c++] : 255),
                                        (a = c);
                        },
                        decodePalette: function () {
                            var t, e, i, n, r, s, o, a, c;
                            for (
                                i = this.palette,
                                    s = this.transparency.indexed || [],
                                    r = new Uint8Array((s.length || 0) + i.length),
                                    n = 0,
                                    t = 0,
                                    e = o = 0,
                                    a = i.length;
                                o < a;
                                e = o += 3
                            )
                                (r[n++] = i[e]),
                                    (r[n++] = i[e + 1]),
                                    (r[n++] = i[e + 2]),
                                    (r[n++] = null != (c = s[t++]) ? c : 255);
                            return r;
                        },
                        render: function (t) {
                            var e, i;
                            return (
                                (t.width = this.width),
                                (t.height = this.height),
                                (e = t.getContext('2d')),
                                (i = e.createImageData(this.width, this.height)),
                                this.copyToImageData(i, this.decodePixels()),
                                e.putImageData(i, 0, 0)
                            );
                        },
                    });
                e.exports = r;
            },
            {
                '../compression/zlib.min': 31,
            },
        ],
        215: [
            function (t, e, i) {
                var n = cc.Class({
                    name: 'cc.ParticleAsset',
                    extends: cc.RawAsset,
                });
                cc.ParticleAsset = e.exports = n;
            },
            {},
        ],
        216: [
            function (t, e, i) {
                t('./CCParticleAsset'),
                    t('./CCSGParticleSystem'),
                    t('./CCSGParticleSystemCanvasRenderCmd'),
                    t('./CCSGParticleSystemWebGLRenderCmd');
                var n = cc.BlendFunc.BlendFactor,
                    r = cc.Enum({
                        GRAVITY: 0,
                        RADIUS: 1,
                    }),
                    s = cc.Enum({
                        FREE: 0,
                        RELATIVE: 1,
                        GROUPED: 2,
                    }),
                    o = {
                        preview: {
                            default: !0,
                            editorOnly: !0,
                            notify: !1,
                            animatable: !1,
                            tooltip: !1,
                        },
                        _custom: !1,
                        custom: {
                            get: function () {
                                return this._custom;
                            },
                            set: function (t) {
                                this._custom !== t &&
                                    ((this._custom = t), t ? this._applyCustoms() : this._applyFile());
                            },
                            animatable: !1,
                            tooltip: !1,
                        },
                        _file: {
                            default: '',
                            url: cc.ParticleAsset,
                        },
                        file: {
                            get: function () {
                                return this._file;
                            },
                            set: function (t, e) {
                                this._file !== t && ((this._file = t), t ? this._applyFile() : (this.custom = !0));
                            },
                            animatable: !1,
                            url: cc.ParticleAsset,
                            tooltip: !1,
                        },
                        _texture: {
                            default: '',
                            url: cc.Texture2D,
                        },
                        texture: {
                            get: function () {
                                return this._texture;
                            },
                            set: function (t) {
                                (this._texture = t),
                                    (this._sgNode.texture = t ? cc.textureCache.addImage(t) : null),
                                    !t && this._file && this._applyFile();
                            },
                            url: cc.Texture2D,
                            tooltip: !1,
                        },
                        particleCount: {
                            get: function () {
                                return this._sgNode.particleCount;
                            },
                            set: function (t) {
                                this._sgNode.particleCount = t;
                            },
                            visible: !1,
                            tooltip: !1,
                        },
                        _srcBlendFactor: n.SRC_ALPHA,
                        srcBlendFactor: {
                            get: function () {
                                return this._srcBlendFactor;
                            },
                            set: function (t) {
                                (this._srcBlendFactor = t),
                                    (this._blendFunc.src = t),
                                    this._sgNode.setBlendFunc(this._blendFunc);
                            },
                            animatable: !1,
                            type: n,
                            tooltip: !1,
                        },
                        _dstBlendFactor: n.ONE_MINUS_SRC_ALPHA,
                        dstBlendFactor: {
                            get: function () {
                                return this._dstBlendFactor;
                            },
                            set: function (t) {
                                (this._dstBlendFactor = t),
                                    (this._blendFunc.dst = t),
                                    this._sgNode.setBlendFunc(this._blendFunc);
                            },
                            animatable: !1,
                            type: n,
                            tooltip: !1,
                        },
                        playOnLoad: !0,
                        _autoRemoveOnFinish: !1,
                        autoRemoveOnFinish: {
                            get: function () {
                                return this._autoRemoveOnFinish;
                            },
                            set: function (t) {
                                this._autoRemoveOnFinish !== t &&
                                    ((this._autoRemoveOnFinish = t), this._applyAutoRemove());
                            },
                            animatable: !1,
                            tooltip: !1,
                        },
                        active: {
                            get: function () {
                                return !!this._sgNode && this._sgNode.isActive();
                            },
                            visible: !1,
                        },
                    },
                    a = (function () {
                        for (
                            var t = {
                                    totalParticles: 150,
                                    duration: -1,
                                    emissionRate: 10,
                                    life: 1,
                                    lifeVar: 0,
                                    startColor: cc.Color.WHITE,
                                    startColorVar: cc.Color.BLACK,
                                    endColor: cc.color(255, 255, 255, 0),
                                    endColorVar: cc.color(0, 0, 0, 0),
                                    angle: 90,
                                    angleVar: 20,
                                    startSize: 50,
                                    startSizeVar: 0,
                                    endSize: 0,
                                    endSizeVar: 0,
                                    startSpin: 0,
                                    startSpinVar: 0,
                                    endSpin: 0,
                                    endSpinVar: 0,
                                    sourcePos: cc.p(0, 0),
                                    posVar: cc.p(0, 0),
                                    positionType: s.FREE,
                                    emitterMode: r.GRAVITY,
                                    gravity: cc.p(0, 0),
                                    speed: 180,
                                    speedVar: 50,
                                    tangentialAccel: 80,
                                    tangentialAccelVar: 0,
                                    radialAccel: 0,
                                    radialAccelVar: 0,
                                    rotationIsDir: !1,
                                    startRadius: 0,
                                    startRadiusVar: 0,
                                    endRadius: 0,
                                    endRadiusVar: 0,
                                    rotatePerS: 0,
                                    rotatePerSVar: 0,
                                },
                                e = Object.keys(t),
                                i = 0;
                            i < e.length;
                            ++i
                        ) {
                            var n = e[i];
                            (function (t, e) {
                                var i = '_' + t;
                                o[i] = e;
                                var n = e.constructor,
                                    r = (o[t] = {});
                                cc.isChildClassOf(n, cc.ValueType)
                                    ? ((r.get = function () {
                                          return new n(this[i]);
                                      }),
                                      (r.type = n))
                                    : (r.get = function () {
                                          return this[i];
                                      }),
                                    cc.isChildClassOf(n, cc.ValueType)
                                        ? (r.set = function (e) {
                                              (this[i] = new n(e)), (this._sgNode[t] = e);
                                          })
                                        : (r.set = function (e) {
                                              (this[i] = e), (this._sgNode[t] = e);
                                          });
                            })(n, t[n]);
                        }
                        return e;
                    })();
                (o.positionType.type = s), (o.emitterMode.type = r);
                var c = cc.Class({
                    name: 'cc.ParticleSystem',
                    extends: cc._RendererUnderSG,
                    editor: !1,
                    ctor: function () {
                        (this._previewTimer = null),
                            (this._focused = !1),
                            (this._willStart = !1),
                            (this._blendFunc = new cc.BlendFunc(0, 0)),
                            (this._originOnExit = null);
                    },
                    properties: o,
                    statics: {
                        DURATION_INFINITY: -1,
                        START_SIZE_EQUAL_TO_END_SIZE: -1,
                        START_RADIUS_EQUAL_TO_END_RADIUS: -1,
                        EmitterMode: r,
                        PositionType: s,
                    },
                    __preload: function () {
                        this._super(), this.playOnLoad && this.resetSystem(), this._applyAutoRemove();
                    },
                    onDestroy: function () {
                        this._autoRemoveOnFinish && (this.autoRemoveOnFinish = !1), this._super();
                    },
                    onFocusInEditor: !1,
                    onLostFocusInEditor: !1,
                    _createSgNode: function () {
                        return new _ccsg.ParticleSystem();
                    },
                    _initSgNode: function () {
                        var t = this._sgNode;
                        if (this._file)
                            if (this._custom) {
                                !this._texture ? this._applyFile() : this._applyCustoms();
                            } else this._applyFile();
                        else this._custom && this._applyCustoms();
                        t.stopSystem();
                    },
                    addParticle: function () {
                        return this._sgNode.addParticle();
                    },
                    stopSystem: function () {
                        this._sgNode.stopSystem();
                    },
                    resetSystem: function () {
                        this._sgNode.resetSystem();
                    },
                    isFull: function () {
                        return this.particleCount >= this._totalParticles;
                    },
                    setDisplayFrame: function (t) {
                        if (t) {
                            var e = t.getTexture();
                            e && (this._texture = e.url), this._sgNode.setDisplayFrame(t);
                        }
                    },
                    setTextureWithRect: function (t, e) {
                        t instanceof cc.Texture2D && (this._texture = t.url), this._sgNode.setTextureWithRect(t, e);
                    },
                    _applyFile: function () {
                        var t = this._file;
                        if (t) {
                            var e = this;
                            cc.loader.load(t, function (i, n) {
                                if (i || !n) throw i || new Error('Unkown error');
                                if (e.isValid) {
                                    var r = e._sgNode;
                                    r.particleCount = 0;
                                    var s = r.isActive();
                                    r.initWithFile(t),
                                        n.textureUuid &&
                                            cc.AssetLibrary.queryAssetInfo(n.textureUuid, function (t, i, n) {
                                                t ? cc.error(t) : (e.texture = i);
                                            }),
                                        n.emissionRate && (e.emissionRate = n.emissionRate),
                                        r.setPosition(0, 0),
                                        s || r.stopSystem(),
                                        e._applyAutoRemove(),
                                        e._custom && e._applyCustoms();
                                }
                            });
                        }
                    },
                    _applyCustoms: function () {
                        for (var t = this._sgNode, e = t.isActive(), i = 0; i < a.length; i++) {
                            var n = a[i];
                            t[n] = this['_' + n];
                        }
                        (this._blendFunc.src = this._srcBlendFactor),
                            (this._blendFunc.dst = this._dstBlendFactor),
                            t.setBlendFunc(this._blendFunc),
                            this._texture && (t.texture = cc.textureCache.addImage(this._texture)),
                            e || t.stopSystem(),
                            this._applyAutoRemove();
                    },
                    _applyAutoRemove: function () {
                        var t = this._sgNode,
                            e = this._autoRemoveOnFinish;
                        if (((t.autoRemoveOnFinish = e), e)) {
                            if (this._originOnExit) return;
                            this._originOnExit = t.onExit;
                            var i = this;
                            t.onExit = function () {
                                i._originOnExit.call(this), i.node.destroy();
                            };
                        } else this._originOnExit && ((t.onExit = this._originOnExit), (this._originOnExit = null));
                    },
                });
                cc.ParticleSystem = e.exports = c;
            },
            {
                './CCParticleAsset': 215,
                './CCSGParticleSystem': 217,
                './CCSGParticleSystemCanvasRenderCmd': 218,
                './CCSGParticleSystemWebGLRenderCmd': 219,
            },
        ],
        217: [
            function (t, e, i) {
                var n = t('./CCPNGReader'),
                    r = t('./CCTIFFReader');
                t('../compression/ZipUtils'),
                    (cc.Particle = function (t, e, i, n, r, s, o, a, c, h, l) {
                        (this.pos = t || cc.v2(0, 0)),
                            (this.startPos = e || cc.v2(0, 0)),
                            (this.color = i || cc.color(0, 0, 0, 255)),
                            (this.deltaColor = n || {
                                r: 0,
                                g: 0,
                                b: 0,
                                a: 255,
                            }),
                            (this.size = r || 0),
                            (this.deltaSize = s || 0),
                            (this.rotation = o || 0),
                            (this.deltaRotation = a || 0),
                            (this.timeToLive = c || 0),
                            (this.modeA = h || new cc.Particle.ModeA()),
                            (this.modeB = l || new cc.Particle.ModeB()),
                            (this.isChangeColor = !1),
                            (this.drawPos = cc.p(0, 0));
                    }),
                    (cc.Particle.ModeA = function (t, e, i) {
                        (this.dir = t || cc.p(0, 0)), (this.radialAccel = e || 0), (this.tangentialAccel = i || 0);
                    }),
                    (cc.Particle.ModeB = function (t, e, i, n) {
                        (this.angle = t || 0),
                            (this.degreesPerSecond = e || 0),
                            (this.radius = i || 0),
                            (this.deltaRadius = n || 0);
                    }),
                    (cc.Particle.TemporaryPoints = [cc.p(), cc.p(), cc.p(), cc.p()]),
                    (_ccsg.ParticleSystem = _ccsg.Node.extend({
                        _className: 'ParticleSystem',
                        _plistFile: '',
                        _elapsed: 0,
                        _dontTint: !1,
                        modeA: null,
                        modeB: null,
                        _pointZeroForParticle: cc.p(0, 0),
                        _particles: null,
                        _emitCounter: 0,
                        _particleIdx: 0,
                        _allocatedParticles: 0,
                        _isActive: !1,
                        particleCount: 0,
                        duration: 0,
                        _sourcePosition: null,
                        _posVar: null,
                        life: 0,
                        lifeVar: 0,
                        angle: 0,
                        angleVar: 0,
                        startSize: 0,
                        startSizeVar: 0,
                        endSize: 0,
                        endSizeVar: 0,
                        _startColor: null,
                        _startColorVar: null,
                        _endColor: null,
                        _endColorVar: null,
                        startSpin: 0,
                        startSpinVar: 0,
                        endSpin: 0,
                        endSpinVar: 0,
                        emissionRate: 0,
                        _totalParticles: 0,
                        _texture: null,
                        _blendFunc: null,
                        _opacityModifyRGB: !1,
                        positionType: null,
                        autoRemoveOnFinish: !1,
                        emitterMode: 0,
                        _textureLoaded: null,
                        ctor: function (t) {
                            if (
                                (_ccsg.Node.prototype.ctor.call(this),
                                (this.emitterMode = _ccsg.ParticleSystem.Mode.GRAVITY),
                                (this.modeA = new _ccsg.ParticleSystem.ModeA()),
                                (this.modeB = new _ccsg.ParticleSystem.ModeB()),
                                (this._blendFunc = {
                                    src: cc.macro.BLEND_SRC,
                                    dst: cc.macro.BLEND_DST,
                                }),
                                (this._particles = []),
                                (this._sourcePosition = cc.p(0, 0)),
                                (this._posVar = cc.p(0, 0)),
                                (this._startColor = cc.color(255, 255, 255, 255)),
                                (this._startColorVar = cc.color(255, 255, 255, 255)),
                                (this._endColor = cc.color(255, 255, 255, 255)),
                                (this._endColorVar = cc.color(255, 255, 255, 255)),
                                (this._plistFile = ''),
                                (this._elapsed = 0),
                                (this._dontTint = !1),
                                (this._pointZeroForParticle = cc.p(0, 0)),
                                (this._emitCounter = 0),
                                (this._particleIdx = 0),
                                (this._allocatedParticles = 0),
                                (this._isActive = !1),
                                (this.particleCount = 0),
                                (this.duration = 0),
                                (this.life = 0),
                                (this.lifeVar = 0),
                                (this.angle = 0),
                                (this.angleVar = 0),
                                (this.startSize = 0),
                                (this.startSizeVar = 0),
                                (this.endSize = 0),
                                (this.endSizeVar = 0),
                                (this.startSpin = 0),
                                (this.startSpinVar = 0),
                                (this.endSpin = 0),
                                (this.endSpinVar = 0),
                                (this.emissionRate = 0),
                                (this._totalParticles = 0),
                                (this._texture = null),
                                (this._opacityModifyRGB = !1),
                                (this.positionType = _ccsg.ParticleSystem.Type.FREE),
                                (this.autoRemoveOnFinish = !1),
                                (this._textureLoaded = !0),
                                !t || cc.js.isNumber(t))
                            ) {
                                var e = t || 100;
                                this.initWithTotalParticles(e);
                            } else
                                'string' == typeof t
                                    ? this.initWithFile(t)
                                    : 'object' == typeof t && this.initWithDictionary(t, '');
                        },
                        _createRenderCmd: function () {
                            return cc._renderType === cc.game.RENDER_TYPE_CANVAS
                                ? new _ccsg.ParticleSystem.CanvasRenderCmd(this)
                                : new _ccsg.ParticleSystem.WebGLRenderCmd(this);
                        },
                        onEnter: function () {
                            this.scheduleUpdateWithPriority(1), _ccsg.Node.prototype.onEnter.call(this);
                        },
                        ignoreColor: function (t) {
                            this._dontTint = t;
                        },
                        initTexCoordsWithRect: function (t) {
                            this._renderCmd.initTexCoordsWithRect(t);
                        },
                        isActive: function () {
                            return this._isActive;
                        },
                        getParticleCount: function () {
                            return this.particleCount;
                        },
                        setParticleCount: function (t) {
                            this.particleCount = t;
                        },
                        getDuration: function () {
                            return this.duration;
                        },
                        setDuration: function (t) {
                            this.duration = t;
                        },
                        getSourcePosition: function () {
                            return {
                                x: this._sourcePosition.x,
                                y: this._sourcePosition.y,
                            };
                        },
                        setSourcePosition: function (t) {
                            (this._sourcePosition.x = t.x), (this._sourcePosition.y = t.y);
                        },
                        getPosVar: function () {
                            return {
                                x: this._posVar.x,
                                y: this._posVar.y,
                            };
                        },
                        setPosVar: function (t) {
                            (this._posVar.x = t.x), (this._posVar.y = t.y);
                        },
                        getLife: function () {
                            return this.life;
                        },
                        setLife: function (t) {
                            this.life = t;
                        },
                        getLifeVar: function () {
                            return this.lifeVar;
                        },
                        setLifeVar: function (t) {
                            this.lifeVar = t;
                        },
                        getAngle: function () {
                            return this.angle;
                        },
                        setAngle: function (t) {
                            this.angle = t;
                        },
                        getAngleVar: function () {
                            return this.angleVar;
                        },
                        setAngleVar: function (t) {
                            this.angleVar = t;
                        },
                        getGravity: function () {
                            var t = this.modeA.gravity;
                            return cc.p(t.x, t.y);
                        },
                        setGravity: function (t) {
                            this.modeA.gravity = t;
                        },
                        getSpeed: function () {
                            return this.modeA.speed;
                        },
                        setSpeed: function (t) {
                            this.modeA.speed = t;
                        },
                        getSpeedVar: function () {
                            return this.modeA.speedVar;
                        },
                        setSpeedVar: function (t) {
                            this.modeA.speedVar = t;
                        },
                        getTangentialAccel: function () {
                            return this.modeA.tangentialAccel;
                        },
                        setTangentialAccel: function (t) {
                            this.modeA.tangentialAccel = t;
                        },
                        getTangentialAccelVar: function () {
                            return this.modeA.tangentialAccelVar;
                        },
                        setTangentialAccelVar: function (t) {
                            this.modeA.tangentialAccelVar = t;
                        },
                        getRadialAccel: function () {
                            return this.modeA.radialAccel;
                        },
                        setRadialAccel: function (t) {
                            this.modeA.radialAccel = t;
                        },
                        getRadialAccelVar: function () {
                            return this.modeA.radialAccelVar;
                        },
                        setRadialAccelVar: function (t) {
                            this.modeA.radialAccelVar = t;
                        },
                        getRotationIsDir: function () {
                            return this.modeA.rotationIsDir;
                        },
                        setRotationIsDir: function (t) {
                            this.modeA.rotationIsDir = t;
                        },
                        getStartRadius: function () {
                            return this.modeB.startRadius;
                        },
                        setStartRadius: function (t) {
                            this.modeB.startRadius = t;
                        },
                        getStartRadiusVar: function () {
                            return this.modeB.startRadiusVar;
                        },
                        setStartRadiusVar: function (t) {
                            this.modeB.startRadiusVar = t;
                        },
                        getEndRadius: function () {
                            return this.modeB.endRadius;
                        },
                        setEndRadius: function (t) {
                            this.modeB.endRadius = t;
                        },
                        getEndRadiusVar: function () {
                            return this.modeB.endRadiusVar;
                        },
                        setEndRadiusVar: function (t) {
                            this.modeB.endRadiusVar = t;
                        },
                        getRotatePerSecond: function () {
                            return this.modeB.rotatePerSecond;
                        },
                        setRotatePerSecond: function (t) {
                            this.modeB.rotatePerSecond = t;
                        },
                        getRotatePerSecondVar: function () {
                            return this.modeB.rotatePerSecondVar;
                        },
                        setRotatePerSecondVar: function (t) {
                            this.modeB.rotatePerSecondVar = t;
                        },
                        getStartSize: function () {
                            return this.startSize;
                        },
                        setStartSize: function (t) {
                            this.startSize = t;
                        },
                        getStartSizeVar: function () {
                            return this.startSizeVar;
                        },
                        setStartSizeVar: function (t) {
                            this.startSizeVar = t;
                        },
                        getEndSize: function () {
                            return this.endSize;
                        },
                        setEndSize: function (t) {
                            this.endSize = t;
                        },
                        getEndSizeVar: function () {
                            return this.endSizeVar;
                        },
                        setEndSizeVar: function (t) {
                            this.endSizeVar = t;
                        },
                        getStartColor: function () {
                            return cc.color(
                                this._startColor.r,
                                this._startColor.g,
                                this._startColor.b,
                                this._startColor.a,
                            );
                        },
                        setStartColor: function (t) {
                            this._startColor.fromColor(t);
                        },
                        getStartColorVar: function () {
                            return cc.color(
                                this._startColorVar.r,
                                this._startColorVar.g,
                                this._startColorVar.b,
                                this._startColorVar.a,
                            );
                        },
                        setStartColorVar: function (t) {
                            this._startColorVar.fromColor(t);
                        },
                        getEndColor: function () {
                            return cc.color(this._endColor.r, this._endColor.g, this._endColor.b, this._endColor.a);
                        },
                        setEndColor: function (t) {
                            this._endColor.fromColor(t);
                        },
                        getEndColorVar: function () {
                            return cc.color(
                                this._endColorVar.r,
                                this._endColorVar.g,
                                this._endColorVar.b,
                                this._endColorVar.a,
                            );
                        },
                        setEndColorVar: function (t) {
                            this._endColorVar.fromColor(t);
                        },
                        getStartSpin: function () {
                            return this.startSpin;
                        },
                        setStartSpin: function (t) {
                            this.startSpin = t;
                        },
                        getStartSpinVar: function () {
                            return this.startSpinVar;
                        },
                        setStartSpinVar: function (t) {
                            this.startSpinVar = t;
                        },
                        getEndSpin: function () {
                            return this.endSpin;
                        },
                        setEndSpin: function (t) {
                            this.endSpin = t;
                        },
                        getEndSpinVar: function () {
                            return this.endSpinVar;
                        },
                        setEndSpinVar: function (t) {
                            this.endSpinVar = t;
                        },
                        getEmissionRate: function () {
                            return this.emissionRate;
                        },
                        setEmissionRate: function (t) {
                            this.emissionRate = t;
                        },
                        getTotalParticles: function () {
                            return this._totalParticles;
                        },
                        setTotalParticles: function (t) {
                            this._renderCmd.setTotalParticles(t);
                        },
                        getTexture: function () {
                            return this._texture;
                        },
                        setTexture: function (t) {
                            t &&
                                (t.loaded
                                    ? this.setTextureWithRect(t, cc.rect(0, 0, t.width, t.height))
                                    : ((this._textureLoaded = !1),
                                      t.once(
                                          'load',
                                          function (e) {
                                              (this._textureLoaded = !0),
                                                  this.setTextureWithRect(t, cc.rect(0, 0, t.width, t.height));
                                          },
                                          this,
                                      )));
                        },
                        getBlendFunc: function () {
                            return this._blendFunc;
                        },
                        setBlendFunc: function (t, e) {
                            void 0 === e
                                ? this._blendFunc !== t && ((this._blendFunc = t), this._updateBlendFunc())
                                : (this._blendFunc.src === t && this._blendFunc.dst === e) ||
                                  ((this._blendFunc = {
                                      src: t,
                                      dst: e,
                                  }),
                                  this._updateBlendFunc());
                        },
                        isOpacityModifyRGB: function () {
                            return this._opacityModifyRGB;
                        },
                        setOpacityModifyRGB: function (t) {
                            this._opacityModifyRGB = t;
                        },
                        isBlendAdditive: function () {
                            return (
                                (this._blendFunc.src === cc.macro.SRC_ALPHA && this._blendFunc.dst === cc.macro.ONE) ||
                                (this._blendFunc.src === cc.macro.ONE && this._blendFunc.dst === cc.macro.ONE)
                            );
                        },
                        setBlendAdditive: function (t) {
                            var e = this._blendFunc;
                            t
                                ? ((e.src = cc.macro.SRC_ALPHA), (e.dst = cc.macro.ONE))
                                : this._renderCmd._setBlendAdditive();
                        },
                        getPositionType: function () {
                            return this.positionType;
                        },
                        setPositionType: function (t) {
                            this.positionType = t;
                        },
                        isAutoRemoveOnFinish: function () {
                            return this.autoRemoveOnFinish;
                        },
                        setAutoRemoveOnFinish: function (t) {
                            this.autoRemoveOnFinish = t;
                        },
                        getEmitterMode: function () {
                            return this.emitterMode;
                        },
                        setEmitterMode: function (t) {
                            this.emitterMode = t;
                        },
                        init: function () {
                            return this.initWithTotalParticles(150);
                        },
                        initWithFile: function (t) {
                            this._plistFile = t;
                            var e = cc.loader.getRes(t);
                            return e ? this.initWithDictionary(e, '') : (cc.logID(6008), !1);
                        },
                        getBoundingBoxToWorld: function () {
                            return cc.rect(0, 0, cc._canvas.width, cc._canvas.height);
                        },
                        initWithDictionary: function (t, e) {
                            var i = !1,
                                s = null,
                                o = this._valueForKey,
                                a = parseInt(o('maxParticles', t));
                            if (this.initWithTotalParticles(a)) {
                                (this.angle = parseFloat(o('angle', t))),
                                    (this.angleVar = parseFloat(o('angleVariance', t))),
                                    (this.duration = parseFloat(o('duration', t))),
                                    (this._blendFunc.src = parseInt(o('blendFuncSource', t))),
                                    (this._blendFunc.dst = parseInt(o('blendFuncDestination', t)));
                                var c = this._startColor;
                                (c.r = 255 * parseFloat(o('startColorRed', t))),
                                    (c.g = 255 * parseFloat(o('startColorGreen', t))),
                                    (c.b = 255 * parseFloat(o('startColorBlue', t))),
                                    (c.a = 255 * parseFloat(o('startColorAlpha', t)));
                                var h = this._startColorVar;
                                (h.r = 255 * parseFloat(o('startColorVarianceRed', t))),
                                    (h.g = 255 * parseFloat(o('startColorVarianceGreen', t))),
                                    (h.b = 255 * parseFloat(o('startColorVarianceBlue', t))),
                                    (h.a = 255 * parseFloat(o('startColorVarianceAlpha', t)));
                                var l = this._endColor;
                                (l.r = 255 * parseFloat(o('finishColorRed', t))),
                                    (l.g = 255 * parseFloat(o('finishColorGreen', t))),
                                    (l.b = 255 * parseFloat(o('finishColorBlue', t))),
                                    (l.a = 255 * parseFloat(o('finishColorAlpha', t)));
                                var u = this._endColorVar;
                                if (
                                    ((u.r = 255 * parseFloat(o('finishColorVarianceRed', t))),
                                    (u.g = 255 * parseFloat(o('finishColorVarianceGreen', t))),
                                    (u.b = 255 * parseFloat(o('finishColorVarianceBlue', t))),
                                    (u.a = 255 * parseFloat(o('finishColorVarianceAlpha', t))),
                                    (this.startSize = parseFloat(o('startParticleSize', t))),
                                    (this.startSizeVar = parseFloat(o('startParticleSizeVariance', t))),
                                    (this.endSize = parseFloat(o('finishParticleSize', t))),
                                    (this.endSizeVar = parseFloat(o('finishParticleSizeVariance', t))),
                                    this.setPosition(
                                        parseFloat(o('sourcePositionx', t)),
                                        parseFloat(o('sourcePositiony', t)),
                                    ),
                                    (this._posVar.x = parseFloat(o('sourcePositionVariancex', t))),
                                    (this._posVar.y = parseFloat(o('sourcePositionVariancey', t))),
                                    (this.startSpin = parseFloat(o('rotationStart', t))),
                                    (this.startSpinVar = parseFloat(o('rotationStartVariance', t))),
                                    (this.endSpin = parseFloat(o('rotationEnd', t))),
                                    (this.endSpinVar = parseFloat(o('rotationEndVariance', t))),
                                    (this.emitterMode = parseInt(o('emitterType', t))),
                                    this.emitterMode === _ccsg.ParticleSystem.Mode.GRAVITY)
                                ) {
                                    var d = this.modeA;
                                    (d.gravity.x = parseFloat(o('gravityx', t))),
                                        (d.gravity.y = parseFloat(o('gravityy', t))),
                                        (d.speed = parseFloat(o('speed', t))),
                                        (d.speedVar = parseFloat(o('speedVariance', t)));
                                    var _ = o('radialAcceleration', t);
                                    (d.radialAccel = _ ? parseFloat(_) : 0),
                                        (_ = o('radialAccelVariance', t)),
                                        (d.radialAccelVar = _ ? parseFloat(_) : 0),
                                        (_ = o('tangentialAcceleration', t)),
                                        (d.tangentialAccel = _ ? parseFloat(_) : 0),
                                        (_ = o('tangentialAccelVariance', t)),
                                        (d.tangentialAccelVar = _ ? parseFloat(_) : 0);
                                    var f = o('rotationIsDir', t);
                                    null !== f
                                        ? ((f = f.toString().toLowerCase()),
                                          (d.rotationIsDir = 'true' === f || '1' === f))
                                        : (d.rotationIsDir = !1);
                                } else {
                                    if (this.emitterMode !== _ccsg.ParticleSystem.Mode.RADIUS)
                                        return cc.logID(6009), !1;
                                    var p = this.modeB;
                                    (p.startRadius = parseFloat(o('maxRadius', t))),
                                        (p.startRadiusVar = parseFloat(o('maxRadiusVariance', t))),
                                        (p.endRadius = parseFloat(o('minRadius', t))),
                                        (p.endRadiusVar = 0),
                                        (p.rotatePerSecond = parseFloat(o('rotatePerSecond', t))),
                                        (p.rotatePerSecondVar = parseFloat(o('rotatePerSecondVariance', t)));
                                }
                                (this.life = parseFloat(o('particleLifespan', t))),
                                    (this.lifeVar = parseFloat(o('particleLifespanVariance', t))),
                                    (this.emissionRate = this._totalParticles / this.life),
                                    (this._opacityModifyRGB = !1);
                                var g = o('textureFileName', t),
                                    m = cc.path.changeBasename(this._plistFile, g),
                                    v = cc.textureCache.getTextureForKey(m);
                                if (v) this.setTexture(v);
                                else {
                                    var y = o('textureImageData', t);
                                    if (y && 0 !== y.length) {
                                        if (!(s = cc.Codec.unzipBase64AsArray(y, 1))) return cc.logID(6010), !1;
                                        var C = cc.getImageFormatByData(s);
                                        if (C !== cc.ImageFormat.TIFF && C !== cc.ImageFormat.PNG)
                                            return cc.logID(6011), !1;
                                        var T = document.createElement('canvas');
                                        if (C === cc.ImageFormat.PNG) {
                                            new n(s).render(T);
                                        } else r.parseTIFF(s, T);
                                        cc.textureCache.cacheImage(m, T);
                                        var E = cc.textureCache.getTextureForKey(m);
                                        E || cc.logID(6012), this.setTexture(E);
                                    } else {
                                        if (!(v = cc.textureCache.addImage(m))) return !1;
                                        this.setTexture(v);
                                    }
                                }
                                i = !0;
                            }
                            return i;
                        },
                        initWithTotalParticles: function (t) {
                            this._totalParticles = t;
                            var e = this._particles;
                            if (!e) return cc.logID(6013), !1;
                            e.length = t;
                            for (var i = 0; i < t; i++) e[i] = new cc.Particle();
                            return (
                                (this._allocatedParticles = t),
                                (this._isActive = !0),
                                (this._blendFunc.src = cc.macro.BLEND_SRC),
                                (this._blendFunc.dst = cc.macro.BLEND_DST),
                                (this.positionType = _ccsg.ParticleSystem.Type.FREE),
                                (this.emitterMode = _ccsg.ParticleSystem.Mode.GRAVITY),
                                (this.autoRemoveOnFinish = !1),
                                this._renderCmd._initWithTotalParticles(t),
                                !0
                            );
                        },
                        addParticle: function () {
                            if (this.isFull()) return !1;
                            var t = this._renderCmd.addParticle();
                            return this.initParticle(t), ++this.particleCount, !0;
                        },
                        initParticle: function (t) {
                            var e = cc.randomMinus1To1;
                            (t.timeToLive = this.life + this.lifeVar * e()),
                                (t.timeToLive = Math.max(0, t.timeToLive)),
                                (t.pos.x = this._sourcePosition.x + this._posVar.x * e()),
                                (t.pos.y = this._sourcePosition.y + this._posVar.y * e());
                            var i,
                                n,
                                r = this._startColor,
                                s = this._startColorVar,
                                o = this._endColor,
                                a = this._endColorVar;
                            (i = {
                                r: cc.clampf(r.r + s.r * e(), 0, 255),
                                g: cc.clampf(r.g + s.g * e(), 0, 255),
                                b: cc.clampf(r.b + s.b * e(), 0, 255),
                                a: cc.clampf(r.a + s.a * e(), 0, 255),
                            }),
                                (n = {
                                    r: cc.clampf(o.r + a.r * e(), 0, 255),
                                    g: cc.clampf(o.g + a.g * e(), 0, 255),
                                    b: cc.clampf(o.b + a.b * e(), 0, 255),
                                    a: cc.clampf(o.a + a.a * e(), 0, 255),
                                }),
                                (t.color = i);
                            var c = t.deltaColor,
                                h = t.timeToLive;
                            (c.r = (n.r - i.r) / h),
                                (c.g = (n.g - i.g) / h),
                                (c.b = (n.b - i.b) / h),
                                (c.a = (n.a - i.a) / h);
                            var l = this.startSize + this.startSizeVar * e();
                            if (
                                ((l = Math.max(0, l)),
                                (t.size = l),
                                this.endSize === _ccsg.ParticleSystem.START_SIZE_EQUAL_TO_END_SIZE)
                            )
                                t.deltaSize = 0;
                            else {
                                var u = this.endSize + this.endSizeVar * e();
                                (u = Math.max(0, u)), (t.deltaSize = (u - l) / h);
                            }
                            var d = this.startSpin + this.startSpinVar * e(),
                                _ = this.endSpin + this.endSpinVar * e();
                            (t.rotation = d),
                                (t.deltaRotation = (_ - d) / h),
                                this.positionType === _ccsg.ParticleSystem.Type.FREE
                                    ? (t.startPos = this.convertToWorldSpace(this._pointZeroForParticle))
                                    : this.positionType === _ccsg.ParticleSystem.Type.RELATIVE &&
                                      ((t.startPos.x = this._position.x), (t.startPos.y = this._position.y));
                            var f = cc.degreesToRadians(this.angle + this.angleVar * e());
                            if (this.emitterMode === _ccsg.ParticleSystem.Mode.GRAVITY) {
                                var p = this.modeA,
                                    g = t.modeA,
                                    m = p.speed + p.speedVar * e();
                                (g.dir.x = Math.cos(f)),
                                    (g.dir.y = Math.sin(f)),
                                    cc.pMultIn(g.dir, m),
                                    (g.radialAccel = p.radialAccel + p.radialAccelVar * e()),
                                    (g.tangentialAccel = p.tangentialAccel + p.tangentialAccelVar * e()),
                                    p.rotationIsDir && (t.rotation = -cc.radiansToDegrees(cc.pToAngle(g.dir)));
                            } else {
                                var v = this.modeB,
                                    y = t.modeB,
                                    C = v.startRadius + v.startRadiusVar * e(),
                                    T = v.endRadius + v.endRadiusVar * e();
                                (y.radius = C),
                                    (y.deltaRadius =
                                        v.endRadius === _ccsg.ParticleSystem.START_RADIUS_EQUAL_TO_END_RADIUS
                                            ? 0
                                            : (T - C) / h),
                                    (y.angle = f),
                                    (y.degreesPerSecond = cc.degreesToRadians(
                                        v.rotatePerSecond + v.rotatePerSecondVar * e(),
                                    ));
                            }
                        },
                        stopSystem: function () {
                            (this._isActive = !1), (this._elapsed = this.duration), (this._emitCounter = 0);
                        },
                        resetSystem: function () {
                            (this._isActive = !0), (this._elapsed = 0);
                            var t = this._particles;
                            for (this._particleIdx = 0; this._particleIdx < this.particleCount; ++this._particleIdx)
                                t[this._particleIdx].timeToLive = 0;
                        },
                        isFull: function () {
                            return this.particleCount >= this._totalParticles;
                        },
                        updateQuadWithParticle: function (t, e) {
                            this._renderCmd.updateQuadWithParticle(t, e);
                        },
                        postStep: function () {
                            this._renderCmd.postStep();
                        },
                        update: function (t) {
                            if (
                                (this._renderCmd.setDirtyFlag(_ccsg.Node._dirtyFlags.contentDirty),
                                this._isActive && this.emissionRate)
                            ) {
                                var e = 1 / this.emissionRate;
                                for (
                                    this.particleCount < this._totalParticles && (this._emitCounter += t);
                                    this.particleCount < this._totalParticles && this._emitCounter > e;

                                )
                                    this.addParticle(), (this._emitCounter -= e);
                                (this._elapsed += t),
                                    -1 !== this.duration && this.duration < this._elapsed && this.stopSystem();
                            }
                            this._particleIdx = 0;
                            var i = this.getWorldToNodeTransform(),
                                n = cc.Particle.TemporaryPoints[0];
                            if (
                                (this.positionType === _ccsg.ParticleSystem.Type.FREE
                                    ? cc.pIn(n, this.convertToWorldSpace(this._pointZeroForParticle))
                                    : this.positionType === _ccsg.ParticleSystem.Type.RELATIVE &&
                                      ((n.x = this._position.x), (n.y = this._position.y)),
                                this._visible)
                            ) {
                                for (
                                    var r = cc.Particle.TemporaryPoints[1],
                                        s = cc.Particle.TemporaryPoints[2],
                                        o = cc.Particle.TemporaryPoints[3],
                                        a = this._particles;
                                    this._particleIdx < this.particleCount;

                                ) {
                                    cc.pZeroIn(r), cc.pZeroIn(s), cc.pZeroIn(o);
                                    var c = a[this._particleIdx];
                                    if (((c.timeToLive -= t), c.timeToLive > 0)) {
                                        if (this.emitterMode === _ccsg.ParticleSystem.Mode.GRAVITY) {
                                            var h = o,
                                                l = r,
                                                u = s;
                                            c.pos.x || c.pos.y ? (cc.pIn(l, c.pos), cc.pNormalizeIn(l)) : cc.pZeroIn(l),
                                                cc.pIn(u, l),
                                                cc.pMultIn(l, c.modeA.radialAccel);
                                            var d = u.x;
                                            (u.x = -u.y),
                                                (u.y = d),
                                                cc.pMultIn(u, c.modeA.tangentialAccel),
                                                cc.pIn(h, l),
                                                cc.pAddIn(h, u),
                                                cc.pAddIn(h, this.modeA.gravity),
                                                cc.pMultIn(h, t),
                                                cc.pAddIn(c.modeA.dir, h),
                                                cc.pIn(h, c.modeA.dir),
                                                cc.pMultIn(h, t),
                                                cc.pAddIn(c.pos, h);
                                        } else {
                                            var _ = c.modeB;
                                            (_.angle += _.degreesPerSecond * t),
                                                (_.radius += _.deltaRadius * t),
                                                (c.pos.x = -Math.cos(_.angle) * _.radius),
                                                (c.pos.y = -Math.sin(_.angle) * _.radius);
                                        }
                                        this._renderCmd._updateDeltaColor(c, t),
                                            (c.size += c.deltaSize * t),
                                            (c.size = Math.max(0, c.size)),
                                            (c.rotation += c.deltaRotation * t);
                                        var f = r;
                                        if (
                                            this.positionType === _ccsg.ParticleSystem.Type.FREE ||
                                            this.positionType === _ccsg.ParticleSystem.Type.RELATIVE
                                        ) {
                                            var p = s,
                                                g = o;
                                            cc._pointApplyAffineTransformIn(n, i, p),
                                                cc._pointApplyAffineTransformIn(c.startPos, i, g),
                                                cc.pSubIn(p, g),
                                                cc.pIn(f, c.pos),
                                                cc.pSubIn(f, p);
                                        } else cc.pIn(f, c.pos);
                                        this._renderCmd.updateParticlePosition(c, f), ++this._particleIdx;
                                    } else {
                                        if (this._particleIdx !== this.particleCount - 1) {
                                            var m = a[this._particleIdx];
                                            (a[this._particleIdx] = a[this.particleCount - 1]),
                                                (a[this.particleCount - 1] = m);
                                        }
                                        if ((--this.particleCount, 0 === this.particleCount && this.autoRemoveOnFinish))
                                            return (
                                                this.unscheduleUpdate(),
                                                this._parent.removeChild(this, !0),
                                                void (this._renderCmd.updateLocalBB && this._renderCmd.updateLocalBB())
                                            );
                                    }
                                }
                                this._renderCmd.updateLocalBB && this._renderCmd.updateLocalBB();
                            }
                            this.postStep();
                        },
                        updateWithNoTime: function () {
                            this.update(0);
                        },
                        _valueForKey: function (t, e) {
                            if (e) {
                                var i = e[t];
                                return null != i ? i : '';
                            }
                            return '';
                        },
                        _updateBlendFunc: function () {
                            var t = this._texture;
                            if (t && t instanceof cc.Texture2D) {
                                this._opacityModifyRGB = !1;
                                var e = this._blendFunc;
                                e.src === cc.macro.BLEND_SRC &&
                                    e.dst === cc.macro.BLEND_DST &&
                                    (t.hasPremultipliedAlpha()
                                        ? (this._opacityModifyRGB = !0)
                                        : ((e.src = cc.macro.SRC_ALPHA), (e.dst = cc.macro.ONE_MINUS_SRC_ALPHA)));
                            }
                        },
                        clone: function () {
                            var t = new _ccsg.ParticleSystem();
                            if (t.initWithTotalParticles(this.getTotalParticles())) {
                                t.setAngle(this.getAngle()),
                                    t.setAngleVar(this.getAngleVar()),
                                    t.setDuration(this.getDuration());
                                var e = this.getBlendFunc();
                                if (
                                    (t.setBlendFunc(e.src, e.dst),
                                    t.setStartColor(this.getStartColor()),
                                    t.setStartColorVar(this.getStartColorVar()),
                                    t.setEndColor(this.getEndColor()),
                                    t.setEndColorVar(this.getEndColorVar()),
                                    t.setStartSize(this.getStartSize()),
                                    t.setStartSizeVar(this.getStartSizeVar()),
                                    t.setEndSize(this.getEndSize()),
                                    t.setEndSizeVar(this.getEndSizeVar()),
                                    t.setPosition(cc.p(this.x, this.y)),
                                    t.setPosVar(cc.p(this.getPosVar().x, this.getPosVar().y)),
                                    t.setPositionType(this.getPositionType()),
                                    t.setStartSpin(this.getStartSpin() || 0),
                                    t.setStartSpinVar(this.getStartSpinVar() || 0),
                                    t.setEndSpin(this.getEndSpin() || 0),
                                    t.setEndSpinVar(this.getEndSpinVar() || 0),
                                    t.setEmitterMode(this.getEmitterMode()),
                                    this.getEmitterMode() === _ccsg.ParticleSystem.Mode.GRAVITY)
                                ) {
                                    var i = this.getGravity();
                                    t.setGravity(cc.p(i.x, i.y)),
                                        t.setSpeed(this.getSpeed()),
                                        t.setSpeedVar(this.getSpeedVar()),
                                        t.setRadialAccel(this.getRadialAccel()),
                                        t.setRadialAccelVar(this.getRadialAccelVar()),
                                        t.setTangentialAccel(this.getTangentialAccel()),
                                        t.setTangentialAccelVar(this.getTangentialAccelVar());
                                } else
                                    this.getEmitterMode() === _ccsg.ParticleSystem.Mode.RADIUS &&
                                        (t.setStartRadius(this.getStartRadius()),
                                        t.setStartRadiusVar(this.getStartRadiusVar()),
                                        t.setEndRadius(this.getEndRadius()),
                                        t.setEndRadiusVar(this.getEndRadiusVar()),
                                        t.setRotatePerSecond(this.getRotatePerSecond()),
                                        t.setRotatePerSecondVar(this.getRotatePerSecondVar()));
                                t.setLife(this.getLife()),
                                    t.setLifeVar(this.getLifeVar()),
                                    t.setEmissionRate(this.getEmissionRate()),
                                    t.setOpacityModifyRGB(this.isOpacityModifyRGB());
                                var n = this.getTexture();
                                if (n) {
                                    var r = n.getContentSize();
                                    t.setTextureWithRect(n, cc.rect(0, 0, r.width, r.height));
                                }
                            }
                            return t;
                        },
                        setDisplayFrame: function (t) {
                            if (t) {
                                var e = t.getOffset();
                                (0 === e.x && 0 === e.y) || cc.logID(6015);
                                var i = t.getTexture();
                                this._texture !== i && this.setTexture(i);
                            }
                        },
                        setTextureWithRect: function (t, e) {
                            this._texture !== t && ((this._texture = t), this._updateBlendFunc()),
                                this.initTexCoordsWithRect(e);
                        },
                        listenBackToForeground: function (t) {},
                    }));
                var s = _ccsg.ParticleSystem.prototype;
                s.opacityModifyRGB,
                    cc.defineGetterSetter(s, 'opacityModifyRGB', s.isOpacityModifyRGB, s.setOpacityModifyRGB),
                    s.active,
                    cc.defineGetterSetter(s, 'active', s.isActive),
                    s.sourcePos,
                    cc.defineGetterSetter(s, 'sourcePos', s.getSourcePosition, s.setSourcePosition),
                    s.posVar,
                    cc.defineGetterSetter(s, 'posVar', s.getPosVar, s.setPosVar),
                    s.gravity,
                    cc.defineGetterSetter(s, 'gravity', s.getGravity, s.setGravity),
                    s.speed,
                    cc.defineGetterSetter(s, 'speed', s.getSpeed, s.setSpeed),
                    s.speedVar,
                    cc.defineGetterSetter(s, 'speedVar', s.getSpeedVar, s.setSpeedVar),
                    s.tangentialAccel,
                    cc.defineGetterSetter(s, 'tangentialAccel', s.getTangentialAccel, s.setTangentialAccel),
                    s.tangentialAccelVar,
                    cc.defineGetterSetter(s, 'tangentialAccelVar', s.getTangentialAccelVar, s.setTangentialAccelVar),
                    s.radialAccel,
                    cc.defineGetterSetter(s, 'radialAccel', s.getRadialAccel, s.setRadialAccel),
                    s.radialAccelVar,
                    cc.defineGetterSetter(s, 'radialAccelVar', s.getRadialAccelVar, s.setRadialAccelVar),
                    s.rotationIsDir,
                    cc.defineGetterSetter(s, 'rotationIsDir', s.getRotationIsDir, s.setRotationIsDir),
                    s.startRadius,
                    cc.defineGetterSetter(s, 'startRadius', s.getStartRadius, s.setStartRadius),
                    s.startRadiusVar,
                    cc.defineGetterSetter(s, 'startRadiusVar', s.getStartRadiusVar, s.setStartRadiusVar),
                    s.endRadius,
                    cc.defineGetterSetter(s, 'endRadius', s.getEndRadius, s.setEndRadius),
                    s.endRadiusVar,
                    cc.defineGetterSetter(s, 'endRadiusVar', s.getEndRadiusVar, s.setEndRadiusVar),
                    s.rotatePerS,
                    cc.defineGetterSetter(s, 'rotatePerS', s.getRotatePerSecond, s.setRotatePerSecond),
                    s.rotatePerSVar,
                    cc.defineGetterSetter(s, 'rotatePerSVar', s.getRotatePerSecondVar, s.setRotatePerSecondVar),
                    s.startColor,
                    cc.defineGetterSetter(s, 'startColor', s.getStartColor, s.setStartColor),
                    s.startColorVar,
                    cc.defineGetterSetter(s, 'startColorVar', s.getStartColorVar, s.setStartColorVar),
                    s.endColor,
                    cc.defineGetterSetter(s, 'endColor', s.getEndColor, s.setEndColor),
                    s.endColorVar,
                    cc.defineGetterSetter(s, 'endColorVar', s.getEndColorVar, s.setEndColorVar),
                    s.totalParticles,
                    cc.defineGetterSetter(s, 'totalParticles', s.getTotalParticles, s.setTotalParticles),
                    s.texture,
                    cc.defineGetterSetter(s, 'texture', s.getTexture, s.setTexture),
                    (_ccsg.ParticleSystem.ModeA = function (t, e, i, n, r, s, o, a) {
                        (this.gravity = t || cc.p(0, 0)),
                            (this.speed = e || 0),
                            (this.speedVar = i || 0),
                            (this.tangentialAccel = n || 0),
                            (this.tangentialAccelVar = r || 0),
                            (this.radialAccel = s || 0),
                            (this.radialAccelVar = o || 0),
                            (this.rotationIsDir = a || !1);
                    }),
                    (_ccsg.ParticleSystem.ModeB = function (t, e, i, n, r, s) {
                        (this.startRadius = t || 0),
                            (this.startRadiusVar = e || 0),
                            (this.endRadius = i || 0),
                            (this.endRadiusVar = n || 0),
                            (this.rotatePerSecond = r || 0),
                            (this.rotatePerSecondVar = s || 0);
                    }),
                    (_ccsg.ParticleSystem.DURATION_INFINITY = -1),
                    (_ccsg.ParticleSystem.START_SIZE_EQUAL_TO_END_SIZE = -1),
                    (_ccsg.ParticleSystem.START_RADIUS_EQUAL_TO_END_RADIUS = -1),
                    (_ccsg.ParticleSystem.Mode = cc.Enum({
                        GRAVITY: 0,
                        RADIUS: 1,
                    })),
                    (_ccsg.ParticleSystem.Type = cc.Enum({
                        FREE: 0,
                        RELATIVE: 1,
                        GROUPED: 2,
                    }));
            },
            {
                '../compression/ZipUtils': 28,
                './CCPNGReader': 214,
                './CCTIFFReader': 220,
            },
        ],
        218: [
            function (t, e, i) {
                _ccsg.ParticleSystem.CanvasRenderCmd = function (t) {
                    this._rootCtor(t),
                        (this._needDraw = !0),
                        (this._pointRect = cc.rect(0, 0, 0, 0)),
                        (this._localRegion = new cc.Region()),
                        (this._tintCache = null);
                };
                var n = (_ccsg.ParticleSystem.CanvasRenderCmd.prototype = Object.create(
                    _ccsg.Node.CanvasRenderCmd.prototype,
                ));
                (n.constructor = _ccsg.ParticleSystem.CanvasRenderCmd),
                    (n.updateQuadWithParticle = function (t, e) {}),
                    (n.updateParticlePosition = function (t, e) {
                        cc.pIn(t.drawPos, e);
                    });
                var r = new cc.Region(),
                    s = new cc.Rect();
                (n.updateLocalBB = function () {
                    var t = this._localRegion,
                        e = this._node._particles;
                    t.setEmpty();
                    for (var i = e.length - 1; i >= 0; --i) {
                        var n = e[i],
                            o = n.drawPos,
                            a = 1.415 * n.size;
                        r.setTo(o.x - a, o.y - a, o.x + a, o.y + a), t.union(r);
                    }
                    (s.x = t._minX), (s.y = t._minY), (s.width = t._maxX - t._minX), (s.height = t._maxY - t._minY);
                }),
                    (n.getLocalBB = function () {
                        return s;
                    }),
                    (n.updateStatus = function () {
                        this.originUpdateStatus(),
                            this._updateCurrentRegions(),
                            (this._regionFlag = _ccsg.Node.CanvasRenderCmd.RegionStatus.DirtyDouble),
                            (this._dirtyFlag &= ~_ccsg.Node._dirtyFlags.contentDirty);
                    }),
                    (n.rendering = function (t, e, i) {
                        var n = t || cc._renderContext,
                            r = n.getContext(),
                            s = this._node,
                            o = this._pointRect;
                        n.setTransform(this._worldTransform, e, i), n.save();
                        var a,
                            c,
                            h = this._node.particleCount,
                            l = this._node._particles;
                        if (s._texture) {
                            if (!s._texture.loaded) return void n.restore();
                            var u = s._texture.getHtmlElementObj();
                            if (!u.width || !u.height) return void n.restore();
                            var d = u;
                            for (a = 0; a < h; a++) {
                                0 | (0.5 * (c = l[a]).size), r.save(), r.translate(0 | c.drawPos.x, -(0 | c.drawPos.y));
                                var _ = 4 * Math.floor(c.size / 4),
                                    f = o.width,
                                    p = o.height;
                                r.scale(Math.max((1 / f) * _, 1e-6), Math.max((1 / p) * _, 1e-6)),
                                    c.rotation && r.rotate(cc.degreesToRadians(c.rotation)),
                                    r.drawImage(d, -(0 | (f / 2)), -(0 | (p / 2))),
                                    r.restore();
                            }
                            cc.g_NumberOfDraws++;
                        }
                        n.restore();
                    }),
                    (n._changeTextureColor = function (t, e, i) {
                        this._tintCache || (this._tintCache = document.createElement('canvas'));
                        var n = this._tintCache,
                            r = t.getContentSize();
                        return (n.width = r.width), (n.height = r.height), t._generateColorTexture(e.r, e.g, e.b, i, n);
                    }),
                    (n.initTexCoordsWithRect = function (t) {
                        this._pointRect = t;
                    }),
                    (n.setTotalParticles = function (t) {
                        this._node._totalParticles = t < 200 ? t : 200;
                    }),
                    (n.addParticle = function () {
                        var t,
                            e = this._node,
                            i = e._particles;
                        return (
                            e.particleCount < i.length
                                ? (t = i[e.particleCount])
                                : ((t = new cc.Particle()), i.push(t)),
                            t
                        );
                    }),
                    (n._setupVBO = function () {}),
                    (n._allocMemory = function () {
                        return !0;
                    }),
                    (n.postStep = function () {}),
                    (n._setBlendAdditive = function () {
                        var t = this._node._blendFunc;
                        (t.src = cc.macro.BLEND_SRC), (t.dst = cc.macro.BLEND_DST);
                    }),
                    (n._initWithTotalParticles = function (t) {}),
                    (n._updateDeltaColor = function (t, e) {
                        this._node._dontTint ||
                            ((t.color.r += t.deltaColor.r * e),
                            (t.color.g += t.deltaColor.g * e),
                            (t.color.b += t.deltaColor.b * e),
                            (t.color.a += t.deltaColor.a * e),
                            (t.isChangeColor = !0));
                    });
            },
            {},
        ],
        219: [
            function (t, e, i) {
                _ccsg.ParticleSystem.WebGLRenderCmd = function (t) {
                    this._rootCtor(t),
                        (this._needDraw = !0),
                        (this._matrix = new cc.math.Matrix4()),
                        this._matrix.identity(),
                        (this._buffersVBO = [0, 0]),
                        (this._quads = []),
                        (this._indices = []),
                        (this._quadsArrayBuffer = null);
                };
                var n = (_ccsg.ParticleSystem.WebGLRenderCmd.prototype = Object.create(
                    _ccsg.Node.WebGLRenderCmd.prototype,
                ));
                (n.constructor = _ccsg.ParticleSystem.WebGLRenderCmd),
                    (n.initIndices = function (t) {
                        for (var e = this._indices, i = 0, n = t; i < n; ++i) {
                            var r = 6 * i,
                                s = 4 * i;
                            (e[r + 0] = s + 0),
                                (e[r + 1] = s + 1),
                                (e[r + 2] = s + 2),
                                (e[r + 5] = s + 1),
                                (e[r + 4] = s + 2),
                                (e[r + 3] = s + 3);
                        }
                    }),
                    (n.isDifferentTexture = function (t, e) {
                        return t === e;
                    }),
                    (n.updateParticlePosition = function (t, e) {
                        this.updateQuadWithParticle(t, e);
                    }),
                    (n.updateQuadWithParticle = function (t, e) {
                        var i = null,
                            n = this._node;
                        i = this._quads[n._particleIdx];
                        var r, s, o, a;
                        n._opacityModifyRGB
                            ? ((r = 0 | ((t.color.r * t.color.a) / 255)),
                              (s = 0 | ((t.color.g * t.color.a) / 255)),
                              (o = 0 | ((t.color.b * t.color.a) / 255)))
                            : ((r = 0 | t.color.r), (s = 0 | t.color.g), (o = 0 | t.color.b)),
                            (a = 0 | t.color.a);
                        var c = i.bl.colors,
                            h = i.br.colors,
                            l = i.tl.colors,
                            u = i.tr.colors;
                        (c.r = h.r = l.r = u.r = r),
                            (c.g = h.g = l.g = u.g = s),
                            (c.b = h.b = l.b = u.b = o),
                            (c.a = h.a = l.a = u.a = a);
                        var d = t.size / 2;
                        if (t.rotation) {
                            var _ = -d,
                                f = -d,
                                p = d,
                                g = d,
                                m = e.x,
                                v = e.y,
                                y = -cc.degreesToRadians(t.rotation),
                                C = Math.cos(y),
                                T = Math.sin(y),
                                E = _ * C - f * T + m,
                                x = _ * T + f * C + v,
                                S = p * C - f * T + m,
                                b = p * T + f * C + v,
                                A = p * C - g * T + m,
                                R = p * T + g * C + v,
                                w = _ * C - g * T + m,
                                I = _ * T + g * C + v;
                            (i.bl.vertices.x = E),
                                (i.bl.vertices.y = x),
                                (i.br.vertices.x = S),
                                (i.br.vertices.y = b),
                                (i.tl.vertices.x = w),
                                (i.tl.vertices.y = I),
                                (i.tr.vertices.x = A),
                                (i.tr.vertices.y = R);
                        } else
                            (i.bl.vertices.x = e.x - d),
                                (i.bl.vertices.y = e.y - d),
                                (i.br.vertices.x = e.x + d),
                                (i.br.vertices.y = e.y - d),
                                (i.tl.vertices.x = e.x - d),
                                (i.tl.vertices.y = e.y + d),
                                (i.tr.vertices.x = e.x + d),
                                (i.tr.vertices.y = e.y + d);
                    }),
                    (n.rendering = function (t) {
                        var e = this._node;
                        if (e._texture) {
                            var i = t || cc._renderContext,
                                n = this._worldTransform,
                                r = this._matrix.mat;
                            (r[0] = n.a),
                                (r[4] = n.c),
                                (r[12] = n.tx),
                                (r[1] = n.b),
                                (r[5] = n.d),
                                (r[13] = n.ty),
                                this._shaderProgram.use(),
                                this._shaderProgram._setUniformForMVPMatrixWithMat4(this._matrix),
                                cc.gl.bindTexture2DN(0, e._texture),
                                cc.gl.blendFuncForParticle(e._blendFunc.src, e._blendFunc.dst),
                                i.enableVertexAttribArray(cc.macro.VERTEX_ATTRIB_POSITION),
                                i.enableVertexAttribArray(cc.macro.VERTEX_ATTRIB_COLOR),
                                i.enableVertexAttribArray(cc.macro.VERTEX_ATTRIB_TEX_COORDS),
                                i.bindBuffer(i.ARRAY_BUFFER, this._buffersVBO[0]),
                                i.vertexAttribPointer(cc.macro.VERTEX_ATTRIB_POSITION, 3, i.FLOAT, !1, 24, 0),
                                i.vertexAttribPointer(cc.macro.VERTEX_ATTRIB_COLOR, 4, i.UNSIGNED_BYTE, !0, 24, 12),
                                i.vertexAttribPointer(cc.macro.VERTEX_ATTRIB_TEX_COORDS, 2, i.FLOAT, !1, 24, 16),
                                i.bindBuffer(i.ELEMENT_ARRAY_BUFFER, this._buffersVBO[1]),
                                i.drawElements(i.TRIANGLES, 6 * e._particleIdx, i.UNSIGNED_SHORT, 0);
                        }
                    }),
                    (n.initTexCoordsWithRect = function (t) {
                        var e = this._node,
                            i = e.texture,
                            n = t.width,
                            r = t.height;
                        i && ((n = i.getPixelWidth()), (r = i.getPixelHeight()));
                        var s, o, a, c;
                        cc.macro.FIX_ARTIFACTS_BY_STRECHING_TEXEL
                            ? ((s = (2 * t.x + 1) / (2 * n)),
                              (o = (2 * t.y + 1) / (2 * r)),
                              (a = s + (2 * t.width - 2) / (2 * n)),
                              (c = o + (2 * t.height - 2) / (2 * r)))
                            : ((s = t.x / n), (o = t.y / r), (a = s + t.width / n), (c = o + t.height / r));
                        var h = c;
                        (c = o), (o = h);
                        for (var l = this._quads, u = e._totalParticles, d = 0; d < u; d++) {
                            l[d] || (l[d] = cc.V3F_C4B_T2F_QuadZero());
                            var _ = l[d];
                            (_.bl.texCoords.u = s),
                                (_.bl.texCoords.v = o),
                                (_.br.texCoords.u = a),
                                (_.br.texCoords.v = o),
                                (_.tl.texCoords.u = s),
                                (_.tl.texCoords.v = c),
                                (_.tr.texCoords.u = a),
                                (_.tr.texCoords.v = c);
                        }
                    }),
                    (n.setTotalParticles = function (t) {
                        var e = this._node;
                        if (t > e._allocatedParticles) {
                            var i = cc.V3F_C4B_T2F_Quad.BYTES_PER_ELEMENT;
                            this._indices = new Uint16Array(6 * t);
                            var n = new ArrayBuffer(t * i),
                                r = e._particles;
                            r.length = 0;
                            var s = this._quads;
                            s.length = 0;
                            for (var o = 0; o < t; o++)
                                (r[o] = new cc.Particle()),
                                    (s[o] = new cc.V3F_C4B_T2F_Quad(null, null, null, null, n, o * i));
                            (e._allocatedParticles = t),
                                (e._totalParticles = t),
                                (this._quadsArrayBuffer = n),
                                this.initIndices(t),
                                this._setupVBO(),
                                e._texture &&
                                    this.initTexCoordsWithRect(cc.rect(0, 0, e._texture.width, e._texture.height));
                        } else e._totalParticles = t;
                        e.resetSystem();
                    }),
                    (n.addParticle = function () {
                        var t = this._node;
                        return t._particles[t.particleCount];
                    }),
                    (n._setupVBO = function () {
                        var t = cc._renderContext;
                        (this._buffersVBO[0] = t.createBuffer()),
                            t.bindBuffer(t.ARRAY_BUFFER, this._buffersVBO[0]),
                            t.bufferData(t.ARRAY_BUFFER, this._quadsArrayBuffer, t.DYNAMIC_DRAW),
                            (this._buffersVBO[1] = t.createBuffer()),
                            t.bindBuffer(t.ELEMENT_ARRAY_BUFFER, this._buffersVBO[1]),
                            t.bufferData(t.ELEMENT_ARRAY_BUFFER, this._indices, t.STATIC_DRAW);
                    }),
                    (n._allocMemory = function () {
                        var t = this._node,
                            e = cc.V3F_C4B_T2F_Quad.BYTES_PER_ELEMENT,
                            i = t._totalParticles,
                            n = this._quads;
                        (n.length = 0), (this._indices = new Uint16Array(6 * i));
                        for (var r = new ArrayBuffer(e * i), s = 0; s < i; s++)
                            n[s] = new cc.V3F_C4B_T2F_Quad(null, null, null, null, r, s * e);
                        return n && this._indices ? ((this._quadsArrayBuffer = r), !0) : (cc.logID(6013), !1);
                    }),
                    (n.postStep = function () {
                        var t = cc._renderContext;
                        t.bindBuffer(t.ARRAY_BUFFER, this._buffersVBO[0]),
                            t.bufferSubData(t.ARRAY_BUFFER, 0, this._quadsArrayBuffer);
                    }),
                    (n._setBlendAdditive = function () {
                        var t = this._node._blendFunc;
                        this._texture && !this._texture.hasPremultipliedAlpha()
                            ? ((t.src = cc.macro.SRC_ALPHA), (t.dst = cc.macro.ONE_MINUS_SRC_ALPHA))
                            : ((t.src = cc.macro.BLEND_SRC), (t.dst = cc.macro.BLEND_DST));
                    }),
                    (n._initWithTotalParticles = function (t) {
                        if (!this._allocMemory()) return !1;
                        this.initIndices(t),
                            this._setupVBO(),
                            (this._shaderProgram = cc.shaderCache.programForKey(cc.macro.SHADER_POSITION_TEXTURECOLOR));
                    }),
                    (n._updateDeltaColor = function (t, e) {
                        (t.color.r += t.deltaColor.r * e),
                            (t.color.g += t.deltaColor.g * e),
                            (t.color.b += t.deltaColor.b * e),
                            (t.color.a += t.deltaColor.a * e),
                            (t.isChangeColor = !0);
                    });
            },
            {},
        ],
        220: [
            function (t, e, i) {
                var n = {
                    _littleEndian: !1,
                    _tiffData: null,
                    _fileDirectories: [],
                    getUint8: function (t) {
                        return this._tiffData[t];
                    },
                    getUint16: function (t) {
                        return this._littleEndian
                            ? (this._tiffData[t + 1] << 8) | this._tiffData[t]
                            : (this._tiffData[t] << 8) | this._tiffData[t + 1];
                    },
                    getUint32: function (t) {
                        var e = this._tiffData;
                        return this._littleEndian
                            ? (e[t + 3] << 24) | (e[t + 2] << 16) | (e[t + 1] << 8) | e[t]
                            : (e[t] << 24) | (e[t + 1] << 16) | (e[t + 2] << 8) | e[t + 3];
                    },
                    checkLittleEndian: function () {
                        var t = this.getUint16(0);
                        if (18761 === t) this.littleEndian = !0;
                        else {
                            if (19789 !== t) throw (console.log(t), TypeError('Invalid byte order value.'));
                            this.littleEndian = !1;
                        }
                        return this.littleEndian;
                    },
                    hasTowel: function () {
                        if (42 !== this.getUint16(2)) throw RangeError('You forgot your towel!');
                        return !0;
                    },
                    getFieldTypeName: function (t) {
                        var e = this.fieldTypeNames;
                        return t in e ? e[t] : null;
                    },
                    getFieldTagName: function (t) {
                        var e = this.fieldTagNames;
                        return t in e ? e[t] : (console.log('Unknown Field Tag:', t), 'Tag' + t);
                    },
                    getFieldTypeLength: function (t) {
                        return -1 !== ['BYTE', 'ASCII', 'SBYTE', 'UNDEFINED'].indexOf(t)
                            ? 1
                            : -1 !== ['SHORT', 'SSHORT'].indexOf(t)
                            ? 2
                            : -1 !== ['LONG', 'SLONG', 'FLOAT'].indexOf(t)
                            ? 4
                            : -1 !== ['RATIONAL', 'SRATIONAL', 'DOUBLE'].indexOf(t)
                            ? 8
                            : null;
                    },
                    getFieldValues: function (t, e, i, n) {
                        var r = [],
                            s = this.getFieldTypeLength(e);
                        if (s * i <= 4) !1 === this.littleEndian ? r.push(n >>> (8 * (4 - s))) : r.push(n);
                        else
                            for (var o = 0; o < i; o++) {
                                var a = s * o;
                                s >= 8
                                    ? -1 !== ['RATIONAL', 'SRATIONAL'].indexOf(e)
                                        ? (r.push(this.getUint32(n + a)), r.push(this.getUint32(n + a + 4)))
                                        : cc.logID(8e3)
                                    : r.push(this.getBytes(s, n + a));
                            }
                        return (
                            'ASCII' === e &&
                                r.forEach(function (t, e, i) {
                                    i[e] = String.fromCharCode(t);
                                }),
                            r
                        );
                    },
                    getBytes: function (t, e) {
                        if (t <= 0) cc.logID(8001);
                        else {
                            if (t <= 1) return this.getUint8(e);
                            if (t <= 2) return this.getUint16(e);
                            if (t <= 3) return this.getUint32(e) >>> 8;
                            if (t <= 4) return this.getUint32(e);
                            cc.logID(8002);
                        }
                    },
                    getBits: function (t, e, i) {
                        i = i || 0;
                        var n,
                            r,
                            s = e + Math.floor(i / 8),
                            o = i + t,
                            a = 32 - t;
                        return (
                            o <= 0
                                ? console.log('No bits requested')
                                : o <= 8
                                ? ((n = 24 + i), (r = this.getUint8(s)))
                                : o <= 16
                                ? ((n = 16 + i), (r = this.getUint16(s)))
                                : o <= 32
                                ? ((n = i), (r = this.getUint32(s)))
                                : console.log('Too many bits requested'),
                            {
                                bits: (r << n) >>> a,
                                byteOffset: s + Math.floor(o / 8),
                                bitOffset: o % 8,
                            }
                        );
                    },
                    parseFileDirectory: function (t) {
                        for (var e = this.getUint16(t), i = [], n = t + 2, r = 0; r < e; n += 12, r++) {
                            var s = this.getUint16(n),
                                o = this.getUint16(n + 2),
                                a = this.getUint32(n + 4),
                                c = this.getUint32(n + 8),
                                h = this.getFieldTagName(s),
                                l = this.getFieldTypeName(o),
                                u = this.getFieldValues(h, l, a, c);
                            i[h] = {
                                type: l,
                                values: u,
                            };
                        }
                        this._fileDirectories.push(i);
                        var d = this.getUint32(n);
                        0 !== d && this.parseFileDirectory(d);
                    },
                    clampColorSample: function (t, e) {
                        var i = Math.pow(2, 8 - e);
                        return Math.floor(t * i + (i - 1));
                    },
                    parseTIFF: function (t, e) {
                        if (
                            ((e = e || document.createElement('canvas')),
                            (this._tiffData = t),
                            (this.canvas = e),
                            this.checkLittleEndian(),
                            this.hasTowel())
                        ) {
                            var i = this.getUint32(4);
                            (this._fileDirectories.length = 0), this.parseFileDirectory(i);
                            var n = this._fileDirectories[0],
                                r = n.ImageWidth.values[0],
                                s = n.ImageLength.values[0];
                            (this.canvas.width = r), (this.canvas.height = s);
                            var o = [],
                                a = n.Compression ? n.Compression.values[0] : 1,
                                c = n.SamplesPerPixel.values[0],
                                h = [],
                                l = 0,
                                u = !1;
                            if (
                                (n.BitsPerSample.values.forEach(function (t, e, i) {
                                    (h[e] = {
                                        bitsPerSample: t,
                                        hasBytesPerSample: !1,
                                        bytesPerSample: void 0,
                                    }),
                                        t % 8 == 0 && ((h[e].hasBytesPerSample = !0), (h[e].bytesPerSample = t / 8)),
                                        (l += t);
                                }, this),
                                l % 8 == 0)
                            ) {
                                u = !0;
                                var d = l / 8;
                            }
                            var _ = n.StripOffsets.values,
                                f = _.length;
                            if (n.StripByteCounts) var p = n.StripByteCounts.values;
                            else {
                                if ((cc.logID(8003), 1 !== f))
                                    throw Error('Cannot recover from missing StripByteCounts');
                                p = [Math.ceil((r * s * l) / 8)];
                            }
                            for (var g = 0; g < f; g++) {
                                var m = _[g];
                                o[g] = [];
                                for (
                                    var v = p[g], y = 0, C = 0, T = 1, E = !0, x = [], S = 0, b = 0, A = 0;
                                    y < v;
                                    y += T
                                )
                                    switch (a) {
                                        case 1:
                                            var R = 0;
                                            for (x = []; R < c; R++) {
                                                if (!h[R].hasBytesPerSample) {
                                                    var w = this.getBits(h[R].bitsPerSample, m + y, C);
                                                    throw (
                                                        (x.push(w.bits),
                                                        (y = w.byteOffset - m),
                                                        (C = w.bitOffset),
                                                        RangeError('Cannot handle sub-byte bits per sample'))
                                                    );
                                                }
                                                var I = h[R].bytesPerSample * R;
                                                x.push(this.getBytes(h[R].bytesPerSample, m + y + I));
                                            }
                                            if ((o[g].push(x), !u))
                                                throw ((T = 0), RangeError('Cannot handle sub-byte bits per pixel'));
                                            T = d;
                                            break;
                                        case 2:
                                        case 3:
                                        case 4:
                                        case 5:
                                        case 6:
                                        case 7:
                                            break;
                                        case 32773:
                                            if (E) {
                                                E = !1;
                                                var O = 1,
                                                    L = 1,
                                                    P = this.getInt8(m + y);
                                                P >= 0 && P <= 127
                                                    ? (O = P + 1)
                                                    : P >= -127 && P <= -1
                                                    ? (L = 1 - P)
                                                    : (E = !0);
                                            } else {
                                                var D = this.getUint8(m + y);
                                                for (R = 0; R < L; R++) {
                                                    if (!h[b].hasBytesPerSample)
                                                        throw RangeError('Cannot handle sub-byte bits per sample');
                                                    (A = (A << (8 * S)) | D),
                                                        ++S === h[b].bytesPerSample && (x.push(A), (A = S = 0), b++),
                                                        b === c && (o[g].push(x), (x = []), (b = 0));
                                                }
                                                0 === --O && (E = !0);
                                            }
                                            T = 1;
                                    }
                            }
                            if (e.getContext) {
                                var N = this.canvas.getContext('2d');
                                N.fillStyle = 'rgba(255, 255, 255, 0)';
                                var F = n.RowsPerStrip ? n.RowsPerStrip.values[0] : s,
                                    M = o.length,
                                    B = s % F,
                                    z = 0 === B ? F : B,
                                    V = F,
                                    W = 0,
                                    U = n.PhotometricInterpretation.values[0],
                                    k = [],
                                    G = 0;
                                if ((n.ExtraSamples && (G = (k = n.ExtraSamples.values).length), n.ColorMap))
                                    var H = n.ColorMap.values,
                                        Y = Math.pow(2, h[0].bitsPerSample);
                                for (g = 0; g < M; g++) {
                                    g + 1 === M && (V = z);
                                    for (var X = o[g].length, j = W * g, q = 0, Z = 0; Z < X; q++)
                                        for (var Q = 0; Q < r; Q++, Z++) {
                                            var K = o[g][Z],
                                                J = 0,
                                                $ = 0,
                                                tt = 0,
                                                et = 1;
                                            if (G > 0)
                                                for (var it = 0; it < G; it++)
                                                    if (1 === k[it] || 2 === k[it]) {
                                                        et = K[3 + it] / 256;
                                                        break;
                                                    }
                                            switch (U) {
                                                case 0:
                                                    if (h[0].hasBytesPerSample)
                                                        var nt = Math.pow(16, 2 * h[0].bytesPerSample);
                                                    K.forEach(function (t, e, i) {
                                                        i[e] = nt - t;
                                                    });
                                                case 1:
                                                    J = $ = tt = this.clampColorSample(K[0], h[0].bitsPerSample);
                                                    break;
                                                case 2:
                                                    (J = this.clampColorSample(K[0], h[0].bitsPerSample)),
                                                        ($ = this.clampColorSample(K[1], h[1].bitsPerSample)),
                                                        (tt = this.clampColorSample(K[2], h[2].bitsPerSample));
                                                    break;
                                                case 3:
                                                    if (void 0 === H) throw Error('Palette image missing color map');
                                                    var rt = K[0];
                                                    (J = this.clampColorSample(H[rt], 16)),
                                                        ($ = this.clampColorSample(H[Y + rt], 16)),
                                                        (tt = this.clampColorSample(H[2 * Y + rt], 16));
                                                    break;
                                                default:
                                                    throw RangeError('Unknown Photometric Interpretation:', U);
                                            }
                                            (N.fillStyle = 'rgba(' + J + ', ' + $ + ', ' + tt + ', ' + et + ')'),
                                                N.fillRect(Q, j + q, 1, 1);
                                        }
                                    W = V;
                                }
                            }
                            return this.canvas;
                        }
                    },
                    fieldTagNames: {
                        315: 'Artist',
                        258: 'BitsPerSample',
                        265: 'CellLength',
                        264: 'CellWidth',
                        320: 'ColorMap',
                        259: 'Compression',
                        33432: 'Copyright',
                        306: 'DateTime',
                        338: 'ExtraSamples',
                        266: 'FillOrder',
                        289: 'FreeByteCounts',
                        288: 'FreeOffsets',
                        291: 'GrayResponseCurve',
                        290: 'GrayResponseUnit',
                        316: 'HostComputer',
                        270: 'ImageDescription',
                        257: 'ImageLength',
                        256: 'ImageWidth',
                        271: 'Make',
                        281: 'MaxSampleValue',
                        280: 'MinSampleValue',
                        272: 'Model',
                        254: 'NewSubfileType',
                        274: 'Orientation',
                        262: 'PhotometricInterpretation',
                        284: 'PlanarConfiguration',
                        296: 'ResolutionUnit',
                        278: 'RowsPerStrip',
                        277: 'SamplesPerPixel',
                        305: 'Software',
                        279: 'StripByteCounts',
                        273: 'StripOffsets',
                        255: 'SubfileType',
                        263: 'Threshholding',
                        282: 'XResolution',
                        283: 'YResolution',
                        326: 'BadFaxLines',
                        327: 'CleanFaxData',
                        343: 'ClipPath',
                        328: 'ConsecutiveBadFaxLines',
                        433: 'Decode',
                        434: 'DefaultImageColor',
                        269: 'DocumentName',
                        336: 'DotRange',
                        321: 'HalftoneHints',
                        346: 'Indexed',
                        347: 'JPEGTables',
                        285: 'PageName',
                        297: 'PageNumber',
                        317: 'Predictor',
                        319: 'PrimaryChromaticities',
                        532: 'ReferenceBlackWhite',
                        339: 'SampleFormat',
                        559: 'StripRowCounts',
                        330: 'SubIFDs',
                        292: 'T4Options',
                        293: 'T6Options',
                        325: 'TileByteCounts',
                        323: 'TileLength',
                        324: 'TileOffsets',
                        322: 'TileWidth',
                        301: 'TransferFunction',
                        318: 'WhitePoint',
                        344: 'XClipPathUnits',
                        286: 'XPosition',
                        529: 'YCbCrCoefficients',
                        531: 'YCbCrPositioning',
                        530: 'YCbCrSubSampling',
                        345: 'YClipPathUnits',
                        287: 'YPosition',
                        37378: 'ApertureValue',
                        40961: 'ColorSpace',
                        36868: 'DateTimeDigitized',
                        36867: 'DateTimeOriginal',
                        34665: 'Exif IFD',
                        36864: 'ExifVersion',
                        33434: 'ExposureTime',
                        41728: 'FileSource',
                        37385: 'Flash',
                        40960: 'FlashpixVersion',
                        33437: 'FNumber',
                        42016: 'ImageUniqueID',
                        37384: 'LightSource',
                        37500: 'MakerNote',
                        37377: 'ShutterSpeedValue',
                        37510: 'UserComment',
                        33723: 'IPTC',
                        34675: 'ICC Profile',
                        700: 'XMP',
                        42112: 'GDAL_METADATA',
                        42113: 'GDAL_NODATA',
                        34377: 'Photoshop',
                    },
                    fieldTypeNames: {
                        1: 'BYTE',
                        2: 'ASCII',
                        3: 'SHORT',
                        4: 'LONG',
                        5: 'RATIONAL',
                        6: 'SBYTE',
                        7: 'UNDEFINED',
                        8: 'SSHORT',
                        9: 'SLONG',
                        10: 'SRATIONAL',
                        11: 'FLOAT',
                        12: 'DOUBLE',
                    },
                };
                e.exports = n;
            },
            {},
        ],
        221: [
            function (t, e, i) {
                cc.RenderTexture = _ccsg.Node.extend({
                    sprite: null,
                    clearFlags: 0,
                    clearDepthVal: 0,
                    autoDraw: !1,
                    _texture: null,
                    _pixelFormat: 0,
                    clearStencilVal: 0,
                    _clearColor: null,
                    _className: 'RenderTexture',
                    ctor: function (t, e, i, n) {
                        _ccsg.Node.prototype.ctor.call(this),
                            (this._cascadeColorEnabled = !0),
                            (this._cascadeOpacityEnabled = !0),
                            (this._pixelFormat = cc.Texture2D.PixelFormat.RGBA8888),
                            (this._clearColor = new cc.Color(0, 0, 0, 255)),
                            void 0 !== t &&
                                void 0 !== e &&
                                ((i = i || cc.Texture2D.PixelFormat.RGBA8888),
                                (n = n || 0),
                                this.initWithWidthAndHeight(t, e, i, n)),
                            this.setAnchorPoint(0, 0);
                    },
                    _createRenderCmd: function () {
                        return cc._renderType === cc.game.RENDER_TYPE_CANVAS
                            ? new cc.RenderTexture.CanvasRenderCmd(this)
                            : new cc.RenderTexture.WebGLRenderCmd(this);
                    },
                    visit: function (t) {
                        var e = this._renderCmd,
                            i = t ? t._renderCmd : null;
                        if (this._visible) {
                            var n = cc.renderer;
                            e.visit(i), n.pushRenderCommand(e), this.sprite.visit(this), (e._dirtyFlag = 0);
                        } else e._propagateFlagsDown(i);
                    },
                    cleanup: function () {
                        _ccsg.Node.prototype.onExit.call(this), this._renderCmd.cleanup();
                    },
                    getSprite: function () {
                        return this.sprite;
                    },
                    setSprite: function (t) {
                        this.sprite = t;
                    },
                    setVirtualViewport: function (t, e, i) {
                        this._renderCmd.setVirtualViewport(t, e, i);
                    },
                    initWithWidthAndHeight: function (t, e, i, n) {
                        return this._renderCmd.initWithWidthAndHeight(t, e, i, n);
                    },
                    begin: function () {
                        cc.renderer._turnToCacheMode(this.__instanceId), this._renderCmd.begin();
                    },
                    beginWithClear: function (t, e, i, n, r, s) {
                        var o = cc._renderContext;
                        (r = r || o.COLOR_BUFFER_BIT),
                            (s = s || o.COLOR_BUFFER_BIT | o.DEPTH_BUFFER_BIT),
                            this._beginWithClear(
                                t,
                                e,
                                i,
                                n,
                                r,
                                s,
                                o.COLOR_BUFFER_BIT | o.DEPTH_BUFFER_BIT | o.STENCIL_BUFFER_BIT,
                            );
                    },
                    _beginWithClear: function (t, e, i, n, r, s, o) {
                        this.begin(), this._renderCmd._beginWithClear(t, e, i, n, r, s, o);
                    },
                    end: function () {
                        this._renderCmd.end();
                    },
                    clear: function (t, e, i, n) {
                        this.beginWithClear(t, e, i, n), this.end();
                    },
                    clearRect: function (t, e, i, n) {
                        this._renderCmd.clearRect(t, e, i, n);
                    },
                    clearDepth: function (t) {
                        this._renderCmd.clearDepth(t);
                    },
                    clearStencil: function (t) {
                        this._renderCmd.clearStencil(t);
                    },
                    getClearFlags: function () {
                        return this.clearFlags;
                    },
                    setClearFlags: function (t) {
                        this.clearFlags = t;
                    },
                    getClearColor: function () {
                        return this._clearColor;
                    },
                    setClearColor: function (t) {
                        var e = this._clearColor;
                        (e.r = t.r), (e.g = t.g), (e.b = t.b), (e.a = t.a), this._renderCmd.updateClearColor(t);
                    },
                    getClearDepth: function () {
                        return this.clearDepthVal;
                    },
                    setClearDepth: function (t) {
                        this.clearDepthVal = t;
                    },
                    getClearStencil: function () {
                        return this.clearStencilVal;
                    },
                    setClearStencil: function (t) {
                        this.clearStencilVal = t;
                    },
                    isAutoDraw: function () {
                        return this.autoDraw;
                    },
                    setAutoDraw: function (t) {
                        this.autoDraw = t;
                    },
                    saveToFile: function (t, e) {
                        cc.log("saveToFile isn't supported on Cocos2d-Html5");
                    },
                    newCCImage: function (t) {
                        return cc.log("saveToFile isn't supported on cocos2d-html5"), null;
                    },
                    listenToBackground: function (t) {},
                    listenToForeground: function (t) {},
                });
                var n = cc.RenderTexture.prototype;
                n.clearColorVal,
                    cc.defineGetterSetter(n, 'clearColorVal', n.getClearColor, n.setClearColor),
                    (cc.RenderTexture.create = function (t, e, i, n) {
                        return new cc.RenderTexture(t, e, i, n);
                    });
            },
            {},
        ],
        222: [
            function (t, e, i) {
                cc.RenderTexture.CanvasRenderCmd = function (t) {
                    this._rootCtor(t),
                        (this._needDraw = !1),
                        (this._clearColorStr = 'rgba(255,255,255,1)'),
                        (this._cacheCanvas = document.createElement('canvas')),
                        (this._cacheContext = new cc.CanvasContextWrapper(this._cacheCanvas.getContext('2d')));
                };
                var n = (cc.RenderTexture.CanvasRenderCmd.prototype = Object.create(
                    _ccsg.Node.CanvasRenderCmd.prototype,
                ));
                (n.constructor = cc.RenderTexture.CanvasRenderCmd),
                    (n.cleanup = function () {
                        (this._cacheContext = null), (this._cacheCanvas = null);
                    }),
                    (n.clearStencil = function (t) {}),
                    (n.setVirtualViewport = function (t, e, i) {}),
                    (n.updateClearColor = function (t) {
                        this._clearColorStr =
                            'rgba(' + (0 | t.r) + ',' + (0 | t.g) + ',' + (0 | t.b) + ',' + t.a / 255 + ')';
                    }),
                    (n.initWithWidthAndHeight = function (t, e, i, n) {
                        var r = this._node,
                            s = this._cacheCanvas;
                        (s.width = 0 | t), (s.height = 0 | e);
                        var o = new cc.Texture2D();
                        o.initWithElement(s), o.handleLoadedTexture();
                        var a = (r.sprite = new _ccsg.Sprite(o));
                        return (
                            a.setBlendFunc(cc.macro.ONE, cc.macro.ONE_MINUS_SRC_ALPHA),
                            (r.autoDraw = !1),
                            r.addChild(a),
                            !0
                        );
                    }),
                    (n.begin = function () {}),
                    (n._beginWithClear = function (t, e, i, n, r, s, o) {
                        (t = t || 0), (e = e || 0), (i = i || 0), (n = isNaN(n) ? 255 : n);
                        var a = this._cacheContext.getContext(),
                            c = this._cacheCanvas;
                        a.setTransform(1, 0, 0, 1, 0, 0),
                            this._cacheContext.setFillStyle(
                                'rgba(' + (0 | t) + ',' + (0 | e) + ',' + (0 | i) + ',' + n / 255 + ')',
                            ),
                            a.clearRect(0, 0, c.width, c.height),
                            a.fillRect(0, 0, c.width, c.height);
                    }),
                    (n.end = function () {
                        var t = this._node;
                        cc.renderer._renderingToCacheCanvas(this._cacheContext, t.__instanceId);
                        var e = t.sprite._renderCmd;
                        e._notifyRegionStatus && e._notifyRegionStatus(_ccsg.Node.CanvasRenderCmd.RegionStatus.Dirty);
                    }),
                    (n.clearRect = function (t, e, i, n) {
                        this._cacheContext.clearRect(t, e, i, -n);
                    }),
                    (n.clearDepth = function (t) {
                        cc.log("clearDepth isn't supported on Cocos2d-Html5");
                    });
            },
            {},
        ],
        223: [
            function (t, e, i) {
                var n = t('../core/utils/misc');
                cc.RenderTexture.WebGLRenderCmd = function (t) {
                    this._rootCtor(t),
                        (this._needDraw = !0),
                        (this._fBO = null),
                        (this._oldFBO = null),
                        (this._textureCopy = null),
                        (this._depthRenderBuffer = null),
                        (this._rtTextureRect = new cc.Rect()),
                        (this._fullRect = new cc.Rect()),
                        (this._fullViewport = new cc.Rect());
                };
                var r = (cc.RenderTexture.WebGLRenderCmd.prototype = Object.create(
                    _ccsg.Node.WebGLRenderCmd.prototype,
                ));
                (r.constructor = cc.RenderTexture.WebGLRenderCmd),
                    (r.setVirtualViewport = function (t, e, i) {
                        (this._rtTextureRect.x = t.x),
                            (this._rtTextureRect.y = t.y),
                            (this._fullRect = e),
                            (this._fullViewport = i);
                    }),
                    (r.needDraw = function () {
                        return this._needDraw && this._node.autoDraw;
                    }),
                    (r.rendering = function (t) {
                        var e = t || cc._renderContext,
                            i = this._node;
                        if (i.autoDraw) {
                            i.begin();
                            var n = i.clearFlags;
                            if (n) {
                                var r = [0, 0, 0, 0],
                                    s = 0,
                                    o = 0;
                                n & e.COLOR_BUFFER_BIT &&
                                    ((r = e.getParameter(e.COLOR_CLEAR_VALUE)),
                                    e.clearColor(
                                        i._clearColor.r / 255,
                                        i._clearColor.g / 255,
                                        i._clearColor.b / 255,
                                        i._clearColor.a / 255,
                                    )),
                                    n & e.DEPTH_BUFFER_BIT &&
                                        ((s = e.getParameter(e.DEPTH_CLEAR_VALUE)), e.clearDepth(i.clearDepthVal)),
                                    n & e.STENCIL_BUFFER_BIT &&
                                        ((o = e.getParameter(e.STENCIL_CLEAR_VALUE)),
                                        e.clearStencil(i.clearStencilVal)),
                                    e.clear(n),
                                    n & e.COLOR_BUFFER_BIT && e.clearColor(r[0], r[1], r[2], r[3]),
                                    n & e.DEPTH_BUFFER_BIT && e.clearDepth(s),
                                    n & e.STENCIL_BUFFER_BIT && e.clearStencil(o);
                            }
                            i.sortAllChildren();
                            for (var a = i._children, c = 0; c < a.length; c++) {
                                var h = a[c];
                                h !== i.sprite && h.visit(i.sprite);
                            }
                            i.end();
                        }
                    }),
                    (r.clearStencil = function (t) {
                        var e = cc._renderContext,
                            i = e.getParameter(e.STENCIL_CLEAR_VALUE);
                        e.clearStencil(t), e.clear(e.STENCIL_BUFFER_BIT), e.clearStencil(i);
                    }),
                    (r.cleanup = function () {
                        this._node;
                        this._textureCopy = null;
                        var t = cc._renderContext;
                        t.deleteFramebuffer(this._fBO),
                            this._depthRenderBuffer && t.deleteRenderbuffer(this._depthRenderBuffer);
                    }),
                    (r.updateClearColor = function (t) {}),
                    (r.initWithWidthAndHeight = function (t, e, i, r) {
                        var s = this._node;
                        i === cc.Texture2D.PixelFormat.A8 &&
                            cc.log(
                                'cc.RenderTexture._initWithWidthAndHeightForWebGL() : only RGB and RGBA formats are valid for a render texture;',
                            );
                        var o = cc._renderContext;
                        (this._fullRect = new cc.Rect(0, 0, t, e)),
                            (t |= 0),
                            (e |= 0),
                            (this._oldFBO = o.getParameter(o.FRAMEBUFFER_BINDING));
                        var a, c;
                        cc.configuration.supportsNPOT() ? ((a = t), (c = e)) : ((a = n.NextPOT(t)), (c = n.NextPOT(e))),
                            (this._fullViewport = new cc.Rect(0, 0, a, c));
                        for (var h = a * c * 4, l = new Uint8Array(h), u = 0; u < a * c * 4; u++) l[u] = 0;
                        this._pixelFormat = i;
                        var d = (s._texture = new cc.Texture2D());
                        if (!s._texture) return !1;
                        d.initWithData(l, s._pixelFormat, a, c);
                        var _ = o.getParameter(o.RENDERBUFFER_BINDING);
                        if (cc.configuration.checkForGLExtension('GL_QCOM')) {
                            if (((this._textureCopy = new cc.Texture2D()), !this._textureCopy)) return !1;
                            this._textureCopy.initWithData(l, s._pixelFormat, a, c);
                        }
                        (this._fBO = o.createFramebuffer()),
                            o.bindFramebuffer(o.FRAMEBUFFER, this._fBO),
                            o.framebufferTexture2D(o.FRAMEBUFFER, o.COLOR_ATTACHMENT0, o.TEXTURE_2D, d._glID, 0),
                            0 !== r &&
                                ((this._depthRenderBuffer = o.createRenderbuffer()),
                                o.bindRenderbuffer(o.RENDERBUFFER, this._depthRenderBuffer),
                                o.renderbufferStorage(o.RENDERBUFFER, r, a, c),
                                r === o.DEPTH_STENCIL
                                    ? o.framebufferRenderbuffer(
                                          o.FRAMEBUFFER,
                                          o.DEPTH_STENCIL_ATTACHMENT,
                                          o.RENDERBUFFER,
                                          this._depthRenderBuffer,
                                      )
                                    : r === o.STENCIL_INDEX || r === o.STENCIL_INDEX8
                                    ? o.framebufferRenderbuffer(
                                          o.FRAMEBUFFER,
                                          o.STENCIL_ATTACHMENT,
                                          o.RENDERBUFFER,
                                          this._depthRenderBuffer,
                                      )
                                    : r === o.DEPTH_COMPONENT16 &&
                                      o.framebufferRenderbuffer(
                                          o.FRAMEBUFFER,
                                          o.DEPTH_ATTACHMENT,
                                          o.RENDERBUFFER,
                                          this._depthRenderBuffer,
                                      )),
                            o.checkFramebufferStatus(o.FRAMEBUFFER) !== o.FRAMEBUFFER_COMPLETE &&
                                cc.log('Could not attach texture to the framebuffer'),
                            d.setAliasTexParameters();
                        var f = (s.sprite = new _ccsg.Sprite(d));
                        return (
                            (f.scaleY = -1),
                            f.setBlendFunc(o.ONE, o.ONE_MINUS_SRC_ALPHA),
                            o.bindRenderbuffer(o.RENDERBUFFER, _),
                            o.bindFramebuffer(o.FRAMEBUFFER, this._oldFBO),
                            (s.autoDraw = !1),
                            s.addChild(f),
                            !0
                        );
                    }),
                    (r.begin = function () {
                        var t = this._node;
                        cc.math.glMatrixMode(cc.math.KM_GL_PROJECTION),
                            cc.math.glPushMatrix(),
                            cc.math.glMatrixMode(cc.math.KM_GL_MODELVIEW),
                            cc.math.glPushMatrix();
                        var e = cc._renderContext,
                            i = cc.director;
                        i.setProjection(i.getProjection());
                        var n = cc.director.getWinSizeInPixels(),
                            r = n.width / t._texture.width,
                            s = n.height / t._texture.height,
                            o = cc.math.Matrix4.createOrthographicProjection(-1 / r, 1 / r, -1 / s, 1 / s, -1, 1);
                        cc.math.glMatrixMode(cc.math.KM_GL_PROJECTION), cc.math.glMultMatrix(o);
                        var a = new cc.Rect(0, 0, 0, 0);
                        (a.width = this._fullViewport.width), (a.height = this._fullViewport.height);
                        var c = a.width / this._fullRect.width,
                            h = a.height / this._fullRect.height;
                        (a.x = (this._fullRect.x - this._rtTextureRect.x) * c),
                            (a.y = (this._fullRect.y - this._rtTextureRect.y) * h),
                            e.viewport(a.x, a.y, a.width, a.height),
                            (this._oldFBO = e.getParameter(e.FRAMEBUFFER_BINDING)),
                            e.bindFramebuffer(e.FRAMEBUFFER, this._fBO),
                            cc.configuration.checkForGLExtension('GL_QCOM') &&
                                (e.framebufferTexture2D(
                                    e.FRAMEBUFFER,
                                    e.COLOR_ATTACHMENT0,
                                    e.TEXTURE_2D,
                                    this._textureCopy._glID,
                                    0,
                                ),
                                e.clear(e.COLOR_BUFFER_BIT | e.DEPTH_BUFFER_BIT),
                                e.framebufferTexture2D(
                                    e.FRAMEBUFFER,
                                    e.COLOR_ATTACHMENT0,
                                    e.TEXTURE_2D,
                                    t._texture._glID,
                                    0,
                                ));
                    }),
                    (r._beginWithClear = function (t, e, i, n, r, s, o) {
                        (t /= 255), (e /= 255), (i /= 255), (n /= 255);
                        var a = cc._renderContext,
                            c = [0, 0, 0, 0],
                            h = 0,
                            l = 0;
                        o & a.COLOR_BUFFER_BIT && ((c = a.getParameter(a.COLOR_CLEAR_VALUE)), a.clearColor(t, e, i, n)),
                            o & a.DEPTH_BUFFER_BIT && ((h = a.getParameter(a.DEPTH_CLEAR_VALUE)), a.clearDepth(r)),
                            o & a.STENCIL_BUFFER_BIT &&
                                ((l = a.getParameter(a.STENCIL_CLEAR_VALUE)), a.clearStencil(s)),
                            a.clear(o),
                            o & a.COLOR_BUFFER_BIT && a.clearColor(c[0], c[1], c[2], c[3]),
                            o & a.DEPTH_BUFFER_BIT && a.clearDepth(h),
                            o & a.STENCIL_BUFFER_BIT && a.clearStencil(l);
                    }),
                    (r.end = function () {
                        var t = this._node;
                        cc.renderer._renderingToBuffer(t.__instanceId);
                        var e = cc._renderContext,
                            i = cc.director;
                        e.bindFramebuffer(e.FRAMEBUFFER, this._oldFBO),
                            i.setViewport(),
                            cc.math.glMatrixMode(cc.math.KM_GL_PROJECTION),
                            cc.math.glPopMatrix(),
                            cc.math.glMatrixMode(cc.math.KM_GL_MODELVIEW),
                            cc.math.glPopMatrix();
                    }),
                    (r.clearRect = function (t, e, i, n) {}),
                    (r.clearDepth = function (t) {
                        var e = this._node;
                        e.begin();
                        var i = cc._renderContext,
                            n = i.getParameter(i.DEPTH_CLEAR_VALUE);
                        i.clearDepth(t), i.clear(i.DEPTH_BUFFER_BIT), i.clearDepth(n), e.end();
                    });
            },
            {
                '../core/utils/misc': 185,
            },
        ],
        224: [
            function (t, e, i) {
                var n = cc.macro,
                    r = cc.math;
                (cc.GLProgram = cc._Class.extend({
                    _updateUniformLocation: function (t) {
                        if (!t) return !1;
                        var e,
                            i = this._hashForUniforms[t];
                        if (i) {
                            e = !1;
                            for (var n = arguments.length - 1, r = 0; r < n; ++r)
                                arguments[r + 1] !== i[r] && ((i[r] = arguments[r + 1]), (e = !0));
                        } else
                            (i = [arguments[1], arguments[2], arguments[3], arguments[4]]),
                                (this._hashForUniforms[t] = i),
                                (e = !0);
                        return e;
                    },
                    _description: function () {
                        return (
                            '<CCGLProgram = ' +
                            this.toString() +
                            ' | Program = ' +
                            this._programObj.toString() +
                            ', VertexShader = ' +
                            this._vertShader.toString() +
                            ', FragmentShader = ' +
                            this._fragShader.toString() +
                            '>'
                        );
                    },
                    _compileShader: function (t, e, i) {
                        if (!i || !t) return !1;
                        (i =
                            (cc.GLProgram._isHighpSupported()
                                ? 'precision highp float;\n'
                                : 'precision mediump float;\n') +
                            'uniform mat4 CC_PMatrix;\nuniform mat4 CC_MVMatrix;\nuniform mat4 CC_MVPMatrix;\nuniform vec4 CC_Time;\nuniform vec4 CC_SinTime;\nuniform vec4 CC_CosTime;\nuniform vec4 CC_Random01;\nuniform sampler2D CC_Texture0;\n//CC INCLUDES END\n' +
                            i),
                            this._glContext.shaderSource(t, i),
                            this._glContext.compileShader(t);
                        var n = this._glContext.getShaderParameter(t, this._glContext.COMPILE_STATUS);
                        return (
                            n ||
                                (cc.logID(8100, this._glContext.getShaderSource(t)),
                                e === this._glContext.VERTEX_SHADER
                                    ? cc.log('cocos2d: \n' + this.vertexShaderLog())
                                    : cc.log('cocos2d: \n' + this.fragmentShaderLog())),
                            !!n
                        );
                    },
                    ctor: function (t, e, i) {
                        (this._uniforms = {}),
                            (this._hashForUniforms = {}),
                            (this._glContext = i || cc._renderContext),
                            (this._programObj = null),
                            (this._vertShader = null),
                            (this._fragShader = null),
                            (this._usesTime = !1),
                            (this._projectionUpdated = -1),
                            t && e && this.init(t, e);
                    },
                    destroyProgram: function () {
                        (this._vertShader = null),
                            (this._fragShader = null),
                            (this._uniforms = null),
                            (this._hashForUniforms = null),
                            this._glContext.deleteProgram(this._programObj);
                    },
                    initWithVertexShaderByteArray: function (t, e) {
                        var i = this._glContext;
                        (this._programObj = i.createProgram()),
                            (this._projectionUpdated = -1),
                            (this._vertShader = null),
                            (this._fragShader = null),
                            t &&
                                ((this._vertShader = i.createShader(i.VERTEX_SHADER)),
                                this._compileShader(this._vertShader, i.VERTEX_SHADER, t) || cc.logID(8101)),
                            e &&
                                ((this._fragShader = i.createShader(i.FRAGMENT_SHADER)),
                                this._compileShader(this._fragShader, i.FRAGMENT_SHADER, e) || cc.logID(8102)),
                            this._vertShader && i.attachShader(this._programObj, this._vertShader),
                            this._fragShader && i.attachShader(this._programObj, this._fragShader);
                        for (var n in this._hashForUniforms) delete this._hashForUniforms[n];
                        return !0;
                    },
                    initWithString: function (t, e) {
                        return this.initWithVertexShaderByteArray(t, e);
                    },
                    initWithVertexShaderFilename: function (t, e) {
                        var i = cc.loader.getRes(t);
                        if (!i) throw new Error('Please load the resource firset : ' + t);
                        var n = cc.loader.getRes(e);
                        if (!n) throw new Error('Please load the resource firset : ' + e);
                        return this.initWithVertexShaderByteArray(i, n);
                    },
                    init: function (t, e) {
                        return this.initWithVertexShaderFilename(t, e);
                    },
                    addAttribute: function (t, e) {
                        this._glContext.bindAttribLocation(this._programObj, e, t);
                    },
                    link: function () {
                        if (!this._programObj) return cc.logID(8103), !1;
                        if (
                            (this._glContext.linkProgram(this._programObj),
                            this._vertShader && this._glContext.deleteShader(this._vertShader),
                            this._fragShader && this._glContext.deleteShader(this._fragShader),
                            (this._vertShader = null),
                            (this._fragShader = null),
                            cc.game.config[cc.game.CONFIG_KEY.debugMode])
                        ) {
                            if (!this._glContext.getProgramParameter(this._programObj, this._glContext.LINK_STATUS))
                                return (
                                    cc.logID(8104, this._glContext.getProgramInfoLog(this._programObj)),
                                    cc.gl.deleteProgram(this._programObj),
                                    (this._programObj = null),
                                    !1
                                );
                        }
                        return !0;
                    },
                    use: function () {
                        cc.gl.useProgram(this._programObj);
                    },
                    updateUniforms: function () {
                        (this._uniforms[n.UNIFORM_PMATRIX] = this._glContext.getUniformLocation(
                            this._programObj,
                            n.UNIFORM_PMATRIX_S,
                        )),
                            (this._uniforms[n.UNIFORM_MVMATRIX] = this._glContext.getUniformLocation(
                                this._programObj,
                                n.UNIFORM_MVMATRIX_S,
                            )),
                            (this._uniforms[n.UNIFORM_MVPMATRIX] = this._glContext.getUniformLocation(
                                this._programObj,
                                n.UNIFORM_MVPMATRIX_S,
                            )),
                            (this._uniforms[n.UNIFORM_TIME] = this._glContext.getUniformLocation(
                                this._programObj,
                                n.UNIFORM_TIME_S,
                            )),
                            (this._uniforms[n.UNIFORM_SINTIME] = this._glContext.getUniformLocation(
                                this._programObj,
                                n.UNIFORM_SINTIME_S,
                            )),
                            (this._uniforms[n.UNIFORM_COSTIME] = this._glContext.getUniformLocation(
                                this._programObj,
                                n.UNIFORM_COSTIME_S,
                            )),
                            (this._usesTime =
                                null != this._uniforms[n.UNIFORM_TIME] ||
                                null != this._uniforms[n.UNIFORM_SINTIME] ||
                                null != this._uniforms[n.UNIFORM_COSTIME]),
                            (this._uniforms[n.UNIFORM_RANDOM01] = this._glContext.getUniformLocation(
                                this._programObj,
                                n.UNIFORM_RANDOM01_S,
                            )),
                            (this._uniforms[n.UNIFORM_SAMPLER] = this._glContext.getUniformLocation(
                                this._programObj,
                                n.UNIFORM_SAMPLER_S,
                            )),
                            this.use(),
                            this.setUniformLocationWith1i(this._uniforms[n.UNIFORM_SAMPLER], 0);
                    },
                    _addUniformLocation: function (t) {
                        var e = this._glContext.getUniformLocation(this._programObj, t);
                        this._uniforms[t] = e;
                    },
                    getUniformLocationForName: function (t) {
                        if (!t)
                            throw new Error(
                                'cc.GLProgram.getUniformLocationForName(): uniform name should be non-null',
                            );
                        if (!this._programObj)
                            throw new Error(
                                'cc.GLProgram.getUniformLocationForName(): Invalid operation. Cannot get uniform location when program is not initialized',
                            );
                        return this._uniforms[t] || this._glContext.getUniformLocation(this._programObj, t);
                    },
                    getUniformMVPMatrix: function () {
                        return this._uniforms[n.UNIFORM_MVPMATRIX];
                    },
                    getUniformSampler: function () {
                        return this._uniforms[n.UNIFORM_SAMPLER];
                    },
                    setUniformLocationWith1i: function (t, e) {
                        var i = this._glContext;
                        if ('string' == typeof t) {
                            if (this._updateUniformLocation(t, e)) {
                                var n = this.getUniformLocationForName(t);
                                i.uniform1i(n, e);
                            }
                        } else i.uniform1i(t, e);
                    },
                    setUniformLocationWith2i: function (t, e, i) {
                        var n = this._glContext;
                        if ('string' == typeof t) {
                            if (this._updateUniformLocation(t, e, i)) {
                                var r = this.getUniformLocationForName(t);
                                n.uniform2i(r, e, i);
                            }
                        } else n.uniform2i(t, e, i);
                    },
                    setUniformLocationWith3i: function (t, e, i, n) {
                        var r = this._glContext;
                        if ('string' == typeof t) {
                            if (this._updateUniformLocation(t, e, i, n)) {
                                var s = this.getUniformLocationForName(t);
                                r.uniform3i(s, e, i, n);
                            }
                        } else r.uniform3i(t, e, i, n);
                    },
                    setUniformLocationWith4i: function (t, e, i, n, r) {
                        var s = this._glContext;
                        if ('string' == typeof t) {
                            if (this._updateUniformLocation(t, e, i, n, r)) {
                                var o = this.getUniformLocationForName(t);
                                s.uniform4i(o, e, i, n, r);
                            }
                        } else s.uniform4i(t, e, i, n, r);
                    },
                    setUniformLocationWith2iv: function (t, e) {
                        var i = 'string' == typeof t ? this.getUniformLocationForName(t) : t;
                        this._glContext.uniform2iv(i, e);
                    },
                    setUniformLocationWith3iv: function (t, e) {
                        var i = 'string' == typeof t ? this.getUniformLocationForName(t) : t;
                        this._glContext.uniform3iv(i, e);
                    },
                    setUniformLocationWith4iv: function (t, e) {
                        var i = 'string' == typeof t ? this.getUniformLocationForName(t) : t;
                        this._glContext.uniform4iv(i, e);
                    },
                    setUniformLocationI32: function (t, e) {
                        this.setUniformLocationWith1i(t, e);
                    },
                    setUniformLocationWith1f: function (t, e) {
                        var i = this._glContext;
                        if ('string' == typeof t) {
                            if (this._updateUniformLocation(t, e)) {
                                var n = this.getUniformLocationForName(t);
                                i.uniform1f(n, e);
                            }
                        } else i.uniform1f(t, e);
                    },
                    setUniformLocationWith2f: function (t, e, i) {
                        var n = this._glContext;
                        if ('string' == typeof t) {
                            if (this._updateUniformLocation(t, e, i)) {
                                var r = this.getUniformLocationForName(t);
                                n.uniform2f(r, e, i);
                            }
                        } else n.uniform2f(t, e, i);
                    },
                    setUniformLocationWith3f: function (t, e, i, n) {
                        var r = this._glContext;
                        if ('string' == typeof t) {
                            if (this._updateUniformLocation(t, e, i, n)) {
                                var s = this.getUniformLocationForName(t);
                                r.uniform3f(s, e, i, n);
                            }
                        } else r.uniform3f(t, e, i, n);
                    },
                    setUniformLocationWith4f: function (t, e, i, n, r) {
                        var s = this._glContext;
                        if ('string' == typeof t) {
                            if (this._updateUniformLocation(t, e, i, n, r)) {
                                var o = this.getUniformLocationForName(t);
                                s.uniform4f(o, e, i, n, r);
                            }
                        } else s.uniform4f(t, e, i, n, r);
                    },
                    setUniformLocationWith2fv: function (t, e) {
                        var i = 'string' == typeof t ? this.getUniformLocationForName(t) : t;
                        this._glContext.uniform2fv(i, e);
                    },
                    setUniformLocationWith3fv: function (t, e) {
                        var i = 'string' == typeof t ? this.getUniformLocationForName(t) : t;
                        this._glContext.uniform3fv(i, e);
                    },
                    setUniformLocationWith4fv: function (t, e) {
                        var i = 'string' == typeof t ? this.getUniformLocationForName(t) : t;
                        this._glContext.uniform4fv(i, e);
                    },
                    setUniformLocationWithMatrix3fv: function (t, e) {
                        var i = 'string' == typeof t ? this.getUniformLocationForName(t) : t;
                        this._glContext.uniformMatrix3fv(i, !1, e);
                    },
                    setUniformLocationWithMatrix4fv: function (t, e) {
                        var i = 'string' == typeof t ? this.getUniformLocationForName(t) : t;
                        this._glContext.uniformMatrix4fv(i, !1, e);
                    },
                    setUniformLocationF32: function (t, e, i, n, r) {
                        'use strict';
                        switch (arguments.length) {
                            case 0:
                            case 1:
                                return;
                            case 2:
                                this.setUniformLocationWith1f(t, e);
                                break;
                            case 3:
                                this.setUniformLocationWith2f(t, e, i);
                                break;
                            case 4:
                                this.setUniformLocationWith3f(t, e, i, n);
                                break;
                            case 5:
                                this.setUniformLocationWith4f(t, e, i, n, r);
                        }
                    },
                    setUniformsForBuiltins: function () {
                        var t = new r.Matrix4(),
                            e = new r.Matrix4(),
                            i = new r.Matrix4();
                        if (
                            (r.glGetMatrix(r.KM_GL_PROJECTION, t),
                            r.glGetMatrix(r.KM_GL_MODELVIEW, e),
                            r.mat4Multiply(i, t, e),
                            this.setUniformLocationWithMatrix4fv(this._uniforms[n.UNIFORM_PMATRIX], t.mat, 1),
                            this.setUniformLocationWithMatrix4fv(this._uniforms[n.UNIFORM_MVMATRIX], e.mat, 1),
                            this.setUniformLocationWithMatrix4fv(this._uniforms[n.UNIFORM_MVPMATRIX], i.mat, 1),
                            this._usesTime)
                        ) {
                            var s = cc.director,
                                o = s.getTotalFrames() * s.getAnimationInterval();
                            this.setUniformLocationWith4f(this._uniforms[n.UNIFORM_TIME], o / 10, o, 2 * o, 4 * o),
                                this.setUniformLocationWith4f(
                                    this._uniforms[n.UNIFORM_SINTIME],
                                    o / 8,
                                    o / 4,
                                    o / 2,
                                    Math.sin(o),
                                ),
                                this.setUniformLocationWith4f(
                                    this._uniforms[n.UNIFORM_COSTIME],
                                    o / 8,
                                    o / 4,
                                    o / 2,
                                    Math.cos(o),
                                );
                        }
                        -1 !== this._uniforms[n.UNIFORM_RANDOM01] &&
                            this.setUniformLocationWith4f(
                                this._uniforms[n.UNIFORM_RANDOM01],
                                Math.random(),
                                Math.random(),
                                Math.random(),
                                Math.random(),
                            );
                    },
                    _setUniformsForBuiltinsForRenderer: function (t) {
                        if (t && t._renderCmd) {
                            var e = new r.Matrix4(),
                                i = new r.Matrix4();
                            if (
                                (r.glGetMatrix(r.KM_GL_PROJECTION, e),
                                r.mat4Multiply(i, e, t._renderCmd._stackMatrix),
                                this.setUniformLocationWithMatrix4fv(this._uniforms[n.UNIFORM_PMATRIX], e.mat, 1),
                                this.setUniformLocationWithMatrix4fv(
                                    this._uniforms[n.UNIFORM_MVMATRIX],
                                    t._renderCmd._stackMatrix.mat,
                                    1,
                                ),
                                this.setUniformLocationWithMatrix4fv(this._uniforms[n.UNIFORM_MVPMATRIX], i.mat, 1),
                                this._usesTime)
                            ) {
                                var s = cc.director,
                                    o = s.getTotalFrames() * s.getAnimationInterval();
                                this.setUniformLocationWith4f(this._uniforms[n.UNIFORM_TIME], o / 10, o, 2 * o, 4 * o),
                                    this.setUniformLocationWith4f(
                                        this._uniforms[n.UNIFORM_SINTIME],
                                        o / 8,
                                        o / 4,
                                        o / 2,
                                        Math.sin(o),
                                    ),
                                    this.setUniformLocationWith4f(
                                        this._uniforms[n.UNIFORM_COSTIME],
                                        o / 8,
                                        o / 4,
                                        o / 2,
                                        Math.cos(o),
                                    );
                            }
                            -1 !== this._uniforms[n.UNIFORM_RANDOM01] &&
                                this.setUniformLocationWith4f(
                                    this._uniforms[n.UNIFORM_RANDOM01],
                                    Math.random(),
                                    Math.random(),
                                    Math.random(),
                                    Math.random(),
                                );
                        }
                    },
                    setUniformForModelViewProjectionMatrix: function () {
                        this._glContext.uniformMatrix4fv(
                            this._uniforms[n.UNIFORM_MVPMATRIX],
                            !1,
                            r.getMat4MultiplyValue(r.projection_matrix_stack.top, r.modelview_matrix_stack.top),
                        );
                    },
                    setUniformForModelViewProjectionMatrixWithMat4: function (t) {
                        r.mat4Multiply(t, r.projection_matrix_stack.top, r.modelview_matrix_stack.top),
                            this._glContext.uniformMatrix4fv(this._uniforms[n.UNIFORM_MVPMATRIX], !1, t.mat);
                    },
                    setUniformForModelViewAndProjectionMatrixWithMat4: function () {
                        this._glContext.uniformMatrix4fv(
                            this._uniforms[n.UNIFORM_MVMATRIX],
                            !1,
                            r.modelview_matrix_stack.top.mat,
                        ),
                            this._glContext.uniformMatrix4fv(
                                this._uniforms[n.UNIFORM_PMATRIX],
                                !1,
                                r.projection_matrix_stack.top.mat,
                            );
                    },
                    _setUniformForMVPMatrixWithMat4: function (t) {
                        if (!t) throw new Error('modelView matrix is undefined.');
                        this._glContext.uniformMatrix4fv(this._uniforms[n.UNIFORM_MVMATRIX], !1, t.mat),
                            this._glContext.uniformMatrix4fv(
                                this._uniforms[n.UNIFORM_PMATRIX],
                                !1,
                                r.projection_matrix_stack.top.mat,
                            );
                    },
                    _updateProjectionUniform: function () {
                        var t = r.projection_matrix_stack;
                        t.lastUpdated !== this._projectionUpdated &&
                            (this._glContext.uniformMatrix4fv(this._uniforms[n.UNIFORM_PMATRIX], !1, t.top.mat),
                            (this._projectionUpdated = t.lastUpdated));
                    },
                    vertexShaderLog: function () {
                        return this._glContext.getShaderInfoLog(this._vertShader);
                    },
                    getVertexShaderLog: function () {
                        return this._glContext.getShaderInfoLog(this._vertShader);
                    },
                    getFragmentShaderLog: function () {
                        return this._glContext.getShaderInfoLog(this._vertShader);
                    },
                    fragmentShaderLog: function () {
                        return this._glContext.getShaderInfoLog(this._fragShader);
                    },
                    programLog: function () {
                        return this._glContext.getProgramInfoLog(this._programObj);
                    },
                    getProgramLog: function () {
                        return this._glContext.getProgramInfoLog(this._programObj);
                    },
                    reset: function () {
                        (this._vertShader = null),
                            (this._fragShader = null),
                            (this._uniforms.length = 0),
                            this._glContext.deleteProgram(this._programObj),
                            (this._programObj = null);
                        for (var t in this._hashForUniforms)
                            (this._hashForUniforms[t].length = 0), delete this._hashForUniforms[t];
                    },
                    getProgram: function () {
                        return this._programObj;
                    },
                    retain: function () {},
                    release: function () {},
                })),
                    (cc.GLProgram._highpSupported = null),
                    (cc.GLProgram._isHighpSupported = function () {
                        var t = cc._renderContext;
                        if (t.getShaderPrecisionFormat && null == cc.GLProgram._highpSupported) {
                            var e = t.getShaderPrecisionFormat(t.FRAGMENT_SHADER, t.HIGH_FLOAT);
                            cc.GLProgram._highpSupported = 0 !== e.precision;
                        }
                        return cc.GLProgram._highpSupported;
                    });
            },
            {},
        ],
        225: [
            function (t, e, i) {
                var n = cc.macro.ENABLE_GL_STATE_CACHE,
                    r = 0,
                    s = 0,
                    o = null,
                    a = 0,
                    c = 0;
                n && ((r = 16), (s = -1), (o = new Array(r)), (a = -1), (c = -1)),
                    (cc.gl = {}),
                    (cc.gl.invalidateStateCache = function () {
                        if ((cc.math.glFreeAll(), -1, n)) {
                            s = -1;
                            for (var t = 0; t < r; t++) o[t] = null;
                            (a = -1), (c = -1), 0;
                        }
                    }),
                    (cc.gl.useProgram = n
                        ? function (t) {
                              t !== s && ((s = t), cc._renderContext.useProgram(t));
                          }
                        : function (t) {
                              cc._renderContext.useProgram(t);
                          }),
                    (cc.gl.deleteProgram = function (t) {
                        n && t === s && (s = -1), gl.deleteProgram(t);
                    }),
                    (cc.gl.setBlending = function (t, e) {
                        var i = cc._renderContext;
                        t === i.ONE && e === i.ZERO ? i.disable(i.BLEND) : (i.enable(i.BLEND), i.blendFunc(t, e));
                    }),
                    (cc.gl.blendFunc = n
                        ? function (t, e) {
                              (t === a && e === c) || ((a = t), (c = e), cc.gl.setBlending(t, e));
                          }
                        : cc.gl.setBlending),
                    (cc.gl.blendFuncForParticle = function (t, e) {
                        if (t !== a || e !== c) {
                            (a = t), (c = e);
                            var i = cc._renderContext;
                            t === i.ONE && e === i.ZERO
                                ? i.disable(i.BLEND)
                                : (i.enable(i.BLEND), i.blendFuncSeparate(i.SRC_ALPHA, e, t, e));
                        }
                    }),
                    (cc.gl.blendResetToCache = function () {
                        var t = cc._renderContext;
                        t.blendEquation(t.FUNC_ADD),
                            n ? cc.gl.setBlending(a, c) : cc.gl.setBlending(t.BLEND_SRC, t.BLEND_DST);
                    }),
                    (cc.gl.setProjectionMatrixDirty = function () {
                        -1;
                    }),
                    (cc.gl.bindTexture2D = function (t) {
                        cc.gl.bindTexture2DN(0, t);
                    }),
                    (cc.gl.bindTexture2DN = n
                        ? function (t, e) {
                              if (o[t] !== e) {
                                  o[t] = e;
                                  var i = cc._renderContext;
                                  i.activeTexture(i.TEXTURE0 + t),
                                      e ? i.bindTexture(i.TEXTURE_2D, e._glID) : i.bindTexture(i.TEXTURE_2D, null);
                              }
                          }
                        : function (t, e) {
                              var i = cc._renderContext;
                              i.activeTexture(i.TEXTURE0 + t),
                                  e ? i.bindTexture(i.TEXTURE_2D, e._glID) : i.bindTexture(i.TEXTURE_2D, null);
                          }),
                    (cc.gl.deleteTexture2D = function (t) {
                        cc.gl.deleteTexture2DN(0, t);
                    }),
                    (cc.gl.deleteTexture2DN = function (t, e) {
                        n && e === o[t] && (o[t] = null), cc._renderContext.deleteTexture(e._glID);
                    }),
                    (cc.gl.enable = function (t) {});
            },
            {},
        ],
        226: [
            function (t, e, i) {
                var n = cc.PresetShaders,
                    r = cc.macro;
                cc.shaderCache = {
                    TYPE_POSITION_TEXTURECOLOR: 0,
                    TYPE_POSITION_TEXTURECOLOR_ALPHATEST: 1,
                    TYPE_POSITION_COLOR: 2,
                    TYPE_POSITION_TEXTURE: 3,
                    TYPE_POSITION_TEXTURE_UCOLOR: 4,
                    TYPE_POSITION_TEXTURE_A8COLOR: 5,
                    TYPE_POSITION_UCOLOR: 6,
                    TYPE_POSITION_LENGTH_TEXTURECOLOR: 7,
                    TYPE_SPRITE_POSITION_TEXTURECOLOR: 8,
                    TYPE_SPRITE_POSITION_TEXTURECOLOR_ALPHATEST: 9,
                    TYPE_SPRITE_POSITION_COLOR: 10,
                    TYPE_MAX: 10,
                    _programs: {},
                    _init: function () {
                        return this.loadDefaultShaders(), !0;
                    },
                    _loadDefaultShader: function (t, e) {
                        switch (e) {
                            case r.SHADER_POSITION_TEXTURECOLOR:
                                t.initWithVertexShaderByteArray(
                                    n.POSITION_TEXTURE_COLOR_VERT,
                                    n.POSITION_TEXTURE_COLOR_FRAG,
                                ),
                                    t.addAttribute(r.ATTRIBUTE_NAME_POSITION, r.VERTEX_ATTRIB_POSITION),
                                    t.addAttribute(r.ATTRIBUTE_NAME_COLOR, r.VERTEX_ATTRIB_COLOR),
                                    t.addAttribute(r.ATTRIBUTE_NAME_TEX_COORD, r.VERTEX_ATTRIB_TEX_COORDS);
                                break;
                            case r.SHADER_SPRITE_POSITION_TEXTURECOLOR:
                                t.initWithVertexShaderByteArray(
                                    n.SPRITE_POSITION_TEXTURE_COLOR_VERT,
                                    n.POSITION_TEXTURE_COLOR_FRAG,
                                ),
                                    t.addAttribute(r.ATTRIBUTE_NAME_POSITION, r.VERTEX_ATTRIB_POSITION),
                                    t.addAttribute(r.ATTRIBUTE_NAME_COLOR, r.VERTEX_ATTRIB_COLOR),
                                    t.addAttribute(r.ATTRIBUTE_NAME_TEX_COORD, r.VERTEX_ATTRIB_TEX_COORDS);
                                break;
                            case r.SHADER_POSITION_TEXTURECOLORALPHATEST:
                                t.initWithVertexShaderByteArray(
                                    n.POSITION_TEXTURE_COLOR_VERT,
                                    n.POSITION_TEXTURE_COLOR_ALPHATEST_FRAG,
                                ),
                                    t.addAttribute(r.ATTRIBUTE_NAME_POSITION, r.VERTEX_ATTRIB_POSITION),
                                    t.addAttribute(r.ATTRIBUTE_NAME_COLOR, r.VERTEX_ATTRIB_COLOR),
                                    t.addAttribute(r.ATTRIBUTE_NAME_TEX_COORD, r.VERTEX_ATTRIB_TEX_COORDS);
                                break;
                            case r.SHADER_SPRITE_POSITION_TEXTURECOLORALPHATEST:
                                t.initWithVertexShaderByteArray(
                                    n.SPRITE_POSITION_TEXTURE_COLOR_VERT,
                                    n.POSITION_TEXTURE_COLOR_ALPHATEST_FRAG,
                                ),
                                    t.addAttribute(r.ATTRIBUTE_NAME_POSITION, r.VERTEX_ATTRIB_POSITION),
                                    t.addAttribute(r.ATTRIBUTE_NAME_COLOR, r.VERTEX_ATTRIB_COLOR),
                                    t.addAttribute(r.ATTRIBUTE_NAME_TEX_COORD, r.VERTEX_ATTRIB_TEX_COORDS);
                                break;
                            case r.SHADER_POSITION_COLOR:
                                t.initWithVertexShaderByteArray(n.POSITION_COLOR_VERT, n.POSITION_COLOR_FRAG),
                                    t.addAttribute(r.ATTRIBUTE_NAME_POSITION, r.VERTEX_ATTRIB_POSITION),
                                    t.addAttribute(r.ATTRIBUTE_NAME_COLOR, r.VERTEX_ATTRIB_COLOR);
                                break;
                            case r.SHADER_SPRITE_POSITION_COLOR:
                                t.initWithVertexShaderByteArray(n.SPRITE_POSITION_COLOR_VERT, n.POSITION_COLOR_FRAG),
                                    t.addAttribute(r.ATTRIBUTE_NAME_POSITION, r.VERTEX_ATTRIB_POSITION),
                                    t.addAttribute(r.ATTRIBUTE_NAME_COLOR, r.VERTEX_ATTRIB_COLOR);
                                break;
                            case r.SHADER_POSITION_TEXTURE:
                                t.initWithVertexShaderByteArray(n.POSITION_TEXTURE_VERT, n.POSITION_TEXTURE_FRAG),
                                    t.addAttribute(r.ATTRIBUTE_NAME_POSITION, r.VERTEX_ATTRIB_POSITION),
                                    t.addAttribute(r.ATTRIBUTE_NAME_TEX_COORD, r.VERTEX_ATTRIB_TEX_COORDS);
                                break;
                            case r.SHADER_POSITION_TEXTURE_UCOLOR:
                                t.initWithVertexShaderByteArray(
                                    n.POSITION_TEXTURE_UCOLOR_VERT,
                                    n.POSITION_TEXTURE_UCOLOR_FRAG,
                                ),
                                    t.addAttribute(r.ATTRIBUTE_NAME_POSITION, r.VERTEX_ATTRIB_POSITION),
                                    t.addAttribute(r.ATTRIBUTE_NAME_TEX_COORD, r.VERTEX_ATTRIB_TEX_COORDS);
                                break;
                            case r.SHADER_POSITION_TEXTUREA8COLOR:
                                t.initWithVertexShaderByteArray(
                                    n.POSITION_TEXTURE_A8COLOR_VERT,
                                    n.POSITION_TEXTURE_A8COLOR_FRAG,
                                ),
                                    t.addAttribute(r.ATTRIBUTE_NAME_POSITION, r.VERTEX_ATTRIB_POSITION),
                                    t.addAttribute(r.ATTRIBUTE_NAME_COLOR, r.VERTEX_ATTRIB_COLOR),
                                    t.addAttribute(r.ATTRIBUTE_NAME_TEX_COORD, r.VERTEX_ATTRIB_TEX_COORDS);
                                break;
                            case r.SHADER_POSITION_UCOLOR:
                                t.initWithVertexShaderByteArray(n.POSITION_UCOLOR_VERT, n.POSITION_UCOLOR_FRAG),
                                    t.addAttribute('aVertex', r.VERTEX_ATTRIB_POSITION);
                                break;
                            case r.SHADER_POSITION_LENGTHTEXTURECOLOR:
                                t.initWithVertexShaderByteArray(
                                    n.POSITION_COLOR_LENGTH_TEXTURE_VERT,
                                    n.POSITION_COLOR_LENGTH_TEXTURE_FRAG,
                                ),
                                    t.addAttribute(r.ATTRIBUTE_NAME_POSITION, r.VERTEX_ATTRIB_POSITION),
                                    t.addAttribute(r.ATTRIBUTE_NAME_TEX_COORD, r.VERTEX_ATTRIB_TEX_COORDS),
                                    t.addAttribute(r.ATTRIBUTE_NAME_COLOR, r.VERTEX_ATTRIB_COLOR);
                                break;
                            default:
                                return void cc.logID(8105);
                        }
                        t.link(), t.updateUniforms();
                    },
                    _reloadShader: function (t) {
                        var e = this.programForKey(t);
                        e.reset(), this._loadDefaultShader(e, t);
                    },
                    loadDefaultShaders: function () {},
                    reloadDefaultShaders: function () {
                        this._reloadShader(r.SHADER_POSITION_TEXTURECOLOR),
                            this._reloadShader(r.SHADER_SPRITE_POSITION_TEXTURECOLOR),
                            this._reloadShader(r.SHADER_POSITION_TEXTURECOLORALPHATEST),
                            this._reloadShader(r.SHADER_SPRITE_POSITION_TEXTURECOLORALPHATEST),
                            this._reloadShader(r.SHADER_POSITION_COLOR),
                            this._reloadShader(r.SHADER_POSITION_TEXTURE),
                            this._reloadShader(r.SHADER_POSITION_TEXTURE_UCOLOR),
                            this._reloadShader(r.SHADER_POSITION_TEXTUREA8COLOR),
                            this._reloadShader(r.SHADER_POSITION_UCOLOR);
                    },
                    programForKey: function (t) {
                        if (!this._programs[t]) {
                            var e = new cc.GLProgram();
                            this._loadDefaultShader(e, t), (this._programs[t] = e);
                        }
                        return this._programs[t];
                    },
                    getProgram: function (t) {
                        return this.programForKey(t);
                    },
                    addProgram: function (t, e) {
                        this._programs[e] = t;
                    },
                };
            },
            {},
        ],
        227: [
            function (t, e, i) {
                cc.PresetShaders = {
                    POSITION_UCOLOR_FRAG:
                        'precision lowp float;\nvarying vec4 v_fragmentColor;\nvoid main()\n{\ngl_FragColor = v_fragmentColor;\n}',
                    POSITION_UCOLOR_VERT:
                        'attribute vec4 a_position;\nuniform vec4 u_color;\nuniform float u_pointSize;\nvarying lowp vec4 v_fragmentColor;\nvoid main(void)\n{\ngl_Position = (CC_PMatrix * CC_MVMatrix) * a_position;\ngl_PointSize = u_pointSize;\nv_fragmentColor = u_color;\n}',
                    POSITION_COLOR_FRAG:
                        'precision lowp float;\nvarying vec4 v_fragmentColor;\nvoid main()\n{\ngl_FragColor = v_fragmentColor;\n}',
                    POSITION_COLOR_VERT:
                        'attribute vec4 a_position;\nattribute vec4 a_color;\nvarying lowp vec4 v_fragmentColor;\nvoid main()\n{\ngl_Position = (CC_PMatrix * CC_MVMatrix) * a_position;\nv_fragmentColor = a_color;\n}',
                    SPRITE_POSITION_COLOR_VERT:
                        'attribute vec4 a_position;\nattribute vec4 a_color;\nvarying lowp vec4 v_fragmentColor;\nvoid main()\n{\ngl_Position = CC_PMatrix * a_position;\nv_fragmentColor = a_color;\n}',
                    POSITION_COLOR_LENGTH_TEXTURE_FRAG:
                        '//#extension GL_OES_standard_derivatives : enable\nvarying mediump vec4 v_color;\nvarying mediump vec2 v_texcoord;\nvoid main()\n{\n//#if defined GL_OES_standard_derivatives\n//gl_FragColor=v_color*smoothstep(0.0, length(fwidth(v_texcoord)), 1.0-length(v_texcoord));\n//#else\ngl_FragColor = v_color * step(0.0, 1.0 - length(v_texcoord));\n//#endif\n}',
                    POSITION_COLOR_LENGTH_TEXTURE_VERT:
                        'attribute mediump vec4 a_position;\nattribute mediump vec2 a_texcoord;\nattribute mediump vec4 a_color;\nvarying mediump vec4 v_color;\nvarying mediump vec2 v_texcoord;\nvoid main()\n{\nv_color = a_color;\nv_texcoord = a_texcoord;\ngl_Position = (CC_PMatrix * CC_MVMatrix) * a_position;\n}',
                    POSITION_TEXTURE_FRAG:
                        'precision lowp float;\nvarying vec2 v_texCoord;\nvoid main()\n{\ngl_FragColor = texture2D(CC_Texture0, v_texCoord);\n}',
                    POSITION_TEXTURE_VERT:
                        'attribute vec4 a_position;\nattribute vec2 a_texCoord;\nvarying mediump vec2 v_texCoord;\nvoid main()\n{\ngl_Position = (CC_PMatrix * CC_MVMatrix) * a_position;\nv_texCoord = a_texCoord;\n}',
                    POSITION_TEXTURE_UCOLOR_FRAG:
                        'precision lowp float;\nuniform vec4 u_color;\nvarying vec2 v_texCoord;\nvoid main()\n{\ngl_FragColor=texture2D(CC_Texture0, v_texCoord) * u_color;\n}',
                    POSITION_TEXTURE_UCOLOR_VERT:
                        'attribute vec4 a_position;\nattribute vec2 a_texCoord;\nvarying mediump vec2 v_texCoord;\nvoid main()\n{\ngl_Position = (CC_PMatrix * CC_MVMatrix) * a_position;\nv_texCoord = a_texCoord;\n}',
                    POSITION_TEXTURE_A8COLOR_FRAG:
                        'precision lowp float;\nvarying vec4 v_fragmentColor;\nvarying vec2 v_texCoord;\nvoid main()\n{\ngl_FragColor = vec4(v_fragmentColor.rgb,\nv_fragmentColor.a * texture2D(CC_Texture0, v_texCoord).a);\n}',
                    POSITION_TEXTURE_A8COLOR_VERT:
                        'attribute vec4 a_position;\nattribute vec2 a_texCoord;\nattribute vec4 a_color;\nvarying lowp vec4 v_fragmentColor;\nvarying mediump vec2 v_texCoord;\nvoid main()\n{\ngl_Position = (CC_PMatrix * CC_MVMatrix) * a_position;\nv_fragmentColor = a_color;\nv_texCoord = a_texCoord;\n}',
                    POSITION_TEXTURE_COLOR_FRAG:
                        'precision lowp float;\nvarying vec4 v_fragmentColor;\nvarying vec2 v_texCoord;\nvoid main()\n{\ngl_FragColor = v_fragmentColor * texture2D(CC_Texture0, v_texCoord);\n}',
                    POSITION_TEXTURE_COLOR_VERT:
                        'attribute vec4 a_position;\nattribute vec2 a_texCoord;\nattribute vec4 a_color;\nvarying lowp vec4 v_fragmentColor;\nvarying mediump vec2 v_texCoord;\nvoid main()\n{\ngl_Position = (CC_PMatrix * CC_MVMatrix) * a_position;\nv_fragmentColor = a_color;\nv_texCoord = a_texCoord;\n}',
                    SPRITE_POSITION_TEXTURE_COLOR_VERT:
                        'attribute vec4 a_position;\nattribute vec2 a_texCoord;\nattribute vec4 a_color;\nvarying lowp vec4 v_fragmentColor;\nvarying mediump vec2 v_texCoord;\nvoid main()\n{\ngl_Position = CC_PMatrix * a_position;\nv_fragmentColor = a_color;\nv_texCoord = a_texCoord;\n}',
                    POSITION_TEXTURE_COLOR_ALPHATEST_FRAG:
                        'precision lowp float;\nvarying vec4 v_fragmentColor;\nvarying vec2 v_texCoord;\nuniform float CC_alpha_value;\nvoid main()\n{\nvec4 texColor=texture2D(CC_Texture0, v_texCoord);\nif(texColor.a <= CC_alpha_value)\n discard; \ngl_FragColor=texColor*v_fragmentColor;\n}',
                    EX_SWITCHMASK_FRAG:
                        'precision lowp float;\nvarying vec4 v_fragmentColor;\nvarying vec2 v_texCoord;\nuniform sampler2D u_texture;\nuniform sampler2D u_mask;\nvoid main()\n{\nvec4 texColorc=texture2D(u_texture, v_texCoord);\nvec4 maskColor=texture2D(u_mask, v_texCoord);\nvec4 finalColor=vec4(texColor.r, texColor.g, texColor.b, maskColor.a*texColor.a);\ngl_FragColor=v_fragmentColor*finalColor;\n}',
                };
            },
            {},
        ],
        228: [
            function (t, e, i) {
                t('./CCShaders'), t('./CCShaderCache'), t('./CCGLProgram'), t('./CCGLStateCache');
            },
            {
                './CCGLProgram': 224,
                './CCGLStateCache': 225,
                './CCShaderCache': 226,
                './CCShaders': 227,
            },
        ],
        229: [
            function (t, e, i) {
                var n = function (t) {
                    return {
                        u: t.x,
                        v: t.y,
                    };
                };
                (cc.DrawNode = _ccsg.Node.extend({
                    _buffer: null,
                    _blendFunc: null,
                    _lineWidth: 1,
                    _drawColor: null,
                    getBlendFunc: function () {
                        return this._blendFunc;
                    },
                    setBlendFunc: function (t, e) {
                        void 0 === e
                            ? ((this._blendFunc.src = t.src), (this._blendFunc.dst = t.dst))
                            : ((this._blendFunc.src = t), (this._blendFunc.dst = e));
                    },
                    setLineWidth: function (t) {
                        this._lineWidth = t;
                    },
                    getLineWidth: function () {
                        return this._lineWidth;
                    },
                    setDrawColor: function (t) {
                        var e = this._drawColor;
                        (e.r = t.r), (e.g = t.g), (e.b = t.b), (e.a = null == t.a ? 255 : t.a);
                    },
                    getDrawColor: function () {
                        return cc.color(this._drawColor.r, this._drawColor.g, this._drawColor.b, this._drawColor.a);
                    },
                })),
                    (cc.DrawNode.TYPE_DOT = 0),
                    (cc.DrawNode.TYPE_SEGMENT = 1),
                    (cc.DrawNode.TYPE_POLY = 2),
                    cc.game.once(cc.game.EVENT_RENDERER_INITED, function () {
                        var e = cc.DrawNode.prototype;
                        cc._renderType === cc.game.RENDER_TYPE_CANVAS
                            ? ((cc._DrawNodeElement = function (t, e, i, n, r, s, o, a, c) {
                                  (this.type = t),
                                      (this.verts = e || null),
                                      (this.fillColor = i || null),
                                      (this.lineWidth = n || 0),
                                      (this.lineColor = r || null),
                                      (this.lineCap = s || 'butt'),
                                      (this.isClosePolygon = o || !1),
                                      (this.isFill = a || !1),
                                      (this.isStroke = c || !1);
                              }),
                              (e._className = 'DrawNodeCanvas'),
                              (e.ctor = function () {
                                  _ccsg.Node.prototype.ctor.call(this);
                                  var t = this._renderCmd;
                                  (t._buffer = this._buffer = []),
                                      (t._drawColor = this._drawColor = cc.color(255, 255, 255, 255)),
                                      (t._blendFunc = this._blendFunc =
                                          new cc.BlendFunc(cc.macro.SRC_ALPHA, cc.macro.ONE_MINUS_SRC_ALPHA)),
                                      this.init();
                              }),
                              (e.drawRect = function (t, e, i, n, r) {
                                  (n = null == n ? this._lineWidth : n),
                                      null == (r = r || this.getDrawColor()).a && (r.a = 255);
                                  var s = [t, cc.p(e.x, t.y), e, cc.p(t.x, e.y)],
                                      o = new cc._DrawNodeElement(cc.DrawNode.TYPE_POLY);
                                  (o.verts = s),
                                      (o.lineWidth = n),
                                      (o.lineColor = r),
                                      (o.isClosePolygon = !0),
                                      (o.isStroke = !0),
                                      (o.lineCap = 'butt'),
                                      (o.fillColor = i),
                                      i && (null == i.a && (i.a = 255), (o.isFill = !0)),
                                      this._buffer.push(o);
                              }),
                              (e.drawCircle = function (t, e, i, n, r, s, o) {
                                  (s = s || this._lineWidth), null == (o = o || this.getDrawColor()).a && (o.a = 255);
                                  for (var a = (2 * Math.PI) / n, c = [], h = 0; h <= n; h++) {
                                      var l = h * a,
                                          u = e * Math.cos(l + i) + t.x,
                                          d = e * Math.sin(l + i) + t.y;
                                      c.push(cc.p(u, d));
                                  }
                                  r && c.push(cc.p(t.x, t.y));
                                  var _ = new cc._DrawNodeElement(cc.DrawNode.TYPE_POLY);
                                  (_.verts = c),
                                      (_.lineWidth = s),
                                      (_.lineColor = o),
                                      (_.isClosePolygon = !0),
                                      (_.isStroke = !0),
                                      this._buffer.push(_);
                              }),
                              (e.drawQuadBezier = function (t, e, i, n, r, s) {
                                  (r = r || this._lineWidth), null == (s = s || this.getDrawColor()).a && (s.a = 255);
                                  for (var o = [], a = 0, c = 0; c < n; c++) {
                                      var h = Math.pow(1 - a, 2) * t.x + 2 * (1 - a) * a * e.x + a * a * i.x,
                                          l = Math.pow(1 - a, 2) * t.y + 2 * (1 - a) * a * e.y + a * a * i.y;
                                      o.push(cc.p(h, l)), (a += 1 / n);
                                  }
                                  o.push(cc.p(i.x, i.y));
                                  var u = new cc._DrawNodeElement(cc.DrawNode.TYPE_POLY);
                                  (u.verts = o),
                                      (u.lineWidth = r),
                                      (u.lineColor = s),
                                      (u.isStroke = !0),
                                      (u.lineCap = 'round'),
                                      this._buffer.push(u);
                              }),
                              (e.drawCubicBezier = function (t, e, i, n, r, s, o) {
                                  (s = s || this._lineWidth), null == (o = o || this.getDrawColor()).a && (o.a = 255);
                                  for (var a = [], c = 0, h = 0; h < r; h++) {
                                      var l =
                                              Math.pow(1 - c, 3) * t.x +
                                              3 * Math.pow(1 - c, 2) * c * e.x +
                                              3 * (1 - c) * c * c * i.x +
                                              c * c * c * n.x,
                                          u =
                                              Math.pow(1 - c, 3) * t.y +
                                              3 * Math.pow(1 - c, 2) * c * e.y +
                                              3 * (1 - c) * c * c * i.y +
                                              c * c * c * n.y;
                                      a.push(cc.p(l, u)), (c += 1 / r);
                                  }
                                  a.push(cc.p(n.x, n.y));
                                  var d = new cc._DrawNodeElement(cc.DrawNode.TYPE_POLY);
                                  (d.verts = a),
                                      (d.lineWidth = s),
                                      (d.lineColor = o),
                                      (d.isStroke = !0),
                                      (d.lineCap = 'round'),
                                      this._buffer.push(d);
                              }),
                              (e.drawCatmullRom = function (t, e, i, n) {
                                  this.drawCardinalSpline(t, 0.5, e, i, n);
                              }),
                              (e.drawCardinalSpline = function (t, e, i, n, r) {
                                  (n = n || this._lineWidth), null == (r = r || this.getDrawColor()).a && (r.a = 255);
                                  for (var s, o, a = [], c = 1 / t.length, h = 0; h < i + 1; h++) {
                                      var l = h / i;
                                      1 === l ? ((s = t.length - 1), (o = 1)) : (o = (l - c * (s = 0 | (l / c))) / c);
                                      var u = cc.cardinalSplineAt(
                                          cc.getControlPointAt(t, s - 1),
                                          cc.getControlPointAt(t, s - 0),
                                          cc.getControlPointAt(t, s + 1),
                                          cc.getControlPointAt(t, s + 2),
                                          e,
                                          o,
                                      );
                                      a.push(u);
                                  }
                                  var d = new cc._DrawNodeElement(cc.DrawNode.TYPE_POLY);
                                  (d.verts = a),
                                      (d.lineWidth = n),
                                      (d.lineColor = r),
                                      (d.isStroke = !0),
                                      (d.lineCap = 'round'),
                                      this._buffer.push(d);
                              }),
                              (e.drawDot = function (t, e, i) {
                                  null == (i = i || this.getDrawColor()).a && (i.a = 255);
                                  var n = new cc._DrawNodeElement(cc.DrawNode.TYPE_DOT);
                                  (n.verts = [t]), (n.lineWidth = e), (n.fillColor = i), this._buffer.push(n);
                              }),
                              (e.drawDots = function (t, e, i) {
                                  if (t && 0 != t.length) {
                                      null == (i = i || this.getDrawColor()).a && (i.a = 255);
                                      for (var n = 0, r = t.length; n < r; n++) this.drawDot(t[n], e, i);
                                  }
                              }),
                              (e.drawSegment = function (t, e, i, n) {
                                  (i = i || this._lineWidth), null == (n = n || this.getDrawColor()).a && (n.a = 255);
                                  var r = new cc._DrawNodeElement(cc.DrawNode.TYPE_POLY);
                                  (r.verts = [t, e]),
                                      (r.lineWidth = 2 * i),
                                      (r.lineColor = n),
                                      (r.isStroke = !0),
                                      (r.lineCap = 'round'),
                                      this._buffer.push(r);
                              }),
                              (e.drawPoly_ = function (t, e, i, n, r) {
                                  (i = null == i ? this._lineWidth : i),
                                      null == (n = n || this.getDrawColor()).a && (n.a = 255);
                                  var s = new cc._DrawNodeElement(cc.DrawNode.TYPE_POLY);
                                  (s.verts = t),
                                      (s.fillColor = e),
                                      (s.lineWidth = i),
                                      (s.lineColor = n),
                                      (s.isClosePolygon = !r),
                                      (s.isStroke = !0),
                                      (s.lineCap = 'round'),
                                      e && (s.isFill = !0),
                                      this._buffer.push(s);
                              }),
                              (e.drawPoly = function (t, e, i, n, r) {
                                  for (var s = [], o = 0; o < t.length; o++) s.push(cc.p(t[o].x, t[o].y));
                                  return this.drawPoly_(s, e, i, n, r);
                              }),
                              (e.clear = function () {
                                  this._buffer.length = 0;
                              }),
                              t('./CCDrawNodeCanvasRenderCmd'),
                              (e._createRenderCmd = function () {
                                  return new cc.DrawNode.CanvasRenderCmd(this);
                              }))
                            : cc._renderType === cc.game.RENDER_TYPE_WEBGL &&
                              ((e._bufferCapacity = 0),
                              (e._trianglesArrayBuffer = null),
                              (e._trianglesWebBuffer = null),
                              (e._trianglesReader = null),
                              (e._dirty = !1),
                              (e._className = 'DrawNodeWebGL'),
                              (e.ctor = function () {
                                  _ccsg.Node.prototype.ctor.call(this),
                                      (this._buffer = []),
                                      (this._blendFunc = new cc.BlendFunc(
                                          cc.macro.SRC_ALPHA,
                                          cc.macro.ONE_MINUS_SRC_ALPHA,
                                      )),
                                      (this._drawColor = cc.color(255, 255, 255, 255)),
                                      this.init();
                              }),
                              (e.init = function () {
                                  return (
                                      !!_ccsg.Node.prototype.init.call(this) &&
                                      ((this.shaderProgram = cc.shaderCache.programForKey(
                                          cc.macro.SHADER_POSITION_LENGTHTEXTURECOLOR,
                                      )),
                                      this._ensureCapacity(64),
                                      (this._trianglesWebBuffer = cc._renderContext.createBuffer()),
                                      (this._dirty = !0),
                                      !0)
                                  );
                              }),
                              (e.drawRect = function (t, e, i, n, r) {
                                  (n = null == n ? this._lineWidth : n),
                                      null == (r = r || this.getDrawColor()).a && (r.a = 255);
                                  var s = [t, cc.p(e.x, t.y), e, cc.p(t.x, e.y)];
                                  null == i ? this._drawSegments(s, n, r, !0) : this.drawPoly(s, i, n, r);
                              }),
                              (e.drawCircle = function (t, e, i, n, r, s, o) {
                                  (s = s || this._lineWidth), null == (o = o || this.getDrawColor()).a && (o.a = 255);
                                  var a,
                                      c,
                                      h = (2 * Math.PI) / n,
                                      l = [];
                                  for (a = 0; a <= n; a++) {
                                      var u = a * h,
                                          d = e * Math.cos(u + i) + t.x,
                                          _ = e * Math.sin(u + i) + t.y;
                                      l.push(cc.p(d, _));
                                  }
                                  for (r && l.push(cc.p(t.x, t.y)), s *= 0.5, a = 0, c = l.length; a < c - 1; a++)
                                      this.drawSegment(l[a], l[a + 1], s, o);
                              }),
                              (e.drawQuadBezier = function (t, e, i, n, r, s) {
                                  (r = r || this._lineWidth), null == (s = s || this.getDrawColor()).a && (s.a = 255);
                                  for (var o = [], a = 0, c = 0; c < n; c++) {
                                      var h = Math.pow(1 - a, 2) * t.x + 2 * (1 - a) * a * e.x + a * a * i.x,
                                          l = Math.pow(1 - a, 2) * t.y + 2 * (1 - a) * a * e.y + a * a * i.y;
                                      o.push(cc.p(h, l)), (a += 1 / n);
                                  }
                                  o.push(cc.p(i.x, i.y)), this._drawSegments(o, r, s, !1);
                              }),
                              (e.drawCubicBezier = function (t, e, i, n, r, s, o) {
                                  (s = s || this._lineWidth), null == (o = o || this.getDrawColor()).a && (o.a = 255);
                                  for (var a = [], c = 0, h = 0; h < r; h++) {
                                      var l =
                                              Math.pow(1 - c, 3) * t.x +
                                              3 * Math.pow(1 - c, 2) * c * e.x +
                                              3 * (1 - c) * c * c * i.x +
                                              c * c * c * n.x,
                                          u =
                                              Math.pow(1 - c, 3) * t.y +
                                              3 * Math.pow(1 - c, 2) * c * e.y +
                                              3 * (1 - c) * c * c * i.y +
                                              c * c * c * n.y;
                                      a.push(cc.p(l, u)), (c += 1 / r);
                                  }
                                  a.push(cc.p(n.x, n.y)), this._drawSegments(a, s, o, !1);
                              }),
                              (e.drawCatmullRom = function (t, e, i, n) {
                                  this.drawCardinalSpline(t, 0.5, e, i, n);
                              }),
                              (e.drawCardinalSpline = function (t, e, i, n, r) {
                                  (n = n || this._lineWidth), null == (r = r || this.getDrawColor()).a && (r.a = 255);
                                  for (var s, o, a = [], c = 1 / t.length, h = 0; h < i + 1; h++) {
                                      var l = h / i;
                                      1 === l ? ((s = t.length - 1), (o = 1)) : (o = (l - c * (s = 0 | (l / c))) / c);
                                      var u = cc.cardinalSplineAt(
                                          cc.getControlPointAt(t, s - 1),
                                          cc.getControlPointAt(t, s - 0),
                                          cc.getControlPointAt(t, s + 1),
                                          cc.getControlPointAt(t, s + 2),
                                          e,
                                          o,
                                      );
                                      a.push(u);
                                  }
                                  n *= 0.5;
                                  for (var d = 0, _ = a.length; d < _ - 1; d++) this.drawSegment(a[d], a[d + 1], n, r);
                              }),
                              (e._render = function () {
                                  var t = cc._renderContext;
                                  t.bindBuffer(t.ARRAY_BUFFER, this._trianglesWebBuffer),
                                      this._dirty &&
                                          (t.bufferData(t.ARRAY_BUFFER, this._trianglesArrayBuffer, t.STREAM_DRAW),
                                          (this._dirty = !1));
                                  var e = cc.V2F_C4B_T2F.BYTES_PER_ELEMENT;
                                  t.enableVertexAttribArray(cc.macro.VERTEX_ATTRIB_POSITION),
                                      t.enableVertexAttribArray(cc.macro.VERTEX_ATTRIB_COLOR),
                                      t.enableVertexAttribArray(cc.macro.VERTEX_ATTRIB_TEX_COORDS),
                                      t.vertexAttribPointer(cc.macro.VERTEX_ATTRIB_POSITION, 2, t.FLOAT, !1, e, 0),
                                      t.vertexAttribPointer(cc.macro.VERTEX_ATTRIB_COLOR, 4, t.UNSIGNED_BYTE, !0, e, 8),
                                      t.vertexAttribPointer(cc.macro.VERTEX_ATTRIB_TEX_COORDS, 2, t.FLOAT, !1, e, 12),
                                      t.drawArrays(t.TRIANGLES, 0, 3 * this._buffer.length),
                                      cc.incrementGLDraws(1);
                              }),
                              (e._ensureCapacity = function (t) {
                                  var e = this._buffer;
                                  if (e.length + t > this._bufferCapacity) {
                                      var i = cc.V2F_C4B_T2F_Triangle.BYTES_PER_ELEMENT;
                                      if (
                                          ((this._bufferCapacity += Math.max(this._bufferCapacity, t)),
                                          null == e || 0 === e.length)
                                      )
                                          (this._buffer = []),
                                              (this._trianglesArrayBuffer = new ArrayBuffer(i * this._bufferCapacity)),
                                              (this._trianglesReader = new Uint8Array(this._trianglesArrayBuffer));
                                      else {
                                          for (
                                              var n = [], r = new ArrayBuffer(i * this._bufferCapacity), s = 0;
                                              s < e.length;
                                              s++
                                          )
                                              n[s] = new cc.V2F_C4B_T2F_Triangle(e[s].a, e[s].b, e[s].c, r, s * i);
                                          (this._trianglesReader = new Uint8Array(r)),
                                              (this._trianglesArrayBuffer = r),
                                              (this._buffer = n);
                                      }
                                  }
                              }),
                              (e.drawDot = function (t, e, i) {
                                  null == (i = i || this.getDrawColor()).a && (i.a = 255);
                                  var n = {
                                          r: 0 | i.r,
                                          g: 0 | i.g,
                                          b: 0 | i.b,
                                          a: 0 | i.a,
                                      },
                                      r = {
                                          vertices: {
                                              x: t.x - e,
                                              y: t.y - e,
                                          },
                                          colors: n,
                                          texCoords: {
                                              u: -1,
                                              v: -1,
                                          },
                                      },
                                      s = {
                                          vertices: {
                                              x: t.x - e,
                                              y: t.y + e,
                                          },
                                          colors: n,
                                          texCoords: {
                                              u: -1,
                                              v: 1,
                                          },
                                      },
                                      o = {
                                          vertices: {
                                              x: t.x + e,
                                              y: t.y + e,
                                          },
                                          colors: n,
                                          texCoords: {
                                              u: 1,
                                              v: 1,
                                          },
                                      },
                                      a = {
                                          vertices: {
                                              x: t.x + e,
                                              y: t.y - e,
                                          },
                                          colors: n,
                                          texCoords: {
                                              u: 1,
                                              v: -1,
                                          },
                                      };
                                  this._ensureCapacity(6),
                                      this._buffer.push(
                                          new cc.V2F_C4B_T2F_Triangle(
                                              r,
                                              s,
                                              o,
                                              this._trianglesArrayBuffer,
                                              this._buffer.length * cc.V2F_C4B_T2F_Triangle.BYTES_PER_ELEMENT,
                                          ),
                                      ),
                                      this._buffer.push(
                                          new cc.V2F_C4B_T2F_Triangle(
                                              r,
                                              o,
                                              a,
                                              this._trianglesArrayBuffer,
                                              this._buffer.length * cc.V2F_C4B_T2F_Triangle.BYTES_PER_ELEMENT,
                                          ),
                                      ),
                                      (this._dirty = !0);
                              }),
                              (e.drawDots = function (t, e, i) {
                                  if (t && 0 !== t.length) {
                                      null == (i = i || this.getDrawColor()).a && (i.a = 255);
                                      for (var n = 0, r = t.length; n < r; n++) this.drawDot(t[n], e, i);
                                  }
                              }),
                              (e.drawSegment = function (t, e, i, r) {
                                  null == (r = r || this.getDrawColor()).a && (r.a = 255),
                                      (i = i || 0.5 * this._lineWidth);
                                  this._ensureCapacity(18);
                                  var s = {
                                          r: 0 | r.r,
                                          g: 0 | r.g,
                                          b: 0 | r.b,
                                          a: 0 | r.a,
                                      },
                                      o = cc.v2(t),
                                      a = cc.v2(e),
                                      c = cc.pNormalize(cc.pPerp(cc.pSub(a, o))),
                                      h = cc.pPerp(c),
                                      l = cc.pMult(c, i),
                                      u = cc.pMult(h, i),
                                      d = cc.pSub(a, cc.pAdd(l, u)),
                                      _ = cc.pAdd(a, cc.pSub(l, u)),
                                      f = cc.pSub(a, l),
                                      p = cc.pAdd(a, l),
                                      g = cc.pSub(o, l),
                                      m = cc.pAdd(o, l),
                                      v = cc.pSub(o, cc.pSub(l, u)),
                                      y = cc.pAdd(o, cc.pAdd(l, u)),
                                      C = cc.V2F_C4B_T2F_Triangle.BYTES_PER_ELEMENT,
                                      T = this._trianglesArrayBuffer,
                                      E = this._buffer;
                                  E.push(
                                      new cc.V2F_C4B_T2F_Triangle(
                                          {
                                              vertices: d,
                                              colors: s,
                                              texCoords: n(cc.pNeg(cc.pAdd(c, h))),
                                          },
                                          {
                                              vertices: _,
                                              colors: s,
                                              texCoords: n(cc.pSub(c, h)),
                                          },
                                          {
                                              vertices: f,
                                              colors: s,
                                              texCoords: n(cc.pNeg(c)),
                                          },
                                          T,
                                          E.length * C,
                                      ),
                                  ),
                                      E.push(
                                          new cc.V2F_C4B_T2F_Triangle(
                                              {
                                                  vertices: p,
                                                  colors: s,
                                                  texCoords: n(c),
                                              },
                                              {
                                                  vertices: _,
                                                  colors: s,
                                                  texCoords: n(cc.pSub(c, h)),
                                              },
                                              {
                                                  vertices: f,
                                                  colors: s,
                                                  texCoords: n(cc.pNeg(c)),
                                              },
                                              T,
                                              E.length * C,
                                          ),
                                      ),
                                      E.push(
                                          new cc.V2F_C4B_T2F_Triangle(
                                              {
                                                  vertices: p,
                                                  colors: s,
                                                  texCoords: n(c),
                                              },
                                              {
                                                  vertices: g,
                                                  colors: s,
                                                  texCoords: n(cc.pNeg(c)),
                                              },
                                              {
                                                  vertices: f,
                                                  colors: s,
                                                  texCoords: n(cc.pNeg(c)),
                                              },
                                              T,
                                              E.length * C,
                                          ),
                                      ),
                                      E.push(
                                          new cc.V2F_C4B_T2F_Triangle(
                                              {
                                                  vertices: p,
                                                  colors: s,
                                                  texCoords: n(c),
                                              },
                                              {
                                                  vertices: g,
                                                  colors: s,
                                                  texCoords: n(cc.pNeg(c)),
                                              },
                                              {
                                                  vertices: m,
                                                  colors: s,
                                                  texCoords: n(c),
                                              },
                                              T,
                                              E.length * C,
                                          ),
                                      ),
                                      E.push(
                                          new cc.V2F_C4B_T2F_Triangle(
                                              {
                                                  vertices: v,
                                                  colors: s,
                                                  texCoords: n(cc.pSub(h, c)),
                                              },
                                              {
                                                  vertices: g,
                                                  colors: s,
                                                  texCoords: n(cc.pNeg(c)),
                                              },
                                              {
                                                  vertices: m,
                                                  colors: s,
                                                  texCoords: n(c),
                                              },
                                              T,
                                              E.length * C,
                                          ),
                                      ),
                                      E.push(
                                          new cc.V2F_C4B_T2F_Triangle(
                                              {
                                                  vertices: v,
                                                  colors: s,
                                                  texCoords: n(cc.pSub(h, c)),
                                              },
                                              {
                                                  vertices: y,
                                                  colors: s,
                                                  texCoords: n(cc.pAdd(c, h)),
                                              },
                                              {
                                                  vertices: m,
                                                  colors: s,
                                                  texCoords: n(c),
                                              },
                                              T,
                                              E.length * C,
                                          ),
                                      ),
                                      (this._dirty = !0);
                              }),
                              (e.drawPoly = function (t, e, i, r, s) {
                                  if (null != e) {
                                      null == e.a && (e.a = 255),
                                          null == r.a && (r.a = 255),
                                          (i = null == i ? this._lineWidth : i),
                                          (i *= 0.5);
                                      var o,
                                          a,
                                          c,
                                          h,
                                          l = {
                                              r: 0 | e.r,
                                              g: 0 | e.g,
                                              b: 0 | e.b,
                                              a: 0 | e.a,
                                          },
                                          u = {
                                              r: 0 | r.r,
                                              g: 0 | r.g,
                                              b: 0 | r.b,
                                              a: 0 | r.a,
                                          },
                                          d = [],
                                          _ = t.length;
                                      for (o = 0; o < _; o++) {
                                          (a = cc.v2(t[(o - 1 + _) % _])),
                                              (c = cc.v2(t[o])),
                                              (h = cc.v2(t[(o + 1) % _]));
                                          var f = cc.pNormalize(cc.pPerp(cc.pSub(c, a))),
                                              p = cc.pNormalize(cc.pPerp(cc.pSub(h, c))),
                                              g = cc.pMult(cc.pAdd(f, p), 1 / (cc.pDot(f, p) + 1));
                                          d[o] = {
                                              offset: g,
                                              n: p,
                                          };
                                      }
                                      var m = i > 0,
                                          v = 3 * (3 * _ - 2);
                                      this._ensureCapacity(v);
                                      var y,
                                          C,
                                          T,
                                          E = cc.V2F_C4B_T2F_Triangle.BYTES_PER_ELEMENT,
                                          x = this._trianglesArrayBuffer,
                                          S = this._buffer;
                                      for (o = 0; o < _ - 2; o++)
                                          (y = {
                                              vertices: t[0],
                                              colors: l,
                                              texCoords: n(cc.v2()),
                                          }),
                                              (C = {
                                                  vertices: t[o + 1],
                                                  colors: l,
                                                  texCoords: n(cc.v2()),
                                              }),
                                              (T = {
                                                  vertices: t[o + 2],
                                                  colors: l,
                                                  texCoords: n(cc.v2()),
                                              }),
                                              S.push(new cc.V2F_C4B_T2F_Triangle(y, C, T, x, S.length * E));
                                      if (m)
                                          for (o = 0; o < _; o++) {
                                              var b = (o + 1) % _;
                                              (a = cc.v2(t[o])), (c = cc.v2(t[b]));
                                              var A = d[o].n,
                                                  R = d[o].offset,
                                                  w = d[b].offset,
                                                  I = cc.pSub(a, cc.pMult(R, i)),
                                                  O = cc.pSub(c, cc.pMult(w, i)),
                                                  L = cc.pAdd(a, cc.pMult(R, i)),
                                                  P = cc.pAdd(c, cc.pMult(w, i));
                                              (y = {
                                                  vertices: I,
                                                  colors: u,
                                                  texCoords: n(cc.pNeg(A)),
                                              }),
                                                  (C = {
                                                      vertices: O,
                                                      colors: u,
                                                      texCoords: n(cc.pNeg(A)),
                                                  }),
                                                  (T = {
                                                      vertices: P,
                                                      colors: u,
                                                      texCoords: n(A),
                                                  }),
                                                  S.push(new cc.V2F_C4B_T2F_Triangle(y, C, T, x, S.length * E)),
                                                  (y = {
                                                      vertices: I,
                                                      colors: u,
                                                      texCoords: n(cc.pNeg(A)),
                                                  }),
                                                  (C = {
                                                      vertices: L,
                                                      colors: u,
                                                      texCoords: n(A),
                                                  }),
                                                  (T = {
                                                      vertices: P,
                                                      colors: u,
                                                      texCoords: n(A),
                                                  }),
                                                  S.push(new cc.V2F_C4B_T2F_Triangle(y, C, T, x, S.length * E));
                                          }
                                      (d = null), (this._dirty = !0);
                                  } else this._drawSegments(t, i, r, !s);
                              }),
                              (e._drawSegments = function (t, e, i, r) {
                                  if (
                                      ((e = null == e ? this._lineWidth : e),
                                      null == (i = i || this._drawColor).a && (i.a = 255),
                                      !((e *= 0.5) <= 0))
                                  ) {
                                      var s,
                                          o,
                                          a,
                                          c,
                                          h = {
                                              r: 0 | i.r,
                                              g: 0 | i.g,
                                              b: 0 | i.b,
                                              a: 0 | i.a,
                                          },
                                          l = [],
                                          u = t.length;
                                      for (s = 0; s < u; s++) {
                                          (o = cc.v2(t[(s - 1 + u) % u])),
                                              (a = cc.v2(t[s])),
                                              (c = cc.v2(t[(s + 1) % u]));
                                          var d = cc.pNormalize(cc.pPerp(cc.pSub(a, o))),
                                              _ = cc.pNormalize(cc.pPerp(cc.pSub(c, a))),
                                              f = cc.pMult(cc.pAdd(d, _), 1 / (cc.pDot(d, _) + 1));
                                          l[s] = {
                                              offset: f,
                                              n: _,
                                          };
                                      }
                                      var p = 3 * (3 * u - 2);
                                      this._ensureCapacity(p);
                                      var g = cc.V2F_C4B_T2F_Triangle.BYTES_PER_ELEMENT,
                                          m = this._trianglesArrayBuffer,
                                          v = this._buffer,
                                          y = r ? u : u - 1;
                                      for (s = 0; s < y; s++) {
                                          var C = (s + 1) % u;
                                          (o = cc.v2(t[s])), (a = cc.v2(t[C]));
                                          var T = l[s].n,
                                              E = l[s].offset,
                                              x = l[C].offset,
                                              S = cc.pSub(o, cc.pMult(E, e)),
                                              b = cc.pSub(a, cc.pMult(x, e)),
                                              A = cc.pAdd(o, cc.pMult(E, e)),
                                              R = cc.pAdd(a, cc.pMult(x, e));
                                          v.push(
                                              new cc.V2F_C4B_T2F_Triangle(
                                                  {
                                                      vertices: S,
                                                      colors: h,
                                                      texCoords: n(cc.pNeg(T)),
                                                  },
                                                  {
                                                      vertices: b,
                                                      colors: h,
                                                      texCoords: n(cc.pNeg(T)),
                                                  },
                                                  {
                                                      vertices: R,
                                                      colors: h,
                                                      texCoords: n(T),
                                                  },
                                                  m,
                                                  v.length * g,
                                              ),
                                          ),
                                              v.push(
                                                  new cc.V2F_C4B_T2F_Triangle(
                                                      {
                                                          vertices: S,
                                                          colors: h,
                                                          texCoords: n(cc.pNeg(T)),
                                                      },
                                                      {
                                                          vertices: A,
                                                          colors: h,
                                                          texCoords: n(T),
                                                      },
                                                      {
                                                          vertices: R,
                                                          colors: h,
                                                          texCoords: n(T),
                                                      },
                                                      m,
                                                      v.length * g,
                                                  ),
                                              );
                                      }
                                      (l = null), (this._dirty = !0);
                                  }
                              }),
                              (e.clear = function () {
                                  (this._buffer.length = 0), (this._dirty = !0);
                              }),
                              t('./CCDrawNodeWebGLRenderCmd'),
                              (e._createRenderCmd = function () {
                                  return new cc.DrawNode.WebGLRenderCmd(this);
                              }));
                    });
            },
            {
                './CCDrawNodeCanvasRenderCmd': 230,
                './CCDrawNodeWebGLRenderCmd': 231,
            },
        ],
        230: [
            function (t, e, i) {
                cc.DrawNode.CanvasRenderCmd = function (t) {
                    this._rootCtor(t),
                        (this._needDraw = !0),
                        (this._buffer = null),
                        (this._drawColor = null),
                        (this._blendFunc = null);
                };
                var n = (cc.DrawNode.CanvasRenderCmd.prototype = Object.create(_ccsg.Node.CanvasRenderCmd.prototype));
                (n.constructor = cc.DrawNode.CanvasRenderCmd),
                    (n.rendering = function (t, e, i) {
                        var n = t || cc._renderContext,
                            r = (n.getContext(), this._node._displayedOpacity / 255);
                        if (0 !== r) {
                            n.setTransform(this._worldTransform, e, i),
                                n.setGlobalAlpha(r),
                                this._blendFunc &&
                                    this._blendFunc.src === cc.macro.SRC_ALPHA &&
                                    this._blendFunc.dst === cc.macro.ONE &&
                                    n.setCompositeOperation('lighter');
                            for (var s = this._buffer, o = 0, a = s.length; o < a; o++) {
                                var c = s[o];
                                switch (c.type) {
                                    case cc.DrawNode.TYPE_DOT:
                                        this._drawDot(n, c, e, i);
                                        break;
                                    case cc.DrawNode.TYPE_SEGMENT:
                                        this._drawSegment(n, c, e, i);
                                        break;
                                    case cc.DrawNode.TYPE_POLY:
                                        this._drawPoly(n, c, e, i);
                                }
                            }
                        }
                    }),
                    (n._drawDot = function (t, e, i, n) {
                        var r = e.fillColor,
                            s = e.verts[0],
                            o = e.lineWidth,
                            a = t.getContext();
                        t.setFillStyle('rgba(' + (0 | r.r) + ',' + (0 | r.g) + ',' + (0 | r.b) + ',' + r.a / 255 + ')'),
                            a.beginPath(),
                            a.arc(s.x, -s.y, o, 0, 2 * Math.PI, !1),
                            a.closePath(),
                            a.fill();
                    }),
                    (n._drawSegment = function (t, e, i, n) {
                        var r = e.lineColor,
                            s = e.verts[0],
                            o = e.verts[1],
                            a = e.lineWidth,
                            c = e.lineCap,
                            h = t.getContext();
                        t.setStrokeStyle(
                            'rgba(' + (0 | r.r) + ',' + (0 | r.g) + ',' + (0 | r.b) + ',' + r.a / 255 + ')',
                        ),
                            (h.lineWidth = a * i),
                            h.beginPath(),
                            (h.lineCap = c),
                            h.moveTo(s.x, -s.y),
                            h.lineTo(o.x, -o.y),
                            h.stroke();
                    }),
                    (n._drawPoly = function (t, e, i, n) {
                        var r = e.verts,
                            s = e.lineCap;
                        if (null != r) {
                            var o = e.fillColor,
                                a = e.lineWidth,
                                c = e.lineColor,
                                h = e.isClosePolygon,
                                l = e.isFill,
                                u = e.isStroke,
                                d = t.getContext(),
                                _ = r[0];
                            (d.lineCap = s),
                                o &&
                                    t.setFillStyle(
                                        'rgba(' + (0 | o.r) + ',' + (0 | o.g) + ',' + (0 | o.b) + ',' + o.a / 255 + ')',
                                    ),
                                a && (d.lineWidth = a * i),
                                c &&
                                    t.setStrokeStyle(
                                        'rgba(' + (0 | c.r) + ',' + (0 | c.g) + ',' + (0 | c.b) + ',' + c.a / 255 + ')',
                                    ),
                                d.beginPath(),
                                d.moveTo(_.x, -_.y);
                            for (var f = 1, p = r.length; f < p; f++) d.lineTo(r[f].x, -r[f].y);
                            h && d.closePath(), l && d.fill(), u && d.stroke();
                        }
                    });
            },
            {},
        ],
        231: [
            function (t, e, i) {
                (cc.DrawNode.WebGLRenderCmd = function (t) {
                    this._rootCtor(t),
                        (this._needDraw = !0),
                        (this._matrix = new cc.math.Matrix4()),
                        this._matrix.identity();
                }),
                    (cc.DrawNode.WebGLRenderCmd.prototype = Object.create(_ccsg.Node.WebGLRenderCmd.prototype)),
                    (cc.DrawNode.WebGLRenderCmd.prototype.constructor = cc.DrawNode.WebGLRenderCmd),
                    (cc.DrawNode.WebGLRenderCmd.prototype.rendering = function (t) {
                        var e = this._node;
                        if (e._buffer.length > 0) {
                            var i = this._worldTransform,
                                n = this._matrix.mat;
                            (n[0] = i.a),
                                (n[4] = i.c),
                                (n[12] = i.tx),
                                (n[1] = i.b),
                                (n[5] = i.d),
                                (n[13] = i.ty),
                                cc.gl.blendFunc(e._blendFunc.src, e._blendFunc.dst),
                                this._shaderProgram.use(),
                                this._shaderProgram._setUniformForMVPMatrixWithMat4(this._matrix),
                                e._render();
                        }
                    });
            },
            {},
        ],
        232: [
            function (t, e, i) {
                t('./cocos2d/core'),
                    t('./cocos2d/animation'),
                    t('./cocos2d/particle/CCParticleSystem'),
                    t('./cocos2d/tilemap/CCTiledMap'),
                    t('./cocos2d/motion-streak/CCMotionStreak'),
                    t('./cocos2d/core/components/CCStudioComponent'),
                    t('./extensions/ccpool/CCNodePool'),
                    t('./extensions/ccpool/CCPool'),
                    t('./cocos2d/actions'),
                    t('./external/chipmunk/chipmunk'),
                    t('./extensions/spine'),
                    t('./extensions/dragonbones'),
                    t('./cocos2d/deprecated');
            },
            {
                './cocos2d/actions': 10,
                './cocos2d/animation': 18,
                './cocos2d/core': 109,
                './cocos2d/core/components/CCStudioComponent': 237,
                './cocos2d/deprecated': 199,
                './cocos2d/motion-streak/CCMotionStreak': 237,
                './cocos2d/particle/CCParticleAsset': 215,
                './cocos2d/particle/CCParticleSystem': 216,
                './cocos2d/tilemap/CCTiledMap': 237,
                './cocos2d/tilemap/CCTiledMapAsset': 237,
                './extensions/ccpool/CCNodePool': 233,
                './extensions/ccpool/CCPool': 234,
                './extensions/dragonbones': 237,
                './extensions/spine': 237,
                './external/chipmunk/chipmunk': 237,
            },
        ],
        233: [
            function (t, e, i) {
                (cc.NodePool = function (t) {
                    (this.poolHandlerComp = t), (this._pool = []);
                }),
                    (cc.NodePool.prototype = {
                        constructor: cc.NodePool,
                        size: function () {
                            return this._pool.length;
                        },
                        clear: function () {
                            for (var t = this._pool.length, e = 0; e < t; ++e) this._pool[e].destroy();
                            this._pool.length = 0;
                        },
                        put: function (t) {
                            if (t && -1 === this._pool.indexOf(t)) {
                                t.removeFromParent(!1);
                                var e = this.poolHandlerComp ? t.getComponent(this.poolHandlerComp) : null;
                                e && e.unuse && e.unuse(), this._pool.push(t);
                            }
                        },
                        get: function () {
                            var t = this._pool.length - 1;
                            if (t < 0) return null;
                            var e = this._pool[t];
                            this._pool.length = t;
                            var i = this.poolHandlerComp ? e.getComponent(this.poolHandlerComp) : null;
                            return i && i.reuse && i.reuse.apply(i, arguments), e;
                        },
                    }),
                    (e.exports = cc.NodePool);
            },
            {},
        ],
        234: [
            function (t, e, i) {
                var n = [];
                cc.pool = {
                    _pool: {},
                    _releaseCB: function () {
                        this.release();
                    },
                    _autoRelease: function (t) {
                        var e = void 0 !== t._running && !t._running;
                        cc.director.getScheduler().schedule(this._releaseCB, t, 0, 0, 0, e);
                    },
                    putInPool: function (t) {
                        var e = cc.js._getClassId(t.constructor);
                        e && (this._pool[e] || (this._pool[e] = []), t.unuse && t.unuse(), this._pool[e].push(t));
                    },
                    hasObject: function (t) {
                        var e = cc.js._getClassId(t),
                            i = this._pool[e];
                        return !(!i || 0 === i.length);
                    },
                    removeObject: function (t) {
                        var e = cc.js._getClassId(t.constructor);
                        if (e) {
                            var i = this._pool[e];
                            if (i) for (var n = 0; n < i.length; n++) t === i[n] && i.splice(n, 1);
                        }
                    },
                    getFromPool: function (t) {
                        if (this.hasObject(t)) {
                            var e = cc.js._getClassId(t),
                                i = this._pool[e];
                            n.length = arguments.length - 1;
                            for (var r = 0; r < n.length; r++) n[r] = arguments[r + 1];
                            var s = i.pop();
                            return s.reuse && s.reuse.apply(s, n), (n.length = 0), s;
                        }
                    },
                    drainAllPools: function () {
                        this._pool = {};
                    },
                };
            },
            {},
        ],
        235: [
            function (t, e, i) {
                e.exports = (function () {
                    'use strict';
                    var t = Math.round(window.devicePixelRatio || 1),
                        e = function (t, e) {
                            (this._color = e || '#666'),
                                (this._canvas = document.createElement('canvas')),
                                (this._ctx = this._canvas.getContext('2d')),
                                (this._canvas.className = 'pstats-canvas'),
                                t.appendChild(this._canvas);
                        };
                    e.prototype.init = function (e, i) {
                        var n = e * t,
                            r = i * t;
                        (this._canvas.width = n),
                            (this._canvas.height = r),
                            (this._canvas.style.width = e + 'px'),
                            (this._canvas.style.height = i + 'px'),
                            (this._ctx.globalAlpha = 1),
                            (this._ctx.fillStyle = '#444'),
                            this._ctx.fillRect(0, 0, n, r);
                    };
                    var i = Math.round(window.devicePixelRatio || 1),
                        n = (function (t) {
                            function e(e, i) {
                                t.call(this, e, i), (this._current = 0), (this._max = 0);
                            }
                            return (
                                t && (e.__proto__ = t),
                                (e.prototype = Object.create(t && t.prototype)),
                                (e.prototype.constructor = e),
                                (e.prototype.draw = function (t, e) {
                                    var n = this._canvas.width,
                                        r = this._canvas.height;
                                    (this._current += 0.1 * (t - this._current)),
                                        (this._max *= 0.99),
                                        this._current > this._max && (this._max = this._current);
                                    var s = Math.round((1 - this._current / this._max) * r);
                                    (this._ctx.globalAlpha = 1),
                                        this._ctx.drawImage(this._canvas, i, 0, n - i, r, 0, 0, n - i, r),
                                        e
                                            ? ((this._ctx.fillStyle = '#444'),
                                              this._ctx.fillRect(n - i, 0, i, r),
                                              (this._ctx.fillStyle = '#b70000'),
                                              this._ctx.fillRect(n - i, s, i, r - s),
                                              (this._ctx.globalAlpha = 0.5),
                                              (this._ctx.fillStyle = '#fff'),
                                              this._ctx.fillRect(n - i, s, i, i))
                                            : ((this._ctx.fillStyle = '#444'),
                                              this._ctx.fillRect(n - i, 0, i, r),
                                              (this._ctx.fillStyle = this._color),
                                              this._ctx.fillRect(n - i, s, i, r - s),
                                              (this._ctx.globalAlpha = 0.5),
                                              (this._ctx.fillStyle = '#fff'),
                                              this._ctx.fillRect(n - i, s, i, i));
                                }),
                                e
                            );
                        })(e),
                        r = Math.round(window.devicePixelRatio || 1),
                        s = (function (t) {
                            function e(e, i) {
                                t.call(this, e, i),
                                    (this._threshold = 0),
                                    (this._canvas2 = document.createElement('canvas')),
                                    (this._ctx2 = this._canvas2.getContext('2d'));
                            }
                            return (
                                t && (e.__proto__ = t),
                                (e.prototype = Object.create(t && t.prototype)),
                                (e.prototype.constructor = e),
                                (e.prototype.init = function (e, i) {
                                    t.prototype.init.call(this, e, i);
                                    var n = e * r,
                                        s = i * r;
                                    (this._canvas2.width = n),
                                        (this._canvas2.height = s),
                                        (this._canvas2.style.width = e + 'px'),
                                        (this._canvas2.style.height = i + 'px'),
                                        (this._ctx2.globalAlpha = 1),
                                        (this._ctx2.fillStyle = '#444'),
                                        this._ctx2.fillRect(0, 0, n, s);
                                }),
                                (e.prototype.draw = function (t, e) {
                                    var i = this._canvas.width,
                                        n = this._canvas.height;
                                    if (
                                        ((this._ctx.globalAlpha = 1), (this._ctx2.globalAlpha = 1), t > this._threshold)
                                    ) {
                                        var s = n * ((t - (t % n)) / n + 1),
                                            o = this._threshold;
                                        this._threshold = s;
                                        var a = o / s;
                                        this._ctx2.drawImage(this._canvas, 0, 0),
                                            (this._ctx.fillStyle = '#444'),
                                            this._ctx.fillRect(0, 0, i, n),
                                            this._ctx.drawImage(
                                                this._canvas2,
                                                r,
                                                0,
                                                i - r,
                                                n,
                                                0,
                                                Math.round((1 - a) * n),
                                                i - r,
                                                n,
                                            );
                                    } else this._ctx.drawImage(this._canvas, r, 0, i - r, n, 0, 0, i - r, n);
                                    var c = Math.round(n * (1 - t / this._threshold));
                                    e
                                        ? ((this._ctx.fillStyle = '#444'),
                                          this._ctx.fillRect(i - r, 0, r, n),
                                          (this._ctx.fillStyle = '#b70000'),
                                          this._ctx.fillRect(i - r, c, r, n - c),
                                          (this._ctx.globalAlpha = 0.5),
                                          (this._ctx.fillStyle = '#fff'),
                                          this._ctx.fillRect(i - r, c, r, r))
                                        : ((this._ctx.fillStyle = '#444'),
                                          this._ctx.fillRect(i - r, 0, r, n),
                                          (this._ctx.fillStyle = this._color),
                                          this._ctx.fillRect(i - r, c, r, n - c),
                                          (this._ctx.globalAlpha = 0.5),
                                          (this._ctx.fillStyle = '#fff'),
                                          this._ctx.fillRect(i - r, c, r, r));
                                }),
                                e
                            );
                        })(e),
                        o = Math.round(window.devicePixelRatio || 1),
                        a = (function (t) {
                            function e(e, i, n, r) {
                                t.call(this, e, i), (this._min = n), (this._max = r);
                            }
                            return (
                                t && (e.__proto__ = t),
                                (e.prototype = Object.create(t && t.prototype)),
                                (e.prototype.constructor = e),
                                (e.prototype.draw = function (t, e) {
                                    var i = this._canvas.width,
                                        n = this._canvas.height,
                                        r = (t - this._min) / (this._max - this._min),
                                        s = Math.round((1 - r) * n);
                                    (this._ctx.globalAlpha = 1),
                                        this._ctx.drawImage(this._canvas, o, 0, i - o, n, 0, 0, i - o, n),
                                        e
                                            ? ((this._ctx.fillStyle = '#444'),
                                              this._ctx.fillRect(i - o, 0, o, n),
                                              (this._ctx.fillStyle = '#b70000'),
                                              this._ctx.fillRect(i - o, s, o, n - s),
                                              (this._ctx.globalAlpha = 0.5),
                                              (this._ctx.fillStyle = '#fff'),
                                              this._ctx.fillRect(i - o, s, o, o))
                                            : ((this._ctx.fillStyle = '#444'),
                                              this._ctx.fillRect(i - o, 0, o, n),
                                              (this._ctx.fillStyle = this._color),
                                              this._ctx.fillRect(i - o, s, o, n - s),
                                              (this._ctx.globalAlpha = 0.5),
                                              (this._ctx.fillStyle = '#fff'),
                                              this._ctx.fillRect(i - o, s, o, o));
                                }),
                                e
                            );
                        })(e),
                        c = Math.round(window.devicePixelRatio || 1),
                        h = function (t, e) {
                            (this._colors = e),
                                (this._canvas = document.createElement('canvas')),
                                (this._ctx = this._canvas.getContext('2d')),
                                (this._canvas.className = 'pstats-canvas'),
                                t.appendChild(this._canvas);
                        };
                    (h.prototype.init = function (t, e, i) {
                        var n = t * c,
                            r = e * c;
                        (this._canvas.width = n),
                            (this._canvas.height = r * i),
                            (this._canvas.style.width = t + 'px'),
                            (this._canvas.style.height = e * i + 'px'),
                            (this._ctx.globalAlpha = 1),
                            (this._ctx.fillStyle = '#444'),
                            this._ctx.fillRect(0, 0, n, r * i);
                    }),
                        (h.prototype.draw = function (t) {
                            var e = this._canvas.width,
                                i = this._canvas.height;
                            (this._ctx.globalAlpha = 1),
                                this._ctx.drawImage(this._canvas, c, 0, e - c, i, 0, 0, e - c, i);
                            for (var n = 0, r = 0; r < t.length; ++r) {
                                var s = t[r] * i;
                                (this._ctx.fillStyle = this._colors[r]), this._ctx.fillRect(e - c, n, c, s), (n += s);
                            }
                        });
                    var l = function (t, e) {
                            (this._id = t),
                                (this._opts = e || {}),
                                (this._value = 0),
                                (this._total = 0),
                                (this._averageValue = 0),
                                (this._accumValue = 0),
                                (this._accumSamples = 0),
                                (this._accumStart = window.performance.now());
                        },
                        u = {
                            value: {},
                        };
                    (l.prototype._average = function (t) {
                        if (this._opts.average) {
                            (this._accumValue += t), ++this._accumSamples;
                            var e = performance.now();
                            e - this._accumStart >= this._opts.average &&
                                ((this._averageValue = this._accumValue / this._accumSamples),
                                (this._accumValue = 0),
                                (this._accumStart = e),
                                (this._accumSamples = 0));
                        }
                    }),
                        (u.value.get = function () {
                            return this._value;
                        }),
                        (u.value.set = function (t) {
                            this._value = t;
                        }),
                        (l.prototype.sample = function () {
                            this._average(this._value);
                        }),
                        (l.prototype.human = function () {
                            var t = this._opts.average ? this._averageValue : this._value;
                            return Math.round(100 * t) / 100;
                        }),
                        (l.prototype.alarm = function () {
                            return (
                                (this._opts.below && this._value < this._opts.below) ||
                                (this._opts.over && this._value > this._opts.over)
                            );
                        }),
                        Object.defineProperties(l.prototype, u);
                    var d = (function (t) {
                            function e(e, i) {
                                t.call(this, e, i), (this._time = window.performance.now());
                            }
                            return (
                                t && (e.__proto__ = t),
                                (e.prototype = Object.create(t && t.prototype)),
                                (e.prototype.constructor = e),
                                (e.prototype.start = function () {
                                    this._time = window.performance.now();
                                }),
                                (e.prototype.end = function () {
                                    (this._value = window.performance.now() - this._time), this._average(this._value);
                                }),
                                (e.prototype.tick = function () {
                                    this.end(), this.start();
                                }),
                                (e.prototype.frame = function () {
                                    var t = window.performance.now(),
                                        e = t - this._time;
                                    this._total++;
                                    e > (this._opts.average || 1e3) &&
                                        ((this._value = (1e3 * this._total) / e),
                                        (this._total = 0),
                                        (this._time = t),
                                        this._average(this._value));
                                }),
                                e
                            );
                        })(l),
                        _ = Math.log(1024),
                        f = ['Bytes', 'KB', 'MB', 'GB', 'TB'],
                        p = (function (t) {
                            function e(e, i, n) {
                                t.call(this, i, n),
                                    (this._stats = e),
                                    (this._start = 0),
                                    0 === n.extension.indexOf('memory.') && (this._field = n.extension.substring(7));
                            }
                            return (
                                t && (e.__proto__ = t),
                                (e.prototype = Object.create(t && t.prototype)),
                                (e.prototype.constructor = e),
                                (e.prototype.snapshot = function () {
                                    this._value = this._stats[this._field];
                                }),
                                (e.prototype.start = function () {
                                    this._start = this._stats[this._field];
                                }),
                                (e.prototype.end = function () {
                                    this._value = this._stats[this._field] - this._start;
                                }),
                                (e.prototype.human = function () {
                                    return (function (t) {
                                        var e = Math.floor(Math.log(t) / _);
                                        return 0 === t
                                            ? 'n/a'
                                            : Math.round((100 * t) / Math.pow(1024, e)) / 100 + ' ' + f[e];
                                    })(t.prototype.human.call(this));
                                }),
                                e
                            );
                        })(l),
                        g = function () {
                            0 === window.performance.memory.totalJSHeapSize &&
                                console.warn('totalJSHeapSize === 0, performance.memory is only available in Chrome.'),
                                (this._used = 0),
                                (this._total = 0),
                                (this._lastUsed = 0);
                        },
                        m = {
                            alarm: {},
                            used: {},
                            total: {},
                        };
                    (g.prototype.tick = function () {
                        (this._lastUsed = this._used),
                            (this._used = window.performance.memory.usedJSHeapSize),
                            (this._total = window.performance.memory.totalJSHeapSize);
                    }),
                        (m.alarm.get = function () {
                            return this._used - this._lastUsed < 0;
                        }),
                        (m.used.get = function () {
                            return window.performance.memory.usedJSHeapSize;
                        }),
                        (m.total.get = function () {
                            return this._total;
                        }),
                        (g.prototype.counter = function (t, e) {
                            return new p(this, t, e);
                        }),
                        Object.defineProperties(g.prototype, m);
                    var v = {
                            memory: g,
                        },
                        y = document.createElement('style');
                    (y.type = 'text/css'),
                        (y.textContent =
                            "\n  .pstats {\n    position: fixed;\n    z-index: 9999;\n\n    padding: 5px;\n    width: 250px;\n    right: 5px;\n    bottom: 5px;\n\n    font-size: 10px;\n    font-family: 'Roboto Condensed', tahoma, sans-serif;\n    overflow: hidden;\n    user-select: none;\n    cursor: default;\n\n    background: #222;\n    border-radius: 3px;\n  }\n\n  .pstats-container {\n    display: block;\n    position: relative;\n    color: #888;\n    white-space: nowrap;\n  }\n\n  .pstats-item {\n    position: absolute;\n    width: 250px;\n    height: 12px;\n    left: 0px;\n  }\n\n  .pstats-label {\n    position: absolute;\n    width: 150px;\n    height: 12px;\n    text-align: left;\n    transition: background 0.3s;\n  }\n\n  .pstats-label.alarm {\n    color: #ccc;\n    background: #800;\n\n    transition: background 0s;\n  }\n\n  .pstats-counter-id {\n    position: absolute;\n    width: 90px;\n    left: 0px;\n  }\n\n  .pstats-counter-value {\n    position: absolute;\n    width: 60px;\n    left: 90px;\n    text-align: right;\n  }\n\n  .pstats-canvas {\n    display: block;\n    position: absolute;\n    right: 0px;\n    top: 1px;\n  }\n\n  .pstats-fraction {\n    position: absolute;\n    width: 250px;\n    left: 0px;\n  }\n\n  .pstats-legend {\n    position: absolute;\n    width: 150px;\n\n    text-align: right;\n  }\n\n  .pstats-legend > span {\n    position: absolute;\n    right: 0px;\n  }\n"),
                        document.head.appendChild(y);
                    var C = function (t, e) {
                        if (
                            ((e = e || {}),
                            (this._showGraph = void 0 === e.showGraph || e._showGraph),
                            (this._values = e.values || {}),
                            (this._fractions = e.fractions || []),
                            (this._id2counter = {}),
                            (this._id2item = {}),
                            (this._name2extStats = {}),
                            e.css)
                        ) {
                            var i = document.createElement('style');
                            (i.type = 'text/css'), (i.textContent = e.css), document.head.appendChild(i);
                        }
                        if (e.extensions)
                            for (var r = 0; r < e.extensions.length; ++r) {
                                var o = e.extensions[r],
                                    c = v[o];
                                c
                                    ? (this._name2extStats[o] = new c())
                                    : console.warn(
                                          'Can not find extensions ' +
                                              o +
                                              ', please register your extension via pstats.register().',
                                      );
                            }
                        (this._root = document.createElement('div')), (this._root.className = 'pstats');
                        var l = document.createElement('div');
                        (l.className = 'pstats-container'), this._root.appendChild(l);
                        var u = 0;
                        for (var d in this._values) {
                            var _ = this._values[d],
                                f = document.createElement('div');
                            f.className = 'pstats-item';
                            var p = document.createElement('div');
                            p.className = 'pstats-label';
                            var g = document.createElement('span');
                            (g.className = 'pstats-counter-id'), (g.textContent = _.desc || d);
                            var m = document.createElement('div');
                            m.className = 'pstats-counter-value';
                            var y = document.createTextNode('');
                            (y.nodeValue = '0'), p.appendChild(g), p.appendChild(m), m.appendChild(y), f.appendChild(p);
                            var C = void 0;
                            this._showGraph &&
                                (C =
                                    void 0 !== _.min || void 0 !== _.max
                                        ? new a(f, _.color, _.min || 0, _.max || 9999)
                                        : _.threshold
                                        ? new s(f, _.color)
                                        : new n(f, _.color)).init(95, 10),
                                (this._id2item[d] = {
                                    label: p,
                                    valueText: y,
                                    graph: C,
                                }),
                                (f.style.top = u + 'px'),
                                l.appendChild(f),
                                (u += 12);
                        }
                        if (this._showGraph && e.fractions)
                            for (var T = 0; T < e.fractions.length; ++T) {
                                var E = e.fractions[T],
                                    x = E.steps,
                                    S = 10 * x.length + 2;
                                E.colors = E.colors || ['#850700', '#c74900', '#fcb300', '#284280', '#4c7c0c'];
                                var b = document.createElement('div');
                                b.className = 'pstats-fraction';
                                var A = document.createElement('div');
                                (A.className = 'pstats-legend'), (A.style.height = S + 'px');
                                for (var R = 0; R < x.length; ++R) {
                                    var w = document.createElement('span');
                                    (w.textContent = x[R]),
                                        (w.style.color = E.colors[R]),
                                        (w.style.top = 10 * R + 'px'),
                                        A.appendChild(w);
                                }
                                b.appendChild(A), (b.style.height = S + 'px'), (b.style.top = u + 'px');
                                var I = new h(b, E.colors);
                                I.init(95, 10, x.length),
                                    (E.graph = I),
                                    (E.values = new Array(x.length)),
                                    l.appendChild(b),
                                    (u += 10 * x.length + 2);
                            }
                        (l.style.height = u + 'px'),
                            (this._root.style.height = u + 'px'),
                            this._showGraph || (this._root.style.width = '150px'),
                            t.appendChild(this._root);
                    };
                    (C.prototype.item = function (t) {
                        if (!t) return null;
                        var e = this._id2counter[t];
                        if (e) return e;
                        var i = this._values[t];
                        if (!i) return null;
                        if (i.extension) {
                            var n = i.extension.indexOf('.'),
                                r = i.extension.substring(0, n),
                                s = this._name2extStats[r];
                            if (!s)
                                return (
                                    console.error(
                                        'extension ' + r + ' not found, make sure you have register and enable it.',
                                    ),
                                    null
                                );
                            e = s.counter(t, i);
                        } else e = new d(t, i);
                        return (this._id2counter[t] = e), e;
                    }),
                        (C.prototype.tick = function () {
                            for (var t in this._name2extStats) {
                                this._name2extStats[t].tick();
                            }
                            for (var e in this._values) {
                                var i = this._id2counter[e];
                                if (i) {
                                    i.sample();
                                    var n = i.alarm(),
                                        r = i.human(),
                                        s = this._id2item[e];
                                    s.label.classList.toggle('alarm', n > 0),
                                        (s.valueText.nodeValue = r),
                                        this._showGraph && s.graph.draw(i.value, n);
                                }
                            }
                            if (this._showGraph)
                                for (var o = 0; o < this._fractions.length; ++o) {
                                    var a = this._fractions[o],
                                        c = this._id2counter[a.base];
                                    if (c) {
                                        for (var h = a.steps, l = 0; l < h.length; ++l) {
                                            var u = h[l],
                                                d = this._id2counter[u];
                                            d && (a.values[l] = d.value / c.value);
                                        }
                                        a.graph.draw(a.values);
                                    }
                                }
                        }),
                        (function () {
                            if ((void 0 === window.performance && (window.performance = {}), !window.performance.now)) {
                                var t = Date.now();
                                performance.timing &&
                                    performance.timing.navigationStart &&
                                    (t = performance.timing.navigationStart),
                                    (window.performance.now = function () {
                                        return Date.now() - t;
                                    });
                            }
                            window.performance.mark || (window.performance.mark = function () {}),
                                window.performance.measure || (window.performance.measure = function () {}),
                                window.performance.memory ||
                                    (window.performance.memory = {
                                        usedJSHeapSize: 0,
                                        totalJSHeapSize: 0,
                                    });
                        })();
                    return {
                        new: function (t, e) {
                            var i = new C(t, e);
                            return function (t) {
                                return t ? i.item(t) : i;
                            };
                        },
                        register: function (t, e) {
                            v[t] = e;
                        },
                    };
                })();
            },
            {},
        ],
        236: [
            function (t, e, i) {
                function n(t, e) {
                    void 0 === s[t] && (s[t] = e);
                }

                function r(t) {
                    return 'object' == typeof s[t];
                }
                var s = 'undefined' == typeof window ? global : window;
                n('CC_TEST', r('tap') || r('QUnit')),
                    n('CC_EDITOR', r('Editor') && r('process') && 'electron' in process.versions),
                    n('CC_PREVIEW', !0),
                    n('CC_DEV', !0),
                    n('CC_DEBUG', !0),
                    n('CC_JSB', r('jsb')),
                    n('CC_BUILD', !1),
                    n('CC_WECHATGAME', !1),
                    n('CC_QQPLAY', !1),
                    n('CC_SUPPORT_JIT', !0),
                    (cc = {}),
                    (_ccsg = {}),
                    (_cc = {}),
                    t('./CCDebugger'),
                    cc._initDebugSetting(cc.DebugMode.INFO),
                    t('./polyfill/string'),
                    t('./polyfill/misc'),
                    t('./polyfill/array'),
                    t('./polyfill/typescript'),
                    t('./cocos2d/kazmath'),
                    t('./cocos2d/core/predefine'),
                    (ccs = {}),
                    (cp = {}),
                    t('./cocos2d/shaders'),
                    t('./CCBoot'),
                    t('./cocos2d'),
                    t('./extends'),
                    (e.exports = cc);
            },
            {
                './CCBoot': 1,
                './CCDebugger': 2,
                './DebugInfos': 3,
                './cocos2d': 200,
                './cocos2d/core/predefine': 161,
                './cocos2d/kazmath': 204,
                './cocos2d/shaders': 228,
                './extends': 232,
                './package.json': void 0,
                './polyfill/array': 238,
                './polyfill/misc': 239,
                './polyfill/string': 240,
                './polyfill/typescript': 241,
            },
        ],
        237: [function (t, e, i) {}, {}],
        238: [
            function (t, e, i) {
                Array.isArray ||
                    (Array.isArray = function (t) {
                        return '[object Array]' === Object.prototype.toString.call(t);
                    });
            },
            {},
        ],
        239: [
            function (t, e, i) {
                if (
                    (Math.sign ||
                        (Math.sign = function (t) {
                            return 0 == (t = +t) || isNaN(t) ? t : t > 0 ? 1 : -1;
                        }),
                    Number.isInteger ||
                        (Number.isInteger = function (t) {
                            return 'number' == typeof t && isFinite(t) && Math.floor(t) === t;
                        }),
                    !console.time)
                ) {
                    var n = window.performance || Date,
                        r = Object.create(null);
                    (console.time = function (t) {
                        r[t] = n.now();
                    }),
                        (console.timeEnd = function (t) {
                            var e = r[t],
                                i = n.now() - e;
                            console.log(t + ': ' + i + 'ms');
                        });
                }
            },
            {},
        ],
        240: [
            function (t, e, i) {
                String.prototype.startsWith ||
                    (String.prototype.startsWith = function (t, e) {
                        return (e = e || 0), this.lastIndexOf(t, e) === e;
                    }),
                    String.prototype.endsWith ||
                        (String.prototype.endsWith = function (t, e) {
                            (void 0 === e || e > this.length) && (e = this.length), (e -= t.length);
                            var i = this.indexOf(t, e);
                            return -1 !== i && i === e;
                        });
            },
            {},
        ],
        241: [
            function (t, e, i) {
                var n =
                    Object.setPrototypeOf ||
                    ({
                        __proto__: [],
                    } instanceof Array &&
                        function (t, e) {
                            t.__proto__ = e;
                        }) ||
                    function (t, e) {
                        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
                    };
                (window.__extends = function (t, e) {
                    function i() {
                        this.constructor = t;
                    }
                    n(t, e), (t.prototype = null === e ? Object.create(e) : ((i.prototype = e.prototype), new i()));
                }),
                    (window.__assign =
                        Object.assign ||
                        function (t) {
                            for (var e, i = 1, n = arguments.length; i < n; i++) {
                                e = arguments[i];
                                for (var r in e) Object.prototype.hasOwnProperty.call(e, r) && (t[r] = e[r]);
                            }
                            return t;
                        }),
                    (window.__rest = function (t, e) {
                        var i = {};
                        for (var n in t)
                            Object.prototype.hasOwnProperty.call(t, n) && e.indexOf(n) < 0 && (i[n] = t[n]);
                        if (null != t && 'function' == typeof Object.getOwnPropertySymbols) {
                            var r = 0;
                            for (n = Object.getOwnPropertySymbols(t); r < n.length; r++)
                                e.indexOf(n[r]) < 0 && (i[n[r]] = t[n[r]]);
                        }
                        return i;
                    }),
                    (window.__decorate = function (t, e, i, n) {
                        var r,
                            s = arguments.length,
                            o = s < 3 ? e : null === n ? (n = Object.getOwnPropertyDescriptor(e, i)) : n;
                        if ('object' == typeof Reflect && 'function' == typeof Reflect.decorate)
                            o = Reflect.decorate(t, e, i, n);
                        else
                            for (var a = t.length - 1; a >= 0; a--)
                                (r = t[a]) && (o = (s < 3 ? r(o) : s > 3 ? r(e, i, o) : r(e, i)) || o);
                        return s > 3 && o && Object.defineProperty(e, i, o), o;
                    }),
                    (window.__param = function (t, e) {
                        return function (i, n) {
                            e(i, n, t);
                        };
                    }),
                    (window.__metadata = function (t, e) {
                        if ('object' == typeof Reflect && 'function' == typeof Reflect.metadata)
                            return Reflect.metadata(t, e);
                    }),
                    (window.__awaiter = function (t, e, i, n) {
                        return new (i || (i = Promise))(function (r, s) {
                            function o(t) {
                                try {
                                    c(n.next(t));
                                } catch (t) {
                                    s(t);
                                }
                            }

                            function a(t) {
                                try {
                                    c(n.throw(t));
                                } catch (t) {
                                    s(t);
                                }
                            }

                            function c(t) {
                                t.done
                                    ? r(t.value)
                                    : new i(function (e) {
                                          e(t.value);
                                      }).then(o, a);
                            }
                            c((n = n.apply(t, e || [])).next());
                        });
                    }),
                    (window.__generator = function (t, e) {
                        function i(i) {
                            return function (o) {
                                return (function (i) {
                                    if (n) throw new TypeError('Generator is already executing.');
                                    for (; a; )
                                        try {
                                            if (
                                                ((n = 1),
                                                r &&
                                                    (s = r[2 & i[0] ? 'return' : i[0] ? 'throw' : 'next']) &&
                                                    !(s = s.call(r, i[1])).done)
                                            )
                                                return s;
                                            switch (((r = 0), s && (i = [0, s.value]), i[0])) {
                                                case 0:
                                                case 1:
                                                    s = i;
                                                    break;
                                                case 4:
                                                    return (
                                                        a.label++,
                                                        {
                                                            value: i[1],
                                                            done: !1,
                                                        }
                                                    );
                                                case 5:
                                                    a.label++, (r = i[1]), (i = [0]);
                                                    continue;
                                                case 7:
                                                    (i = a.ops.pop()), a.trys.pop();
                                                    continue;
                                                default:
                                                    if (
                                                        ((s = a.trys),
                                                        !(s = s.length > 0 && s[s.length - 1]) &&
                                                            (6 === i[0] || 2 === i[0]))
                                                    ) {
                                                        a = 0;
                                                        continue;
                                                    }
                                                    if (3 === i[0] && (!s || (i[1] > s[0] && i[1] < s[3]))) {
                                                        a.label = i[1];
                                                        break;
                                                    }
                                                    if (6 === i[0] && a.label < s[1]) {
                                                        (a.label = s[1]), (s = i);
                                                        break;
                                                    }
                                                    if (s && a.label < s[2]) {
                                                        (a.label = s[2]), a.ops.push(i);
                                                        break;
                                                    }
                                                    s[2] && a.ops.pop(), a.trys.pop();
                                                    continue;
                                            }
                                            i = e.call(t, a);
                                        } catch (t) {
                                            (i = [6, t]), (r = 0);
                                        } finally {
                                            n = s = 0;
                                        }
                                    if (5 & i[0]) throw i[1];
                                    return {
                                        value: i[0] ? i[1] : void 0,
                                        done: !0,
                                    };
                                })([i, o]);
                            };
                        }
                        var n,
                            r,
                            s,
                            o,
                            a = {
                                label: 0,
                                sent: function () {
                                    if (1 & s[0]) throw s[1];
                                    return s[1];
                                },
                                trys: [],
                                ops: [],
                            };
                        return (
                            (o = {
                                next: i(0),
                                throw: i(1),
                                return: i(2),
                            }),
                            'function' == typeof Symbol &&
                                (o[Symbol.iterator] = function () {
                                    return this;
                                }),
                            o
                        );
                    }),
                    (window.__exportStar = function (t, e) {
                        for (var i in t) e.hasOwnProperty(i) || (e[i] = t[i]);
                    }),
                    (window.__values = function (t) {
                        var e = 'function' == typeof Symbol && t[Symbol.iterator],
                            i = 0;
                        return e
                            ? e.call(t)
                            : {
                                  next: function () {
                                      return (
                                          t && i >= t.length && (t = void 0),
                                          {
                                              value: t && t[i++],
                                              done: !t,
                                          }
                                      );
                                  },
                              };
                    }),
                    (window.__read = function (t, e) {
                        var i = 'function' == typeof Symbol && t[Symbol.iterator];
                        if (!i) return t;
                        var n,
                            r,
                            s = i.call(t),
                            o = [];
                        try {
                            for (; (void 0 === e || e-- > 0) && !(n = s.next()).done; ) o.push(n.value);
                        } catch (t) {
                            r = {
                                error: t,
                            };
                        } finally {
                            try {
                                n && !n.done && (i = s.return) && i.call(s);
                            } finally {
                                if (r) throw r.error;
                            }
                        }
                        return o;
                    }),
                    (window.__spread = function () {
                        for (var t = [], e = 0; e < arguments.length; e++) t = t.concat(__read(arguments[e]));
                        return t;
                    }),
                    (window.__await = function (t) {
                        return this instanceof __await ? ((this.v = t), this) : new __await(t);
                    }),
                    (window.__asyncGenerator = function (t, e, i) {
                        function n(t) {
                            h[t] &&
                                (c[t] = function (e) {
                                    return new Promise(function (i, n) {
                                        l.push([t, e, i, n]) > 1 || r(t, e);
                                    });
                                });
                        }

                        function r(t, e) {
                            try {
                                (function (t) {
                                    t.value instanceof __await ? Promise.resolve(t.value.v).then(s, o) : a(l[0][2], t);
                                })(h[t](e));
                            } catch (t) {
                                a(l[0][3], t);
                            }
                        }

                        function s(t) {
                            r('next', t);
                        }

                        function o(t) {
                            r('throw', t);
                        }

                        function a(t, e) {
                            t(e), l.shift(), l.length && r(l[0][0], l[0][1]);
                        }
                        if (!Symbol.asyncIterator) throw new TypeError('Symbol.asyncIterator is not defined.');
                        var c,
                            h = i.apply(t, e || []),
                            l = [];
                        return (
                            (c = {}),
                            n('next'),
                            n('throw'),
                            n('return'),
                            (c[Symbol.asyncIterator] = function () {
                                return this;
                            }),
                            c
                        );
                    }),
                    (window.__asyncDelegator = function (t) {
                        function e(e, r) {
                            t[e] &&
                                (i[e] = function (i) {
                                    return (n = !n)
                                        ? {
                                              value: __await(t[e](i)),
                                              done: 'return' === e,
                                          }
                                        : r
                                        ? r(i)
                                        : i;
                                });
                        }
                        var i, n;
                        return (
                            (i = {}),
                            e('next'),
                            e('throw', function (t) {
                                throw t;
                            }),
                            e('return'),
                            (i[Symbol.iterator] = function () {
                                return this;
                            }),
                            i
                        );
                    }),
                    (window.__asyncValues = function (t) {
                        if (!Symbol.asyncIterator) throw new TypeError('Symbol.asyncIterator is not defined.');
                        var e = t[Symbol.asyncIterator];
                        return e ? e.call(t) : 'function' == typeof __values ? __values(t) : t[Symbol.iterator]();
                    });
            },
            {},
        ],
    },
    {},
    [236],
);
